(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+lv+":function(e,t,o){"use strict";o.d(t,"a",function(){return O}),o.d(t,"b",function(){return w}),o.d(t,"c",function(){return S});var n=o("fXoL"),i=o("quSY"),r=o("xgIS"),s=o("VRyK"),a=o("pLZG"),l=o("7o/Q"),u=o("D0XW");o("l7GE"),o("ZUHj");const c={leading:!0,trailing:!1};class p{constructor(e,t,o,n){this.duration=e,this.scheduler=t,this.leading=o,this.trailing=n}call(e,t){return t.subscribe(new d(e,this.duration,this.scheduler,this.leading,this.trailing))}}class d extends l.a{constructor(e,t,o,n,i){super(e),this.duration=t,this.scheduler=o,this.leading=n,this.trailing=i,this._hasTrailingValue=!1,this._trailingValue=null}_next(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(h,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)}}function h(e){const{subscriber:t}=e;t.clearThrottle()}class f{constructor(){this.idValue=new Date,this.idlingValue=!1}id(e){if(void 0!==e){if(!e)throw new Error("A value must be specified for the ID.");this.idValue=e}return this.idValue}idling(e){return void 0!==e&&(this.idlingValue=e),this.idlingValue}now(){return new Date}isExpired(){const e=this.last();return null!=e&&e<=this.now()}}class g{constructor(e){this.source=e}subscribe(e){this.sub=this.source.onInterrupt.subscribe(e)}unsubscribe(){this.sub.unsubscribe(),this.sub=null}resume(){this.source.attach()}pause(){this.source.detach()}}class m{}class y{constructor(){this.storageMap={}}get length(){return Object.keys(this.storageMap).length}clear(){this.storageMap={}}getItem(e){return void 0!==this.storageMap[e]?this.storageMap[e]:null}key(e){return Object.keys(this.storageMap)[e]||null}removeItem(e){this.storageMap[e]=void 0}setItem(e,t){this.storageMap[e]=t}}let v=(()=>{class e{constructor(){this.storage=this.getStorage()}getStorage(){try{const e=localStorage;return e.setItem("ng2IdleStorage",""),e.removeItem("ng2IdleStorage"),e}catch(e){return new y}}getItem(e){return this.storage.getItem("ng2Idle."+e)}removeItem(e){this.storage.removeItem("ng2Idle."+e)}setItem(e,t){this.storage.setItem("ng2Idle."+e,t)}_wrapped(){return this.storage}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac}),e})(),C=(()=>{class e extends f{constructor(e){super(),this.localStorage=e,this.idleName="main"}last(e){return void 0!==e&&this.setExpiry(e),this.getExpiry()}idling(e){return void 0!==e&&this.setIdling(e),this.getIdling()}getIdleName(){return this.idleName}setIdleName(e){e&&(this.idleName=e)}getExpiry(){const e=this.localStorage.getItem(this.idleName+".expiry");return e?new Date(parseInt(e,10)):null}setExpiry(e){e?this.localStorage.setItem(this.idleName+".expiry",e.getTime().toString()):this.localStorage.removeItem(this.idleName+".expiry")}getIdling(){const e=this.localStorage.getItem(this.idleName+".idling");return!!e&&"true"===e}setIdling(e){this.localStorage.setItem(this.idleName+".idling",e?e.toString():"false")}}return e.\u0275fac=function(t){return new(t||e)(n.ac(v))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac}),e})();var b=function(e){return e[e.disabled=0]="disabled",e[e.idle=1]="idle",e[e.notIdle=2]="notIdle",e}({});let w=(()=>{class e{constructor(e,t,o){this.expiry=e,this.zone=t,this.idle=1200,this.timeoutVal=30,this.autoResume=b.idle,this.interrupts=new Array,this.running=!1,this.keepaliveEnabled=!1,this.onIdleStart=new n.o,this.onIdleEnd=new n.o,this.onTimeoutWarning=new n.o,this.onTimeout=new n.o,this.onInterrupt=new n.o,o&&(this.keepaliveSvc=o,this.keepaliveEnabled=!0),this.setIdling(!1)}setIdleName(e){if(!(this.expiry instanceof C))throw new Error("Cannot set expiry key name because no LocalStorageExpiry has been provided.");this.expiry.setIdleName(e)}getKeepaliveEnabled(){return this.keepaliveEnabled}setKeepaliveEnabled(e){if(!this.keepaliveSvc)throw new Error("Cannot enable keepalive integration because no KeepaliveSvc has been provided.");return this.keepaliveEnabled=e}getTimeout(){return this.timeoutVal}setTimeout(e){if(!1===e)this.timeoutVal=0;else{if(!("number"==typeof e&&e>=0))throw new Error("'seconds' can only be 'false' or a positive number.");this.timeoutVal=e}return this.timeoutVal}getIdle(){return this.idle}setIdle(e){if(e<=0)throw new Error("'seconds' must be greater zero");return this.idle=e}getAutoResume(){return this.autoResume}setAutoResume(e){return this.autoResume=e}setInterrupts(e){this.clearInterrupts();const t=this;for(const o of e){const e=new g(o);e.subscribe(e=>{t.interrupt(e.force,e.innerArgs)}),this.interrupts.push(e)}return this.interrupts}getInterrupts(){return this.interrupts}clearInterrupts(){for(const e of this.interrupts)e.pause(),e.unsubscribe();this.interrupts.length=0}isRunning(){return this.running}isIdling(){return this.idling}watch(e){this.safeClearInterval("idleHandle"),this.safeClearInterval("timeoutHandle");const t=this.timeoutVal?this.timeoutVal:0;if(!e){const e=new Date(this.expiry.now().getTime()+1e3*(this.idle+t));this.expiry.last(e)}this.idling&&this.toggleState(),this.running||(this.startKeepalive(),this.toggleInterrupts(!0)),this.running=!0;const o=()=>{this.zone.run(()=>{const e=this.getExpiryDiff(t);e>0?(this.safeClearInterval("idleHandle"),this.setIdleIntervalOutsideOfZone(o,e)):this.toggleState()})};this.setIdleIntervalOutsideOfZone(o,1e3*this.idle)}setIdleIntervalOutsideOfZone(e,t){this.zone.runOutsideAngular(()=>{this.idleHandle=setInterval(e,t)})}stop(){this.stopKeepalive(),this.toggleInterrupts(!1),this.safeClearInterval("idleHandle"),this.safeClearInterval("timeoutHandle"),this.setIdling(!1),this.running=!1,this.expiry.last(null)}timeout(){this.stopKeepalive(),this.toggleInterrupts(!1),this.safeClearInterval("idleHandle"),this.safeClearInterval("timeoutHandle"),this.setIdling(!0),this.running=!1,this.countdown=0,this.onTimeout.emit(null)}interrupt(e,t){this.running&&(this.timeoutVal&&this.expiry.isExpired()?this.timeout():(this.onInterrupt.emit(t),(!0===e||this.autoResume===b.idle||this.autoResume===b.notIdle&&!this.expiry.idling())&&this.watch(e)))}setIdling(e){this.idling=e,this.expiry.idling(e)}toggleState(){this.setIdling(!this.idling),this.idling?(this.onIdleStart.emit(null),this.stopKeepalive(),this.timeoutVal>0&&(this.countdown=this.timeoutVal,this.doCountdown(),this.setTimoutIntervalOutsideZone(()=>{this.doCountdownInZone()},1e3))):(this.toggleInterrupts(!0),this.onIdleEnd.emit(null),this.startKeepalive()),this.safeClearInterval("idleHandle")}setTimoutIntervalOutsideZone(e,t){this.zone.runOutsideAngular(()=>{this.timeoutHandle=setInterval(()=>{e()},t)})}toggleInterrupts(e){for(const t of this.interrupts)e?t.resume():t.pause()}getExpiryDiff(e){const t=this.expiry.now();return(this.expiry.last()||t).getTime()-t.getTime()-1e3*e}doCountdownInZone(){this.zone.run(()=>{this.doCountdown()})}doCountdown(){if(this.getExpiryDiff(this.timeoutVal)>0)return this.safeClearInterval("timeoutHandle"),void this.interrupt(!0);this.idling&&(this.countdown<=0?this.timeout():(this.onTimeoutWarning.emit(this.countdown),this.countdown--))}safeClearInterval(e){null!=this[e]&&(clearInterval(this[e]),this[e]=null)}startKeepalive(){this.keepaliveSvc&&this.keepaliveEnabled&&(this.running&&this.keepaliveSvc.ping(),this.keepaliveSvc.start())}stopKeepalive(){this.keepaliveSvc&&this.keepaliveEnabled&&this.keepaliveSvc.stop()}ngOnDestroy(){this.stop(),this.clearInterrupts()}}return e.\u0275fac=function(t){return new(t||e)(n.ac(f),n.ac(n.B),n.ac(m,8))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac}),e})();class E{constructor(e,t,o=!1){this.source=e,this.innerArgs=t,this.force=o}}class R extends class{constructor(e,t){this.attachFn=e,this.detachFn=t,this.isAttached=!1,this.onInterrupt=new n.o}attach(){!0!==Zone.current.get("isAngularZone")?(!this.isAttached&&this.attachFn&&this.attachFn(this),this.isAttached=!0):Zone.current.parent.run(()=>this.attach())}detach(){this.isAttached&&this.detachFn&&this.detachFn(this),this.isAttached=!1}}{constructor(e,t,o){super(null,null),this.target=e,this.events=t,this.eventSubscription=new i.a,"number"==typeof o&&(o={throttleDelay:o,passive:!1}),null==(o=o||{throttleDelay:500,passive:!1}).throttleDelay&&(o.throttleDelay=500),this.throttleDelay=o.throttleDelay,this.passive=!!o.passive;const n=this.passive?{passive:!0}:null,l=t.split(" ").map(t=>Object(r.a)(e,t,n));this.eventSrc=Object(s.a)(...l),this.eventSrc=this.eventSrc.pipe(Object(a.a)(e=>!this.filterEvent(e))),this.throttleDelay>0&&(this.eventSrc=this.eventSrc.pipe(function(e,t=u.a,o=c){return n=>n.lift(new p(e,t,o.leading,o.trailing))}(this.throttleDelay)));const d=e=>this.onInterrupt.emit(new E(this,e));this.attachFn=()=>this.eventSubscription=this.eventSrc.subscribe(d),this.detachFn=()=>this.eventSubscription.unsubscribe()}filterEvent(e){return!1}get options(){return{throttleDelay:this.throttleDelay,passive:this.passive}}}class _ extends R{constructor(e,t){super(window,e,t)}}let S=(()=>{class e{static forRoot(){return{ngModule:e,providers:[C,{provide:f,useExisting:C},w]}}}return e.\u0275mod=n.Kb({type:e}),e.\u0275inj=n.Jb({factory:function(t){return new(t||e)},providers:[v]}),e})();const O=[new class extends R{constructor(e,t){super(document.documentElement,e,t)}filterEvent(e){return!("mousemove"!==e.type||!(e.originalEvent&&0===e.originalEvent.movementX&&0===e.originalEvent.movementY||void 0!==e.movementX&&!e.movementX)&&e.movementY)}}("mousemove keydown DOMMouseScroll mousewheel mousedown touchstart touchmove scroll",void 0),new class extends _{constructor(e=500){super("storage",e)}filterEvent(e){return!(e.key&&e.key.indexOf("ng2Idle.")>=0&&e.key.indexOf(".expiry")>=0)}}]},"/OYx":function(e,t,o){"use strict";o.d(t,"a",function(){return c});var n=o("quSY"),i=o("fXoL"),r=o("tk/3"),s=o("Wl7B"),a=o("3Pt+"),l=o("EFyh"),u=o("Ludi");let c=(()=>{class e{constructor(e,t,o,i){this.http=e,this.gridService=t,this.formBuilder=o,this.loginService=i,this.showForm=!1,this.gridService.setGridType(0),this.subscriptions=new n.a}resetSubscriptions(){this.subscriptions.unsubscribe()}exportValuesCSV(){this.gridService.setPrintCSV(!0)}exportValuesDSV(){this.gridService.setPrintDSV(!0)}showFormValues(){return this.showForm=!0,this.showForm}ngOnInit(){}logout(){this.loginService.backendForceLogout()}ngOnDestroy(){this.resetSubscriptions()}}return e.\u0275fac=function(t){return new(t||e)(i.Mb(r.b),i.Mb(s.a),i.Mb(a.g),i.Mb(l.a))},e.\u0275cmp=i.Gb({type:e,selectors:[["app-custom-data"]],decls:8,vars:0,consts:[[1,"flexContainer"],[1,"flexElement"],["type","submit","id","exportCSVButton",1,"btn","btn-default",3,"click"],["type","submit","id","exportDSVButton",1,"btn","btn-default",3,"click"]],template:function(e,t){1&e&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.Nb(2,"app-grid"),i.Rb(),i.Sb(3,"div",1),i.Sb(4,"button",2),i.dc("click",function(){return t.exportValuesCSV()}),i.Hc(5,"Export as CSV"),i.Rb(),i.Sb(6,"button",3),i.dc("click",function(){return t.exportValuesDSV()}),i.Hc(7,"Export as Pole delimited"),i.Rb(),i.Rb(),i.Rb())},directives:[u.a],styles:[".outlineDiv[_ngcontent-%COMP%]{padding:5px;border:1px solid #4682b4;margin-left:5px;margin-bottom:5px}ul[_ngcontent-%COMP%]{max-height:500px;overflow:auto;overflow-scrolling:auto}.tokenContainer[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.tokenContainer[_ngcontent-%COMP%], .tokenElement[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.tokenElement[_ngcontent-%COMP%]{flex-direction:column}label[_ngcontent-%COMP%]{min-width:140px}Select[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{min-width:200px}#activatedTime[_ngcontent-%COMP%], #turnedInTime[_ngcontent-%COMP%]{max-width:200px}#date-pick-activated[_ngcontent-%COMP%], #date-pick-turnedIn[_ngcontent-%COMP%]{min-width:140px}.description[_ngcontent-%COMP%]{align-content:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;-webkit-text-fill-color:#666}"]}),e})()},"/uUt":function(e,t,o){"use strict";o.d(t,"a",function(){return i});var n=o("7o/Q");function i(e,t){return o=>o.lift(new r(e,t))}class r{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new s(e,this.compare,this.keySelector))}}class s extends n.a{constructor(e,t,o){super(e),this.keySelector=o,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:o}=this;t=o?o(e):e}catch(n){return this.destination.error(n)}let o=!1;if(this.hasKey)try{const{compare:e}=this;o=e(this.key,t)}catch(n){return this.destination.error(n)}else this.hasKey=!0;o||(this.key=t,this.destination.next(e))}}},0:function(e,t,o){e.exports=o("zUnb")},"0EUg":function(e,t,o){"use strict";o.d(t,"a",function(){return i});var n=o("bHdf");function i(){return Object(n.a)(1)}},"1VGq":function(e,t,o){"use strict";function n(e){return null==e}Object.defineProperty(t,"__esModule",{value:!0}),t.listToMaybe=t.ifTrue=t.any=t.all=t.unwrapFirst=t.Maybe=void 0;var i=function(){function e(e){this.t=e}return e.lift=function(t){return new e(n(t)?void 0:t)},e.all=function(e,t){return e.bind(function(e){return t.fmap(function(t){return[e,t]})})},e.prototype.bind=function(t){return n(this.t)?e.nothing:t(this.t)},e.prototype.fmap=function(t){return this.bind(function(o){return e.lift(t(o))})},Object.defineProperty(e.prototype,"isNothing",{get:function(){return n(this.t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSomething",{get:function(){return!n(this.t)},enumerable:!1,configurable:!0}),e.prototype.catch=function(e){return this.isNothing?e():this},e.prototype.unwrap=function(){return this.t},e.nothing=new e(void 0),e}();t.Maybe=i,t.unwrapFirst=function(e){var t=e.find(function(e){return e.isSomething});if(t)return t.unwrap()},t.all=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return!e.find(function(e){return!e(t)})}},t.any=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return!!e.find(function(e){return e(t)})}},t.ifTrue=function(e){return function(t){return e(t)?i.lift(t):i.nothing}},t.listToMaybe=function(e){var t=(e||[]).filter(function(e){return e.isSomething}).map(function(e){return e.unwrap()});return 0===t.length?i.nothing:i.lift(t)}},"1kSV":function(e,t,o){"use strict";o.d(t,"a",function(){return lo}),o.d(t,"b",function(){return ho}),o.d(t,"c",function(){return go}),o.d(t,"d",function(){return Oo}),o.d(t,"e",function(){return yo}),o.d(t,"f",function(){return Ao}),o.d(t,"g",function(){return Zo}),o.d(t,"h",function(){return Xo}),o.d(t,"i",function(){return tn}),o.d(t,"j",function(){return Fn}),o.d(t,"k",function(){return Tn}),o.d(t,"l",function(){return Dn}),o.d(t,"m",function(){return Pn}),o.d(t,"n",function(){return An}),o.d(t,"o",function(){return Ji}),o.d(t,"p",function(){return bn}),o.d(t,"q",function(){return cr}),o.d(t,"r",function(){return Xn}),o.d(t,"s",function(){return $n}),o.d(t,"t",function(){return Qn}),o.d(t,"u",function(){return Zn}),o.d(t,"v",function(){return ei}),o.d(t,"w",function(){return Jn}),o.d(t,"x",function(){return On}),o.d(t,"y",function(){return li}),o.d(t,"z",function(){return oi}),o.d(t,"A",function(){return ni}),o.d(t,"B",function(){return ii}),o.d(t,"C",function(){return ri}),o.d(t,"D",function(){return si}),o.d(t,"E",function(){return ai}),o.d(t,"F",function(){return ao}),o.d(t,"G",function(){return so}),o.d(t,"H",function(){return io}),o.d(t,"I",function(){return ro}),o.d(t,"J",function(){return uo}),o.d(t,"K",function(){return yi}),o.d(t,"L",function(){return bi}),o.d(t,"M",function(){return wo}),o.d(t,"N",function(){return bo}),o.d(t,"O",function(){return _i}),o.d(t,"P",function(){return So}),o.d(t,"Q",function(){return Ai}),o.d(t,"R",function(){return Ti}),o.d(t,"S",function(){return Pi}),o.d(t,"T",function(){return Fi}),o.d(t,"U",function(){return Bi}),o.d(t,"V",function(){return Ki}),o.d(t,"W",function(){return zi}),o.d(t,"X",function(){return Xi}),o.d(t,"Y",function(){return ar});var n=o("mrSG"),i=o("fXoL"),r=o("ofXK"),s=o("3Pt+"),a=o("XNiG"),l=o("2Vo4"),u=o("itXk"),c=o("HDdC"),p=o("D0XW"),d=o("DH7j");function h(e){return!Object(d.a)(e)&&e-parseFloat(e)+1>=0}var f=o("z+Ro");function g(e){const{index:t,period:o,subscriber:n}=e;if(n.next(t),!n.closed){if(-1===o)return n.complete();e.index=t+1,this.schedule(e,o)}}var m=o("KqfI");const y=new c.a(m.a);var v=o("xgIS"),C=o("VRyK"),b=o("yCtX"),w=o("l7GE"),E=o("ZUHj");class R{call(e,t){return t.subscribe(new _(e))}}class _ extends w.a{constructor(e){super(e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(e){this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(let o=0;o<t&&!this.hasFirst;o++){let t=e[o],n=Object(E.a)(this,t,t,o);this.subscriptions&&this.subscriptions.push(n),this.add(n)}this.observables=null}}notifyNext(e,t,o,n,i){if(!this.hasFirst){this.hasFirst=!0;for(let e=0;e<this.subscriptions.length;e++)if(e!==o){let t=this.subscriptions[e];t.unsubscribe(),this.remove(t)}this.subscriptions=null}this.destination.next(t)}}var S=o("lJxs"),O=o("JX91"),D=o("/uUt"),P=o("eIep");function T(e){return t=>t.lift(new A(e))}class A{constructor(e){this.notifier=e}call(e,t){const o=new F(e),n=Object(E.a)(o,this.notifier);return n&&!o.seenValue?(o.add(n),t.subscribe(o)):o}}class F extends w.a{constructor(e){super(e),this.seenValue=!1}notifyNext(e,t,o,n,i){this.seenValue=!0,this.complete()}notifyComplete(){}}var N=o("pLZG"),x=o("IzEk"),I=o("vkgz");function M(...e){return t=>{let o;return"function"==typeof e[e.length-1]&&(o=e.pop()),t.lift(new L(e,o))}}class L{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new G(e,this.observables,this.project))}}class G extends w.a{constructor(e,t,o){super(e),this.observables=t,this.project=o,this.toRespond=[];const n=t.length;this.values=new Array(n);for(let i=0;i<n;i++)this.toRespond.push(i);for(let i=0;i<n;i++){let e=t[i];this.add(Object(E.a)(this,e,e,i))}}notifyNext(e,t,o,n,i){this.values[o]=t;const r=this.toRespond;if(r.length>0){const e=r.indexOf(o);-1!==e&&r.splice(e,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(o){return void this.destination.error(o)}this.destination.next(t)}}var k=o("7o/Q"),V=o("EY2u"),H=o("LRne"),W=o("z6cu");let B=(()=>{class e{constructor(e,t,o){this.kind=e,this.value=t,this.error=o,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,o){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return o&&o()}}accept(e,t,o){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,o)}toObservable(){switch(this.kind){case"N":return Object(H.a)(this.value);case"E":return Object(W.a)(this.error);case"C":return Object(V.b)()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();function j(e,t=p.a){var o;const n=(o=e)instanceof Date&&!isNaN(+o)?+e-t.now():Math.abs(e);return e=>e.lift(new U(n,t))}class U{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new z(e,this.delay,this.scheduler))}}class z extends k.a{constructor(e,t,o){super(e),this.delay=t,this.scheduler=o,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,o=t.queue,n=e.scheduler,i=e.destination;for(;o.length>0&&o[0].time-n.now()<=0;)o.shift().notification.observe(i);if(o.length>0){const t=Math.max(0,o[0].time-n.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(z.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,o=new K(t.now()+this.delay,e);this.queue.push(o),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(B.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(B.createComplete()),this.unsubscribe()}}class K{constructor(e,t){this.time=e,this.notification=t}}var Y=o("w1tV");function q(e,t){}function $(e,t){if(1&e&&(i.Sb(0,"button",3),i.Hc(1),i.Fc(2,q,0,0,"ng-template",4),i.Rb()),2&e){const e=t.$implicit;i.nc("ngbPanelToggle",e),i.zb(1),i.Jc(" ",e.title,""),i.zb(1),i.nc("ngTemplateOutlet",null==e.titleTpl?null:e.titleTpl.templateRef)}}function Q(e,t){}function X(e,t){}function Z(e,t){if(1&e&&(i.Sb(0,"div",8),i.Sb(1,"div",9),i.Fc(2,X,0,0,"ng-template",4),i.Rb(),i.Rb()),2&e){const e=i.gc().$implicit;i.Eb("show",e.isOpen),i.oc("id",e.id),i.Ab("aria-labelledby",e.id+"-header"),i.zb(2),i.nc("ngTemplateOutlet",(null==e.contentTpl?null:e.contentTpl.templateRef)||null)}}const J=function(e,t){return{$implicit:e,opened:t}};function ee(e,t){if(1&e&&(i.Sb(0,"div"),i.Sb(1,"div",5),i.Fc(2,Q,0,0,"ng-template",6),i.Rb(),i.Fc(3,Z,3,5,"div",7),i.Rb()),2&e){const e=t.$implicit,o=i.gc(),n=i.vc(1);i.Bb("card "+(e.cardClass||"")),i.zb(1),i.Bb("card-header "+(e.type?"bg-"+e.type:o.type?"bg-"+o.type:"")),i.pc("id","",e.id,"-header"),i.zb(1),i.nc("ngTemplateOutlet",(null==e.headerTpl?null:e.headerTpl.templateRef)||n)("ngTemplateOutletContext",i.sc(8,J,e,e.isOpen)),i.zb(1),i.nc("ngIf",!o.destroyOnHide||e.isOpen)}}function te(e,t){if(1&e){const e=i.Tb();i.Sb(0,"button",1),i.Yb(1,2),i.dc("click",function(){return i.xc(e),i.gc().closeHandler()}),i.Sb(2,"span",3),i.Hc(3,"\xd7"),i.Rb(),i.Rb()}}const oe=["*"];function ne(e,t){if(1&e){const e=i.Tb();i.Sb(0,"li",7),i.dc("click",function(){i.xc(e);const o=t.$implicit,n=i.gc(2);return n.select(o.id,n.NgbSlideEventSource.INDICATOR)}),i.Rb()}if(2&e){const e=t.$implicit,o=i.gc(2);i.Eb("active",e.id===o.activeId),i.nc("id",e.id)}}function ie(e,t){if(1&e&&(i.Sb(0,"ol",5),i.Fc(1,ne,1,3,"li",6),i.Rb()),2&e){const e=i.gc();i.zb(1),i.nc("ngForOf",e.slides)}}function re(e,t){}function se(e,t){if(1&e&&(i.Sb(0,"div",8),i.Fc(1,re,0,0,"ng-template",9),i.Rb()),2&e){const e=t.$implicit,o=i.gc();i.Eb("active",e.id===o.activeId),i.zb(1),i.nc("ngTemplateOutlet",e.tplRef)}}function ae(e,t){if(1&e){const e=i.Tb();i.Sb(0,"a",10),i.dc("click",function(){i.xc(e);const t=i.gc();return t.prev(t.NgbSlideEventSource.ARROW_LEFT)}),i.Nb(1,"span",11),i.Sb(2,"span",12),i.Wb(3,13),i.Rb(),i.Rb()}}function le(e,t){if(1&e){const e=i.Tb();i.Sb(0,"a",14),i.dc("click",function(){i.xc(e);const t=i.gc();return t.next(t.NgbSlideEventSource.ARROW_RIGHT)}),i.Nb(1,"span",15),i.Sb(2,"span",12),i.Wb(3,16),i.Rb(),i.Rb()}}const ue=["defaultDayTemplate"],ce=["content"];function pe(e,t){if(1&e&&i.Nb(0,"div",7),2&e){const e=t.currentMonth,o=t.selected,n=t.disabled,r=t.focused;i.nc("date",t.date)("currentMonth",e)("selected",o)("disabled",n)("focused",r)}}function de(e,t){if(1&e&&(i.Sb(0,"div",12),i.Hc(1),i.Rb()),2&e){const e=i.gc().$implicit,t=i.gc(2);i.zb(1),i.Kc(" ",t.i18n.getMonthFullName(e.number,e.year)," ",t.i18n.getYearNumerals(e.year)," ")}}function he(e,t){if(1&e&&(i.Sb(0,"div",9),i.Fc(1,de,2,2,"div",10),i.Nb(2,"ngb-datepicker-month",11),i.Rb()),2&e){const e=t.$implicit,o=i.gc(2);i.zb(1),i.nc("ngIf","none"===o.navigation||o.displayMonths>1&&"select"===o.navigation),i.zb(1),i.nc("month",e.firstDate)}}function fe(e,t){if(1&e&&i.Fc(0,he,3,2,"div",8),2&e){const e=i.gc();i.nc("ngForOf",e.model.months)}}function ge(e,t){if(1&e){const e=i.Tb();i.Sb(0,"ngb-datepicker-navigation",13),i.dc("navigate",function(t){return i.xc(e),i.gc().onNavigateEvent(t)})("select",function(t){return i.xc(e),i.gc().onNavigateDateSelect(t)}),i.Rb()}if(2&e){const e=i.gc();i.nc("date",e.model.firstDate)("months",e.model.months)("disabled",e.model.disabled)("showSelect","select"===e.model.navigation)("prevDisabled",e.model.prevDisabled)("nextDisabled",e.model.nextDisabled)("selectBoxes",e.model.selectBoxes)}}function me(e,t){}function ye(e,t){}function ve(e,t){1&e&&i.Nb(0,"div",5)}function Ce(e,t){if(1&e&&(i.Sb(0,"div",6),i.Hc(1),i.Rb()),2&e){const e=t.$implicit,o=i.gc(2);i.zb(1),i.Jc(" ",o.i18n.getWeekdayShortName(e)," ")}}function be(e,t){if(1&e&&(i.Sb(0,"div",2),i.Fc(1,ve,1,0,"div",3),i.Fc(2,Ce,2,1,"div",4),i.Rb()),2&e){const e=i.gc();i.zb(1),i.nc("ngIf",e.datepicker.showWeekNumbers),i.zb(1),i.nc("ngForOf",e.viewModel.weekdays)}}function we(e,t){if(1&e&&(i.Sb(0,"div",11),i.Hc(1),i.Rb()),2&e){const e=i.gc(2).$implicit,t=i.gc();i.zb(1),i.Ic(t.i18n.getWeekNumerals(e.number))}}function Ee(e,t){}function Re(e,t){if(1&e&&i.Fc(0,Ee,0,0,"ng-template",14),2&e){const e=i.gc().$implicit,t=i.gc(3);i.nc("ngTemplateOutlet",t.datepicker.dayTemplate)("ngTemplateOutletContext",e.context)}}function _e(e,t){if(1&e){const e=i.Tb();i.Sb(0,"div",12),i.dc("click",function(o){i.xc(e);const n=t.$implicit;return i.gc(3).doSelect(n),o.preventDefault()}),i.Fc(1,Re,1,2,"ng-template",13),i.Rb()}if(2&e){const e=t.$implicit;i.Eb("disabled",e.context.disabled)("hidden",e.hidden)("ngb-dp-today",e.context.today),i.nc("tabindex",e.tabindex),i.Ab("aria-label",e.ariaLabel),i.zb(1),i.nc("ngIf",!e.hidden)}}function Se(e,t){if(1&e&&(i.Sb(0,"div",8),i.Fc(1,we,2,1,"div",9),i.Fc(2,_e,2,9,"div",10),i.Rb()),2&e){const e=i.gc().$implicit,t=i.gc();i.zb(1),i.nc("ngIf",t.datepicker.showWeekNumbers),i.zb(1),i.nc("ngForOf",e.days)}}function Oe(e,t){1&e&&i.Fc(0,Se,3,2,"div",7),2&e&&i.nc("ngIf",!t.$implicit.collapsed)}function De(e,t){if(1&e){const e=i.Tb();i.Sb(0,"ngb-datepicker-navigation-select",8),i.dc("select",function(t){return i.xc(e),i.gc().select.emit(t)}),i.Rb()}if(2&e){const e=i.gc();i.nc("date",e.date)("disabled",e.disabled)("months",e.selectBoxes.months)("years",e.selectBoxes.years)}}function Pe(e,t){1&e&&i.Nb(0,"div",0)}function Te(e,t){1&e&&i.Nb(0,"div",0)}function Ae(e,t){if(1&e&&(i.Fc(0,Pe,1,0,"div",10),i.Sb(1,"div",11),i.Hc(2),i.Rb(),i.Fc(3,Te,1,0,"div",10)),2&e){const e=t.$implicit,o=t.index,n=i.gc(2);i.nc("ngIf",o>0),i.zb(2),i.Kc(" ",n.i18n.getMonthFullName(e.number,e.year)," ",n.i18n.getYearNumerals(e.year)," "),i.zb(1),i.nc("ngIf",o!==n.months.length-1)}}function Fe(e,t){if(1&e&&i.Fc(0,Ae,4,4,"ng-template",9),2&e){const e=i.gc();i.nc("ngForOf",e.months)}}const Ne=["ngbDatepickerDayView",""],xe=["month"],Ie=["year"];function Me(e,t){if(1&e&&(i.Sb(0,"option",6),i.Hc(1),i.Rb()),2&e){const e=t.$implicit,o=i.gc();i.nc("value",e),i.Ab("aria-label",o.i18n.getMonthFullName(e,null==o.date?null:o.date.year)),i.zb(1),i.Ic(o.i18n.getMonthShortName(e,null==o.date?null:o.date.year))}}function Le(e,t){if(1&e&&(i.Sb(0,"option",6),i.Hc(1),i.Rb()),2&e){const e=t.$implicit,o=i.gc();i.nc("value",e),i.zb(1),i.Ic(o.i18n.getYearNumerals(e))}}const Ge=["dialog"],ke=["ngbNavOutlet",""];function Ve(e,t){}const He=function(e){return{$implicit:e}};function We(e,t){if(1&e&&(i.Sb(0,"div",2),i.Fc(1,Ve,0,0,"ng-template",3),i.Rb()),2&e){const e=i.gc().$implicit,t=i.gc();i.Eb("active",e.active),i.nc("id",e.panelDomId),i.Ab("role",t.paneRole?t.paneRole:t.nav.roles?"tabpanel":void 0)("aria-labelledby",e.domId),i.zb(1),i.nc("ngTemplateOutlet",(null==e.contentTpl?null:e.contentTpl.templateRef)||null)("ngTemplateOutletContext",i.rc(7,He,e.active))}}function Be(e,t){1&e&&i.Fc(0,We,2,9,"div",1),2&e&&i.nc("ngIf",t.$implicit.isPanelInDom())}function je(e,t){1&e&&(i.Sb(0,"span",8),i.Wb(1,9),i.Rb())}function Ue(e,t){1&e&&(i.Sb(0,"span",8),i.Wb(1,10),i.Rb())}function ze(e,t){1&e&&(i.Sb(0,"span",8),i.Wb(1,11),i.Rb())}function Ke(e,t){1&e&&(i.Sb(0,"span",8),i.Wb(1,12),i.Rb())}function Ye(e,t){1&e&&i.Hc(0,"...")}function qe(e,t){1&e&&(i.Sb(0,"span",14),i.Hc(1,"(current)"),i.Rb())}function $e(e,t){if(1&e&&(i.Hc(0),i.Fc(1,qe,2,0,"span",13)),2&e){const e=t.$implicit,o=t.currentPage;i.Jc(" ",e," "),i.zb(1),i.nc("ngIf",e===o)}}function Qe(e,t){}const Xe=function(e,t){return{disabled:e,currentPage:t}};function Ze(e,t){if(1&e){const e=i.Tb();i.Sb(0,"li",15),i.Sb(1,"a",16),i.Yb(2,17),i.dc("click",function(t){return i.xc(e),i.gc().selectPage(1),t.preventDefault()}),i.Fc(3,Qe,0,0,"ng-template",18),i.Rb(),i.Rb()}if(2&e){const e=i.gc(),t=i.vc(1);i.Eb("disabled",e.previousDisabled()),i.zb(1),i.Ab("tabindex",e.previousDisabled()?"-1":null)("aria-disabled",e.previousDisabled()?"true":null),i.zb(2),i.nc("ngTemplateOutlet",(null==e.tplFirst?null:e.tplFirst.templateRef)||t)("ngTemplateOutletContext",i.sc(6,Xe,e.previousDisabled(),e.page))}}function Je(e,t){}const et=function(e){return{disabled:e}};function tt(e,t){if(1&e){const e=i.Tb();i.Sb(0,"li",15),i.Sb(1,"a",16),i.Yb(2,19),i.dc("click",function(t){i.xc(e);const o=i.gc();return o.selectPage(o.page-1),t.preventDefault()}),i.Fc(3,Je,0,0,"ng-template",18),i.Rb(),i.Rb()}if(2&e){const e=i.gc(),t=i.vc(3);i.Eb("disabled",e.previousDisabled()),i.zb(1),i.Ab("tabindex",e.previousDisabled()?"-1":null)("aria-disabled",e.previousDisabled()?"true":null),i.zb(2),i.nc("ngTemplateOutlet",(null==e.tplPrevious?null:e.tplPrevious.templateRef)||t)("ngTemplateOutletContext",i.rc(6,et,e.previousDisabled()))}}function ot(e,t){}const nt=function(e){return{disabled:!0,currentPage:e}};function it(e,t){if(1&e&&(i.Sb(0,"a",22),i.Fc(1,ot,0,0,"ng-template",18),i.Rb()),2&e){const e=i.gc(2),t=i.vc(9);i.zb(1),i.nc("ngTemplateOutlet",(null==e.tplEllipsis?null:e.tplEllipsis.templateRef)||t)("ngTemplateOutletContext",i.rc(2,nt,e.page))}}function rt(e,t){}const st=function(e,t,o){return{disabled:e,$implicit:t,currentPage:o}};function at(e,t){if(1&e){const e=i.Tb();i.Sb(0,"a",23),i.dc("click",function(t){i.xc(e);const o=i.gc().$implicit;return i.gc().selectPage(o),t.preventDefault()}),i.Fc(1,rt,0,0,"ng-template",18),i.Rb()}if(2&e){const e=i.gc().$implicit,t=i.gc(),o=i.vc(11);i.Ab("tabindex",t.disabled?"-1":null)("aria-disabled",t.disabled?"true":null),i.zb(1),i.nc("ngTemplateOutlet",(null==t.tplNumber?null:t.tplNumber.templateRef)||o)("ngTemplateOutletContext",i.tc(4,st,t.disabled,e,t.page))}}function lt(e,t){if(1&e&&(i.Sb(0,"li",15),i.Fc(1,it,2,4,"a",20),i.Fc(2,at,2,8,"a",21),i.Rb()),2&e){const e=t.$implicit,o=i.gc();i.Eb("active",e===o.page)("disabled",o.isEllipsis(e)||o.disabled),i.Ab("aria-current",e===o.page?"page":null),i.zb(1),i.nc("ngIf",o.isEllipsis(e)),i.zb(1),i.nc("ngIf",!o.isEllipsis(e))}}function ut(e,t){}function ct(e,t){if(1&e){const e=i.Tb();i.Sb(0,"li",15),i.Sb(1,"a",16),i.Yb(2,24),i.dc("click",function(t){i.xc(e);const o=i.gc();return o.selectPage(o.page+1),t.preventDefault()}),i.Fc(3,ut,0,0,"ng-template",18),i.Rb(),i.Rb()}if(2&e){const e=i.gc(),t=i.vc(5);i.Eb("disabled",e.nextDisabled()),i.zb(1),i.Ab("tabindex",e.nextDisabled()?"-1":null)("aria-disabled",e.nextDisabled()?"true":null),i.zb(2),i.nc("ngTemplateOutlet",(null==e.tplNext?null:e.tplNext.templateRef)||t)("ngTemplateOutletContext",i.sc(6,Xe,e.nextDisabled(),e.page))}}function pt(e,t){}function dt(e,t){if(1&e){const e=i.Tb();i.Sb(0,"li",15),i.Sb(1,"a",16),i.Yb(2,25),i.dc("click",function(t){i.xc(e);const o=i.gc();return o.selectPage(o.pageCount),t.preventDefault()}),i.Fc(3,pt,0,0,"ng-template",18),i.Rb(),i.Rb()}if(2&e){const e=i.gc(),t=i.vc(7);i.Eb("disabled",e.nextDisabled()),i.zb(1),i.Ab("tabindex",e.nextDisabled()?"-1":null)("aria-disabled",e.nextDisabled()?"true":null),i.zb(2),i.nc("ngTemplateOutlet",(null==e.tplLast?null:e.tplLast.templateRef)||t)("ngTemplateOutletContext",i.sc(6,Xe,e.nextDisabled(),e.page))}}function ht(e,t){if(1&e&&i.Hc(0),2&e){const e=i.gc(2);i.Ic(e.title)}}function ft(e,t){}function gt(e,t){if(1&e&&(i.Sb(0,"h3",3),i.Fc(1,ht,1,1,"ng-template",null,4,i.Gc),i.Fc(3,ft,0,0,"ng-template",5),i.Rb()),2&e){const e=i.vc(2),t=i.gc();i.zb(3),i.nc("ngTemplateOutlet",t.isTitleTemplate()?t.title:e)("ngTemplateOutletContext",t.context)}}function mt(e,t){if(1&e&&(i.Sb(0,"span"),i.Wb(1,3),i.hc(2,"percent"),i.Rb()),2&e){const e=i.gc();i.zb(2),i.Zb(i.ic(2,1,e.getValue()/e.max)),i.Xb(1)}}function yt(e,t){1&e&&i.Hc(0),2&e&&i.Ic(100===t.fill?"\u2605":"\u2606")}function vt(e,t){}function Ct(e,t){if(1&e){const e=i.Tb();i.Sb(0,"span",2),i.Hc(1),i.Rb(),i.Sb(2,"span",3),i.dc("mouseenter",function(){i.xc(e);const o=t.index;return i.gc().enter(o+1)})("click",function(){i.xc(e);const o=t.index;return i.gc().handleClick(o+1)}),i.Fc(3,vt,0,0,"ng-template",4),i.Rb()}if(2&e){const e=t.index,o=i.gc(),n=i.vc(1);i.zb(1),i.Jc("(",e<o.nextRate?"*":" ",")"),i.zb(1),i.Ec("cursor",o.readonly||o.disabled?"default":"pointer"),i.zb(1),i.nc("ngTemplateOutlet",o.starTemplate||o.starTemplateFromContent||n)("ngTemplateOutletContext",o.contexts[e])}}function bt(e,t){}function wt(e,t){if(1&e){const e=i.Tb();i.Sb(0,"li",4),i.Sb(1,"a",5),i.dc("click",function(o){i.xc(e);const n=t.$implicit;return i.gc().select(n.id),o.preventDefault()}),i.Hc(2),i.Fc(3,bt,0,0,"ng-template",6),i.Rb(),i.Rb()}if(2&e){const e=t.$implicit,o=i.gc();i.zb(1),i.Eb("active",e.id===o.activeId)("disabled",e.disabled),i.nc("id",e.id),i.Ab("tabindex",e.disabled?"-1":void 0)("aria-controls",o.destroyOnHide&&e.id!==o.activeId?null:e.id+"-panel")("aria-selected",e.id===o.activeId)("aria-disabled",e.disabled),i.zb(1),i.Jc(" ",e.title,""),i.zb(1),i.nc("ngTemplateOutlet",(null==e.titleTpl?null:e.titleTpl.templateRef)||null)}}function Et(e,t){}function Rt(e,t){if(1&e&&(i.Sb(0,"div",8),i.Fc(1,Et,0,0,"ng-template",6),i.Rb()),2&e){const e=i.gc().$implicit,t=i.gc();i.Cb("tab-pane ",e.id===t.activeId?"active":null,""),i.pc("id","",e.id,"-panel"),i.Ab("aria-labelledby",e.id),i.zb(1),i.nc("ngTemplateOutlet",(null==e.contentTpl?null:e.contentTpl.templateRef)||null)}}function _t(e,t){if(1&e&&i.Fc(0,Rt,2,6,"div",7),2&e){const e=t.$implicit,o=i.gc();i.nc("ngIf",!o.destroyOnHide||e.id===o.activeId)}}function St(e,t){if(1&e){const e=i.Tb();i.Sb(0,"button",12),i.dc("click",function(){i.xc(e);const t=i.gc();return t.changeHour(t.hourStep)}),i.Nb(1,"span",13),i.Sb(2,"span",14),i.Wb(3,15),i.Rb(),i.Rb()}if(2&e){const e=i.gc();i.Eb("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),i.nc("disabled",e.disabled)}}function Ot(e,t){if(1&e){const e=i.Tb();i.Sb(0,"button",12),i.dc("click",function(){i.xc(e);const t=i.gc();return t.changeHour(-t.hourStep)}),i.Nb(1,"span",16),i.Sb(2,"span",14),i.Wb(3,17),i.Rb(),i.Rb()}if(2&e){const e=i.gc();i.Eb("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),i.nc("disabled",e.disabled)}}function Dt(e,t){if(1&e){const e=i.Tb();i.Sb(0,"button",12),i.dc("click",function(){i.xc(e);const t=i.gc();return t.changeMinute(t.minuteStep)}),i.Nb(1,"span",13),i.Sb(2,"span",14),i.Wb(3,18),i.Rb(),i.Rb()}if(2&e){const e=i.gc();i.Eb("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),i.nc("disabled",e.disabled)}}function Pt(e,t){if(1&e){const e=i.Tb();i.Sb(0,"button",12),i.dc("click",function(){i.xc(e);const t=i.gc();return t.changeMinute(-t.minuteStep)}),i.Nb(1,"span",16),i.Sb(2,"span",14),i.Wb(3,19),i.Rb(),i.Rb()}if(2&e){const e=i.gc();i.Eb("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),i.nc("disabled",e.disabled)}}function Tt(e,t){1&e&&(i.Sb(0,"div",6),i.Hc(1,":"),i.Rb())}function At(e,t){if(1&e){const e=i.Tb();i.Sb(0,"button",12),i.dc("click",function(){i.xc(e);const t=i.gc(2);return t.changeSecond(t.secondStep)}),i.Nb(1,"span",13),i.Sb(2,"span",14),i.Wb(3,22),i.Rb(),i.Rb()}if(2&e){const e=i.gc(2);i.Eb("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),i.nc("disabled",e.disabled)}}function Ft(e,t){if(1&e){const e=i.Tb();i.Sb(0,"button",12),i.dc("click",function(){i.xc(e);const t=i.gc(2);return t.changeSecond(-t.secondStep)}),i.Nb(1,"span",16),i.Sb(2,"span",14),i.Wb(3,23),i.Rb(),i.Rb()}if(2&e){const e=i.gc(2);i.Eb("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),i.nc("disabled",e.disabled)}}function Nt(e,t){if(1&e){const e=i.Tb();i.Sb(0,"div",20),i.Fc(1,At,4,7,"button",3),i.Sb(2,"input",4),i.Yb(3,21),i.dc("change",function(t){return i.xc(e),i.gc().updateSecond(t.target.value)})("input",function(t){return i.xc(e),i.gc().formatInput(t.target)})("keydown.ArrowUp",function(t){i.xc(e);const o=i.gc();return o.changeSecond(o.secondStep),t.preventDefault()})("keydown.ArrowDown",function(t){i.xc(e);const o=i.gc();return o.changeSecond(-o.secondStep),t.preventDefault()}),i.Rb(),i.Fc(4,Ft,4,7,"button",3),i.Rb()}if(2&e){const e=i.gc();i.zb(1),i.nc("ngIf",e.spinners),i.zb(1),i.Eb("form-control-sm",e.isSmallSize)("form-control-lg",e.isLargeSize),i.nc("value",e.formatMinSec(null==e.model?null:e.model.second))("readOnly",e.readonlyInputs)("disabled",e.disabled),i.zb(2),i.nc("ngIf",e.spinners)}}function xt(e,t){1&e&&i.Nb(0,"div",6)}function It(e,t){if(1&e&&(i.Qb(0),i.Wb(1,28),i.Pb()),2&e){const e=i.gc(2);i.zb(1),i.Zb(e.i18n.getAfternoonPeriod()),i.Xb(1)}}function Mt(e,t){if(1&e&&i.Wb(0,29),2&e){const e=i.gc(2);i.Zb(e.i18n.getMorningPeriod()),i.Xb(0)}}function Lt(e,t){if(1&e){const e=i.Tb();i.Sb(0,"div",24),i.Sb(1,"button",25),i.dc("click",function(){return i.xc(e),i.gc().toggleMeridian()}),i.Fc(2,It,2,1,"ng-container",26),i.Fc(3,Mt,1,1,"ng-template",null,27,i.Gc),i.Rb(),i.Rb()}if(2&e){const e=i.vc(4),t=i.gc();i.zb(1),i.Eb("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),i.nc("disabled",t.disabled),i.zb(1),i.nc("ngIf",t.model&&t.model.hour>=12)("ngIfElse",e)}}function Gt(e,t){if(1&e&&(i.Sb(0,"strong",3),i.Hc(1),i.Rb()),2&e){const e=i.gc();i.zb(1),i.Ic(e.header)}}function kt(e,t){}function Vt(e,t){if(1&e){const e=i.Tb();i.Sb(0,"div",4),i.Fc(1,kt,0,0,"ng-template",5),i.Sb(2,"button",6),i.Yb(3,7),i.dc("click",function(){return i.xc(e),i.gc().hide()}),i.Sb(4,"span",8),i.Hc(5,"\xd7"),i.Rb(),i.Rb(),i.Rb()}if(2&e){const e=i.gc(),t=i.vc(1);i.zb(1),i.nc("ngTemplateOutlet",e.contentHeaderTpl||t)}}function Ht(e,t){if(1&e&&(i.Sb(0,"span"),i.Hc(1),i.Rb()),2&e){const e=i.gc().$implicit,t=i.gc();i.Bb(t.highlightClass),i.zb(1),i.Ic(e)}}function Wt(e,t){if(1&e&&i.Hc(0),2&e){const e=i.gc().$implicit;i.Ic(e)}}function Bt(e,t){if(1&e&&(i.Fc(0,Ht,2,3,"span",1),i.Fc(1,Wt,1,1,"ng-template",null,2,i.Gc)),2&e){const e=t.odd,o=i.vc(2);i.nc("ngIf",e)("ngIfElse",o)}}function jt(e,t){if(1&e&&i.Nb(0,"ngb-highlight",2),2&e){const e=t.term;i.nc("result",(0,t.formatter)(t.result))("term",e)}}function Ut(e,t){}const zt=function(e,t,o){return{result:e,term:t,formatter:o}};function Kt(e,t){if(1&e){const e=i.Tb();i.Sb(0,"button",3),i.dc("mouseenter",function(){i.xc(e);const o=t.index;return i.gc().markActive(o)})("click",function(){i.xc(e);const o=t.$implicit;return i.gc().select(o)}),i.Fc(1,Ut,0,0,"ng-template",4),i.Rb()}if(2&e){const e=t.$implicit,o=t.index,n=i.gc(),r=i.vc(1);i.Eb("active",o===n.activeIdx),i.nc("id",n.id+"-"+o),i.zb(1),i.nc("ngTemplateOutlet",n.resultTemplate||r)("ngTemplateOutletContext",i.tc(5,zt,e,n.term,n.formatter))}}function Yt(e){return parseInt(""+e,10)}function qt(e){return null!=e?""+e:""}function $t(e,t,o=0){return Math.max(Math.min(e,t),o)}function Qt(e){return"string"==typeof e}function Xt(e){return!isNaN(Yt(e))}function Zt(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function Jt(e){return null!=e}function eo(e){return Xt(e)?("0"+e).slice(-2):""}function to(e,t){return e&&e.className&&e.className.split&&e.className.split(/\s+/).indexOf(t)>=0}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});let oo=(()=>{let e=class{constructor(){this.closeOthers=!1}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Ib)({factory:function(){return new e},token:e,providedIn:"root"}),e})(),no=0,io=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(i.M))},e.\u0275dir=i.Hb({type:e,selectors:[["ng-template","ngbPanelHeader",""]]}),e})(),ro=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(i.M))},e.\u0275dir=i.Hb({type:e,selectors:[["ng-template","ngbPanelTitle",""]]}),e})(),so=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(i.M))},e.\u0275dir=i.Hb({type:e,selectors:[["ng-template","ngbPanelContent",""]]}),e})(),ao=(()=>{let e=class{constructor(){this.disabled=!1,this.id="ngb-panel-"+no++,this.isOpen=!1}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Hb({type:e,selectors:[["ngb-panel"]],contentQueries:function(e,t,o){var n;1&e&&(i.Fb(o,ro,!1),i.Fb(o,io,!1),i.Fb(o,so,!1)),2&e&&(i.uc(n=i.ec())&&(t.titleTpls=n),i.uc(n=i.ec())&&(t.headerTpls=n),i.uc(n=i.ec())&&(t.contentTpls=n))},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"}}),e})(),lo=(()=>{let e=class{constructor(e){this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new i.o,this.type=e.type,this.closeOtherPanels=e.closeOthers}isExpanded(e){return this.activeIds.indexOf(e)>-1}expand(e){this._changeOpenState(this._findPanelById(e),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(e=>this._changeOpenState(e,!0))}collapse(e){this._changeOpenState(this._findPanelById(e),!1)}collapseAll(){this.panels.forEach(e=>{this._changeOpenState(e,!1)})}toggle(e){const t=this._findPanelById(e);t&&this._changeOpenState(t,!t.isOpen)}ngAfterContentChecked(){Qt(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(e=>e.isOpen=!e.disabled&&this.activeIds.indexOf(e.id)>-1),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0]),this._updateActiveIds())}_changeOpenState(e,t){if(null!=e&&!e.disabled&&e.isOpen!==t){let o=!1;this.panelChange.emit({panelId:e.id,nextState:t,preventDefault:()=>{o=!0}}),o||(e.isOpen=t,t&&this.closeOtherPanels&&this._closeOthers(e.id),this._updateActiveIds())}}_closeOthers(e){this.panels.forEach(t=>{t.id!==e&&(t.isOpen=!1)})}_findPanelById(e){return this.panels.find(t=>t.id===e)||null}_updateActiveIds(){this.activeIds=this.panels.filter(e=>e.isOpen&&!e.disabled).map(e=>e.id)}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(oo))},e.\u0275cmp=i.Gb({type:e,selectors:[["ngb-accordion"]],contentQueries:function(e,t,o){var n;1&e&&i.Fb(o,ao,!1),2&e&&i.uc(n=i.ec())&&(t.panels=n)},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(e,t){2&e&&i.Ab("aria-multiselectable",!t.closeOtherPanels)},inputs:{activeIds:"activeIds",destroyOnHide:"destroyOnHide",type:"type",closeOtherPanels:["closeOthers","closeOtherPanels"]},outputs:{panelChange:"panelChange"},exportAs:["ngbAccordion"],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"btn","btn-link",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel","class","collapse",3,"id","show",4,"ngIf"],["role","tabpanel",1,"collapse",3,"id"],[1,"card-body"]],template:function(e,t){1&e&&(i.Fc(0,$,3,3,"ng-template",0,1,i.Gc),i.Fc(2,ee,4,11,"ng-template",2)),2&e&&(i.zb(2),i.nc("ngForOf",t.panels))},directives:function(){return[io,r.t,uo,r.B,r.u]},encapsulation:2}),e})(),uo=(()=>{let e=class{constructor(e,t){this.accordion=e,this.panel=t}set ngbPanelToggle(e){e&&(this.panel=e)}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(lo),i.Mb(ao,9))},e.\u0275dir=i.Hb({type:e,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(e,t){1&e&&i.dc("click",function(){return t.accordion.toggle(t.panel.id)}),2&e&&(i.Vb("disabled",t.panel.disabled),i.Ab("aria-expanded",t.panel.isOpen)("aria-controls",t.panel.id),i.Eb("collapsed",!t.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"}}),e=Object(n.b)([Object(n.c)(1,Object(i.C)()),Object(n.c)(1,Object(i.p)())],e),e})(),co=(()=>{let e=class{};return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(t){return new(t||e)},imports:[[r.c]]}),e})(),po=(()=>{let e=class{constructor(){this.dismissible=!0,this.type="warning"}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Ib)({factory:function(){return new e},token:e,providedIn:"root"}),e})(),ho=(()=>{let e=class{constructor(e,t,o){this._renderer=t,this._element=o,this.close=new i.o,this.dismissible=e.dismissible,this.type=e.type}closeHandler(){this.close.emit()}ngOnChanges(e){const t=e.type;t&&!t.firstChange&&(this._renderer.removeClass(this._element.nativeElement,"alert-"+t.previousValue),this._renderer.addClass(this._element.nativeElement,"alert-"+t.currentValue))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,"alert-"+this.type)}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(po),i.Mb(i.F),i.Mb(i.m))},e.\u0275cmp=i.Gb({type:e,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert"],hostVars:2,hostBindings:function(e,t){2&e&&i.Eb("alert-dismissible",t.dismissible)},inputs:{dismissible:"dismissible",type:"type"},outputs:{close:"close"},features:[i.xb],ngContentSelectors:oe,decls:2,vars:1,consts:function(){return[["type","button","class","close",3,"click",4,"ngIf",6,"aria-label"],["type","button",1,"close",3,"click",6,"aria-label"],["aria-label",$localize`:@@ngb.alert.close␟f4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c8␟7819314041543176992:Close`],["aria-hidden","true"]]},template:function(e,t){1&e&&(i.mc(),i.lc(0),i.Fc(1,te,4,0,"button",0)),2&e&&(i.zb(1),i.nc("ngIf",t.dismissible))},directives:[r.u],styles:["ngb-alert{display:block}"],encapsulation:2,changeDetection:0}),e})(),fo=(()=>{let e=class{};return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(t){return new(t||e)},imports:[[r.c]]}),e})(),go=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Hb({type:e,selectors:[["","ngbButtonLabel",""]],hostVars:8,hostBindings:function(e,t){2&e&&i.Eb("btn",!0)("active",t.active)("disabled",t.disabled)("focus",t.focused)}}),e})();const mo={provide:s.r,useExisting:Object(i.U)(()=>yo),multi:!0};let yo=(()=>{let e=class{constructor(e,t){this._label=e,this._cd=t,this.disabled=!1,this.valueChecked=!0,this.valueUnChecked=!1,this.onChange=e=>{},this.onTouched=()=>{}}set focused(e){this._label.focused=e,e||this.onTouched()}onInputChange(e){const t=e.target.checked?this.valueChecked:this.valueUnChecked;this.onChange(t),this.onTouched(),this.writeValue(t)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._label.disabled=e}writeValue(e){this.checked=e===this.valueChecked,this._label.active=this.checked,this._cd.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(go),i.Mb(i.i))},e.\u0275dir=i.Hb({type:e,selectors:[["","ngbButton","","type","checkbox"]],hostVars:2,hostBindings:function(e,t){1&e&&i.dc("change",function(e){return t.onInputChange(e)})("focus",function(){return t.focused=!0})("blur",function(){return t.focused=!1}),2&e&&i.Vb("checked",t.checked)("disabled",t.disabled)},inputs:{disabled:"disabled",valueChecked:"valueChecked",valueUnChecked:"valueUnChecked"},features:[i.yb([mo])]}),e})();const vo={provide:s.r,useExisting:Object(i.U)(()=>bo),multi:!0};let Co=0,bo=(()=>{let e=class{constructor(){this._radios=new Set,this._value=null,this.name="ngb-radio-"+Co++,this.onChange=e=>{},this.onTouched=()=>{}}get disabled(){return this._disabled}set disabled(e){this.setDisabledState(e)}onRadioChange(e){this.writeValue(e.value),this.onChange(e.value)}onRadioValueUpdate(){this._updateRadiosValue()}register(e){this._radios.add(e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._disabled=e,this._updateRadiosDisabled()}unregister(e){this._radios.delete(e)}writeValue(e){this._value=e,this._updateRadiosValue()}_updateRadiosValue(){this._radios.forEach(e=>e.updateValue(this._value))}_updateRadiosDisabled(){this._radios.forEach(e=>e.updateDisabled())}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Hb({type:e,selectors:[["","ngbRadioGroup",""]],hostAttrs:["role","radiogroup"],inputs:{name:"name"},features:[i.yb([vo])]}),e})(),wo=(()=>{let e=class{constructor(e,t,o,n,i){this._group=e,this._label=t,this._renderer=o,this._element=n,this._cd=i,this._value=null,this._group.register(this),this.updateDisabled()}set value(e){this._value=e;const t=e?e.toString():"";this._renderer.setProperty(this._element.nativeElement,"value",t),this._group.onRadioValueUpdate()}set disabled(e){this._disabled=!1!==e,this.updateDisabled()}set focused(e){this._label&&(this._label.focused=e),e||this._group.onTouched()}get checked(){return this._checked}get disabled(){return this._group.disabled||this._disabled}get value(){return this._value}get nameAttr(){return this.name||this._group.name}ngOnDestroy(){this._group.unregister(this)}onChange(){this._group.onRadioChange(this)}updateValue(e){this.value!==e&&this._cd.markForCheck(),this._checked=this.value===e,this._label.active=this._checked}updateDisabled(){this._label.disabled=this.disabled}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(bo),i.Mb(go),i.Mb(i.F),i.Mb(i.m),i.Mb(i.i))},e.\u0275dir=i.Hb({type:e,selectors:[["","ngbButton","","type","radio"]],hostVars:3,hostBindings:function(e,t){1&e&&i.dc("change",function(){return t.onChange()})("focus",function(){return t.focused=!0})("blur",function(){return t.focused=!1}),2&e&&i.Vb("checked",t.checked)("disabled",t.disabled)("name",t.nameAttr)},inputs:{value:"value",disabled:"disabled",name:"name"}}),e})(),Eo=(()=>{let e=class{};return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(t){return new(t||e)}}),e})(),Ro=(()=>{let e=class{constructor(){this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Ib)({factory:function(){return new e},token:e,providedIn:"root"}),e})(),_o=0,So=(()=>{let e=class{constructor(e){this.tplRef=e,this.id="ngb-slide-"+_o++}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(i.M))},e.\u0275dir=i.Hb({type:e,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"}}),e})(),Oo=(()=>{let e=class{constructor(e,t,o,n){this._platformId=t,this._ngZone=o,this._cd=n,this.NgbSlideEventSource=Po,this._destroy$=new a.a,this._interval$=new l.a(0),this._mouseHover$=new l.a(!1),this._pauseOnHover$=new l.a(!1),this._pause$=new l.a(!1),this._wrap$=new l.a(!1),this.slide=new i.o,this.interval=e.interval,this.wrap=e.wrap,this.keyboard=e.keyboard,this.pauseOnHover=e.pauseOnHover,this.showNavigationArrows=e.showNavigationArrows,this.showNavigationIndicators=e.showNavigationIndicators}set interval(e){this._interval$.next(e)}get interval(){return this._interval$.value}set wrap(e){this._wrap$.next(e)}get wrap(){return this._wrap$.value}set pauseOnHover(e){this._pauseOnHover$.next(e)}get pauseOnHover(){return this._pauseOnHover$.value}mouseEnter(){this._mouseHover$.next(!0)}mouseLeave(){this._mouseHover$.next(!1)}ngAfterContentInit(){Object(r.O)(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const e=Object(u.a)([this.slide.pipe(Object(S.a)(e=>e.current),Object(O.a)(this.activeId)),this._wrap$,this.slides.changes.pipe(Object(O.a)(null))]).pipe(Object(S.a)(([e,t])=>{const o=this.slides.toArray(),n=this._getSlideIdxById(e);return t?o.length>1:n<o.length-1}),Object(D.a)());Object(u.a)([this._pause$,this._pauseOnHover$,this._mouseHover$,this._interval$,e]).pipe(Object(S.a)(([e,t,o,n,i])=>e||t&&o||!i?0:n),Object(D.a)(),Object(P.a)(e=>e>0?function(e=0,t,o){let n=-1;return h(t)?n=Number(t)<1?1:Number(t):Object(f.a)(t)&&(o=t),Object(f.a)(o)||(o=p.a),new c.a(t=>{const i=h(e)?e:+e-o.now();return o.schedule(g,i,{index:0,period:n,subscriber:t})})}(e,e):y),T(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Po.TIMER)))}),this.slides.changes.pipe(T(this._destroy$)).subscribe(()=>this._cd.markForCheck())}ngAfterContentChecked(){let e=this._getSlideById(this.activeId);this.activeId=e?e.id:this.slides.length?this.slides.first.id:""}ngOnDestroy(){this._destroy$.next()}select(e,t){this._cycleToSelected(e,this._getSlideEventDirection(this.activeId,e),t)}prev(e){this._cycleToSelected(this._getPrevSlide(this.activeId),Do.RIGHT,e)}next(e){this._cycleToSelected(this._getNextSlide(this.activeId),Do.LEFT,e)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}_cycleToSelected(e,t,o){let n=this._getSlideById(e);n&&n.id!==this.activeId&&(this.slide.emit({prev:this.activeId,current:n.id,direction:t,paused:this._pause$.value,source:o}),this.activeId=n.id),this._cd.markForCheck()}_getSlideEventDirection(e,t){return this._getSlideIdxById(e)>this._getSlideIdxById(t)?Do.RIGHT:Do.LEFT}_getSlideById(e){return this.slides.find(t=>t.id===e)||null}_getSlideIdxById(e){const t=this._getSlideById(e);return null!=t?this.slides.toArray().indexOf(t):-1}_getNextSlide(e){const t=this.slides.toArray(),o=this._getSlideIdxById(e);return o===t.length-1?this.wrap?t[0].id:t[t.length-1].id:t[o+1].id}_getPrevSlide(e){const t=this.slides.toArray(),o=this._getSlideIdxById(e);return 0===o?this.wrap?t[t.length-1].id:t[0].id:t[o-1].id}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(Ro),i.Mb(i.D),i.Mb(i.B),i.Mb(i.i))},e.\u0275cmp=i.Gb({type:e,selectors:[["ngb-carousel"]],contentQueries:function(e,t,o){var n;1&e&&i.Fb(o,So,!1),2&e&&i.uc(n=i.ec())&&(t.slides=n)},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:2,hostBindings:function(e,t){1&e&&i.dc("keydown.arrowLeft",function(){return t.keyboard&&t.prev(t.NgbSlideEventSource.ARROW_LEFT)})("keydown.arrowRight",function(){return t.keyboard&&t.next(t.NgbSlideEventSource.ARROW_RIGHT)})("mouseenter",function(){return t.mouseEnter()})("mouseleave",function(){return t.mouseLeave()}),2&e&&i.Ec("display","block")},inputs:{interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators",activeId:"activeId"},outputs:{slide:"slide"},exportAs:["ngbCarousel"],decls:5,vars:4,consts:function(){return[["class","carousel-indicators",4,"ngIf"],[1,"carousel-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],[1,"carousel-indicators"],[3,"id","active","click",4,"ngFor","ngForOf"],[3,"id","click"],[1,"carousel-item"],[3,"ngTemplateOutlet"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],$localize`:@@ngb.carousel.previous␟680d5c75b7fd8d37961083608b9fcdc4167b4c43␟4452427314943113135:Previous`,["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],$localize`:@@ngb.carousel.next␟f732c304c7433e5a83ffcd862c3dce709a0f4982␟3885497195825665706:Next`]},template:function(e,t){1&e&&(i.Fc(0,ie,2,1,"ol",0),i.Sb(1,"div",1),i.Fc(2,se,2,3,"div",2),i.Rb(),i.Fc(3,ae,4,0,"a",3),i.Fc(4,le,4,0,"a",4)),2&e&&(i.nc("ngIf",t.showNavigationIndicators),i.zb(2),i.nc("ngForOf",t.slides),i.zb(1),i.nc("ngIf",t.showNavigationArrows),i.zb(1),i.nc("ngIf",t.showNavigationArrows))},directives:[r.u,r.t,r.B],encapsulation:2,changeDetection:0}),e=Object(n.b)([Object(n.c)(1,Object(i.r)(i.D))],e),e})();var Do=function(e){return e[e.LEFT="left"]="LEFT",e[e.RIGHT="right"]="RIGHT",e}({}),Po=function(e){return e.TIMER="timer",e.ARROW_LEFT="arrowLeft",e.ARROW_RIGHT="arrowRight",e.INDICATOR="indicator",e}({});let To=(()=>{let e=class{};return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(t){return new(t||e)},imports:[[r.c]]}),e})(),Ao=(()=>{let e=class{constructor(){this.collapsed=!1}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Hb({type:e,selectors:[["","ngbCollapse",""]],hostVars:4,hostBindings:function(e,t){2&e&&i.Eb("collapse",!0)("show",!t.collapsed)},inputs:{collapsed:["ngbCollapse","collapsed"]},exportAs:["ngbCollapse"]}),e})(),Fo=(()=>{let e=class{};return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(t){return new(t||e)}}),e})();class No{constructor(e,t,o){this.year=Zt(e)?e:null,this.month=Zt(t)?t:null,this.day=Zt(o)?o:null}static from(e){return e instanceof No?e:e?new No(e.year,e.month,e.day):null}equals(e){return null!=e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function xo(e){return new No(e.getFullYear(),e.getMonth()+1,e.getDate())}function Io(e){const t=new Date(e.year,e.month-1,e.day,12);return isNaN(t.getTime())||t.setFullYear(e.year),t}function Mo(){return new Go}let Lo=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Ib)({factory:Mo,token:e,providedIn:"root"}),e})(),Go=(()=>{let e=class extends Lo{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(e,t="d",o=1){let n=Io(e),i=!0,r=n.getMonth();switch(t){case"y":n.setFullYear(n.getFullYear()+o);break;case"m":r+=o,n.setMonth(r),r%=12,r<0&&(r+=12);break;case"d":n.setDate(n.getDate()+o),i=!1;break;default:return e}return i&&n.getMonth()!==r&&n.setDate(0),xo(n)}getPrev(e,t="d",o=1){return this.getNext(e,t,-o)}getWeekday(e){let t=Io(e).getDay();return 0===t?7:t}getWeekNumber(e,t){7===t&&(t=0);const o=Io(e[(11-t)%7]);o.setDate(o.getDate()+4-(o.getDay()||7));const n=o.getTime();return o.setMonth(0),o.setDate(1),Math.floor(Math.round((n-o.getTime())/864e5)/7)+1}getToday(){return xo(new Date)}isValid(e){if(!(e&&Zt(e.year)&&Zt(e.month)&&Zt(e.day)))return!1;if(0===e.year)return!1;const t=Io(e);return!isNaN(t.getTime())&&t.getFullYear()===e.year&&t.getMonth()+1===e.month&&t.getDate()===e.day}};return e.\u0275fac=function(t){return pr(t||e)},e.\u0275prov=i.Ib({token:e,factory:function(t){return e.\u0275fac(t)}}),e})();function ko(e,t){return!function(e,t){return!e&&!t||!!e&&!!t&&e.equals(t)}(e,t)}function Vo(e,t){return!(!e&&!t||e&&t&&e.year===t.year&&e.month===t.month)}function Ho(e,t,o){return e&&t&&e.before(t)?t:e&&o&&e.after(o)?o:e||null}function Wo(e,t){const{minDate:o,maxDate:n,disabled:i,markDisabled:r}=t;return!(null==e||i||r&&r(e,{year:e.year,month:e.month})||o&&e.before(o)||n&&e.after(n))}let Bo=(()=>{let e=class{getDayNumerals(e){return""+e.day}getWeekNumerals(e){return""+e}getYearNumerals(e){return""+e}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Ib)({factory:function(){return e=Object(i.ac)(i.w),new jo(e);var e},token:e,providedIn:"root"}),e})(),jo=(()=>{let e=class extends Bo{constructor(e){super(),this._locale=e;const t=Object(r.L)(e,r.h.Standalone,r.H.Short);this._weekdaysShort=t.map((e,o)=>t[(o+1)%7]),this._monthsShort=Object(r.N)(e,r.h.Standalone,r.H.Abbreviated),this._monthsFull=Object(r.N)(e,r.h.Standalone,r.H.Wide)}getWeekdayShortName(e){return this._weekdaysShort[e-1]||""}getMonthShortName(e){return this._monthsShort[e-1]||""}getMonthFullName(e){return this._monthsFull[e-1]||""}getDayAriaLabel(e){const t=new Date(e.year,e.month-1,e.day);return Object(r.K)(t,"fullDate",this._locale)}};return e.\u0275fac=function(t){return new(t||e)(i.ac(i.w))},e.\u0275prov=i.Ib({token:e,factory:function(t){return e.\u0275fac(t)}}),e=Object(n.b)([Object(n.c)(0,Object(i.r)(i.w))],e),e})(),Uo=(()=>{let e=class{constructor(e,t){this._calendar=e,this._i18n=t,this._VALIDATORS={dayTemplateData:e=>{if(this._state.dayTemplateData!==e)return{dayTemplateData:e}},displayMonths:e=>{if(Zt(e=Yt(e))&&e>0&&this._state.displayMonths!==e)return{displayMonths:e}},disabled:e=>{if(this._state.disabled!==e)return{disabled:e}},firstDayOfWeek:e=>{if(Zt(e=Yt(e))&&e>=0&&this._state.firstDayOfWeek!==e)return{firstDayOfWeek:e}},focusVisible:e=>{if(this._state.focusVisible!==e&&!this._state.disabled)return{focusVisible:e}},markDisabled:e=>{if(this._state.markDisabled!==e)return{markDisabled:e}},maxDate:e=>{const t=this.toValidDate(e,null);if(ko(this._state.maxDate,t))return{maxDate:t}},minDate:e=>{const t=this.toValidDate(e,null);if(ko(this._state.minDate,t))return{minDate:t}},navigation:e=>{if(this._state.navigation!==e)return{navigation:e}},outsideDays:e=>{if(this._state.outsideDays!==e)return{outsideDays:e}}},this._model$=new a.a,this._dateSelect$=new a.a,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]}}}get model$(){return this._model$.pipe(Object(N.a)(e=>e.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(Object(N.a)(e=>null!==e))}set(e){let t=Object.keys(e).map(t=>this._VALIDATORS[t](e[t])).reduce((e,t)=>Object.assign(Object.assign({},e),t),{});Object.keys(t).length>0&&this._nextState(t)}focus(e){const t=this.toValidDate(e,null);null!=t&&!this._state.disabled&&ko(this._state.focusDate,t)&&this._nextState({focusDate:e})}focusSelect(){Wo(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(e){const t=this.toValidDate(e,this._calendar.getToday());null==t||this._state.disabled||this._state.firstDate&&!Vo(this._state.firstDate,t)||this._nextState({firstDate:t})}select(e,t={}){const o=this.toValidDate(e,null);null==o||this._state.disabled||(ko(this._state.selectedDate,o)&&this._nextState({selectedDate:o}),t.emitEvent&&Wo(o,this._state)&&this._dateSelect$.next(o))}toValidDate(e,t){const o=No.from(e);return void 0===t&&(t=this._calendar.getToday()),this._calendar.isValid(o)?o:t}getMonth(e){for(let t of this._state.months)if(e.month===t.number&&e.year===t.year)return t;throw new Error(`month ${e.month} of year ${e.year} not found`)}_nextState(e){const t=this._updateState(e);this._patchContexts(t),this._state=t,this._model$.next(this._state)}_patchContexts(e){const{months:t,displayMonths:o,selectedDate:n,focusDate:i,focusVisible:r,disabled:s,outsideDays:a}=e;e.months.forEach(e=>{e.weeks.forEach(l=>{l.days.forEach(l=>{i&&(l.context.focused=i.equals(l.date)&&r),l.tabindex=!s&&i&&l.date.equals(i)&&i.month===e.number?0:-1,!0===s&&(l.context.disabled=!0),void 0!==n&&(l.context.selected=null!==n&&n.equals(l.date)),e.number!==l.date.month&&(l.hidden="hidden"===a||"collapsed"===a||o>1&&l.date.after(t[0].firstDate)&&l.date.before(t[o-1].lastDate))})})})}_updateState(e){const t=Object.assign({},this._state,e);let o=t.firstDate;if(("minDate"in e||"maxDate"in e)&&(function(e,t){if(t&&e&&t.before(e))throw new Error(`'maxDate' ${t} should be greater than 'minDate' ${e}`)}(t.minDate,t.maxDate),t.focusDate=Ho(t.focusDate,t.minDate,t.maxDate),t.firstDate=Ho(t.firstDate,t.minDate,t.maxDate),o=t.focusDate),"disabled"in e&&(t.focusVisible=!1),"selectedDate"in e&&0===this._state.months.length&&(o=t.selectedDate),"focusVisible"in e)return t;if("focusDate"in e&&(t.focusDate=Ho(t.focusDate,t.minDate,t.maxDate),o=t.focusDate,0!==t.months.length&&t.focusDate&&!t.focusDate.before(t.firstDate)&&!t.focusDate.after(t.lastDate)))return t;if("firstDate"in e&&(t.firstDate=Ho(t.firstDate,t.minDate,t.maxDate),o=t.firstDate),o){const n=function(e,t,o,n,i){const{displayMonths:r,months:s}=o,a=s.splice(0,s.length);return Array.from({length:r},(o,n)=>{const r=Object.assign(e.getNext(t,"m",n),{day:1});if(s[n]=null,!i){const e=a.findIndex(e=>e.firstDate.equals(r));-1!==e&&(s[n]=a.splice(e,1)[0])}return r}).forEach((t,i)=>{null===s[i]&&(s[i]=function(e,t,o,n,i={}){const{dayTemplateData:r,minDate:s,maxDate:a,firstDayOfWeek:l,markDisabled:u,outsideDays:c}=o,p=e.getToday();i.firstDate=null,i.lastDate=null,i.number=t.month,i.year=t.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],t=function(e,t,o){const n=e.getDaysPerWeek(),i=new No(t.year,t.month,1),r=e.getWeekday(i)%n;return e.getPrev(i,"d",(n+r-o)%n)}(e,t,l);for(let d=0;d<e.getWeeksPerMonth();d++){let o=i.weeks[d];o||(o=i.weeks[d]={number:0,days:[],collapsed:!0});const h=o.days;for(let l=0;l<e.getDaysPerWeek();l++){0===d&&(i.weekdays[l]=e.getWeekday(t));const o=new No(t.year,t.month,t.day),c=e.getNext(o),f=n.getDayAriaLabel(o);let g=!!(s&&o.before(s)||a&&o.after(a));!g&&u&&(g=u(o,{month:i.number,year:i.year}));let m=o.equals(p),y=r?r(o,{month:i.number,year:i.year}):void 0;null===i.firstDate&&o.month===i.number&&(i.firstDate=o),o.month===i.number&&c.month!==i.number&&(i.lastDate=o);let v=h[l];v||(v=h[l]={}),v.date=o,v.context=Object.assign(v.context||{},{$implicit:o,date:o,data:y,currentMonth:i.number,currentYear:i.year,disabled:g,focused:!1,selected:!1,today:m}),v.tabindex=-1,v.ariaLabel=f,v.hidden=!1,t=c}o.number=e.getWeekNumber(h.map(e=>e.date),l),o.collapsed="collapsed"===c&&h[0].date.month!==i.number&&h[h.length-1].date.month!==i.number}return i}(e,t,o,n,a.shift()||{}))}),s}(this._calendar,o,t,this._i18n,"dayTemplateData"in e||"firstDayOfWeek"in e||"markDisabled"in e||"minDate"in e||"maxDate"in e||"disabled"in e||"outsideDays"in e);t.months=n,t.firstDate=n[0].firstDate,t.lastDate=n[n.length-1].lastDate,"selectedDate"in e&&!Wo(t.selectedDate,t)&&(t.selectedDate=null),"firstDate"in e&&(!t.focusDate||t.focusDate.before(t.firstDate)||t.focusDate.after(t.lastDate))&&(t.focusDate=o);const i=!this._state.firstDate||this._state.firstDate.year!==t.firstDate.year,r=!this._state.firstDate||this._state.firstDate.month!==t.firstDate.month;"select"===t.navigation?(("minDate"in e||"maxDate"in e||0===t.selectBoxes.years.length||i)&&(t.selectBoxes.years=function(e,t,o){if(!e)return[];const n=t?Math.max(t.year,e.year-500):e.year-10,i=(o?Math.min(o.year,e.year+500):e.year+10)-n+1,r=Array(i);for(let s=0;s<i;s++)r[s]=n+s;return r}(t.firstDate,t.minDate,t.maxDate)),("minDate"in e||"maxDate"in e||0===t.selectBoxes.months.length||i)&&(t.selectBoxes.months=function(e,t,o,n){if(!t)return[];let i=e.getMonths(t.year);if(o&&t.year===o.year){const e=i.findIndex(e=>e===o.month);i=i.slice(e)}if(n&&t.year===n.year){const e=i.findIndex(e=>e===n.month);i=i.slice(0,e+1)}return i}(this._calendar,t.firstDate,t.minDate,t.maxDate))):t.selectBoxes={years:[],months:[]},"arrows"!==t.navigation&&"select"!==t.navigation||!(r||i||"minDate"in e||"maxDate"in e||"disabled"in e)||(t.prevDisabled=t.disabled||function(e,t,o){const n=Object.assign(e.getPrev(t,"m"),{day:1});return null!=o&&(n.year===o.year&&n.month<o.month||n.year<o.year&&1===o.month)}(this._calendar,t.firstDate,t.minDate),t.nextDisabled=t.disabled||function(e,t,o){const n=Object.assign(e.getNext(t,"m"),{day:1});return null!=o&&n.after(o)}(this._calendar,t.lastDate,t.maxDate))}return t}};return e.\u0275fac=function(t){return new(t||e)(i.ac(Lo),i.ac(Bo))},e.\u0275prov=i.Ib({token:e,factory:function(t){return e.\u0275fac(t)}}),e})();var zo=function(e){return e[e.PREV=0]="PREV",e[e.NEXT=1]="NEXT",e}({});let Ko=(()=>{let e=class{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekdays=!0,this.showWeekNumbers=!1}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Ib)({factory:function(){return new e},token:e,providedIn:"root"}),e})();function Yo(){return new $o}let qo=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Ib)({factory:Yo,token:e,providedIn:"root"}),e})(),$o=(()=>{let e=class extends qo{fromModel(e){return e&&Zt(e.year)&&Zt(e.month)&&Zt(e.day)?{year:e.year,month:e.month,day:e.day}:null}toModel(e){return e&&Zt(e.year)&&Zt(e.month)&&Zt(e.day)?{year:e.year,month:e.month,day:e.day}:null}};return e.\u0275fac=function(t){return dr(t||e)},e.\u0275prov=i.Ib({token:e,factory:function(t){return e.\u0275fac(t)}}),e})();const Qo={provide:s.r,useExisting:Object(i.U)(()=>Zo),multi:!0};let Xo=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(i.M))},e.\u0275dir=i.Hb({type:e,selectors:[["ng-template","ngbDatepickerContent",""]]}),e})(),Zo=(()=>{let e=class{constructor(e,t,o,n,r,s,l,u){this._service=e,this._calendar=t,this.i18n=o,this._elementRef=s,this._ngbDateAdapter=l,this._ngZone=u,this._controlValue=null,this._destroyed$=new a.a,this._publicState={},this.navigate=new i.o,this.dateSelect=new i.o,this.select=this.dateSelect,this.onChange=e=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekdays","showWeekNumbers","startDate"].forEach(e=>this[e]=n[e]),e.dateSelect$.pipe(T(this._destroyed$)).subscribe(e=>{this.dateSelect.emit(e)}),e.model$.pipe(T(this._destroyed$)).subscribe(e=>{const t=e.firstDate,o=this.model?this.model.firstDate:null;this._publicState={maxDate:e.maxDate,minDate:e.minDate,firstDate:e.firstDate,lastDate:e.lastDate,focusedDate:e.focusDate,months:e.months.map(e=>e.firstDate)};let n=!1;if(!t.equals(o)&&(this.navigate.emit({current:o?{year:o.year,month:o.month}:null,next:{year:t.year,month:t.month},preventDefault:()=>n=!0}),n&&null!==o))return void this._service.open(o);const i=e.selectedDate,s=e.focusDate,a=this.model?this.model.focusDate:null;this.model=e,ko(i,this._controlValue)&&(this._controlValue=i,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(i))),ko(s,a)&&a&&e.focusVisible&&this.focus(),r.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(e){this._service.focus(No.from(e))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(Object(x.a)(1)).subscribe(()=>{const e=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');e&&e.focus()})}navigateTo(e){this._service.open(No.from(e?e.day?e:Object.assign(Object.assign({},e),{day:1}):null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=Object(v.a)(this._contentEl.nativeElement,"focusin"),t=Object(v.a)(this._contentEl.nativeElement,"focusout"),{nativeElement:o}=this._elementRef;Object(C.a)(e,t).pipe(Object(N.a)(({target:e,relatedTarget:t})=>!(to(e,"ngb-dp-day")&&to(t,"ngb-dp-day")&&o.contains(e)&&o.contains(t))),T(this._destroyed$)).subscribe(({type:e})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===e})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const e={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].forEach(t=>e[t]=this[t]),this._service.set(e),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(e){const t={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].filter(t=>t in e).forEach(e=>t[e]=this[e]),this._service.set(t),"startDate"in e){const{currentValue:t,previousValue:o}=e.startDate;Vo(o,t)&&this.navigateTo(this.startDate)}}onDateSelect(e){this._service.focus(e),this._service.select(e,{emitEvent:!0})}onNavigateDateSelect(e){this._service.open(e)}onNavigateEvent(e){switch(e){case zo.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case zo.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._service.set({disabled:e})}writeValue(e){this._controlValue=No.from(this._ngbDateAdapter.fromModel(e)),this._service.select(this._controlValue)}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(Uo),i.Mb(Lo),i.Mb(Bo),i.Mb(Ko),i.Mb(i.i),i.Mb(i.m),i.Mb(qo),i.Mb(i.B))},e.\u0275cmp=i.Gb({type:e,selectors:[["ngb-datepicker"]],contentQueries:function(e,t,o){var n;1&e&&i.Cc(o,Xo,!0),2&e&&i.uc(n=i.ec())&&(t.contentTemplate=n.first)},viewQuery:function(e,t){var o;1&e&&(i.Dc(ue,!0),i.Dc(ce,!0)),2&e&&(i.uc(o=i.ec())&&(t._defaultDayTemplate=o.first),i.uc(o=i.ec())&&(t._contentEl=o.first))},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate"},outputs:{navigate:"navigate",dateSelect:"dateSelect",select:"select"},exportAs:["ngbDatepicker"],features:[i.yb([Qo,Uo]),i.xb],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(e,t){if(1&e&&(i.Fc(0,pe,1,5,"ng-template",null,0,i.Gc),i.Fc(2,fe,1,1,"ng-template",null,1,i.Gc),i.Sb(4,"div",2),i.Fc(5,ge,1,7,"ngb-datepicker-navigation",3),i.Rb(),i.Sb(6,"div",4,5),i.Fc(8,me,0,0,"ng-template",6),i.Rb(),i.Fc(9,ye,0,0,"ng-template",6)),2&e){const e=i.vc(3);i.zb(5),i.nc("ngIf","none"!==t.navigation),i.zb(1),i.Eb("ngb-dp-months",!t.contentTemplate),i.zb(2),i.nc("ngTemplateOutlet",(null==t.contentTemplate?null:t.contentTemplate.templateRef)||e),i.zb(1),i.nc("ngTemplateOutlet",t.footerTemplate)}},directives:function(){return[r.u,r.B,wn,r.t,tn,on]},styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-months{display:-ms-flexbox;display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}"],encapsulation:2,changeDetection:0}),e})();var Jo=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}({});let en=(()=>{let e=class{processKey(e,t){const{state:o,calendar:n}=t;switch(e.which){case Jo.PageUp:t.focusDate(n.getPrev(o.focusedDate,e.shiftKey?"y":"m",1));break;case Jo.PageDown:t.focusDate(n.getNext(o.focusedDate,e.shiftKey?"y":"m",1));break;case Jo.End:t.focusDate(e.shiftKey?o.maxDate:o.lastDate);break;case Jo.Home:t.focusDate(e.shiftKey?o.minDate:o.firstDate);break;case Jo.ArrowLeft:t.focusDate(n.getPrev(o.focusedDate,"d",1));break;case Jo.ArrowUp:t.focusDate(n.getPrev(o.focusedDate,"d",n.getDaysPerWeek()));break;case Jo.ArrowRight:t.focusDate(n.getNext(o.focusedDate,"d",1));break;case Jo.ArrowDown:t.focusDate(n.getNext(o.focusedDate,"d",n.getDaysPerWeek()));break;case Jo.Enter:case Jo.Space:t.focusSelect();break;default:return}e.preventDefault(),e.stopPropagation()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Ib)({factory:function(){return new e},token:e,providedIn:"root"}),e})(),tn=(()=>{let e=class{constructor(e,t,o,n){this.i18n=e,this.datepicker=t,this._keyboardService=o,this._service=n}set month(e){this.viewModel=this._service.getMonth(e)}onKeyDown(e){this._keyboardService.processKey(e,this.datepicker)}doSelect(e){e.context.disabled||e.hidden||this.datepicker.onDateSelect(e.date)}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(Bo),i.Mb(Zo),i.Mb(en),i.Mb(Uo))},e.\u0275cmp=i.Gb({type:e,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(e,t){1&e&&i.dc("keydown",function(e){return t.onKeyDown(e)})},inputs:{month:"month"},decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(i.Fc(0,be,3,2,"div",0),i.Fc(1,Oe,1,1,"ng-template",1)),2&e&&(i.nc("ngIf",t.datepicker.showWeekdays),i.zb(1),i.nc("ngForOf",t.viewModel.weeks))},directives:[r.u,r.t,r.B],styles:['ngb-datepicker-month{display:block}.ngb-dp-week-number,.ngb-dp-weekday{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:-ms-flexbox;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-day,.ngb-dp-week-number,.ngb-dp-weekday{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}'],encapsulation:2}),e})(),on=(()=>{let e=class{constructor(e){this.i18n=e,this.navigation=zo,this.months=[],this.navigate=new i.o,this.select=new i.o}onClickPrev(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(Bo))},e.\u0275cmp=i.Gb({type:e,selectors:[["ngb-datepicker-navigation"]],inputs:{months:"months",date:"date",disabled:"disabled",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:10,vars:4,consts:function(){return[[1,"ngb-dp-arrow"],["type","button",1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click",6,"aria-label","title"],["aria-label",$localize`:@@ngb.datepicker.previous-month␟c3b08b07b5ab98e7cdcf18df39355690ab7d3884␟8586908745456864217:Previous month`,"title",$localize`:@@ngb.datepicker.previous-month␟c3b08b07b5ab98e7cdcf18df39355690ab7d3884␟8586908745456864217:Previous month`],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["aria-label",$localize`:@@ngb.datepicker.next-month␟4bd046985cfe13040d5ef0cd881edce0968a111a␟3628374603023447227:Next month`,"title",$localize`:@@ngb.datepicker.next-month␟4bd046985cfe13040d5ef0cd881edce0968a111a␟3628374603023447227:Next month`],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(e,t){1&e&&(i.Sb(0,"div",0),i.Sb(1,"button",1),i.Yb(2,2),i.dc("click",function(e){return t.onClickPrev(e)}),i.Nb(3,"span",3),i.Rb(),i.Rb(),i.Fc(4,De,1,4,"ngb-datepicker-navigation-select",4),i.Fc(5,Fe,1,1,void 0,5),i.Sb(6,"div",6),i.Sb(7,"button",1),i.Yb(8,7),i.dc("click",function(e){return t.onClickNext(e)}),i.Nb(9,"span",3),i.Rb(),i.Rb()),2&e&&(i.zb(1),i.nc("disabled",t.prevDisabled),i.zb(3),i.nc("ngIf",t.showSelect),i.zb(1),i.nc("ngIf",!t.showSelect),i.zb(2),i.nc("disabled",t.nextDisabled))},directives:function(){return[r.u,En,r.t]},styles:["ngb-datepicker-navigation{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;-webkit-transform:rotate(-135deg);transform:rotate(-135deg)}.right .ngb-dp-navigation-chevron{-webkit-transform:rotate(45deg);transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{-ms-flex-pack:end;justify-content:flex-end}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:-ms-flexbox;display:flex;-ms-flex:1 1 9rem;flex:1 1 9rem}"],encapsulation:2,changeDetection:0}),e})();const nn=(e,t)=>!!t&&t.some(t=>t.contains(e)),rn=(e,t)=>!t||null!=function(e,t){return t?void 0===e.closest?null:e.closest(t):null}(e,t),sn="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function an(e,t,o,n,i,r,s,a){var l;o&&e.runOutsideAngular((l=()=>{const l=Object(v.a)(t,"keydown").pipe(T(i),Object(N.a)(e=>e.which===Jo.Escape),Object(I.a)(e=>e.preventDefault())),u=Object(v.a)(t,"mousedown").pipe(Object(S.a)(e=>{const t=e.target;return 2!==e.button&&!nn(t,s)&&("inside"===o?nn(t,r)&&rn(t,a):"outside"===o?!nn(t,r):rn(t,a)||!nn(t,r))}),T(i)),c=Object(v.a)(t,"mouseup").pipe(M(u),Object(N.a)(([e,t])=>t),j(0),T(i));(function(...e){if(1===e.length){if(!Object(d.a)(e[0]))return e[0];e=e[0]}return Object(b.a)(e,void 0).lift(new R)})([l.pipe(Object(S.a)(e=>0)),c.pipe(Object(S.a)(e=>1))]).subscribe(t=>e.run(()=>n(t)))},sn?()=>setTimeout(()=>l(),100):l))}const ln=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function un(e){const t=Array.from(e.querySelectorAll(ln)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}const cn=(e,t,o,n=!1)=>{e.runOutsideAngular(()=>{const e=Object(v.a)(t,"focusin").pipe(T(o),Object(S.a)(e=>e.target));Object(v.a)(t,"keydown").pipe(T(o),Object(N.a)(e=>e.which===Jo.Tab),M(e)).subscribe(([e,o])=>{const[n,i]=un(t);o!==n&&o!==t||!e.shiftKey||(i.focus(),e.preventDefault()),o!==i||e.shiftKey||(n.focus(),e.preventDefault())}),n&&Object(v.a)(t,"click").pipe(T(o),M(e),Object(S.a)(e=>e[1])).subscribe(e=>e.focus())})},pn=/\s+/,dn=new class{getAllStyles(e){return window.getComputedStyle(e)}getStyle(e,t){return this.getAllStyles(e)[t]}isStaticPositioned(e){return"static"===(this.getStyle(e,"position")||"static")}offsetParent(e){let t=e.offsetParent||document.documentElement;for(;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}position(e,t=!0){let o,n={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))o=e.getBoundingClientRect(),o={top:o.top,bottom:o.bottom,left:o.left,right:o.right,height:o.height,width:o.width};else{const t=this.offsetParent(e);o=this.offset(e,!1),t!==document.documentElement&&(n=this.offset(t,!1)),n.top+=t.clientTop,n.left+=t.clientLeft}return o.top-=n.top,o.bottom-=n.top,o.left-=n.left,o.right-=n.left,t&&(o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}offset(e,t=!0){const o=e.getBoundingClientRect(),n=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let r={height:o.height||e.offsetHeight,width:o.width||e.offsetWidth,top:o.top+n,bottom:o.bottom+n,left:o.left+i,right:o.right+i};return t&&(r.height=Math.round(r.height),r.width=Math.round(r.width),r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r}positionElements(e,t,o,n){const[i="top",r="center"]=o.split("-"),s=n?this.offset(e,!1):this.position(e,!1),a=this.getAllStyles(t),l=parseFloat(a.marginTop),u=parseFloat(a.marginBottom),c=parseFloat(a.marginLeft),p=parseFloat(a.marginRight);let d=0,h=0;switch(i){case"top":d=s.top-(t.offsetHeight+l+u);break;case"bottom":d=s.top+s.height;break;case"left":h=s.left-(t.offsetWidth+c+p);break;case"right":h=s.left+s.width}switch(r){case"top":d=s.top;break;case"bottom":d=s.top+s.height-t.offsetHeight;break;case"left":h=s.left;break;case"right":h=s.left+s.width-t.offsetWidth;break;case"center":"top"===i||"bottom"===i?h=s.left+s.width/2-t.offsetWidth/2:d=s.top+s.height/2-t.offsetHeight/2}t.style.transform=`translate(${Math.round(h)}px, ${Math.round(d)}px)`;const f=t.getBoundingClientRect(),g=document.documentElement,m=window.innerHeight||g.clientHeight,y=window.innerWidth||g.clientWidth;return f.left>=0&&f.top>=0&&f.right<=y&&f.bottom<=m}};function hn(e,t,o,n,i){let r=Array.isArray(o)?o:o.split(pn);const s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=t.classList,l=e=>{const[t,o]=e.split("-"),n=[];return i&&(n.push(`${i}-${t}`),o&&n.push(`${i}-${t}-${o}`),n.forEach(e=>{a.add(e)})),n};i&&s.forEach(e=>{a.remove(`${i}-${e}`)});let u=r.findIndex(e=>"auto"===e);u>=0&&s.forEach(function(e){null==r.find(t=>-1!==t.search("^"+e))&&r.splice(u++,1,e)});const c=t.style;c.position="absolute",c.top="0",c.left="0",c["will-change"]="transform";let p=null,d=!1;for(p of r){let o=l(p);if(dn.positionElements(e,t,p,n)){d=!0;break}i&&o.forEach(e=>{a.remove(e)})}return d||(p=r[0],l(p),dn.positionElements(e,t,p,n)),p}function fn(){return new mn}let gn=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Ib)({factory:fn,token:e,providedIn:"root"}),e})(),mn=(()=>{let e=class extends gn{parse(e){if(null!=e){const t=e.trim().split("-");if(1===t.length&&Xt(t[0]))return{year:Yt(t[0]),month:null,day:null};if(2===t.length&&Xt(t[0])&&Xt(t[1]))return{year:Yt(t[0]),month:Yt(t[1]),day:null};if(3===t.length&&Xt(t[0])&&Xt(t[1])&&Xt(t[2]))return{year:Yt(t[0]),month:Yt(t[1]),day:Yt(t[2])}}return null}format(e){return e?`${e.year}-${Xt(e.month)?eo(e.month):""}-${Xt(e.day)?eo(e.day):""}`:""}};return e.\u0275fac=function(t){return hr(t||e)},e.\u0275prov=i.Ib({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),yn=(()=>{let e=class extends Ko{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"],this.restoreFocus=!0}};return e.\u0275fac=function(t){return fr(t||e)},e.\u0275prov=Object(i.Ib)({factory:function(){return new e},token:e,providedIn:"root"}),e})();const vn={provide:s.r,useExisting:Object(i.U)(()=>bn),multi:!0},Cn={provide:s.q,useExisting:Object(i.U)(()=>bn),multi:!0};let bn=(()=>{let e=class{constructor(e,t,o,n,r,s,a,l,u,c,p){this._parserFormatter=e,this._elRef=t,this._vcRef=o,this._renderer=n,this._cfr=r,this._ngZone=s,this._calendar=a,this._dateAdapter=l,this._document=u,this._changeDetector=c,this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this.dateSelect=new i.o,this.navigate=new i.o,this.closed=new i.o,this._onChange=e=>{},this._onTouched=()=>{},this._validatorChange=()=>{},["autoClose","container","positionTarget","placement"].forEach(e=>this[e]=p[e]),this._zoneSubscription=s.onStable.subscribe(()=>this._updatePopupPosition())}get disabled(){return this._disabled}set disabled(e){this._disabled=""===e||e&&"false"!==e,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}registerOnValidatorChange(e){this._validatorChange=e}setDisabledState(e){this.disabled=e}validate(e){const{value:t}=e;if(null!=t){const e=this._fromDateStruct(this._dateAdapter.fromModel(t));if(!e)return{ngbDate:{invalid:t}};if(this.minDate&&e.before(No.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:t}}};if(this.maxDate&&e.after(No.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:t}}}}return null}writeValue(e){this._model=this._fromDateStruct(this._dateAdapter.fromModel(e)),this._writeModelValue(this._model)}manualDateChange(e,t=!1){const o=e!==this._inputValue;o&&(this._inputValue=e,this._model=this._fromDateStruct(this._parserFormatter.parse(e))),!o&&t||this._onChange(this._model?this._dateAdapter.toModel(this._model):""===e?null:e),t&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){const e=this._cfr.resolveComponentFactory(Zo);this._cRef=this._vcRef.createComponent(e),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef.instance),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(e=>{this.writeValue(e),this._onChange(e),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,cn(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),this._cRef.instance.focus(),an(this._ngZone,this._document,this.autoClose,()=>this.close(),this.closed,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this.closed.emit(),this._changeDetector.markForCheck();let e=this._elWithFocus;Qt(this.restoreFocus)?e=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(e=this.restoreFocus),e&&e.focus?e.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(e){this.isOpen()&&this._cRef.instance.navigateTo(e)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(e){(e.minDate||e.maxDate)&&(this._validatorChange(),this.isOpen()&&(e.minDate&&(this._cRef.instance.minDate=this.minDate),e.maxDate&&(this._cRef.instance.maxDate=this.maxDate),this._cRef.instance.ngOnChanges(e)))}ngOnDestroy(){this.close(),this._zoneSubscription.unsubscribe()}_applyDatepickerInputs(e){["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekdays","showWeekNumbers"].forEach(t=>{void 0!==this[t]&&(e[t]=this[t])}),e.startDate=this.startDate||this._model}_applyPopupStyling(e){this._renderer.addClass(e,"dropdown-menu"),this._renderer.addClass(e,"show"),"body"===this.container&&this._renderer.addClass(e,"ngb-dp-body")}_subscribeForDatepickerOutputs(e){e.navigate.subscribe(e=>this.navigate.emit(e)),e.dateSelect.subscribe(e=>{this.dateSelect.emit(e),!0!==this.autoClose&&"inside"!==this.autoClose||this.close()})}_writeModelValue(e){const t=this._parserFormatter.format(e);this._inputValue=t,this._renderer.setProperty(this._elRef.nativeElement,"value",t),this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(e)),this._onTouched())}_fromDateStruct(e){const t=e?new No(e.year,e.month,e.day):null;return this._calendar.isValid(t)?t:null}_updatePopupPosition(){if(!this._cRef)return;let e;if(e=Qt(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this.positionTarget&&!e)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");hn(e,this._cRef.location.nativeElement,this.placement,"body"===this.container)}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(gn),i.Mb(i.m),i.Mb(i.Q),i.Mb(i.F),i.Mb(i.k),i.Mb(i.B),i.Mb(Lo),i.Mb(qo),i.Mb(r.e),i.Mb(i.i),i.Mb(yn))},e.\u0275dir=i.Hb({type:e,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(e,t){1&e&&i.dc("input",function(e){return t.manualDateChange(e.target.value)})("change",function(e){return t.manualDateChange(e.target.value,!0)})("focus",function(){return t.onFocus()})("blur",function(){return t.onBlur()}),2&e&&i.Vb("disabled",t.disabled)},inputs:{disabled:"disabled",autoClose:"autoClose",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",restoreFocus:"restoreFocus",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[i.yb([vn,Cn,{provide:Ko,useExisting:yn}]),i.xb]}),e=Object(n.b)([Object(n.c)(8,Object(i.r)(r.e))],e),e})(),wn=(()=>{let e=class{constructor(e){this.i18n=e}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(Bo))},e.\u0275cmp=i.Gb({type:e,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(e,t){2&e&&i.Eb("bg-primary",t.selected)("text-white",t.selected)("text-muted",t.isMuted())("outside",t.isMuted())("active",t.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:Ne,decls:1,vars:1,template:function(e,t){1&e&&i.Hc(0),2&e&&i.Ic(t.i18n.getDayNumerals(t.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:0 0}[ngbDatepickerDayView].outside{opacity:.5}"],encapsulation:2,changeDetection:0}),e})(),En=(()=>{let e=class{constructor(e,t){this.i18n=e,this._renderer=t,this.select=new i.o,this._month=-1,this._year=-1}changeMonth(e){this.select.emit(new No(this.date.year,Yt(e),1))}changeYear(e){this.select.emit(new No(Yt(e),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(Bo),i.Mb(i.F))},e.\u0275cmp=i.Gb({type:e,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(e,t){var o;1&e&&(i.Dc(xe,!0,i.m),i.Dc(Ie,!0,i.m)),2&e&&(i.uc(o=i.ec())&&(t.monthSelect=o.first),i.uc(o=i.ec())&&(t.yearSelect=o.first))},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:8,vars:4,consts:function(){return[[1,"custom-select",3,"disabled","change",6,"aria-label","title"],["month",""],["aria-label",$localize`:@@ngb.datepicker.select-month␟1dbc84807f35518112f62e5775d1daebd3d8462b␟2253869508135064750:Select month`,"title",$localize`:@@ngb.datepicker.select-month␟1dbc84807f35518112f62e5775d1daebd3d8462b␟2253869508135064750:Select month`],[3,"value",4,"ngFor","ngForOf"],["year",""],["aria-label",$localize`:@@ngb.datepicker.select-year␟8ceb09d002bf0c5d1cac171dfbffe1805d2b3962␟8852264961585484321:Select year`,"title",$localize`:@@ngb.datepicker.select-year␟8ceb09d002bf0c5d1cac171dfbffe1805d2b3962␟8852264961585484321:Select year`],[3,"value"]]},template:function(e,t){1&e&&(i.Sb(0,"select",0,1),i.Yb(2,2),i.dc("change",function(e){return t.changeMonth(e.target.value)}),i.Fc(3,Me,2,3,"option",3),i.Rb(),i.Sb(4,"select",0,4),i.Yb(6,5),i.dc("change",function(e){return t.changeYear(e.target.value)}),i.Fc(7,Le,2,2,"option",3),i.Rb()),2&e&&(i.nc("disabled",t.disabled),i.zb(3),i.nc("ngForOf",t.months),i.zb(1),i.nc("disabled",t.disabled),i.zb(3),i.nc("ngForOf",t.years))},directives:[r.t,s.x,s.G],styles:["ngb-datepicker-navigation-select>.custom-select{-ms-flex:1 1 auto;flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.custom-select:focus{z-index:1}ngb-datepicker-navigation-select>.custom-select::-ms-value{background-color:transparent!important}"],encapsulation:2,changeDetection:0}),e})();new Date(1882,10,12),new Date(2174,10,25);let Rn=(()=>{let e=class{};return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(t){return new(t||e)},imports:[[r.c,s.n]]}),e})(),_n=(()=>{let e=class{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Ib)({factory:function(){return new e},token:e,providedIn:"root"}),e})();var Sn;let On=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Hb({type:e,selectors:[["",8,"navbar"]]}),e})(),Dn=(()=>{let e=class{constructor(e){this.elementRef=e,this._disabled=!1}set disabled(e){this._disabled=""===e||!0===e}get disabled(){return this._disabled}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(i.m))},e.\u0275dir=i.Hb({type:e,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(e,t){2&e&&i.Eb("disabled",t.disabled)},inputs:{disabled:"disabled"}}),e})(),Pn=(()=>{let e=class{constructor(e,t){this.dropdown=e,this.placement="bottom",this.isOpen=!1,this.nativeElement=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(Object(i.U)(()=>Fn)),i.Mb(i.m))},e.\u0275dir=i.Hb({type:e,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(e,t,o){var n;1&e&&i.Fb(o,Dn,!1),2&e&&i.uc(n=i.ec())&&(t.menuItems=n)},hostVars:5,hostBindings:function(e,t){1&e&&i.dc("keydown.ArrowUp",function(e){return t.dropdown.onKeyDown(e)})("keydown.ArrowDown",function(e){return t.dropdown.onKeyDown(e)})("keydown.Home",function(e){return t.dropdown.onKeyDown(e)})("keydown.End",function(e){return t.dropdown.onKeyDown(e)})("keydown.Enter",function(e){return t.dropdown.onKeyDown(e)})("keydown.Space",function(e){return t.dropdown.onKeyDown(e)})("keydown.Tab",function(e){return t.dropdown.onKeyDown(e)})("keydown.Shift.Tab",function(e){return t.dropdown.onKeyDown(e)}),2&e&&(i.Ab("x-placement",t.placement),i.Eb("dropdown-menu",!0)("show",t.dropdown.isOpen()))}}),e=Object(n.b)([Object(n.c)(0,Object(i.r)(Object(i.U)(()=>Fn)))],e),e})(),Tn=(()=>{let e=class{constructor(e,t){this.dropdown=e,this.nativeElement=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(Object(i.U)(()=>Fn)),i.Mb(i.m))},e.\u0275dir=i.Hb({type:e,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,t){2&e&&i.Ab("aria-expanded",t.dropdown.isOpen())}}),e=Object(n.b)([Object(n.c)(0,Object(i.r)(Object(i.U)(()=>Fn)))],e),e})(),An=(()=>{let e=Sn=class extends Tn{constructor(e,t){super(e,t)}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(Object(i.U)(()=>Fn)),i.Mb(i.m))},e.\u0275dir=i.Hb({type:e,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,t){1&e&&i.dc("click",function(){return t.dropdown.toggle()})("keydown.ArrowUp",function(e){return t.dropdown.onKeyDown(e)})("keydown.ArrowDown",function(e){return t.dropdown.onKeyDown(e)})("keydown.Home",function(e){return t.dropdown.onKeyDown(e)})("keydown.End",function(e){return t.dropdown.onKeyDown(e)})("keydown.Tab",function(e){return t.dropdown.onKeyDown(e)})("keydown.Shift.Tab",function(e){return t.dropdown.onKeyDown(e)}),2&e&&i.Ab("aria-expanded",t.dropdown.isOpen())},features:[i.yb([{provide:Tn,useExisting:Object(i.U)(()=>Sn)}]),i.wb]}),e=Sn=Object(n.b)([Object(n.c)(0,Object(i.r)(Object(i.U)(()=>Fn)))],e),e})(),Fn=(()=>{let e=class{constructor(e,t,o,n,r,s,l){this._changeDetector=e,this._document=o,this._ngZone=n,this._elementRef=r,this._renderer=s,this._closed$=new a.a,this._bodyContainer=null,this._open=!1,this.openChange=new i.o,this.placement=t.placement,this.container=t.container,this.autoClose=t.autoClose,this.display=l?"static":"dynamic",this._zoneSubscription=n.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe(Object(x.a)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(e){e.container&&this._open&&this._applyContainer(this.container),e.placement&&!e.placement.isFirstChange&&this._applyPlacementClasses()}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}_setCloseHandlers(){an(this._ngZone,this._document,this.autoClose,e=>{this.close(),0===e&&this._anchor.nativeElement.focus()},this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(e){const t=e.which,o=this._getMenuElements();let n=-1,i=null;const r=this._isEventFromToggle(e);if(!r&&o.length&&o.forEach((t,o)=>{t.contains(e.target)&&(i=t),t===this._document.activeElement&&(n=o)}),t!==Jo.Space&&t!==Jo.Enter){if(t!==Jo.Tab){if(r||i){if(this.open(),o.length){switch(t){case Jo.ArrowDown:n=Math.min(n+1,o.length-1);break;case Jo.ArrowUp:if(this._isDropup()&&-1===n){n=o.length-1;break}n=Math.max(n-1,0);break;case Jo.Home:n=0;break;case Jo.End:n=o.length-1}o[n].focus()}e.preventDefault()}}else if(e.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===e.target)return void("body"!==this.container||e.shiftKey?e.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const t=this._menu.nativeElement.querySelectorAll(ln);e.shiftKey&&e.target===t[0]?(this._anchor.nativeElement.focus(),e.preventDefault()):e.shiftKey||e.target!==t[t.length-1]||(this._anchor.nativeElement.focus(),this.close())}else Object(v.a)(e.target,"focusout").pipe(Object(x.a)(1)).subscribe(({relatedTarget:e})=>{this._elementRef.nativeElement.contains(e)||this.close()})}}else!i||!0!==this.autoClose&&"inside"!==this.autoClose||Object(v.a)(i,"click").pipe(Object(x.a)(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(e){return this._anchor.nativeElement.contains(e.target)}_getMenuElements(){const e=this._menu;return null==e?[]:e.menuItems.filter(e=>!e.disabled).map(e=>e.elementRef.nativeElement)}_positionMenu(){const e=this._menu;this.isOpen()&&e&&this._applyPlacementClasses("dynamic"===this.display?hn(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(e){return Array.isArray(e)?e[0]:e.split(" ")[0]}_resetContainer(){const e=this._renderer;if(this._menu){const t=this._menu.nativeElement;e.appendChild(this._elementRef.nativeElement,t),e.removeStyle(t,"position"),e.removeStyle(t,"transform")}this._bodyContainer&&(e.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(e=null){if(this._resetContainer(),"body"===e){const e=this._renderer,t=this._menu.nativeElement,o=this._bodyContainer=this._bodyContainer||e.createElement("div");e.setStyle(o,"position","absolute"),e.setStyle(t,"position","static"),e.setStyle(o,"z-index","1050"),e.appendChild(o,t),e.appendChild(this._document.body,o)}}_applyPlacementClasses(e){const t=this._menu;if(t){e||(e=this._getFirstPlacement(this.placement));const o=this._renderer,n=this._elementRef.nativeElement;o.removeClass(n,"dropup"),o.removeClass(n,"dropdown"),t.placement="static"===this.display?null:e;const i=-1!==e.search("^top")?"dropup":"dropdown";o.addClass(n,i);const r=this._bodyContainer;r&&(o.removeClass(r,"dropup"),o.removeClass(r,"dropdown"),o.addClass(r,i))}}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(i.i),i.Mb(_n),i.Mb(r.e),i.Mb(i.B),i.Mb(i.m),i.Mb(i.F),i.Mb(On,8))},e.\u0275dir=i.Hb({type:e,selectors:[["","ngbDropdown",""]],contentQueries:function(e,t,o){var n;1&e&&(i.Fb(o,Pn,!0),i.Fb(o,Tn,!0)),2&e&&(i.uc(n=i.ec())&&(t._menu=n.first),i.uc(n=i.ec())&&(t._anchor=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&i.Eb("show",t.isOpen())},inputs:{_open:["open","_open"],placement:"placement",container:"container",autoClose:"autoClose",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[i.xb]}),e=Object(n.b)([Object(n.c)(2,Object(i.r)(r.e)),Object(n.c)(6,Object(i.C)())],e),e})(),Nn=(()=>{let e=class{};return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(t){return new(t||e)}}),e})(),xn=(()=>{let e=class{constructor(){this.backdrop=!0,this.keyboard=!0}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Ib)({factory:function(){return new e},token:e,providedIn:"root"}),e})();class In{constructor(e,t,o){this.nodes=e,this.viewRef=t,this.componentRef=o}}class Mn{constructor(e,t,o,n,i,r){this._type=e,this._injector=t,this._viewContainerRef=o,this._renderer=n,this._componentFactoryResolver=i,this._applicationRef=r,this._windowRef=null,this._contentRef=null}open(e,t){return this._windowRef||(this._contentRef=this._getContentRef(e,t),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),this._viewContainerRef.length,this._injector,this._contentRef.nodes)),this._windowRef}close(){var e;this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null,(null===(e=this._contentRef)||void 0===e?void 0:e.viewRef)&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null))}_getContentRef(e,t){if(e){if(e instanceof i.M){const o=e.createEmbeddedView(t);return this._applicationRef.attachView(o),new In([o.rootNodes],o)}return new In([[this._renderer.createText(""+e)]])}return new In([])}}const Ln=()=>{};let Gn=(()=>{let e=class{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):Ln}_adjustBody(e){const t=this._document.body,o=t.style.paddingRight,n=parseFloat(window.getComputedStyle(t)["padding-right"]);return t.style["padding-right"]=n+e+"px",()=>t.style["padding-right"]=o}_isPresent(e){const t=this._document.body.getBoundingClientRect();return window.innerWidth-(t.left+t.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const t=this._document.body;t.appendChild(e);const o=e.getBoundingClientRect().width-e.clientWidth;return t.removeChild(e),o}};return e.\u0275fac=function(t){return new(t||e)(i.ac(r.e))},e.\u0275prov=Object(i.Ib)({factory:function(){return new e(Object(i.ac)(r.e))},token:e,providedIn:"root"}),e=Object(n.b)([Object(n.c)(0,Object(i.r)(r.e))],e),e})(),kn=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Gb({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:2,hostBindings:function(e,t){2&e&&i.Bb("modal-backdrop fade show"+(t.backdropClass?" "+t.backdropClass:""))},inputs:{backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();class Vn{close(e){}dismiss(e){}}class Hn{constructor(e,t,o,n){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=o,this._beforeDismiss=n,e.instance.dismissEvent.subscribe(e=>{this.dismiss(e)}),this.result=new Promise((e,t)=>{this._resolve=e,this._reject=t}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}close(e){this._windowCmptRef&&(this._resolve(e),this._removeModalElements())}_dismiss(e){this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();t&&t.then?t.then(t=>{!1!==t&&this._dismiss(e)},()=>{}):!1!==t&&this._dismiss(e)}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.location.nativeElement;if(e.parentNode.removeChild(e),this._windowCmptRef.destroy(),this._backdropCmptRef){const e=this._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}}var Wn=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}({});let Bn=(()=>{let e=class{constructor(e,t,o){this._document=e,this._elRef=t,this._zone=o,this._closed$=new a.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new i.o}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){const{nativeElement:e}=this._elRef;if(this._zone.runOutsideAngular(()=>{Object(v.a)(e,"keydown").pipe(T(this._closed$),Object(N.a)(e=>e.which===Jo.Escape&&this.keyboard)).subscribe(e=>requestAnimationFrame(()=>{e.defaultPrevented||this._zone.run(()=>this.dismiss(Wn.ESC))}));let t=!1;Object(v.a)(this._dialogEl.nativeElement,"mousedown").pipe(T(this._closed$),Object(I.a)(()=>t=!1),Object(P.a)(()=>Object(v.a)(e,"mouseup").pipe(T(this._closed$),Object(x.a)(1))),Object(N.a)(({target:t})=>e===t)).subscribe(()=>{t=!0}),Object(v.a)(e,"click").pipe(T(this._closed$)).subscribe(({target:o})=>{!0!==this.backdrop||e!==o||t||this._zone.run(()=>this.dismiss(Wn.BACKDROP_CLICK)),t=!1})}),!e.contains(document.activeElement)){const t=e.querySelector("[ngbAutofocus]"),o=un(e)[0];(t||o||e).focus()}}ngOnDestroy(){const e=this._document.body,t=this._elWithFocus;let o;o=t&&t.focus&&e.contains(t)?t:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null}),this._closed$.next()}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(r.e),i.Mb(i.m),i.Mb(i.B))},e.\u0275cmp=i.Gb({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(e,t){var o;1&e&&i.Dc(Ge,!0),2&e&&i.uc(o=i.ec())&&(t._dialogEl=o.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:5,hostBindings:function(e,t){2&e&&(i.Ab("aria-modal",!0)("aria-labelledby",t.ariaLabelledBy)("aria-describedby",t.ariaDescribedBy),i.Bb("modal fade show d-block"+(t.windowClass?" "+t.windowClass:"")))},inputs:{backdrop:"backdrop",keyboard:"keyboard",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:oe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,t){1&e&&(i.mc(),i.Sb(0,"div",0,1),i.Sb(2,"div",2),i.lc(3),i.Rb(),i.Rb()),2&e&&i.Bb("modal-dialog"+(t.size?" modal-"+t.size:"")+(t.centered?" modal-dialog-centered":"")+(t.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],encapsulation:2}),e=Object(n.b)([Object(n.c)(0,Object(i.r)(r.e))],e),e})(),jn=(()=>{let e=class{constructor(e,t,o,n,r,s){this._applicationRef=e,this._injector=t,this._document=o,this._scrollBar=n,this._rendererFactory=r,this._ngZone=s,this._activeWindowCmptHasChanged=new a.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new i.o,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const e=this._windowCmpts[this._windowCmpts.length-1];cn(this._ngZone,e.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(e.location.nativeElement)}})}open(e,t,o,n){const i=n.container instanceof HTMLElement?n.container:Jt(n.container)?this._document.querySelector(n.container):this._document.body,r=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(r.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${n.container||"body"}" was not found in the DOM.`);const l=new Vn,u=this._getContentRef(e,n.injector||t,o,l,n);let c=!1!==n.backdrop?this._attachBackdrop(e,i):void 0,p=this._attachWindowComponent(e,i,u),d=new Hn(p,u,c,n.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(p),d.result.then(s,s),d.result.then(a,a),l.close=e=>{d.close(e)},l.dismiss=e=>{d.dismiss(e)},this._applyWindowOptions(p.instance,n),1===this._modalRefs.length&&r.addClass(this._document.body,"modal-open"),c&&c.instance&&this._applyBackdropOptions(c.instance,n),d}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(t=>t.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,t){let o=e.resolveComponentFactory(kn).create(this._injector);return this._applicationRef.attachView(o.hostView),t.appendChild(o.location.nativeElement),o}_attachWindowComponent(e,t,o){let n=e.resolveComponentFactory(Bn).create(this._injector,o.nodes);return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}_applyWindowOptions(e,t){this._windowAttributes.forEach(o=>{Jt(t[o])&&(e[o]=t[o])})}_applyBackdropOptions(e,t){this._backdropAttributes.forEach(o=>{Jt(t[o])&&(e[o]=t[o])})}_getContentRef(e,t,o,n,r){return o?o instanceof i.M?this._createFromTemplateRef(o,n):Qt(o)?this._createFromString(o):this._createFromComponent(e,t,o,n,r):new In([])}_createFromTemplateRef(e,t){const o=e.createEmbeddedView({$implicit:t,close(e){t.close(e)},dismiss(e){t.dismiss(e)}});return this._applicationRef.attachView(o),new In([o.rootNodes],o)}_createFromString(e){const t=this._document.createTextNode(""+e);return new In([[t]])}_createFromComponent(e,t,o,n,r){const s=e.resolveComponentFactory(o),a=i.t.create({providers:[{provide:Vn,useValue:n}],parent:t}),l=s.create(a),u=l.location.nativeElement;return r.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new In([[u]],l.hostView,l)}_setAriaHidden(e){const t=e.parentElement;t&&e!==this._document.body&&(Array.from(t.children).forEach(t=>{t!==e&&"SCRIPT"!==t.nodeName&&(this._ariaHiddenValues.set(t,t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))}),this._setAriaHidden(t))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const t=()=>{const t=this._modalRefs.indexOf(e);t>-1&&(this._modalRefs.splice(t,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(t,t)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const t=this._windowCmpts.indexOf(e);t>-1&&(this._windowCmpts.splice(t,1),this._activeWindowCmptHasChanged.next())})}};return e.\u0275fac=function(t){return new(t||e)(i.ac(i.g),i.ac(i.t),i.ac(r.e),i.ac(Gn),i.ac(i.G),i.ac(i.B))},e.\u0275prov=Object(i.Ib)({factory:function(){return new e(Object(i.ac)(i.g),Object(i.ac)(i.q),Object(i.ac)(r.e),Object(i.ac)(Gn),Object(i.ac)(i.G),Object(i.ac)(i.B))},token:e,providedIn:"root"}),e=Object(n.b)([Object(n.c)(2,Object(i.r)(r.e))],e),e})(),Un=(()=>{let e=class{constructor(e,t,o,n){this._moduleCFR=e,this._injector=t,this._modalStack=o,this._config=n}open(e,t={}){const o=Object.assign({},this._config,t);return this._modalStack.open(this._moduleCFR,this._injector,e,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}};return e.\u0275fac=function(t){return new(t||e)(i.ac(i.k),i.ac(i.t),i.ac(jn),i.ac(xn))},e.\u0275prov=Object(i.Ib)({factory:function(){return new e(Object(i.ac)(i.k),Object(i.ac)(i.q),Object(i.ac)(jn),Object(i.ac)(xn))},token:e,providedIn:"root"}),e})(),zn=(()=>{let e=class{};return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(t){return new(t||e)},providers:[Un]}),e})(),Kn=(()=>{let e=class{constructor(){this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Ib)({factory:function(){return new e},token:e,providedIn:"root"}),e})();const Yn=e=>Jt(e)&&""!==e;let qn=0,$n=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(i.M))},e.\u0275dir=i.Hb({type:e,selectors:[["ng-template","ngbNavContent",""]]}),e})(),Qn=(()=>{let e=class{constructor(e,t){this.elementRef=t,this.disabled=!1,this._nav=e}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){Jt(this.domId)||(this.domId="ngb-nav-"+qn++)}get active(){return this._nav.activeId===this.id}get id(){return Yn(this._id)?this._id:this.domId}get panelDomId(){return this.domId+"-panel"}isPanelInDom(){return(Jt(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(Object(i.U)(()=>Xn)),i.Mb(i.m))},e.\u0275dir=i.Hb({type:e,selectors:[["","ngbNavItem",""]],contentQueries:function(e,t,o){var n;1&e&&i.Fb(o,$n,!1),2&e&&i.uc(n=i.ec())&&(t.contentTpls=n)},hostVars:2,hostBindings:function(e,t){2&e&&i.Eb("nav-item",!0)},inputs:{disabled:"disabled",domId:"domId",destroyOnHide:"destroyOnHide",_id:["ngbNavItem","_id"]},exportAs:["ngbNavItem"]}),e=Object(n.b)([Object(n.c)(0,Object(i.r)(Object(i.U)(()=>Xn)))],e),e})(),Xn=(()=>{let e=class{constructor(e,t,o,n){this.role=e,this._cd=o,this._document=n,this.activeIdChange=new i.o,this.navChange=new i.o,this.destroyOnHide=t.destroyOnHide,this.orientation=t.orientation,this.roles=t.roles,this.keyboard=t.keyboard}click(e){e.disabled||this._updateActiveId(e.id)}onKeyDown(e){if("tablist"!==this.roles||!this.keyboard)return;const t=e.which,o=this.links.filter(e=>!e.navItem.disabled),{length:n}=o;let i=-1;if(o.forEach((e,t)=>{e.elRef.nativeElement===this._document.activeElement&&(i=t)}),n){switch(t){case Jo.ArrowLeft:if("vertical"===this.orientation)return;i=(i-1+n)%n;break;case Jo.ArrowRight:if("vertical"===this.orientation)return;i=(i+1)%n;break;case Jo.ArrowDown:if("horizontal"===this.orientation)return;i=(i+1)%n;break;case Jo.ArrowUp:if("horizontal"===this.orientation)return;i=(i-1+n)%n;break;case Jo.Home:i=0;break;case Jo.End:i=n-1}"changeWithArrows"===this.keyboard&&this.select(o[i].navItem.id),o[i].elRef.nativeElement.focus(),e.preventDefault()}}select(e){this._updateActiveId(e,!1)}ngAfterContentInit(){if(!Jt(this.activeId)){const e=this.items.first?this.items.first.id:null;Yn(e)&&(this._updateActiveId(e,!1),this._cd.detectChanges())}}_updateActiveId(e,t=!0){if(this.activeId!==e){let o=!1;t&&this.navChange.emit({activeId:this.activeId,nextId:e,preventDefault:()=>{o=!0}}),o||(this.activeId=e,this.activeIdChange.emit(e))}}};return e.\u0275fac=function(t){return new(t||e)(i.bc("role"),i.Mb(Kn),i.Mb(i.i),i.Mb(r.e))},e.\u0275dir=i.Hb({type:e,selectors:[["","ngbNav",""]],contentQueries:function(e,t,o){var n;1&e&&(i.Fb(o,Qn,!1),i.Fb(o,Zn,!0)),2&e&&(i.uc(n=i.ec())&&(t.items=n),i.uc(n=i.ec())&&(t.links=n))},hostVars:6,hostBindings:function(e,t){1&e&&i.dc("keydown.arrowLeft",function(e){return t.onKeyDown(e)})("keydown.arrowRight",function(e){return t.onKeyDown(e)})("keydown.arrowDown",function(e){return t.onKeyDown(e)})("keydown.arrowUp",function(e){return t.onKeyDown(e)})("keydown.Home",function(e){return t.onKeyDown(e)})("keydown.End",function(e){return t.onKeyDown(e)}),2&e&&(i.Ab("aria-orientation","vertical"===t.orientation&&"tablist"===t.roles?"vertical":void 0)("role",t.role?t.role:t.roles?"tablist":void 0),i.Eb("nav",!0)("flex-column","vertical"===t.orientation))},inputs:{destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard",activeId:"activeId"},outputs:{activeIdChange:"activeIdChange",navChange:"navChange"},exportAs:["ngbNav"]}),e=Object(n.b)([Object(n.c)(0,Object(i.h)("role")),Object(n.c)(3,Object(i.r)(r.e))],e),e})(),Zn=(()=>{let e=class{constructor(e,t,o,n){this.role=e,this.navItem=t,this.nav=o,this.elRef=n}hasNavItemClass(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}};return e.\u0275fac=function(t){return new(t||e)(i.bc("role"),i.Mb(Qn),i.Mb(Xn),i.Mb(i.m))},e.\u0275dir=i.Hb({type:e,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostVars:14,hostBindings:function(e,t){1&e&&i.dc("click",function(e){return t.nav.click(t.navItem),e.preventDefault()}),2&e&&(i.Vb("id",t.navItem.domId),i.Ab("role",t.role?t.role:t.nav.roles?"tab":void 0)("tabindex",t.navItem.disabled?-1:void 0)("aria-controls",t.navItem.isPanelInDom()?t.navItem.panelDomId:null)("aria-selected",t.navItem.active)("aria-disabled",t.navItem.disabled),i.Eb("nav-link",!0)("nav-item",t.hasNavItemClass())("active",t.navItem.active)("disabled",t.navItem.disabled))}}),e=Object(n.b)([Object(n.c)(0,Object(i.h)("role"))],e),e})(),Jn=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Gb({type:e,selectors:[["","ngbNavOutlet",""]],hostVars:2,hostBindings:function(e,t){2&e&&i.Eb("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},attrs:ke,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["class","tab-pane",3,"id","active",4,"ngIf"],[1,"tab-pane",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&i.Fc(0,Be,1,1,"ng-template",0),2&e&&i.nc("ngForOf",t.nav.items)},directives:[r.t,r.u,r.B],encapsulation:2}),e})(),ei=(()=>{let e=class{};return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(t){return new(t||e)},imports:[[r.c]]}),e})(),ti=(()=>{let e=class{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Ib)({factory:function(){return new e},token:e,providedIn:"root"}),e})(),oi=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(i.M))},e.\u0275dir=i.Hb({type:e,selectors:[["ng-template","ngbPaginationEllipsis",""]]}),e})(),ni=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(i.M))},e.\u0275dir=i.Hb({type:e,selectors:[["ng-template","ngbPaginationFirst",""]]}),e})(),ii=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(i.M))},e.\u0275dir=i.Hb({type:e,selectors:[["ng-template","ngbPaginationLast",""]]}),e})(),ri=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(i.M))},e.\u0275dir=i.Hb({type:e,selectors:[["ng-template","ngbPaginationNext",""]]}),e})(),si=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(i.M))},e.\u0275dir=i.Hb({type:e,selectors:[["ng-template","ngbPaginationNumber",""]]}),e})(),ai=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(i.M))},e.\u0275dir=i.Hb({type:e,selectors:[["ng-template","ngbPaginationPrevious",""]]}),e})(),li=(()=>{let e=class{constructor(e){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new i.o(!0),this.disabled=e.disabled,this.boundaryLinks=e.boundaryLinks,this.directionLinks=e.directionLinks,this.ellipses=e.ellipses,this.maxSize=e.maxSize,this.pageSize=e.pageSize,this.rotate=e.rotate,this.size=e.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(e){this._updatePages(e)}ngOnChanges(e){this._updatePages(this.page)}isEllipsis(e){return-1===e}_applyEllipses(e,t){this.ellipses&&(e>0&&(e>2?this.pages.unshift(-1):2===e&&this.pages.unshift(2),this.pages.unshift(1)),t<this.pageCount&&(t<this.pageCount-2?this.pages.push(-1):t===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let e=0,t=this.pageCount,o=Math.floor(this.maxSize/2);return this.page<=o?t=this.maxSize:this.pageCount-this.page<o?e=this.pageCount-this.maxSize:(e=this.page-o-1,t=this.page+(this.maxSize%2==0?o-1:o)),[e,t]}_applyPagination(){let e=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[e,e+this.maxSize]}_setPageInRange(e){const t=this.page;this.page=$t(e,this.pageCount,1),this.page!==t&&Xt(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(e){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Xt(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let t=1;t<=this.pageCount;t++)this.pages.push(t);if(this._setPageInRange(e),this.maxSize>0&&this.pageCount>this.maxSize){let e=0,t=this.pageCount;[e,t]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(e,t),this._applyEllipses(e,t)}}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(ti))},e.\u0275cmp=i.Gb({type:e,selectors:[["ngb-pagination"]],contentQueries:function(e,t,o){var n;1&e&&(i.Fb(o,oi,!0),i.Fb(o,ni,!0),i.Fb(o,ii,!0),i.Fb(o,ri,!0),i.Fb(o,si,!0),i.Fb(o,ai,!0)),2&e&&(i.uc(n=i.ec())&&(t.tplEllipsis=n.first),i.uc(n=i.ec())&&(t.tplFirst=n.first),i.uc(n=i.ec())&&(t.tplLast=n.first),i.uc(n=i.ec())&&(t.tplNext=n.first),i.uc(n=i.ec())&&(t.tplNumber=n.first),i.uc(n=i.ec())&&(t.tplPrevious=n.first))},hostAttrs:["role","navigation"],inputs:{page:"page",disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",maxSize:"maxSize",pageSize:"pageSize",rotate:"rotate",size:"size",collectionSize:"collectionSize"},outputs:{pageChange:"pageChange"},features:[i.xb],decls:18,vars:7,consts:function(){return[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["class","page-item",3,"disabled",4,"ngIf"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],["aria-hidden","true"],$localize`:@@ngb.pagination.first␟656506dfd46380956a655f919f1498d018f75ca0␟6867721956102594380:««`,$localize`:@@ngb.pagination.previous␟6e52b6ee77a4848d899dd21b591c6fd499e3aef3␟6479320895410098858:«`,$localize`:@@ngb.pagination.next␟ba9cbb4ff311464308a3627e4f1c3345d9fe6d7d␟5458177150283468089:»`,$localize`:@@ngb.pagination.last␟49f27a460bc97e7e00be5b37098bfa79884fc7d9␟5277020320267646988:»»`,["class","sr-only",4,"ngIf"],[1,"sr-only"],[1,"page-item"],["href","",1,"page-link",3,"click",6,"aria-label"],["aria-label",$localize`:@@ngb.pagination.first-aria␟f2f852318759c6396b5d3d17031d53817d7b38cc␟2241508602425256033:First`],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-label",$localize`:@@ngb.pagination.previous-aria␟680d5c75b7fd8d37961083608b9fcdc4167b4c43␟4452427314943113135:Previous`],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",$localize`:@@ngb.pagination.next-aria␟f732c304c7433e5a83ffcd862c3dce709a0f4982␟3885497195825665706:Next`],["aria-label",$localize`:@@ngb.pagination.last-aria␟5c729788ba138508aca1bec050b610f7bf81db3e␟4882268002141858767:Last`]]},template:function(e,t){1&e&&(i.Fc(0,je,2,0,"ng-template",null,0,i.Gc),i.Fc(2,Ue,2,0,"ng-template",null,1,i.Gc),i.Fc(4,ze,2,0,"ng-template",null,2,i.Gc),i.Fc(6,Ke,2,0,"ng-template",null,3,i.Gc),i.Fc(8,Ye,1,0,"ng-template",null,4,i.Gc),i.Fc(10,$e,2,2,"ng-template",null,5,i.Gc),i.Sb(12,"ul"),i.Fc(13,Ze,4,9,"li",6),i.Fc(14,tt,4,8,"li",6),i.Fc(15,lt,3,7,"li",7),i.Fc(16,ct,4,9,"li",6),i.Fc(17,dt,4,9,"li",6),i.Rb()),2&e&&(i.zb(12),i.Bb("pagination"+(t.size?" pagination-"+t.size:"")),i.zb(1),i.nc("ngIf",t.boundaryLinks),i.zb(1),i.nc("ngIf",t.directionLinks),i.zb(1),i.nc("ngForOf",t.pages),i.zb(1),i.nc("ngIf",t.directionLinks),i.zb(1),i.nc("ngIf",t.boundaryLinks))},directives:[r.u,r.t,r.B],encapsulation:2,changeDetection:0}),e})(),ui=(()=>{let e=class{};return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(t){return new(t||e)},imports:[[r.c]]}),e})();class ci{constructor(e,t){this.open=e,this.close=t,t||(this.close=e)}isManual(){return"manual"===this.open||"manual"===this.close}}const pi={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},di=e=>e>0?j(e):e=>e;function hi(e,t,o,n,i,r,s=0,a=0){const l=function(e,t=pi){const o=(e||"").trim();if(0===o.length)return[];const n=o.split(/\s+/).map(e=>e.split(":")).map(e=>{let o=t[e[0]]||e;return new ci(o[0],o[1])}),i=n.filter(e=>e.isManual());if(i.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===i.length&&n.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return n}(o);if(1===l.length&&l[0].isManual())return()=>{};const u=function(e,t,o,n){return new c.a(i=>{const r=[],s=()=>i.next(!0),a=()=>i.next(!1),l=()=>i.next(!n());return o.forEach(o=>{o.open===o.close?r.push(e.listen(t,o.open,l)):r.push(e.listen(t,o.open,s),e.listen(t,o.close,a))}),()=>{r.forEach(e=>e())}})}(e,t,l,n).pipe(function(e,t,o){return n=>{let i=null;const r=n.pipe(Object(S.a)(e=>({open:e})),Object(N.a)(e=>{const t=o();return t===e.open||i&&i.open!==t?(i&&i.open!==e.open&&(i=null),!1):(i=e,!0)}),Object(Y.a)()),s=r.pipe(Object(N.a)(e=>e.open),di(e)),a=r.pipe(Object(N.a)(e=>!e.open),di(t));return Object(C.a)(s,a).pipe(Object(N.a)(e=>e===i&&(i=null,e.open!==o())),Object(S.a)(e=>e.open))}}(s,a,n)).subscribe(e=>e?i():r());return()=>u.unsubscribe()}let fi=(()=>{let e=class{constructor(){this.autoClose=!0,this.placement="auto",this.triggers="click",this.disablePopover=!1,this.openDelay=0,this.closeDelay=0}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Ib)({factory:function(){return new e},token:e,providedIn:"root"}),e})(),gi=0,mi=(()=>{let e=class{isTitleTemplate(){return this.title instanceof i.M}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Gb({type:e,selectors:[["ngb-popover-window"]],hostAttrs:["role","tooltip"],hostVars:3,hostBindings:function(e,t){2&e&&(i.Vb("id",t.id),i.Bb("popover"+(t.popoverClass?" "+t.popoverClass:"")))},inputs:{title:"title",id:"id",popoverClass:"popoverClass",context:"context"},ngContentSelectors:oe,decls:4,vars:1,consts:[[1,"arrow"],["class","popover-header",4,"ngIf"],[1,"popover-body"],[1,"popover-header"],["simpleTitle",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(i.mc(),i.Nb(0,"div",0),i.Fc(1,gt,4,2,"h3",1),i.Sb(2,"div",2),i.lc(3),i.Rb()),2&e&&(i.zb(1),i.nc("ngIf",null!=t.title))},directives:[r.u,r.B],styles:["ngb-popover-window.bs-popover-bottom>.arrow,ngb-popover-window.bs-popover-top>.arrow{left:50%;margin-left:-.5rem}ngb-popover-window.bs-popover-bottom-left>.arrow,ngb-popover-window.bs-popover-top-left>.arrow{left:2em}ngb-popover-window.bs-popover-bottom-right>.arrow,ngb-popover-window.bs-popover-top-right>.arrow{left:auto;right:2em}ngb-popover-window.bs-popover-left>.arrow,ngb-popover-window.bs-popover-right>.arrow{top:50%;margin-top:-.5rem}ngb-popover-window.bs-popover-left-top>.arrow,ngb-popover-window.bs-popover-right-top>.arrow{top:.7em}ngb-popover-window.bs-popover-left-bottom>.arrow,ngb-popover-window.bs-popover-right-bottom>.arrow{top:auto;bottom:.7em}"],encapsulation:2,changeDetection:0}),e})(),yi=(()=>{let e=class{constructor(e,t,o,n,r,s,a,l,u,c){this._elementRef=e,this._renderer=t,this._ngZone=a,this._document=l,this._changeDetector=u,this.shown=new i.o,this.hidden=new i.o,this._ngbPopoverWindowId="ngb-popover-"+gi++,this._windowRef=null,this.autoClose=s.autoClose,this.placement=s.placement,this.triggers=s.triggers,this.container=s.container,this.disablePopover=s.disablePopover,this.popoverClass=s.popoverClass,this.openDelay=s.openDelay,this.closeDelay=s.closeDelay,this._popupService=new Mn(mi,o,r,t,n,c),this._zoneSubscription=a.onStable.subscribe(()=>{this._windowRef&&hn(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container,"bs-popover")})}_isDisabled(){return!!this.disablePopover||!this.ngbPopover&&!this.popoverTitle}open(e){this._windowRef||this._isDisabled()||(this._windowRef=this._popupService.open(this.ngbPopover,e),this._windowRef.instance.title=this.popoverTitle,this._windowRef.instance.context=e,this._windowRef.instance.popoverClass=this.popoverClass,this._windowRef.instance.id=this._ngbPopoverWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbPopoverWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),an(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),this.shown.emit())}close(){this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(),this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck())}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=hi(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({ngbPopover:e,popoverTitle:t,disablePopover:o,popoverClass:n}){n&&this.isOpen()&&(this._windowRef.instance.popoverClass=n.currentValue),(e||t||o)&&this._isDisabled()&&this.close()}ngOnDestroy(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(i.m),i.Mb(i.F),i.Mb(i.t),i.Mb(i.k),i.Mb(i.Q),i.Mb(fi),i.Mb(i.B),i.Mb(r.e),i.Mb(i.i),i.Mb(i.g))},e.\u0275dir=i.Hb({type:e,selectors:[["","ngbPopover",""]],inputs:{autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disablePopover:"disablePopover",popoverClass:"popoverClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbPopover:"ngbPopover",popoverTitle:"popoverTitle"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbPopover"],features:[i.xb]}),e=Object(n.b)([Object(n.c)(7,Object(i.r)(r.e))],e),e})(),vi=(()=>{let e=class{};return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(t){return new(t||e)},imports:[[r.c]]}),e})(),Ci=(()=>{let e=class{constructor(){this.max=100,this.animated=!1,this.striped=!1,this.showValue=!1}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Ib)({factory:function(){return new e},token:e,providedIn:"root"}),e})(),bi=(()=>{let e=class{constructor(e){this.value=0,this.max=e.max,this.animated=e.animated,this.striped=e.striped,this.textType=e.textType,this.type=e.type,this.showValue=e.showValue,this.height=e.height}set max(e){this._max=!Xt(e)||e<=0?100:e}get max(){return this._max}getValue(){return $t(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(Ci))},e.\u0275cmp=i.Gb({type:e,selectors:[["ngb-progressbar"]],inputs:{value:"value",max:"max",animated:"animated",striped:"striped",textType:"textType",type:"type",showValue:"showValue",height:"height"},ngContentSelectors:oe,decls:4,vars:13,consts:function(){return[[1,"progress"],["role","progressbar","aria-valuemin","0"],[4,"ngIf"],$localize`:@@ngb.progressbar.value␟f8e9a947b9db4252c0e9905765338712f2fd032f␟3720830768741091151:${"\ufffd0\ufffd"}:INTERPOLATION:`]},template:function(e,t){1&e&&(i.mc(),i.Sb(0,"div",0),i.Sb(1,"div",1),i.Fc(2,mt,3,3,"span",2),i.lc(3),i.Rb(),i.Rb()),2&e&&(i.Ec("height",t.height),i.zb(1),i.Db("progress-bar",t.type?" bg-"+t.type:"","",t.textType?" text-"+t.textType:"","\n      ",t.animated?" progress-bar-animated":"","",t.striped?" progress-bar-striped":"",""),i.Ec("width",t.getPercentValue(),"%"),i.Ab("aria-valuenow",t.getValue())("aria-valuemax",t.max),i.zb(1),i.nc("ngIf",t.showValue))},directives:[r.u],pipes:[r.D],encapsulation:2,changeDetection:0}),e})(),wi=(()=>{let e=class{};return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(t){return new(t||e)},imports:[[r.c]]}),e})(),Ei=(()=>{let e=class{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Ib)({factory:function(){return new e},token:e,providedIn:"root"}),e})();const Ri={provide:s.r,useExisting:Object(i.U)(()=>_i),multi:!0};let _i=(()=>{let e=class{constructor(e,t){this._changeDetectorRef=t,this.contexts=[],this.disabled=!1,this.hover=new i.o,this.leave=new i.o,this.rateChange=new i.o(!0),this.onChange=e=>{},this.onTouched=()=>{},this.max=e.max,this.readonly=e.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}enter(e){this.readonly||this.disabled||this._updateState(e),this.hover.emit(e)}handleBlur(){this.onTouched()}handleClick(e){this.readonly||this.disabled||this.update(this.resettable&&this.rate===e?0:e)}handleKeyDown(e){switch(e.which){case Jo.ArrowDown:case Jo.ArrowLeft:this.update(this.rate-1);break;case Jo.ArrowUp:case Jo.ArrowRight:this.update(this.rate+1);break;case Jo.Home:this.update(0);break;case Jo.End:this.update(this.max);break;default:return}e.preventDefault()}ngOnChanges(e){e.rate&&this.update(this.rate)}ngOnInit(){this.contexts=Array.from({length:this.max},(e,t)=>({fill:0,index:t})),this._updateState(this.rate)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(e){this.disabled=e}update(e,t=!0){const o=$t(e,this.max,0);this.readonly||this.disabled||this.rate===o||(this.rate=o,this.rateChange.emit(this.rate)),t&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(e){this.update(e,!1),this._changeDetectorRef.markForCheck()}_getFillValue(e){const t=this.nextRate-e;return t>=1?100:t<1&&t>0?parseInt((100*t).toFixed(2),10):0}_updateState(e){this.nextRate=e,this.contexts.forEach((e,t)=>e.fill=this._getFillValue(t))}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(Ei),i.Mb(i.i))},e.\u0275cmp=i.Gb({type:e,selectors:[["ngb-rating"]],contentQueries:function(e,t,o){var n;1&e&&i.Fb(o,i.M,!0),2&e&&i.uc(n=i.ec())&&(t.starTemplateFromContent=n.first)},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(e,t){1&e&&i.dc("blur",function(){return t.handleBlur()})("keydown",function(e){return t.handleKeyDown(e)})("mouseleave",function(){return t.reset()}),2&e&&(i.Vb("tabindex",t.disabled?-1:0),i.Ab("aria-valuemax",t.max)("aria-valuenow",t.nextRate)("aria-valuetext",t.ariaValueText())("aria-disabled",!!t.readonly||null))},inputs:{max:"max",readonly:"readonly",rate:"rate",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[i.yb([Ri]),i.xb],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"sr-only"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(i.Fc(0,yt,1,1,"ng-template",null,0,i.Gc),i.Fc(2,Ct,4,5,"ng-template",1)),2&e&&(i.zb(2),i.nc("ngForOf",t.contexts))},directives:[r.t,r.B],encapsulation:2,changeDetection:0}),e})(),Si=(()=>{let e=class{};return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(t){return new(t||e)},imports:[[r.c]]}),e})(),Oi=(()=>{let e=class{constructor(){this.justify="start",this.orientation="horizontal",this.type="tabs"}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Ib)({factory:function(){return new e},token:e,providedIn:"root"}),e})(),Di=0,Pi=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(i.M))},e.\u0275dir=i.Hb({type:e,selectors:[["ng-template","ngbTabTitle",""]]}),e})(),Ti=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(i.M))},e.\u0275dir=i.Hb({type:e,selectors:[["ng-template","ngbTabContent",""]]}),e})(),Ai=(()=>{let e=class{constructor(){this.id="ngb-tab-"+Di++,this.disabled=!1}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.contentTpl=this.contentTpls.first}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Hb({type:e,selectors:[["ngb-tab"]],contentQueries:function(e,t,o){var n;1&e&&(i.Fb(o,Pi,!1),i.Fb(o,Ti,!1)),2&e&&(i.uc(n=i.ec())&&(t.titleTpls=n),i.uc(n=i.ec())&&(t.contentTpls=n))},inputs:{id:"id",disabled:"disabled",title:"title"}}),e})(),Fi=(()=>{let e=class{constructor(e){this.destroyOnHide=!0,this.tabChange=new i.o,this.type=e.type,this.justify=e.justify,this.orientation=e.orientation}set justify(e){this.justifyClass="fill"===e||"justified"===e?"nav-"+e:"justify-content-"+e}select(e){let t=this._getTabById(e);if(t&&!t.disabled&&this.activeId!==t.id){let e=!1;this.tabChange.emit({activeId:this.activeId,nextId:t.id,preventDefault:()=>{e=!0}}),e||(this.activeId=t.id)}}ngAfterContentChecked(){let e=this._getTabById(this.activeId);this.activeId=e?e.id:this.tabs.length?this.tabs.first.id:null}_getTabById(e){let t=this.tabs.filter(t=>t.id===e);return t.length?t[0]:null}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(Oi))},e.\u0275cmp=i.Gb({type:e,selectors:[["ngb-tabset"]],contentQueries:function(e,t,o){var n;1&e&&i.Fb(o,Ai,!1),2&e&&i.uc(n=i.ec())&&(t.tabs=n)},inputs:{destroyOnHide:"destroyOnHide",type:"type",justify:"justify",orientation:"orientation",activeId:"activeId"},outputs:{tabChange:"tabChange"},exportAs:["ngbTabset"],decls:4,vars:4,consts:[["role","tablist"],["class","nav-item",4,"ngFor","ngForOf"],[1,"tab-content"],["ngFor","",3,"ngForOf"],[1,"nav-item"],["href","","role","tab",1,"nav-link",3,"id","click"],[3,"ngTemplateOutlet"],["role","tabpanel",3,"class","id",4,"ngIf"],["role","tabpanel",3,"id"]],template:function(e,t){1&e&&(i.Sb(0,"ul",0),i.Fc(1,wt,4,11,"li",1),i.Rb(),i.Sb(2,"div",2),i.Fc(3,_t,1,1,"ng-template",3),i.Rb()),2&e&&(i.Bb("nav nav-"+t.type+("horizontal"==t.orientation?" "+t.justifyClass:" flex-column")),i.zb(1),i.nc("ngForOf",t.tabs),i.zb(2),i.nc("ngForOf",t.tabs))},directives:[r.t,r.B,r.u],encapsulation:2}),e})(),Ni=(()=>{let e=class{};return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(t){return new(t||e)},imports:[[r.c]]}),e})();class xi{constructor(e,t,o){this.hour=Yt(e),this.minute=Yt(t),this.second=Yt(o)}changeHour(e=1){this.updateHour((isNaN(this.hour)?0:this.hour)+e)}updateHour(e){this.hour=Xt(e)?(e<0?24+e:e)%24:NaN}changeMinute(e=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+e)}updateMinute(e){Xt(e)?(this.minute=e%60<0?60+e%60:e%60,this.changeHour(Math.floor(e/60))):this.minute=NaN}changeSecond(e=1){this.updateSecond((isNaN(this.second)?0:this.second)+e)}updateSecond(e){Xt(e)?(this.second=e<0?60+e%60:e%60,this.changeMinute(Math.floor(e/60))):this.second=NaN}isValid(e=!0){return Xt(this.hour)&&Xt(this.minute)&&(!e||Xt(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let Ii=(()=>{let e=class{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Ib)({factory:function(){return new e},token:e,providedIn:"root"}),e})();function Mi(){return new Gi}let Li=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Ib)({factory:Mi,token:e,providedIn:"root"}),e})(),Gi=(()=>{let e=class extends Li{fromModel(e){return e&&Zt(e.hour)&&Zt(e.minute)?{hour:e.hour,minute:e.minute,second:Zt(e.second)?e.second:null}:null}toModel(e){return e&&Zt(e.hour)&&Zt(e.minute)?{hour:e.hour,minute:e.minute,second:Zt(e.second)?e.second:null}:null}};return e.\u0275fac=function(t){return gr(t||e)},e.\u0275prov=i.Ib({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),ki=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Ib)({factory:function(){return e=Object(i.ac)(i.w),new Vi(e);var e},token:e,providedIn:"root"}),e})(),Vi=(()=>{let e=class extends ki{constructor(e){super(),this._periods=Object(r.M)(e,r.h.Standalone,r.H.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}};return e.\u0275fac=function(t){return new(t||e)(i.ac(i.w))},e.\u0275prov=i.Ib({token:e,factory:function(t){return e.\u0275fac(t)}}),e=Object(n.b)([Object(n.c)(0,Object(i.r)(i.w))],e),e})();const Hi=/[^0-9]/g,Wi={provide:s.r,useExisting:Object(i.U)(()=>Bi),multi:!0};let Bi=(()=>{let e=class{constructor(e,t,o,n){this._config=e,this._ngbTimeAdapter=t,this._cd=o,this.i18n=n,this.onChange=e=>{},this.onTouched=()=>{},this.meridian=e.meridian,this.spinners=e.spinners,this.seconds=e.seconds,this.hourStep=e.hourStep,this.minuteStep=e.minuteStep,this.secondStep=e.secondStep,this.disabled=e.disabled,this.readonlyInputs=e.readonlyInputs,this.size=e.size}set hourStep(e){this._hourStep=Zt(e)?e:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(e){this._minuteStep=Zt(e)?e:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(e){this._secondStep=Zt(e)?e:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(e){const t=this._ngbTimeAdapter.fromModel(e);this.model=t?new xi(t.hour,t.minute,t.second):new xi,this.seconds||t&&Xt(t.second)||(this.model.second=0),this._cd.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}changeHour(e){this.model.changeHour(e),this.propagateModelChange()}changeMinute(e){this.model.changeMinute(e),this.propagateModelChange()}changeSecond(e){this.model.changeSecond(e),this.propagateModelChange()}updateHour(e){const t=this.model.hour>=12,o=Yt(e);this.model.updateHour(this.meridian&&(t&&o<12||!t&&12===o)?o+12:o),this.propagateModelChange()}updateMinute(e){this.model.updateMinute(Yt(e)),this.propagateModelChange()}updateSecond(e){this.model.updateSecond(Yt(e)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(e){e.value=e.value.replace(Hi,"")}formatHour(e){return Xt(e)?eo(this.meridian?e%12==0?12:e%12:e%24):eo(NaN)}formatMinSec(e){return eo(Xt(e)?e:NaN)}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(e){e.seconds&&!this.seconds&&this.model&&!Xt(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(e=!0){e&&this.onTouched(),this.model.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(Ii),i.Mb(Li),i.Mb(i.i),i.Mb(ki))},e.\u0275cmp=i.Gb({type:e,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},features:[i.yb([Wi]),i.xb],decls:18,vars:25,consts:function(){return[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric",1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","input","keydown.ArrowUp","keydown.ArrowDown",6,"placeholder","aria-label"],["placeholder",$localize`:@@ngb.timepicker.HH␟ce676ab1d6d98f85c836381cf100a4a91ef95a1f␟4043638465245303811:HH`,"aria-label",$localize`:@@ngb.timepicker.hours␟3bbce5fef7e1151da052a4e529453edb340e3912␟8070396816726827304:Hours`],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["placeholder",$localize`:@@ngb.timepicker.MM␟72c8edf6a50068a05bde70991e36b1e881f4ca54␟1647282246509919852:MM`,"aria-label",$localize`:@@ngb.timepicker.minutes␟41e62daa962947c0d23ded0981975d1bddf0bf38␟5531237363767747080:Minutes`],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"sr-only"],$localize`:@@ngb.timepicker.increment-hours␟cb74bc1d625a6c1742f0d7d47306cf495780c218␟5939278348542933629:Increment hours`,[1,"chevron","ngb-tp-chevron","bottom"],$localize`:@@ngb.timepicker.decrement-hours␟147c7a19429da7d999e247d22e33fee370b1691b␟3651829882940481818:Decrement hours`,$localize`:@@ngb.timepicker.increment-minutes␟f5a4a3bc05e053f6732475d0e74875ec01c3a348␟180147720391025024:Increment minutes`,$localize`:@@ngb.timepicker.decrement-minutes␟c1a6899e529c096da5b660385d4e77fe1f7ad271␟7447789825403243588:Decrement minutes`,[1,"ngb-tp-input-container","ngb-tp-second"],["placeholder",$localize`:@@ngb.timepicker.SS␟ebe38d36a40a2383c5fefa9b4608ffbda08bd4a3␟3628127143071124194:SS`,"aria-label",$localize`:@@ngb.timepicker.seconds␟4f2ed9e71a7c981db3e50ae2fedb28aff2ec4e6c␟8874012390997067175:Seconds`],$localize`:@@ngb.timepicker.increment-seconds␟912322ecee7d659d04dcf494a70e22e49d334b26␟5364772110539092174:Increment seconds`,$localize`:@@ngb.timepicker.decrement-seconds␟5db47ac104294243a70eb9124fbea9d0004ddf69␟753633511487974857:Decrement seconds`,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],$localize`:@@ngb.timepicker.PM␟8d6e691e10306c1b34c6b26805151aaea320ef7f␟3564199131264287502:${"\ufffd0\ufffd"}:INTERPOLATION:`,$localize`:@@ngb.timepicker.AM␟69a1f176a93998876952adac57c3bc3863b6105e␟4592818992509942761:${"\ufffd0\ufffd"}:INTERPOLATION:`]},template:function(e,t){1&e&&(i.Sb(0,"fieldset",0),i.Sb(1,"div",1),i.Sb(2,"div",2),i.Fc(3,St,4,7,"button",3),i.Sb(4,"input",4),i.Yb(5,5),i.dc("change",function(e){return t.updateHour(e.target.value)})("input",function(e){return t.formatInput(e.target)})("keydown.ArrowUp",function(e){return t.changeHour(t.hourStep),e.preventDefault()})("keydown.ArrowDown",function(e){return t.changeHour(-t.hourStep),e.preventDefault()}),i.Rb(),i.Fc(6,Ot,4,7,"button",3),i.Rb(),i.Sb(7,"div",6),i.Hc(8,":"),i.Rb(),i.Sb(9,"div",7),i.Fc(10,Dt,4,7,"button",3),i.Sb(11,"input",4),i.Yb(12,8),i.dc("change",function(e){return t.updateMinute(e.target.value)})("input",function(e){return t.formatInput(e.target)})("keydown.ArrowUp",function(e){return t.changeMinute(t.minuteStep),e.preventDefault()})("keydown.ArrowDown",function(e){return t.changeMinute(-t.minuteStep),e.preventDefault()}),i.Rb(),i.Fc(13,Pt,4,7,"button",3),i.Rb(),i.Fc(14,Tt,2,0,"div",9),i.Fc(15,Nt,5,9,"div",10),i.Fc(16,xt,1,0,"div",9),i.Fc(17,Lt,5,9,"div",11),i.Rb(),i.Rb()),2&e&&(i.Eb("disabled",t.disabled),i.nc("disabled",t.disabled),i.zb(3),i.nc("ngIf",t.spinners),i.zb(1),i.Eb("form-control-sm",t.isSmallSize)("form-control-lg",t.isLargeSize),i.nc("value",t.formatHour(null==t.model?null:t.model.hour))("readOnly",t.readonlyInputs)("disabled",t.disabled),i.zb(2),i.nc("ngIf",t.spinners),i.zb(4),i.nc("ngIf",t.spinners),i.zb(1),i.Eb("form-control-sm",t.isSmallSize)("form-control-lg",t.isLargeSize),i.nc("value",t.formatMinSec(null==t.model?null:t.model.minute))("readOnly",t.readonlyInputs)("disabled",t.disabled),i.zb(2),i.nc("ngIf",t.spinners),i.zb(1),i.nc("ngIf",t.seconds),i.zb(1),i.nc("ngIf",t.seconds),i.zb(1),i.nc("ngIf",t.meridian),i.zb(1),i.nc("ngIf",t.meridian))},directives:[r.u],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron::before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;-webkit-transform:rotate(135deg);transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-meridian,.ngb-tp-minute,.ngb-tp-second{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}'],encapsulation:2}),e})(),ji=(()=>{let e=class{};return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(t){return new(t||e)},imports:[[r.c]]}),e})(),Ui=(()=>{let e=class{constructor(){this.autohide=!0,this.delay=500,this.ariaLive="polite"}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Ib)({factory:function(){return new e},token:e,providedIn:"root"}),e})(),zi=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Hb({type:e,selectors:[["","ngbToastHeader",""]]}),e})(),Ki=(()=>{let e=class{constructor(e,t){this.ariaLive=e,this.contentHeaderTpl=null,this.hideOutput=new i.o,null==this.ariaLive&&(this.ariaLive=t.ariaLive),this.delay=t.delay,this.autohide=t.autohide}ngAfterContentInit(){this._init()}ngOnChanges(e){"autohide"in e&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout(),this.hideOutput.emit()}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}};return e.\u0275fac=function(t){return new(t||e)(i.bc("aria-live"),i.Mb(Ui))},e.\u0275cmp=i.Gb({type:e,selectors:[["ngb-toast"]],contentQueries:function(e,t,o){var n;1&e&&i.Cc(o,zi,!0,i.M),2&e&&i.uc(n=i.ec())&&(t.contentHeaderTpl=n.first)},hostAttrs:["role","alert","aria-atomic","true"],hostVars:5,hostBindings:function(e,t){2&e&&(i.Ab("aria-live",t.ariaLive),i.Eb("toast",!0)("show",!0))},inputs:{delay:"delay",autohide:"autohide",header:"header"},outputs:{hideOutput:"hide"},exportAs:["ngbToast"],features:[i.xb],ngContentSelectors:oe,decls:5,vars:1,consts:function(){return[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"mr-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button",1,"close",3,"click",6,"aria-label"],["aria-label",$localize`:@@ngb.toast.close-aria␟f4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c8␟7819314041543176992:Close`],["aria-hidden","true"]]},template:function(e,t){1&e&&(i.mc(),i.Fc(0,Gt,2,1,"ng-template",null,0,i.Gc),i.Fc(2,Vt,6,1,"ng-template",1),i.Sb(3,"div",2),i.lc(4),i.Rb()),2&e&&(i.zb(2),i.nc("ngIf",t.contentHeaderTpl||t.header))},directives:[r.u,r.B],styles:[".ngb-toasts{position:fixed;top:0;right:0;margin:.5em;z-index:1200}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}"],encapsulation:2}),e=Object(n.b)([Object(n.c)(0,Object(i.h)("aria-live"))],e),e})(),Yi=(()=>{let e=class{};return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(t){return new(t||e)},imports:[[r.c]]}),e})(),qi=(()=>{let e=class{constructor(){this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Ib)({factory:function(){return new e},token:e,providedIn:"root"}),e})(),$i=0,Qi=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Gb({type:e,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:3,hostBindings:function(e,t){2&e&&(i.Vb("id",t.id),i.Bb("tooltip show"+(t.tooltipClass?" "+t.tooltipClass:"")))},inputs:{id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:oe,decls:3,vars:0,consts:[[1,"arrow"],[1,"tooltip-inner"]],template:function(e,t){1&e&&(i.mc(),i.Nb(0,"div",0),i.Sb(1,"div",1),i.lc(2),i.Rb())},styles:["ngb-tooltip-window.bs-tooltip-bottom .arrow,ngb-tooltip-window.bs-tooltip-top .arrow{left:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-bottom-left .arrow,ngb-tooltip-window.bs-tooltip-top-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-bottom-right .arrow,ngb-tooltip-window.bs-tooltip-top-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{top:auto;bottom:.4rem}"],encapsulation:2,changeDetection:0}),e})(),Xi=(()=>{let e=class{constructor(e,t,o,n,r,s,a,l,u,c){this._elementRef=e,this._renderer=t,this._ngZone=a,this._document=l,this._changeDetector=u,this.shown=new i.o,this.hidden=new i.o,this._ngbTooltipWindowId="ngb-tooltip-"+$i++,this._windowRef=null,this.autoClose=s.autoClose,this.placement=s.placement,this.triggers=s.triggers,this.container=s.container,this.disableTooltip=s.disableTooltip,this.tooltipClass=s.tooltipClass,this.openDelay=s.openDelay,this.closeDelay=s.closeDelay,this._popupService=new Mn(Qi,o,r,t,n,c),this._zoneSubscription=a.onStable.subscribe(()=>{this._windowRef&&hn(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container,"bs-tooltip")})}set ngbTooltip(e){this._ngbTooltip=e,!e&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(e){this._windowRef||!this._ngbTooltip||this.disableTooltip||(this._windowRef=this._popupService.open(this._ngbTooltip,e),this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),an(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),this.shown.emit())}close(){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(),this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck())}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=hi(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:e}){e&&this.isOpen()&&(this._windowRef.instance.tooltipClass=e.currentValue)}ngOnDestroy(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(i.m),i.Mb(i.F),i.Mb(i.t),i.Mb(i.k),i.Mb(i.Q),i.Mb(qi),i.Mb(i.B),i.Mb(r.e),i.Mb(i.i),i.Mb(i.g))},e.\u0275dir=i.Hb({type:e,selectors:[["","ngbTooltip",""]],inputs:{autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[i.xb]}),e=Object(n.b)([Object(n.c)(7,Object(i.r)(r.e))],e),e})(),Zi=(()=>{let e=class{};return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(t){return new(t||e)}}),e})(),Ji=(()=>{let e=class{constructor(){this.highlightClass="ngb-highlight"}ngOnChanges(e){const t=qt(this.result),o=(Array.isArray(this.term)?this.term:[this.term]).map(e=>qt(e).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")).filter(e=>e);this.parts=o.length?t.split(new RegExp(`(${o.join("|")})`,"gmi")):[t]}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Gb({type:e,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term"},features:[i.xb],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(e,t){1&e&&i.Fc(0,Bt,3,2,"ng-template",0),2&e&&i.nc("ngForOf",t.parts)},directives:[r.t,r.u],styles:[".ngb-highlight{font-weight:700}"],encapsulation:2,changeDetection:0}),e})(),er=(()=>{let e=class{constructor(){this.activeIdx=0,this.focusFirst=!0,this.formatter=qt,this.selectEvent=new i.o,this.activeChangeEvent=new i.o}hasActive(){return this.activeIdx>-1&&this.activeIdx<this.results.length}getActive(){return this.results[this.activeIdx]}markActive(e){this.activeIdx=e,this._activeChanged()}next(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}prev(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}resetActive(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}select(e){this.selectEvent.emit(e)}ngOnInit(){this.resetActive()}_activeChanged(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Gb({type:e,selectors:[["ngb-typeahead-window"]],hostAttrs:["role","listbox",1,"dropdown-menu","show"],hostVars:1,hostBindings:function(e,t){1&e&&i.dc("mousedown",function(e){return e.preventDefault()}),2&e&&i.Vb("id",t.id)},inputs:{focusFirst:"focusFirst",formatter:"formatter",id:"id",results:"results",term:"term",resultTemplate:"resultTemplate"},outputs:{selectEvent:"select",activeChangeEvent:"activeChange"},exportAs:["ngbTypeaheadWindow"],decls:3,vars:1,consts:[["rt",""],["ngFor","",3,"ngForOf"],[3,"result","term"],["type","button","role","option",1,"dropdown-item",3,"id","mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(i.Fc(0,jt,1,2,"ng-template",null,0,i.Gc),i.Fc(2,Kt,2,9,"ng-template",1)),2&e&&(i.zb(2),i.nc("ngForOf",t.results))},directives:[r.t,Ji,r.B],encapsulation:2}),e})();const tr=new i.s("live announcer delay",{providedIn:"root",factory:function(){return 100}});function or(e,t=!1){let o=e.body.querySelector("#ngb-live");return null==o&&t&&(o=e.createElement("div"),o.setAttribute("id","ngb-live"),o.setAttribute("aria-live","polite"),o.setAttribute("aria-atomic","true"),o.classList.add("sr-only"),e.body.appendChild(o)),o}let nr=(()=>{let e=class{constructor(e,t){this._document=e,this._delay=t}ngOnDestroy(){const e=or(this._document);e&&e.parentElement.removeChild(e)}say(e){const t=or(this._document,!0),o=this._delay;if(null!=t){t.textContent="";const n=()=>t.textContent=e;null===o?n():setTimeout(n,o)}}};return e.\u0275fac=function(t){return new(t||e)(i.ac(r.e),i.ac(tr))},e.\u0275prov=Object(i.Ib)({factory:function(){return new e(Object(i.ac)(r.e),Object(i.ac)(tr))},token:e,providedIn:"root"}),e=Object(n.b)([Object(n.c)(0,Object(i.r)(r.e)),Object(n.c)(1,Object(i.r)(tr))],e),e})(),ir=(()=>{let e=class{constructor(){this.editable=!0,this.focusFirst=!0,this.showHint=!1,this.placement=["bottom-left","bottom-right","top-left","top-right"]}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Ib)({factory:function(){return new e},token:e,providedIn:"root"}),e})();const rr={provide:s.r,useExisting:Object(i.U)(()=>ar),multi:!0};let sr=0,ar=(()=>{let e=class{constructor(e,t,o,n,r,s,u,c,p,d,h,f){this._elementRef=e,this._renderer=o,this._live=c,this._document=p,this._ngZone=d,this._changeDetector=h,this._subscription=null,this._closed$=new a.a,this._inputValueBackup=null,this._windowRef=null,this.autocomplete="off",this.placement="bottom-left",this.selectItem=new i.o,this.activeDescendant=null,this.popupId="ngb-typeahead-"+sr++,this._onTouched=()=>{},this._onChange=e=>{},this.container=s.container,this.editable=s.editable,this.focusFirst=s.focusFirst,this.showHint=s.showHint,this.placement=s.placement,this._valueChanges=Object(v.a)(e.nativeElement,"input").pipe(Object(S.a)(e=>e.target.value)),this._resubscribeTypeahead=new l.a(null),this._popupService=new Mn(er,n,t,o,r,f),this._zoneSubscription=u.onStable.subscribe(()=>{this.isPopupOpen()&&hn(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container)})}ngOnInit(){const e=this._valueChanges.pipe(Object(I.a)(e=>{this._inputValueBackup=this.showHint?e:null,this._onChange(this.editable?e:void 0)})).pipe(this.ngbTypeahead),t=this._resubscribeTypeahead.pipe(Object(P.a)(()=>e));this._subscription=this._subscribeToUserInput(t)}ngOnDestroy(){this._closePopup(),this._unsubscribeFromUserInput(),this._zoneSubscription.unsubscribe()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}writeValue(e){this._writeInputValue(this._formatItemForInput(e)),this.showHint&&(this._inputValueBackup=e)}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}dismissPopup(){this.isPopupOpen()&&(this._resubscribeTypeahead.next(null),this._closePopup(),this.showHint&&null!==this._inputValueBackup&&this._writeInputValue(this._inputValueBackup),this._changeDetector.markForCheck())}isPopupOpen(){return null!=this._windowRef}handleBlur(){this._resubscribeTypeahead.next(null),this._onTouched()}handleKeyDown(e){if(this.isPopupOpen())switch(e.which){case Jo.ArrowDown:e.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case Jo.ArrowUp:e.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case Jo.Enter:case Jo.Tab:const t=this._windowRef.instance.getActive();Jt(t)&&(e.preventDefault(),e.stopPropagation(),this._selectResult(t)),this._closePopup()}}_openPopup(){this.isPopupOpen()||(this._inputValueBackup=this._elementRef.nativeElement.value,this._windowRef=this._popupService.open(),this._windowRef.instance.id=this.popupId,this._windowRef.instance.selectEvent.subscribe(e=>this._selectResultClosePopup(e)),this._windowRef.instance.activeChangeEvent.subscribe(e=>this.activeDescendant=e),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._changeDetector.markForCheck(),an(this._ngZone,this._document,"outside",()=>this.dismissPopup(),this._closed$,[this._elementRef.nativeElement,this._windowRef.location.nativeElement]))}_closePopup(){this._closed$.next(),this._popupService.close(),this._windowRef=null,this.activeDescendant=null}_selectResult(e){let t=!1;this.selectItem.emit({item:e,preventDefault:()=>{t=!0}}),this._resubscribeTypeahead.next(null),t||(this.writeValue(e),this._onChange(e))}_selectResultClosePopup(e){this._selectResult(e),this._closePopup()}_showHint(){var e;if(this.showHint&&(null===(e=this._windowRef)||void 0===e?void 0:e.instance.hasActive())&&null!=this._inputValueBackup){const e=this._inputValueBackup.toLowerCase(),t=this._formatItemForInput(this._windowRef.instance.getActive());e===t.substr(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+t.substr(this._inputValueBackup.length)),this._elementRef.nativeElement.setSelectionRange.apply(this._elementRef.nativeElement,[this._inputValueBackup.length,t.length])):this._writeInputValue(t)}}_formatItemForInput(e){return null!=e&&this.inputFormatter?this.inputFormatter(e):qt(e)}_writeInputValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",qt(e))}_subscribeToUserInput(e){return e.subscribe(e=>{e&&0!==e.length?(this._openPopup(),this._windowRef.instance.focusFirst=this.focusFirst,this._windowRef.instance.results=e,this._windowRef.instance.term=this._elementRef.nativeElement.value,this.resultFormatter&&(this._windowRef.instance.formatter=this.resultFormatter),this.resultTemplate&&(this._windowRef.instance.resultTemplate=this.resultTemplate),this._windowRef.instance.resetActive(),this._windowRef.changeDetectorRef.detectChanges(),this._showHint()):this._closePopup();const t=e?e.length:0;this._live.say(0===t?"No results available":`${t} result${1===t?"":"s"} available`)})}_unsubscribeFromUserInput(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null}};return e.\u0275fac=function(t){return new(t||e)(i.Mb(i.m),i.Mb(i.Q),i.Mb(i.F),i.Mb(i.t),i.Mb(i.k),i.Mb(ir),i.Mb(i.B),i.Mb(nr),i.Mb(r.e),i.Mb(i.B),i.Mb(i.i),i.Mb(i.g))},e.\u0275dir=i.Hb({type:e,selectors:[["input","ngbTypeahead",""]],hostAttrs:["autocapitalize","off","autocorrect","off","role","combobox","aria-multiline","false"],hostVars:7,hostBindings:function(e,t){1&e&&i.dc("blur",function(){return t.handleBlur()})("keydown",function(e){return t.handleKeyDown(e)}),2&e&&(i.Vb("autocomplete",t.autocomplete),i.Ab("aria-autocomplete",t.showHint?"both":"list")("aria-activedescendant",t.activeDescendant)("aria-owns",t.isPopupOpen()?t.popupId:null)("aria-expanded",t.isPopupOpen()),i.Eb("open",t.isPopupOpen()))},inputs:{autocomplete:"autocomplete",placement:"placement",container:"container",editable:"editable",focusFirst:"focusFirst",showHint:"showHint",inputFormatter:"inputFormatter",ngbTypeahead:"ngbTypeahead",resultFormatter:"resultFormatter",resultTemplate:"resultTemplate"},outputs:{selectItem:"selectItem"},exportAs:["ngbTypeahead"],features:[i.yb([rr])]}),e=Object(n.b)([Object(n.c)(8,Object(i.r)(r.e))],e),e})(),lr=(()=>{let e=class{};return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(t){return new(t||e)},imports:[[r.c]]}),e})();const ur=[co,fo,Eo,To,Fo,Rn,Nn,zn,ei,ui,vi,wi,Si,ji,Yi,Zi,lr,Ni];let cr=(()=>{let e=class{};return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(t){return new(t||e)},imports:[ur,co,fo,Eo,To,Fo,Rn,Nn,zn,ei,ui,vi,wi,Si,ji,Yi,Zi,lr,Ni]}),e})();const pr=i.Ub(Go),dr=i.Ub($o),hr=i.Ub(mn),fr=i.Ub(yn),gr=i.Ub(Gi)},"1sg0":function(e,t,o){"use strict";o.d(t,"a",function(){return p});var n=o("3Pt+"),i=o("quSY"),r=o("fXoL"),s=o("tk/3"),a=o("EFyh"),l=o("gA3Z"),u=o("ofXK");function c(e,t){if(1&e){const e=r.Tb();r.Sb(0,"form",4),r.Sb(1,"div",5),r.Sb(2,"label"),r.Hc(3," Schedule Maintenance Time: "),r.Rb(),r.Nb(4,"input",6),r.Rb(),r.Sb(5,"div",5),r.Sb(6,"label"),r.Hc(7," Expected Maintenance End Time: "),r.Rb(),r.Nb(8,"input",7),r.Rb(),r.Sb(9,"div",1),r.Sb(10,"button",8),r.dc("click",function(){return r.xc(e),r.gc().setMaintenanceTime()}),r.Hc(11," Schedule Maintenance "),r.Rb(),r.Sb(12,"button",9),r.dc("click",function(){return r.xc(e),r.gc().endMaintenance()}),r.Hc(13," End Maintenance "),r.Rb(),r.Rb(),r.Rb()}if(2&e){const e=r.gc();r.nc("formGroup",e.maintenanceInformation)}}let p=(()=>{class e{constructor(e,t,o){this.http=e,this.loginService=t,this.modalService=o,this.maintenanceInformation=new n.k({maintenanceScheduleDate:new n.h,maintenanceEndScheduleDate:new n.h}),this.showForm=!1,this.registered=!1,this.error=null,this.subscriptions=new i.a,this.maintenanceTime=null,this.maintenanceEndTime=null,this.submitButton=document.getElementById("submitButton"),this.endMaintenanceButton=document.getElementById("endMaintenanceButton")}showFormDisplay(){return this.showForm=!0,this.showForm}setMaintenanceTime(){this.maintenanceTime=this.maintenanceInformation.controls.maintenanceScheduleDate.value,this.maintenanceEndTime=this.maintenanceInformation.controls.maintenanceEndScheduleDate.value,null==this.maintenanceTime||null!==this.maintenanceEndTime&&this.maintenanceEndTime<this.maintenanceTime?console.log("Improper Format for the Maintenance Dates"):this.pushValuesToDatabase()}endMaintenance(){this.subscriptions.add(this.loginService.scheduleMaintenance(null,null).subscribe(e=>{e.affectedRows>0?this.resetValues():this.badData()},e=>{this.badData()}))}pushValuesToDatabase(){const e=this.formatDate(this.maintenanceTime);let t=null;null!=this.maintenanceEndTime&&(t=this.formatDate(this.maintenanceEndTime)),this.subscriptions.add(this.loginService.scheduleMaintenance(e,t).subscribe(e=>{e.affectedRows>0?this.resetValues():this.badData()},e=>{this.badData()}))}badData(){this.modalService.setModalContext("Was not able to update Database Error 407: check your input.")}resetValues(){null===this.maintenanceTime?(this.modalService.setModalContext("Maintenance has been ended"),this.loginService.setMaintValue(""),this.loginService.setMaintEndTimeValue(this.maintenanceEndTime+"")):(this.modalService.setModalContext("Maintenance has been scheduled at "+this.maintenanceTime),this.loginService.setMaintValue(this.maintenanceTime+""),this.loginService.setMaintEndTimeValue(null===this.maintenanceEndTime?"":this.maintenanceEndTime+""),this.maintenanceInformation.reset(),this.maintenanceTime=null,this.maintenanceEndTime=null)}formatDate(e){return null===e?null:e+""}resetSubscriptions(){this.subscriptions.unsubscribe()}ngOnInit(){}ngOnDestroy(){this.resetSubscriptions()}}return e.\u0275fac=function(t){return new(t||e)(r.Mb(s.b),r.Mb(a.a),r.Mb(l.a))},e.\u0275cmp=r.Gb({type:e,selectors:[["app-maintenance"]],decls:12,vars:1,consts:[[1,"flexContainer"],[1,"flexElement"],[1,"description"],["class","flexContainer",3,"formGroup",4,"ngIf"],[1,"flexContainer",3,"formGroup"],[1,"input-group","flexElement"],["formControlName","maintenanceScheduleDate","type","datetime-local","id","maintenanceScheduleDate","placeholder","MaintenanceScheduleDate"],["formControlName","maintenanceEndScheduleDate","type","datetime-local","id","maintenanceEndScheduleDate","placeholder","MaintenanceEndScheduleDate"],["type","submit","id","submitButton",1,"btn","btn-default",3,"click"],["type","submit","id","endMaintenanceButton",1,"btn","btn-default",3,"click"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"h3"),r.Sb(3,"b"),r.Sb(4,"strong"),r.Hc(5,"Schedule Maintenance"),r.Rb(),r.Rb(),r.Rb(),r.Sb(6,"div",2),r.Sb(7,"span",2),r.Hc(8,"Schedule time site is expected to begin and end maintenance."),r.Rb(),r.Rb(),r.Nb(9,"div"),r.Rb(),r.Sb(10,"div",1),r.Fc(11,c,14,1,"form",3),r.Rb(),r.Rb()),2&e&&(r.zb(11),r.nc("ngIf",t.showFormDisplay()))},directives:[u.u,n.H,n.t,n.l,n.c,n.s,n.j],styles:["label[_ngcontent-%COMP%]{min-width:225px}#maintenanceEndScheduleDate[_ngcontent-%COMP%], #maintenanceScheduleDate[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{align-content:flex-start}.description[_ngcontent-%COMP%]{align-content:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;-webkit-text-fill-color:#666}"]}),e})()},"2Aod":function(e,t,o){"use strict";o.d(t,"a",function(){return h});var n=o("3Pt+"),i=o("quSY"),r=o("fXoL"),s=o("tk/3"),a=o("Bx/L"),l=o("Wl7B"),u=o("gA3Z"),c=o("ofXK"),p=o("Ludi");function d(e,t){if(1&e&&(r.Sb(0,"option",17),r.Hc(1),r.Rb()),2&e){const e=t.$implicit;r.oc("value",null==e?null:e.username),r.zb(1),r.Jc(" ",null==e?null:e.username," ")}}let h=(()=>{class e{constructor(e,t,o,r){this.http=e,this.badgeService=t,this.gridService=o,this.modalService=r,this.badgeInformation=new n.k({badgeSerialNumber:new n.h,assignedUser:new n.h(""),activatedTime:new n.h(""),turnedInTime:new n.h(""),tempFahrenheit:new n.h(""),tempCelsius:new n.h(""),vaporsExposed:new n.h(""),humidity:new n.h(""),notes:new n.h("")}),this.users=null,this.badgeService.getUserList(),this.subscriptions=new i.a,this.constantSubscriptions=new i.a,this.badgeStatus=null,this.gridService.setGridType(8)}showSelectedBadgeData(){const e=this.gridService.getSelectedRow();e&&(e.activated_time&&this.badgeInformation.controls.activatedTime.setValue(e.activated_time.toString().replace(" ","T")),e.turned_in_time&&this.badgeInformation.controls.turnedInTime.setValue(e.turned_in_time.toString().replace(" ","T")),e.assigned_user&&this.badgeInformation.controls.assignedUser.setValue(e.assigned_user),e.badge_status&&(this.badgeStatus=e.badge_status),e.temperature_fahrenheit&&this.badgeInformation.controls.tempFahrenheit.setValue(e.temperature_fahrenheit),e.temperature_celsius&&this.badgeInformation.controls.tempCelsius.setValue(e.temperature_celsius),e.notes&&this.badgeInformation.controls.notes.setValue(e.notes),e.vapors_exposed&&this.badgeInformation.controls.vaporsExposed.setValue(e.vapors_exposed),e.relative_humidity&&this.badgeInformation.controls.humidity.setValue(e.relative_humidity),e.id&&(this.badgeId=e.id),e.badge_serial_number&&this.badgeInformation.controls.badgeSerialNumber.setValue(e.badge_serial_number))}checkBadgeData(){this.activatedTime=this.badgeInformation.controls.activatedTime.value,this.turnedInTime=this.badgeInformation.controls.turnedInTime.value,this.selectedUser=this.badgeInformation.controls.assignedUser.value,this.badgeSerialNumber=this.badgeInformation.controls.badgeSerialNumber.value,this.temperatureFahrenheit=this.badgeInformation.controls.tempFahrenheit.value,this.temperatureCelsius=this.badgeInformation.controls.tempCelsius.value,this.notes=this.badgeInformation.controls.notes.value,this.vaporsExposed=this.badgeInformation.controls.vaporsExposed.value,this.relativeHumidity=this.badgeInformation.controls.humidity.value,"null"===this.selectedUser&&(this.selectedUser=null),""===this.badgeInformation.controls.activatedTime.value&&(this.activatedTime=null),""===this.badgeInformation.controls.turnedInTime.value&&(this.turnedInTime=null),this.badgeSerialNumber&&""!==this.badgeSerialNumber?this.determineBadgeStatus()&&this.editBadge():this.modalService.setModalContext("Improper Format for the Badge Data")}determineBadgeStatus(){if(!this.badgeStatus){const e=this.gridService.getRows().some(e=>e.badge_serial_number===this.badgeSerialNumber)[0];if(!e)return!1;this.badgeStatus=e.badge_status}if(1===this.badgeStatus||2===this.badgeStatus||4===this.badgeStatus||!this.badgeStatus||7===this.badgeStatus)if(this.activatedTime&&this.turnedInTime)this.badgeStatus=4;else if(this.activatedTime&&!this.turnedInTime&&7===this.badgeStatus)this.badgeStatus=2;else if(this.activatedTime||this.turnedInTime||!this.selectedUser){if(this.activatedTime||this.turnedInTime||this.selectedUser)return this.modalService.setModalContext("Could not update badge, check your inputs and try again."),!1;this.badgeStatus=1}else this.badgeStatus=7;return!0}temperatureCelsiusCalculations(){if(this.temperatureCelsius=this.badgeInformation.controls.tempCelsius.value,this.temperatureFahrenheit=this.badgeInformation.controls.tempFahrenheit.value,this.temperatureCelsius&&""!==this.temperatureCelsius){let e=9*Number(this.temperatureCelsius)/5+32;e=Math.round(10*e)/10,this.temperatureFahrenheit!==e.toString()&&this.badgeInformation.controls.tempFahrenheit.setValue(e.toString())}else this.temperatureFahrenheit="",this.badgeInformation.controls.tempFahrenheit.setValue("")}temperatureFahrenheitCalculations(){if(this.temperatureCelsius=this.badgeInformation.controls.tempCelsius.value,this.temperatureFahrenheit=this.badgeInformation.controls.tempFahrenheit.value,this.temperatureFahrenheit&&""!==this.temperatureFahrenheit){let e=5*(Number(this.temperatureFahrenheit)-32)/9;e=Math.round(10*e)/10,this.temperatureCelsius!==e.toString()&&this.badgeInformation.controls.tempCelsius.setValue(e.toString())}else this.temperatureCelsius="",this.badgeInformation.controls.tempCelsius.setValue("")}editBadge(){const e=this.formatDate(this.activatedTime),t=this.formatDate(this.turnedInTime);this.badgeService.editBadgeData(this.badgeSerialNumber,this.selectedUser,this.badgeStatus,e,t,this.temperatureCelsius,this.temperatureFahrenheit,this.relativeHumidity,this.vaporsExposed,this.notes,this.badgeId).subscribe(e=>{},e=>{console.log(e)},()=>{this.resetValues()})}resetValues(){this.modalService.setModalContext("Badge "+this.badgeSerialNumber+" has been updated in the database"),this.badgeInformation.reset(),this.badgeStatus=null,this.resetSubscriptions(),this.gridService.setGridType(8)}formatDate(e){if(null===e)return null;const t=(e+"").slice(0,16).replace("T"," ")+":00";return console.log("The New Formatted Time is: "+t),t}ngOnInit(){this.constantSubscriptions.add(this.gridService.rowSelected.subscribe(e=>{e?this.showSelectedBadgeData():this.badgeInformation.reset()})),this.subscriptions.add(this.gridService.subordinatesResponse().subscribe(e=>{this.users=e,this.badgeInformation.controls.assignedUser.setValue(this.users)}))}resetSubscriptions(){this.subscriptions.unsubscribe()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.constantSubscriptions.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.Mb(s.b),r.Mb(a.a),r.Mb(l.a),r.Mb(u.a))},e.\u0275cmp=r.Gb({type:e,selectors:[["app-badge-edit"]],decls:55,vars:3,consts:[[1,"flexContainer"],[1,"flexElement"],[1,"description"],[1,"flexContainer",3,"formGroup"],[1,"input-group","flexElement"],["formControlName","badgeSerialNumber","type","text","id","badgeSerialNumber","placeholder","BadgeSerialNumber"],["id","assignedUser","formControlName","assignedUser","placeHolder","AssignedUser"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["formControlName","activatedTime","type","datetime-local","id","activatedTime","placeholder","ActivatedTime"],["formControlName","turnedInTime","type","datetime-local","id","turnedInTime","placeholder","TurnedInTime"],["formControlName","tempFahrenheit","type","text","id","tempFahrenheit","placeholder","Temperature Fahrenheit",3,"keyup"],["formControlName","tempCelsius","type","text","id","tempCelsius","placeholder","Temperature Celsius",3,"keyup"],["formControlName","humidity","type","text","id","humidity","placeholder","Relative Humidity"],["formControlName","vaporsExposed","type","text","id","vaporsExposed","placeholder","Vapors Exposed"],["formControlName","notes","type","text","id","notes","placeholder","Notes..."],["type","submit","id","submitButton",1,"btn","btn-default",3,"disabled","click"],[3,"value"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"h3"),r.Sb(3,"b"),r.Sb(4,"strong"),r.Hc(5,"Edit Subordinates' Badge"),r.Rb(),r.Rb(),r.Rb(),r.Sb(6,"div",2),r.Sb(7,"span",2),r.Hc(8,"Select desired badge information to update by badge serial number or double click badge in table."),r.Rb(),r.Rb(),r.Nb(9,"div"),r.Rb(),r.Sb(10,"div",1),r.Sb(11,"form",3),r.Sb(12,"div",4),r.Sb(13,"label"),r.Hc(14," Badge Serial Number: "),r.Rb(),r.Nb(15,"input",5),r.Rb(),r.Sb(16,"div",4),r.Sb(17,"label"),r.Hc(18," Assigned User: "),r.Rb(),r.Sb(19,"select",6),r.Nb(20,"option",7),r.Fc(21,d,2,2,"option",8),r.Rb(),r.Rb(),r.Sb(22,"div",4),r.Sb(23,"label"),r.Hc(24," Activated Time: "),r.Rb(),r.Nb(25,"input",9),r.Rb(),r.Sb(26,"div",4),r.Sb(27,"label"),r.Hc(28," Turned In Time: "),r.Rb(),r.Nb(29,"input",10),r.Rb(),r.Sb(30,"div",4),r.Sb(31,"label"),r.Hc(32,"Ambient Temperature (\xb0F)"),r.Rb(),r.Sb(33,"input",11),r.dc("keyup",function(){return t.temperatureFahrenheitCalculations()}),r.Rb(),r.Rb(),r.Sb(34,"div",4),r.Sb(35,"label"),r.Hc(36,"Ambient Temperature (\xb0C)"),r.Rb(),r.Sb(37,"input",12),r.dc("keyup",function(){return t.temperatureCelsiusCalculations()}),r.Rb(),r.Rb(),r.Sb(38,"div",4),r.Sb(39,"label"),r.Hc(40,"Relative Humidity"),r.Rb(),r.Nb(41,"input",13),r.Rb(),r.Sb(42,"div",4),r.Sb(43,"label"),r.Hc(44,"Vapors Exposed (If Known)"),r.Rb(),r.Nb(45,"input",14),r.Rb(),r.Sb(46,"div",4),r.Sb(47,"label"),r.Hc(48,"Notes on Badge"),r.Rb(),r.Nb(49,"input",15),r.Rb(),r.Sb(50,"div",1),r.Sb(51,"button",16),r.dc("click",function(){return t.checkBadgeData()}),r.Hc(52," Submit Changes "),r.Rb(),r.Rb(),r.Sb(53,"div",1),r.Nb(54,"app-grid"),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.zb(11),r.nc("formGroup",t.badgeInformation),r.zb(10),r.nc("ngForOf",t.users),r.zb(30),r.nc("disabled",!t.badgeInformation.valid))},directives:[n.H,n.t,n.l,n.c,n.s,n.j,n.E,n.x,n.G,c.t,p.a],styles:["label[_ngcontent-%COMP%]{min-width:185px;align-content:flex-start}#assignedUser[_ngcontent-%COMP%], #badgeSerialNumber[_ngcontent-%COMP%]{min-width:100px}#activatedTime[_ngcontent-%COMP%], #notes[_ngcontent-%COMP%], #turnedInTime[_ngcontent-%COMP%]{align-content:flex-start}#notes[_ngcontent-%COMP%]{min-width:222.85px;min-height:100px}.description[_ngcontent-%COMP%]{align-content:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;-webkit-text-fill-color:#666}"]}),e})()},"2QA8":function(e,t,o){"use strict";o.d(t,"a",function(){return n});const n=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2Vo4":function(e,t,o){"use strict";o.d(t,"a",function(){return r});var n=o("XNiG"),i=o("9ppp");class r extends n.a{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value}next(e){super.next(this._value=e)}}},"2fFW":function(e,t,o){"use strict";o.d(t,"a",function(){return i});let n=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else n&&console.log("RxJS: Back to a better error behavior. Thank you. <3");n=e},get useDeprecatedSynchronousErrorHandling(){return n}}},"3Pt+":function(e,t,o){"use strict";o.d(t,"a",function(){return c}),o.d(t,"b",function(){return He}),o.d(t,"c",function(){return h}),o.d(t,"d",function(){return je}),o.d(t,"e",function(){return he}),o.d(t,"f",function(){return xe}),o.d(t,"g",function(){return Xe}),o.d(t,"h",function(){return pe}),o.d(t,"i",function(){return De}),o.d(t,"j",function(){return Le}),o.d(t,"k",function(){return de}),o.d(t,"l",function(){return Te}),o.d(t,"m",function(){return Fe}),o.d(t,"n",function(){return Ze}),o.d(t,"o",function(){return Ye}),o.d(t,"p",function(){return ze}),o.d(t,"q",function(){return R}),o.d(t,"r",function(){return l}),o.d(t,"s",function(){return C}),o.d(t,"t",function(){return b}),o.d(t,"u",function(){return me}),o.d(t,"v",function(){return Re}),o.d(t,"w",function(){return be}),o.d(t,"x",function(){return B}),o.d(t,"y",function(){return x}),o.d(t,"z",function(){return $e}),o.d(t,"A",function(){return L}),o.d(t,"B",function(){return k}),o.d(t,"C",function(){return Je}),o.d(t,"D",function(){return Ve}),o.d(t,"E",function(){return W}),o.d(t,"F",function(){return z}),o.d(t,"G",function(){return K}),o.d(t,"H",function(){return _e});var n=o("fXoL"),i=o("ofXK"),r=o("cp0P"),s=o("Cfvw"),a=o("lJxs");const l=new n.s("NgValueAccessor"),u={provide:l,useExisting:Object(n.U)(()=>c),multi:!0};let c=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.F),n.Mb(n.m))},e.\u0275dir=n.Hb({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&n.dc("change",function(e){return t.onChange(e.target.checked)})("blur",function(){return t.onTouched()})},features:[n.yb([u])]}),e})();const p={provide:l,useExisting:Object(n.U)(()=>h),multi:!0},d=new n.s("CompositionEventMode");let h=(()=>{class e{constructor(e,t,o){this._renderer=e,this._elementRef=t,this._compositionMode=o,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=Object(i.R)()?Object(i.R)().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.F),n.Mb(n.m),n.Mb(d,8))},e.\u0275dir=n.Hb({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&n.dc("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[n.yb([p])]}),e})(),f=(()=>{class e{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Hb({type:e}),e})(),g=(()=>{class e extends f{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(t){return m(t||e)},e.\u0275dir=n.Hb({type:e,features:[n.wb]}),e})();const m=n.Ub(g);class y extends f{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){}get asyncValidator(){}}class v{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let C=(()=>{class e extends v{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(y,2))},e.\u0275dir=n.Hb({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&n.Eb("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[n.wb]}),e})(),b=(()=>{class e extends v{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(g,2))},e.\u0275dir=n.Hb({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&n.Eb("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[n.wb]}),e})();function w(e){return null==e||0===e.length}function E(e){return null!=e&&"number"==typeof e.length}const R=new n.s("NgValidators"),_=new n.s("NgAsyncValidators"),S=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class O{static min(e){return t=>{if(w(t.value)||w(e))return null;const o=parseFloat(t.value);return!isNaN(o)&&o<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(w(t.value)||w(e))return null;const o=parseFloat(t.value);return!isNaN(o)&&o>e?{max:{max:e,actual:t.value}}:null}}static required(e){return w(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return w(e.value)||S.test(e.value)?null:{email:!0}}static minLength(e){return t=>w(t.value)||!E(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}static maxLength(e){return t=>E(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}static pattern(e){if(!e)return O.nullValidator;let t,o;return"string"==typeof e?(o="","^"!==e.charAt(0)&&(o+="^"),o+=e,"$"!==e.charAt(e.length-1)&&(o+="$"),t=new RegExp(o)):(o=e.toString(),t=e),e=>{if(w(e.value))return null;const n=e.value;return t.test(n)?null:{pattern:{requiredPattern:o,actualValue:n}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(D);return 0==t.length?null:function(e){return T(A(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(D);return 0==t.length?null:function(e){const o=A(e,t).map(P);return Object(r.a)(o).pipe(Object(a.a)(T))}}}function D(e){return null!=e}function P(e){const t=Object(n.rb)(e)?Object(s.a)(e):e;return Object(n.qb)(t),t}function T(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function A(e,t){return t.map(t=>t(e))}function F(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}const N={provide:l,useExisting:Object(n.U)(()=>x),multi:!0};let x=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.F),n.Mb(n.m))},e.\u0275dir=n.Hb({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&n.dc("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[n.yb([N])]}),e})();const I={provide:l,useExisting:Object(n.U)(()=>L),multi:!0};let M=(()=>{class e{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac}),e})(),L=(()=>{class e{constructor(e,t,o,n){this._renderer=e,this._elementRef=t,this._registry=o,this._injector=n,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(y),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.F),n.Mb(n.m),n.Mb(M),n.Mb(n.t))},e.\u0275dir=n.Hb({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&n.dc("change",function(){return t.onChange()})("blur",function(){return t.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[n.yb([I])]}),e})();const G={provide:l,useExisting:Object(n.U)(()=>k),multi:!0};let k=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.F),n.Mb(n.m))},e.\u0275dir=n.Hb({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&n.dc("change",function(e){return t.onChange(e.target.value)})("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[n.yb([G])]}),e})();const V={provide:l,useExisting:Object(n.U)(()=>W),multi:!0};function H(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let W=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const o=H(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",o)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.F),n.Mb(n.m))},e.\u0275dir=n.Hb({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&n.dc("change",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[n.yb([V])]}),e})(),B=(()=>{class e{constructor(e,t,o){this._element=e,this._renderer=t,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(H(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.m),n.Mb(n.F),n.Mb(W,9))},e.\u0275dir=n.Hb({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const j={provide:l,useExisting:Object(n.U)(()=>z),multi:!0};function U(e,t){return null==e?""+t:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let z=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const o=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(o.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const o=[];if(void 0!==t.selectedOptions){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const n=e.item(t),i=this._getOptionValue(n.value);o.push(i)}}else{const e=t.options;for(let t=0;t<e.length;t++){const n=e.item(t);if(n.selected){const e=this._getOptionValue(n.value);o.push(e)}}}this.value=o,e(o)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.F),n.Mb(n.m))},e.\u0275dir=n.Hb({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&n.dc("change",function(e){return t.onChange(e.target)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[n.yb([j])]}),e})(),K=(()=>{class e{constructor(e,t,o){this._element=e,this._renderer=t,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(U(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(U(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.m),n.Mb(n.F),n.Mb(z,9))},e.\u0275dir=n.Hb({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();function Y(e,t){return[...t.path,e]}function q(e,t){e.validator=O.compose([e.validator,t.validator]),e.asyncValidator=O.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(o=>{e._pendingValue=o,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&$(e,t)})}(e,t),function(e,t){e.registerOnChange((e,o)=>{t.valueAccessor.writeValue(e),o&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&$(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function $(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Q(e,t){e.validator=O.compose([e.validator,t.validator]),e.asyncValidator=O.composeAsync([e.asyncValidator,t.asyncValidator])}function X(e){return null!=e?O.compose(F(e)):null}function Z(e){return null!=e?O.composeAsync(F(e)):null}function J(e,t){if(!e.hasOwnProperty("model"))return!1;const o=e.model;return!!o.isFirstChange()||!Object.is(t,o.currentValue)}const ee=[c,k,x,W,z,L];function te(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function oe(e,t){if(!t)return null;Array.isArray(t);let o=void 0,n=void 0,i=void 0;return t.forEach(e=>{var t;e.constructor===h?o=e:(t=e,ee.some(e=>t.constructor===e)?n=e:i=e)}),i||n||o||null}function ne(e,t){const o=e.indexOf(t);o>-1&&e.splice(o,1)}function ie(e,t,o,i){Object(n.V)()&&"never"!==i&&((null!==i&&"once"!==i||t._ngModelWarningSentOnce)&&("always"!==i||o._ngModelWarningSent)||(t._ngModelWarningSentOnce=!0,o._ngModelWarningSent=!0))}function re(e){return(ue(e)?e.validators:e)||null}function se(e){return Array.isArray(e)?X(e):e||null}function ae(e,t){return(ue(t)?t.asyncValidators:e)||null}function le(e){return Array.isArray(e)?Z(e):e||null}function ue(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class ce{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=se(this._rawValidators),this._composedAsyncValidatorFn=le(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=se(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=le(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;const t=P(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,o){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let n=e;return t.forEach(e=>{n=n instanceof de?n.controls.hasOwnProperty(e)?n.controls[e]:null:n instanceof he&&n.at(e)||null}),n}(this,e)}getError(e,t){const o=t?this.get(t):this;return o&&o.errors?o.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new n.o,this.statusChanges=new n.o}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ue(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class pe extends ce{constructor(e=null,t,o){super(re(t),ae(o,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class de extends ce{constructor(e,t,o){super(re(t),ae(o,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((o,n)=>{o.reset(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,o)=>(e[o]=t instanceof pe?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const o=this.controls[t];if(this.contains(t)&&e(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,o)=>((t.enabled||this.disabled)&&(e[o]=t.value),e))}_reduceChildren(e,t){let o=e;return this._forEachChild((e,n)=>{o=t(o,e,n)}),o}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,o)=>{if(void 0===e[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class he extends ce{constructor(e,t,o){super(re(t),ae(o,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,o)=>{this._throwIfControlMissing(o),this.at(o).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,o)=>{this.at(o)&&this.at(o).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((o,n)=>{o.reset(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof pe?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}_forEachChild(e){this.controls.forEach((t,o)=>{e(t,o)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,o)=>{if(void 0===e[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const fe={provide:g,useExisting:Object(n.U)(()=>me)},ge=(()=>Promise.resolve(null))();let me=(()=>{class e extends g{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new n.o,this.form=new de({},X(e),Z(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ge.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),q(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ge.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),ne(this._directives,e)})}addFormGroup(e){ge.then(()=>{const t=this._findContainer(e.path),o=new de({});Q(o,e),t.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ge.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){ge.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,te(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(R,10),n.Mb(_,10))},e.\u0275dir=n.Hb({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&n.dc("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[n.yb([fe]),n.wb]}),e})(),ye=(()=>{class e extends g{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Y(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return X(this._validators)}get asyncValidator(){return Z(this._asyncValidators)}_checkParentType(){}}return e.\u0275fac=function(t){return ve(t||e)},e.\u0275dir=n.Hb({type:e,features:[n.wb]}),e})();const ve=n.Ub(ye),Ce={provide:g,useExisting:Object(n.U)(()=>be)};let be=(()=>{class e extends ye{constructor(e,t,o){super(),this._parent=e,this._validators=t,this._asyncValidators=o}_checkParentType(){}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(g,5),n.Mb(R,10),n.Mb(_,10))},e.\u0275dir=n.Hb({type:e,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[n.yb([Ce]),n.wb]}),e})();const we={provide:y,useExisting:Object(n.U)(()=>Re)},Ee=(()=>Promise.resolve(null))();let Re=(()=>{class e extends y{constructor(e,t,o,i){super(),this.control=new pe,this._registered=!1,this.update=new n.o,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=o||[],this.valueAccessor=oe(0,i)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),J(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Y(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return X(this._rawValidators)}get asyncValidator(){return Z(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){q(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Ee.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,o=""===t||t&&"false"!==t;Ee.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(g,9),n.Mb(R,10),n.Mb(_,10),n.Mb(l,10))},e.\u0275dir=n.Hb({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[n.yb([we]),n.wb,n.xb]}),e})(),_e=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Hb({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const Se=new n.s("NgModelWithFormControlWarning"),Oe={provide:y,useExisting:Object(n.U)(()=>De)};let De=(()=>{class e extends y{constructor(e,t,o,i){super(),this._ngModelWarningConfig=i,this.update=new n.o,this._ngModelWarningSent=!1,this._rawValidators=e||[],this._rawAsyncValidators=t||[],this.valueAccessor=oe(0,o)}set isDisabled(e){}ngOnChanges(t){this._isControlChanged(t)&&(q(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),J(t,this.viewModel)&&(ie(0,e,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return X(this._rawValidators)}get asyncValidator(){return Z(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(R,10),n.Mb(_,10),n.Mb(l,10),n.Mb(Se,8))},e.\u0275dir=n.Hb({type:e,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[n.yb([Oe]),n.wb,n.xb]}),e._ngModelWarningSentOnce=!1,e})();const Pe={provide:g,useExisting:Object(n.U)(()=>Te)};let Te=(()=>{class e extends g{constructor(e,t){super(),this._validators=e,this._asyncValidators=t,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new n.o}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return q(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){ne(this.directives,e)}addFormGroup(e){const t=this.form.get(e.path);Q(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormGroup(e){}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){const t=this.form.get(e.path);Q(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormArray(e){}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,te(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=this.form.get(e.path);e.control!==t&&(function(e,t){const o=()=>{};t.valueAccessor.registerOnChange(o),t.valueAccessor.registerOnTouched(o),t._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),t._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),e&&e._clearChangeFns()}(e.control,e),t&&q(t,e),e.control=t)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const e=X(this._validators);this.form.validator=O.compose([this.form.validator,e]);const t=Z(this._asyncValidators);this.form.asyncValidator=O.composeAsync([this.form.asyncValidator,t])}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(R,10),n.Mb(_,10))},e.\u0275dir=n.Hb({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&n.dc("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[n.yb([Pe]),n.wb,n.xb]}),e})();const Ae={provide:g,useExisting:Object(n.U)(()=>Fe)};let Fe=(()=>{class e extends ye{constructor(e,t,o){super(),this._parent=e,this._validators=t,this._asyncValidators=o}_checkParentType(){Ie(this._parent)}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(g,13),n.Mb(R,10),n.Mb(_,10))},e.\u0275dir=n.Hb({type:e,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[n.yb([Ae]),n.wb]}),e})();const Ne={provide:g,useExisting:Object(n.U)(()=>xe)};let xe=(()=>{class e extends g{constructor(e,t,o){super(),this._parent=e,this._validators=t,this._asyncValidators=o}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Y(null==this.name?this.name:this.name.toString(),this._parent)}get validator(){return X(this._validators)}get asyncValidator(){return Z(this._asyncValidators)}_checkParentType(){Ie(this._parent)}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(g,13),n.Mb(R,10),n.Mb(_,10))},e.\u0275dir=n.Hb({type:e,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[n.yb([Ne]),n.wb]}),e})();function Ie(e){return!(e instanceof Fe||e instanceof Te||e instanceof xe)}const Me={provide:y,useExisting:Object(n.U)(()=>Le)};let Le=(()=>{class e extends y{constructor(e,t,o,i,r){super(),this._ngModelWarningConfig=r,this._added=!1,this.update=new n.o,this._ngModelWarningSent=!1,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=o||[],this.valueAccessor=oe(0,i)}set isDisabled(e){}ngOnChanges(t){this._added||this._setUpControl(),J(t,this.viewModel)&&(ie(0,e,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Y(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return X(this._rawValidators)}get asyncValidator(){return Z(this._rawAsyncValidators)}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(g,13),n.Mb(R,10),n.Mb(_,10),n.Mb(l,10),n.Mb(Se,8))},e.\u0275dir=n.Hb({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[n.yb([Me]),n.wb,n.xb]}),e._ngModelWarningSentOnce=!1,e})();const Ge={provide:R,useExisting:Object(n.U)(()=>Ve),multi:!0},ke={provide:R,useExisting:Object(n.U)(()=>He),multi:!0};let Ve=(()=>{class e{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&""+e!="false",this._onChange&&this._onChange()}validate(e){return this.required?O.required(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Hb({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&n.Ab("required",t.required?"":null)},inputs:{required:"required"},features:[n.yb([Ge])]}),e})(),He=(()=>{class e extends Ve{validate(e){return this.required?O.requiredTrue(e):null}}return e.\u0275fac=function(t){return We(t||e)},e.\u0275dir=n.Hb({type:e,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&n.Ab("required",t.required?"":null)},features:[n.yb([ke]),n.wb]}),e})();const We=n.Ub(He),Be={provide:R,useExisting:Object(n.U)(()=>je),multi:!0};let je=(()=>{class e{constructor(){this._enabled=!1}set email(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}validate(e){return this._enabled?O.email(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Hb({type:e,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[n.yb([Be])]}),e})();const Ue={provide:R,useExisting:Object(n.U)(()=>ze),multi:!0};let ze=(()=>{class e{constructor(){this._validator=O.nullValidator}ngOnChanges(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null==this.minlength?null:this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=O.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Hb({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&n.Ab("minlength",t.minlength?t.minlength:null)},inputs:{minlength:"minlength"},features:[n.yb([Ue]),n.xb]}),e})();const Ke={provide:R,useExisting:Object(n.U)(()=>Ye),multi:!0};let Ye=(()=>{class e{constructor(){this._validator=O.nullValidator}ngOnChanges(e){"maxlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null!=this.maxlength?this._validator(e):null}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=O.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Hb({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&n.Ab("maxlength",t.maxlength?t.maxlength:null)},inputs:{maxlength:"maxlength"},features:[n.yb([Ke]),n.xb]}),e})();const qe={provide:R,useExisting:Object(n.U)(()=>$e),multi:!0};let $e=(()=>{class e{constructor(){this._validator=O.nullValidator}ngOnChanges(e){"pattern"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=O.pattern(this.pattern)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Hb({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&n.Ab("pattern",t.pattern?t.pattern:null)},inputs:{pattern:"pattern"},features:[n.yb([qe]),n.xb]}),e})(),Qe=(()=>{class e{}return e.\u0275mod=n.Kb({type:e}),e.\u0275inj=n.Jb({factory:function(t){return new(t||e)}}),e})(),Xe=(()=>{class e{group(e,t=null){const o=this._reduceControls(e);let n=null,i=null,r=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(n=null!=t.validators?t.validators:null,i=null!=t.asyncValidators?t.asyncValidators:null,r=null!=t.updateOn?t.updateOn:void 0):(n=null!=t.validator?t.validator:null,i=null!=t.asyncValidator?t.asyncValidator:null)),new de(o,{asyncValidators:i,updateOn:r,validators:n})}control(e,t,o){return new pe(e,t,o)}array(e,t,o){const n=e.map(e=>this._createControl(e));return new he(n,t,o)}_reduceControls(e){const t={};return Object.keys(e).forEach(o=>{t[o]=this._createControl(e[o])}),t}_createControl(e){return e instanceof pe||e instanceof de||e instanceof he?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac}),e})(),Ze=(()=>{class e{}return e.\u0275mod=n.Kb({type:e}),e.\u0275inj=n.Jb({factory:function(t){return new(t||e)},providers:[M],imports:[Qe]}),e})(),Je=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Se,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275mod=n.Kb({type:e}),e.\u0275inj=n.Jb({factory:function(t){return new(t||e)},providers:[Xe,M],imports:[Qe]}),e})()},"4I5i":function(e,t,o){"use strict";o.d(t,"a",function(){return n});const n=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})()},"4OWq":function(e,t,o){"use strict";o.d(t,"a",function(){return a});var n=o("3Pt+"),i=o("fXoL"),r=o("qfBg"),s=o("ofXK");let a=(()=>{class e{constructor(e){this.userService=e,this.accountInformation=new n.k({userName:new n.h("",{updateOn:"change"}),newPassword:new n.h("",{updateOn:"change"}),passwordConfirmation:new n.h("",{updateOn:"change"})}),this.userFeedback="",this.cssUserFeedback=""}get cachedUsername(){return this.accountInformation.get("userName").value}updateInfo(){this.userService.updateAccountInfo(this.accountInformation.value).subscribe(e=>{if(1===e.affectedRows&&1===e.changedRows){this.userFeedback="Account information updated successfully.",this.cssUserFeedback="success";const e=this.userService.userValue;e.username.valueOf()!==this.cachedUsername&&(e.username=this.cachedUsername,this.userService.updateActiveUser(e))}else 0===e.affectedRows&&1===e.changedRows?(this.userFeedback="Something went wrong here. Please try again later.",this.cssUserFeedback="fail"):(this.userFeedback=e.message,this.cssUserFeedback="fail")},e=>{this.userFeedback="We have encountered an error while attempting to process your request.",console.warn(e),this.cssUserFeedback="fail"},()=>{this.resetInfo()})}ngOnInit(){this.userService.activeUser$.subscribe(e=>{this.setCurrentUser(e)},e=>{console.error(e)})}resetInfo(){this.setCurrentUser(this.userService.userValue)}setCurrentUser(e){this.accountInformation.reset({userName:null==e?void 0:e.username,newPassword:"",passwordConfirmation:""})}resetFeedback(){this.userFeedback=""}}return e.\u0275fac=function(t){return new(t||e)(i.Mb(r.a))},e.\u0275cmp=i.Gb({type:e,selectors:[["app-account-management"]],decls:25,vars:4,consts:[[1,"flex-wrapper"],[1,"description"],[1,"user-feedback",3,"ngClass"],[1,"grid-2-col",3,"formGroup"],["for","acctUser"],["id","acctUser","type","text","readonly","","formControlName","userName",3,"change","keypress","keyup.enter"],["for","acctPass"],["id","acctPass","formControlName","newPassword","type","password",3,"change","keypress","keyup.enter"],["for","passConfirm"],["id","passConfirm","formControlName","passwordConfirmation","type","password",3,"change","keypress","keyup.enter"],[1,"btn","btn-default",3,"click"],["type","submit",1,"btn","btn-default",3,"disabled","click","keypress"]],template:function(e,t){1&e&&(i.Sb(0,"div",0),i.Sb(1,"h3"),i.Sb(2,"b"),i.Sb(3,"strong"),i.Hc(4,"Account Management"),i.Rb(),i.Rb(),i.Rb(),i.Sb(5,"div",1),i.Sb(6,"span",1),i.Hc(7,"Update your account information."),i.Rb(),i.Rb(),i.Nb(8,"div"),i.Sb(9,"p",2),i.Hc(10),i.Rb(),i.Sb(11,"form",3),i.Sb(12,"label",4),i.Hc(13," Username: "),i.Rb(),i.Sb(14,"input",5),i.dc("change",function(){return t.resetFeedback()})("keypress",function(){return t.resetFeedback()})("keyup.enter",function(){return t.updateInfo()}),i.Rb(),i.Sb(15,"label",6),i.Hc(16," New Password: "),i.Rb(),i.Sb(17,"input",7),i.dc("change",function(){return t.resetFeedback()})("keypress",function(){return t.resetFeedback()})("keyup.enter",function(){return t.updateInfo()}),i.Rb(),i.Sb(18,"label",8),i.Hc(19," Retype New Password: "),i.Rb(),i.Sb(20,"input",9),i.dc("change",function(){return t.resetFeedback()})("keypress",function(){return t.resetFeedback()})("keyup.enter",function(){return t.updateInfo()}),i.Rb(),i.Sb(21,"button",10),i.dc("click",function(){return t.resetInfo()}),i.Hc(22,"Reset"),i.Rb(),i.Sb(23,"button",11),i.dc("click",function(){return t.updateInfo()})("keypress",function(){return t.resetFeedback()}),i.Hc(24," Update "),i.Rb(),i.Rb(),i.Rb()),2&e&&(i.zb(9),i.nc("ngClass",t.cssUserFeedback),i.zb(1),i.Jc(" ",t.userFeedback," "),i.zb(1),i.nc("formGroup",t.accountInformation),i.zb(12),i.nc("disabled",!t.accountInformation.valid))},directives:[s.r,n.H,n.t,n.l,n.c,n.s,n.j],styles:[".flex-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-items:flex-start;padding-bottom:15px}.flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:stretch;margin:10px 0}.grid-2-col[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{text-align:right}.grid-2-col[_ngcontent-%COMP%]{display:grid;margin-right:auto;gap:10px;grid-template-columns:-webkit-max-content minmax(200px,1fr);grid-template-columns:max-content minmax(200px,1fr)}.user-feedback[_ngcontent-%COMP%]{min-height:1.5em}.success[_ngcontent-%COMP%]{color:#2eae00}.fail[_ngcontent-%COMP%]{color:red}.description[_ngcontent-%COMP%]{align-content:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;-webkit-text-fill-color:#666}"]}),e})()},"5+tZ":function(e,t,o){"use strict";o.d(t,"a",function(){return l});var n=o("ZUHj"),i=o("l7GE"),r=o("51Dv"),s=o("lJxs"),a=o("Cfvw");function l(e,t,o=Number.POSITIVE_INFINITY){return"function"==typeof t?n=>n.pipe(l((o,n)=>Object(a.a)(e(o,n)).pipe(Object(s.a)((e,i)=>t(o,e,n,i))),o)):("number"==typeof t&&(o=t),t=>t.lift(new u(e,o)))}class u{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new c(e,this.project,this.concurrent))}}class c extends i.a{constructor(e,t,o=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=o,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const o=this.index++;try{t=this.project(e,o)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(t,e,o)}_innerSub(e,t,o){const i=new r.a(this,t,o),s=this.destination;s.add(i);const a=Object(n.a)(this,e,void 0,void 0,i);a!==i&&s.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,o,n,i){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(e,t,o){"use strict";o.d(t,"a",function(){return i});var n=o("7o/Q");class i extends n.a{constructor(e,t,o){super(),this.parent=e,this.outerValue=t,this.outerIndex=o,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"5gjg":function(e,t,o){"use strict";o.d(t,"a",function(){return g});var n=o("fXoL"),i=o("Wl7B"),r=o("ofXK"),s=o("1kSV"),a=o("Ludi"),l=o("KAx5"),u=o("Y/s5");function c(e,t){1&e&&(n.Sb(0,"div"),n.Sb(1,"h3"),n.Sb(2,"b"),n.Sb(3,"strong"),n.Hc(4," Edit Subordinates' Information "),n.Rb(),n.Rb(),n.Rb(),n.Sb(5,"div",8),n.Sb(6,"span",8),n.Hc(7,"Pick one of the following users to manage their information."),n.Rb(),n.Rb(),n.Rb())}function p(e,t){1&e&&(n.Sb(0,"div"),n.Sb(1,"h3"),n.Sb(2,"b"),n.Sb(3,"strong"),n.Hc(4," Create New Subordinate "),n.Rb(),n.Rb(),n.Rb(),n.Sb(5,"div",8),n.Sb(6,"span",8),n.Hc(7,"Fill out the form to add a new user to your subordinates."),n.Rb(),n.Rb(),n.Rb())}function d(e,t){1&e&&(n.Sb(0,"div"),n.Sb(1,"h3"),n.Sb(2,"b"),n.Nb(3,"strong"),n.Rb(),n.Rb(),n.Sb(4,"div",8),n.Sb(5,"span",8),n.Hc(6,"Select an option to continue..."),n.Rb(),n.Rb(),n.Rb())}function h(e,t){1&e&&(n.Sb(0,"div",9),n.Nb(1,"app-grid",10),n.Nb(2,"app-edit-user",11),n.Rb())}function f(e,t){1&e&&n.Nb(0,"app-create-user")}let g=(()=>{class e{constructor(e){this.agGridService=e}ngOnInit(){5!==this.agGridService.getGridType()&&this.agGridService.setGridType(5),this.agGridService.getSelectedRow()&&(console.debug("The following row was left selected in the GridService: ",this.agGridService.getSelectedRow()),this.agGridService.setSelectedRow(null))}ngOnDestroy(){this.agGridService.setSelectedRow(null)}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(i.a))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-user-management"]],decls:10,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["activeId","edit",3,"destroyOnHide"],["tabby",""],["id","edit","title","Edit User"],["ngbTabContent",""],["id","create","title","Create User"],[1,"description"],[1,"grid-container"],[1,"subordinates-area"],[1,"edit-user-area"]],template:function(e,t){if(1&e&&(n.Sb(0,"div",0),n.Fc(1,c,8,0,"div",1),n.Fc(2,p,8,0,"div",1),n.Fc(3,d,7,0,"div",2),n.Rb(),n.Sb(4,"ngb-tabset",3,4),n.Sb(6,"ngb-tab",5),n.Fc(7,h,3,0,"ng-template",6),n.Rb(),n.Sb(8,"ngb-tab",7),n.Fc(9,f,1,0,"ng-template",6),n.Rb(),n.Rb()),2&e){const e=n.vc(5);n.oc("ngSwitch",null==e?null:e.activeId),n.zb(1),n.nc("ngSwitchCase","edit"),n.zb(1),n.nc("ngSwitchCase","create"),n.zb(2),n.nc("destroyOnHide",!1)}},directives:[r.y,r.z,r.A,s.T,s.Q,s.R,a.a,l.a,u.a],styles:['.grid-container[_ngcontent-%COMP%]{display:grid;gap:15px 0;grid-template-columns:100%;grid-template-areas:"subordinates-area" "edit-user-area";margin-right:auto;justify-items:center}.subordinates-area[_ngcontent-%COMP%]{grid-area:subordinates-area}.edit-user-area[_ngcontent-%COMP%]{grid-area:edit-user-area}@media (min-width:1200px){.grid-container[_ngcontent-%COMP%]{display:grid;gap:0 20px;grid-template-columns:-webkit-min-content -webkit-min-content;grid-template-columns:min-content min-content;grid-template-areas:"subordinates-area edit-user-area" "subordinates-area edit-user-area";justify-items:center}}.description[_ngcontent-%COMP%]{align-content:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;-webkit-text-fill-color:#666}']}),e})()},"6Svq":function(e,t,o){"use strict";o.d(t,"a",function(){return a});var n=o("fXoL"),i=o("ofXK");const r=[[["header"]],[["nav"]],[["article"]],[["aside"]],[["div"]],[["footer"]]],s=["header","nav","article","aside","div","footer"];let a=(()=>{class e{constructor(){}get headerSelectors(){let e;return e={"base-head":!0},this.cssHeaderOverride&&(e[this.cssHeaderOverride]=!0),e}get navSelectors(){let e;return e={"base-nav":!0},this.cssNavOverride&&(e[this.cssNavOverride]=!0),e}get adSelectors(){let e;return e={"base-ad":!0},this.cssAdOverride&&(e[this.cssAdOverride]=!0),e}get asideSelectors(){let e;return e={"base-side":!0},this.cssSideOverride&&(e[this.cssSideOverride]=!0),e}get footerSelectors(){let e;return e={"base-footer":!0},this.cssFooterOverride&&(e[this.cssFooterOverride]=!0),e}get articleSelectors(){let e;return e={"base-content":!0},this.cssArticleOverride&&(e[this.cssArticleOverride]=!0),e}get wrapperSelectors(){let e;if(e={"base-wrapper-all":!0},this.cssWrapperOverride)if("string"==typeof this.cssWrapperOverride)e[this.cssWrapperOverride]=!0;else for(let t in this.cssWrapperOverride)e[t]=!0;else e["base-wrapper"]=!0;return e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Gb({type:e,selectors:[["app-layout-wrapper"]],inputs:{cssHeaderOverride:"cssHeaderOverride",cssNavOverride:"cssNavOverride",cssArticleOverride:"cssArticleOverride",cssSideOverride:"cssSideOverride",cssAdOverride:"cssAdOverride",cssFooterOverride:"cssFooterOverride",cssWrapperOverride:"cssWrapperOverride"},features:[n.yb([e])],ngContentSelectors:s,decls:13,vars:7,consts:[[3,"ngClass"]],template:function(e,t){1&e&&(n.mc(r),n.Sb(0,"div",0),n.Sb(1,"div",0),n.lc(2,0,["#projectedHeader",""]),n.Rb(),n.Sb(3,"div",0),n.lc(4,1,["#projectedNav",""]),n.Rb(),n.Sb(5,"div",0),n.lc(6,2,["#projectedArticle",""]),n.Rb(),n.Sb(7,"div",0),n.lc(8,3,["#projectedAside",""]),n.Rb(),n.Sb(9,"div",0),n.lc(10,4,["#projectedAd",""]),n.Rb(),n.Sb(11,"div",0),n.lc(12,5,["#projectedFooter",""]),n.Rb(),n.Rb()),2&e&&(n.nc("ngClass",t.wrapperSelectors),n.zb(1),n.nc("ngClass",t.headerSelectors),n.zb(2),n.nc("ngClass",t.navSelectors),n.zb(2),n.nc("ngClass",t.articleSelectors),n.zb(2),n.nc("ngClass",t.asideSelectors),n.zb(2),n.nc("ngClass",t.adSelectors),n.zb(2),n.nc("ngClass",t.footerSelectors))},directives:[i.r],styles:['.base-head[_ngcontent-%COMP%]{grid-area:header}.base-nav[_ngcontent-%COMP%]{grid-area:nav}.base-content[_ngcontent-%COMP%]{grid-area:content}.base-side[_ngcontent-%COMP%]{grid-area:sidebar}.base-ad[_ngcontent-%COMP%]{grid-area:ad}.base-footer[_ngcontent-%COMP%]{grid-area:footer}.base-wrapper-all[_ngcontent-%COMP%]{background-color:#e1e1e1;font-size:inherit}.base-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-areas:"header" "nav" "content" "sidebar" "ad" "footer"}.override-wrapper-home[_ngcontent-%COMP%] > .base-content[_ngcontent-%COMP%]{padding:15px}.base-nav[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;flex-wrap:nowrap;flex:0 1 auto;max-width:1200px}.base-footer[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{color:#d3d3d3;margin-right:5px}.override-article-analytes[_ngcontent-%COMP%], .override-article-badges[_ngcontent-%COMP%], .override-article-custom-data[_ngcontent-%COMP%], .override-article-data-table[_ngcontent-%COMP%]{width:100%;height:250px}.override-article-roles[_ngcontent-%COMP%], .override-article-subordinates[_ngcontent-%COMP%]{width:clamp(100px,75rem,380px);height:250px}.override-wrapper-edit-user[_ngcontent-%COMP%]{display:grid;grid-template-columns:-webkit-max-content;grid-template-columns:max-content;grid-template-areas:"header" "content" "nav" "sidebar" "footer"}.hiding-mechanism-kludge[_ngcontent-%COMP%]{display:inherit}@media (min-width:500px){.base-wrapper[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;grid-template-areas:"header  header" "nav     nav" "content content" "ad      ad" "footer  footer"}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:space-between}}@media (min-width:700px){.base-wrapper[_ngcontent-%COMP%]{grid-template-columns:1fr 4fr 1fr;grid-template-areas:"header  header  header" "nav     nav     nav" "ad      content sidebar" "ad      content sidebar" "footer  footer  footer"}.override-wrapper-home[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 3fr 3fr 1fr;grid-template-areas:"header  header  header  header" "nav     nav     nav     nav" "ad      content content sidebar" "ad      content content sidebar" "footer  footer  footer  footer"}.override-wrapper-login[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 4fr 1fr;gap:20px 0;grid-template-areas:"header  header  header" "content content content" "content content content" "content content content" "content content content" "footer  footer  footer"}.override-wrapper-edit-user[_ngcontent-%COMP%]{display:grid;gap:0;grid-template-columns:-webkit-max-content -webkit-max-content;grid-template-columns:max-content max-content;grid-template-areas:"header  nav" "content sidebar" "content footer"}}.base-wrapper-1[_ngcontent-%COMP%]{background-color:#e1e1e1;margin-left:auto;margin-right:auto;display:grid;grid-template-areas:"header" "nav" "content" "sidebar" "ad" "footer"}.base-wrapper-2[_ngcontent-%COMP%]{background-color:#e1e1e1;margin-left:auto;margin-right:auto;display:grid;grid-template-columns:1fr 3fr;grid-template-areas:"header  header" "nav     nav" "sidebar content" "ad      footer"}.base-wrapper-2[_ngcontent-%COMP%] > nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.base-wrapper-3[_ngcontent-%COMP%]{background-color:#e1e1e1;margin-left:auto;margin-right:auto;display:grid;grid-template-columns:.75fr 4.25fr 1fr;grid-template-areas:"header  header  header" "nav     nav     nav" "sidebar content ad" "footer  footer  footer"}.base-wrapper-3[_ngcontent-%COMP%] > nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-direction:column}']}),e})()},"7o/Q":function(e,t,o){"use strict";o.d(t,"a",function(){return u});var n=o("n6bG"),i=o("gRHU"),r=o("quSY"),s=o("2QA8"),a=o("2fFW"),l=o("NJ4a");class u extends r.a{constructor(e,t,o){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!e){this.destination=i.a;break}if("object"==typeof e){e instanceof u?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,e,t,o)}}[s.a](){return this}static create(e,t,o){const n=new u(e,t,o);return n.syncErrorThrowable=!1,n}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class c extends u{constructor(e,t,o,r){let s;super(),this._parentSubscriber=e;let a=this;Object(n.a)(t)?s=t:t&&(s=t.next,o=t.error,r=t.complete,t!==i.a&&(a=Object.create(t),Object(n.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=o,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:o}=a.a;if(this._error)o&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)o?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(l.a)(e),this.unsubscribe();else{if(this.unsubscribe(),o)throw e;Object(l.a)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(o){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw o;Object(l.a)(o)}}__tryOrSetError(e,t,o){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,o)}catch(n){return a.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=n,e.syncErrorThrown=!0,!0):(Object(l.a)(n),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},"7pIB":function(e,t,o){"use strict";o.d(t,"a",function(){return c}),o.d(t,"b",function(){return u}),o.d(t,"c",function(){return p}),o.d(t,"d",function(){return l});var n=o("fXoL"),i=o("ofXK");class r{constructor(e){var t;this.rawFile=e;let o=(t=e)&&(t.nodeName||t.prop&&t.attr&&t.find)?e.value:e;this["_createFrom"+("string"==typeof o?"FakePath":"Object")](o)}_createFromFakePath(e){this.lastModifiedDate=void 0,this.size=void 0,this.type="like/"+e.slice(e.lastIndexOf(".")+1).toLowerCase(),this.name=e.slice(e.lastIndexOf("/")+e.lastIndexOf("\\")+2)}_createFromObject(e){this.size=e.size,this.type=e.type,this.name=e.name}}class s{constructor(e,t,o){this.url="/",this.headers=[],this.withCredentials=!0,this.formData=[],this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.index=void 0,this.uploader=e,this.some=t,this.options=o,this.file=new r(t),this._file=t,e.options&&(this.method=e.options.method||"POST",this.alias=e.options.itemAlias||"file"),this.url=e.options.url}upload(){try{this.uploader.uploadItem(this)}catch(e){this.uploader._onCompleteItem(this,"",0,{}),this.uploader._onErrorItem(this,"",0,{})}}cancel(){this.uploader.cancelItem(this)}remove(){this.uploader.removeFromQueue(this)}onBeforeUpload(){}onBuildForm(e){return{form:e}}onProgress(e){return{progress:e}}onSuccess(e,t,o){return{response:e,status:t,headers:o}}onError(e,t,o){return{response:e,status:t,headers:o}}onCancel(e,t,o){return{response:e,status:t,headers:o}}onComplete(e,t,o){return{response:e,status:t,headers:o}}_onBeforeUpload(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()}_onBuildForm(e){this.onBuildForm(e)}_onProgress(e){this.progress=e,this.onProgress(e)}_onSuccess(e,t,o){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=void 0,this.onSuccess(e,t,o)}_onError(e,t,o){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=void 0,this.onError(e,t,o)}_onCancel(e,t,o){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=void 0,this.onCancel(e,t,o)}_onComplete(e,t,o){this.onComplete(e,t,o),this.uploader.options.removeAfterUpload&&this.remove()}_prepareToUploading(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0}}let a=(()=>{class e{static getMimeClass(e){let t="application";return-1!==this.mime_psd.indexOf(e.type)||e.type.match("image.*")?t="image":e.type.match("video.*")?t="video":e.type.match("audio.*")?t="audio":"application/pdf"===e.type?t="pdf":-1!==this.mime_compress.indexOf(e.type)?t="compress":-1!==this.mime_doc.indexOf(e.type)?t="doc":-1!==this.mime_xsl.indexOf(e.type)?t="xls":-1!==this.mime_ppt.indexOf(e.type)&&(t="ppt"),"application"===t&&(t=this.fileTypeDetection(e.name)),t}static fileTypeDetection(e){let t={jpg:"image",jpeg:"image",tif:"image",psd:"image",bmp:"image",png:"image",nef:"image",tiff:"image",cr2:"image",dwg:"image",cdr:"image",ai:"image",indd:"image",pin:"image",cdp:"image",skp:"image",stp:"image","3dm":"image",mp3:"audio",wav:"audio",wma:"audio",mod:"audio",m4a:"audio",compress:"compress",zip:"compress",rar:"compress","7z":"compress",lz:"compress",z01:"compress",bz2:"compress",gz:"compress",pdf:"pdf",xls:"xls",xlsx:"xls",ods:"xls",mp4:"video",avi:"video",wmv:"video",mpg:"video",mts:"video",flv:"video","3gp":"video",vob:"video",m4v:"video",mpeg:"video",m2ts:"video",mov:"video",doc:"doc",docx:"doc",eps:"doc",txt:"doc",odt:"doc",rtf:"doc",ppt:"ppt",pptx:"ppt",pps:"ppt",ppsx:"ppt",odp:"ppt"},o=e.split(".");if(o.length<2)return"application";let n=o[o.length-1].toLowerCase();return void 0===t[n]?"application":t[n]}}return e.mime_doc=["application/msword","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"],e.mime_xsl=["application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],e.mime_ppt=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],e.mime_psd=["image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd"],e.mime_compress=["application/x-gtar","application/x-gcompress","application/compress","application/x-tar","application/x-rar-compressed","application/octet-stream","application/x-zip-compressed","application/zip-compressed","application/x-7z-compressed","application/gzip","application/x-bzip2"],e})();class l{constructor(e){this.isUploading=!1,this.queue=[],this.progress=0,this._nextIndex=0,this.options={autoUpload:!1,isHTML5:!0,filters:[],removeAfterUpload:!1,disableMultipart:!1,formatDataFunction:e=>e._file,formatDataFunctionIsAsync:!1},this.setOptions(e),this.response=new n.o}setOptions(e){this.options=Object.assign(this.options,e),this.authToken=this.options.authToken,this.authTokenHeader=this.options.authTokenHeader||"Authorization",this.autoUpload=this.options.autoUpload,this.options.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.options.maxFileSize&&this.options.filters.unshift({name:"fileSize",fn:this._fileSizeFilter}),this.options.allowedFileType&&this.options.filters.unshift({name:"fileType",fn:this._fileTypeFilter}),this.options.allowedMimeType&&this.options.filters.unshift({name:"mimeType",fn:this._mimeTypeFilter});for(let t=0;t<this.queue.length;t++)this.queue[t].url=this.options.url}addToQueue(e,t,o){let n=[];for(let r of e)n.push(r);let i=this._getFilters(o),a=this.queue.length,l=[];n.map(e=>{t||(t=this.options);let o=new r(e);if(this._isValidFile(o,i,t)){let o=new s(this,e,t);l.push(o),this.queue.push(o),this._onAfterAddingFile(o)}else this._onWhenAddingFileFailed(o,i[this._failFilterIndex],t)}),this.queue.length!==a&&(this._onAfterAddingAll(l),this.progress=this._getTotalProgress()),this._render(),this.options.autoUpload&&this.uploadAll()}removeFromQueue(e){let t=this.getIndexOfItem(e),o=this.queue[t];o.isUploading&&o.cancel(),this.queue.splice(t,1),this.progress=this._getTotalProgress()}clearQueue(){for(;this.queue.length;)this.queue[0].remove();this.progress=0}uploadItem(e){let t=this.getIndexOfItem(e),o=this.queue[t],n=this.options.isHTML5?"_xhrTransport":"_iframeTransport";o._prepareToUploading(),this.isUploading||(this.isUploading=!0,this[n](o))}cancelItem(e){let t=this.getIndexOfItem(e),o=this.queue[t];o&&o.isUploading&&(this.options.isHTML5?o._xhr:o._form).abort()}uploadAll(){let e=this.getNotUploadedItems().filter(e=>!e.isUploading);e.length&&(e.map(e=>e._prepareToUploading()),e[0].upload())}cancelAll(){this.getNotUploadedItems().map(e=>e.cancel())}isFile(e){return function(e){return File&&e instanceof File}(e)}isFileLikeObject(e){return e instanceof r}getIndexOfItem(e){return"number"==typeof e?e:this.queue.indexOf(e)}getNotUploadedItems(){return this.queue.filter(e=>!e.isUploaded)}getReadyItems(){return this.queue.filter(e=>e.isReady&&!e.isUploading).sort((e,t)=>e.index-t.index)}destroy(){}onAfterAddingAll(e){return{fileItems:e}}onBuildItemForm(e,t){return{fileItem:e,form:t}}onAfterAddingFile(e){return{fileItem:e}}onWhenAddingFileFailed(e,t,o){return{item:e,filter:t,options:o}}onBeforeUploadItem(e){return{fileItem:e}}onProgressItem(e,t){return{fileItem:e,progress:t}}onProgressAll(e){return{progress:e}}onSuccessItem(e,t,o,n){return{item:e,response:t,status:o,headers:n}}onErrorItem(e,t,o,n){return{item:e,response:t,status:o,headers:n}}onCancelItem(e,t,o,n){return{item:e,response:t,status:o,headers:n}}onCompleteItem(e,t,o,n){return{item:e,response:t,status:o,headers:n}}onCompleteAll(){}_mimeTypeFilter(e){return!(this.options.allowedMimeType&&-1===this.options.allowedMimeType.indexOf(e.type))}_fileSizeFilter(e){return!(this.options.maxFileSize&&e.size>this.options.maxFileSize)}_fileTypeFilter(e){return!(this.options.allowedFileType&&-1===this.options.allowedFileType.indexOf(a.getMimeClass(e)))}_onErrorItem(e,t,o,n){e._onError(t,o,n),this.onErrorItem(e,t,o,n)}_onCompleteItem(e,t,o,n){e._onComplete(t,o,n),this.onCompleteItem(e,t,o,n);let i=this.getReadyItems()[0];this.isUploading=!1,i?i.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render())}_headersGetter(e){return t=>t?e[t.toLowerCase()]||void 0:e}_xhrTransport(e){let t,o=this,n=e._xhr=new XMLHttpRequest;if(this._onBeforeUploadItem(e),"number"!=typeof e._file.size)throw new TypeError("The file specified is no longer valid");if(this.options.disableMultipart)t=this.options.formatDataFunction(e);else{t=new FormData,this._onBuildItemForm(e,t);const o=()=>t.append(e.alias,e._file,e.file.name);this.options.parametersBeforeFiles||o(),void 0!==this.options.additionalParameter&&Object.keys(this.options.additionalParameter).forEach(o=>{let n=this.options.additionalParameter[o];"string"==typeof n&&n.indexOf("{{file_name}}")>=0&&(n=n.replace("{{file_name}}",e.file.name)),t.append(o,n)}),this.options.parametersBeforeFiles&&o()}if(n.upload.onprogress=t=>{let o=Math.round(t.lengthComputable?100*t.loaded/t.total:0);this._onProgressItem(e,o)},n.onload=()=>{let t=this._parseHeaders(n.getAllResponseHeaders()),o=this._transformResponse(n.response,t);this["_on"+(this._isSuccessCode(n.status)?"Success":"Error")+"Item"](e,o,n.status,t),this._onCompleteItem(e,o,n.status,t)},n.onerror=()=>{let t=this._parseHeaders(n.getAllResponseHeaders()),o=this._transformResponse(n.response,t);this._onErrorItem(e,o,n.status,t),this._onCompleteItem(e,o,n.status,t)},n.onabort=()=>{let t=this._parseHeaders(n.getAllResponseHeaders()),o=this._transformResponse(n.response,t);this._onCancelItem(e,o,n.status,t),this._onCompleteItem(e,o,n.status,t)},n.open(e.method,e.url,!0),n.withCredentials=e.withCredentials,this.options.headers)for(let i of this.options.headers)n.setRequestHeader(i.name,i.value);if(e.headers.length)for(let i of e.headers)n.setRequestHeader(i.name,i.value);this.authToken&&n.setRequestHeader(this.authTokenHeader,this.authToken),n.onreadystatechange=function(){n.readyState==XMLHttpRequest.DONE&&o.response.emit(n.responseText)},this.options.formatDataFunctionIsAsync?t.then(e=>n.send(JSON.stringify(e))):n.send(t),this._render()}_getTotalProgress(e=0){if(this.options.removeAfterUpload)return e;let t=this.getNotUploadedItems().length,o=100/this.queue.length;return Math.round((t?this.queue.length-t:this.queue.length)*o+e*o/100)}_getFilters(e){if(!e)return this.options.filters;if(Array.isArray(e))return e;if("string"==typeof e){let t=e.match(/[^\s,]+/g);return this.options.filters.filter(e=>-1!==t.indexOf(e.name))}return this.options.filters}_render(){}_queueLimitFilter(){return void 0===this.options.queueLimit||this.queue.length<this.options.queueLimit}_isValidFile(e,t,o){return this._failFilterIndex=-1,!t.length||t.every(t=>(this._failFilterIndex++,t.fn.call(this,e,o)))}_isSuccessCode(e){return e>=200&&e<300||304===e}_transformResponse(e,t){return e}_parseHeaders(e){let t,o,n,i={};return e?(e.split("\n").map(e=>{n=e.indexOf(":"),t=e.slice(0,n).trim().toLowerCase(),o=e.slice(n+1).trim(),t&&(i[t]=i[t]?i[t]+", "+o:o)}),i):i}_onWhenAddingFileFailed(e,t,o){this.onWhenAddingFileFailed(e,t,o)}_onAfterAddingFile(e){this.onAfterAddingFile(e)}_onAfterAddingAll(e){this.onAfterAddingAll(e)}_onBeforeUploadItem(e){e._onBeforeUpload(),this.onBeforeUploadItem(e)}_onBuildItemForm(e,t){e._onBuildForm(t),this.onBuildItemForm(e,t)}_onProgressItem(e,t){let o=this._getTotalProgress(t);this.progress=o,e._onProgress(t),this.onProgressItem(e,t),this.onProgressAll(o),this._render()}_onSuccessItem(e,t,o,n){e._onSuccess(t,o,n),this.onSuccessItem(e,t,o,n)}_onCancelItem(e,t,o,n){e._onCancel(t,o,n),this.onCancelItem(e,t,o,n)}}let u=(()=>{class e{constructor(e){this.onFileSelected=new n.o,this.element=e}getOptions(){return this.uploader.options}getFilters(){return{}}isEmptyAfterSelection(){return!!this.element.nativeElement.attributes.multiple}onChange(){let e=this.element.nativeElement.files,t=this.getOptions(),o=this.getFilters();this.uploader.addToQueue(e,t,o),this.onFileSelected.emit(e),this.isEmptyAfterSelection()&&(this.element.nativeElement.value="")}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.m))},e.\u0275dir=n.Hb({type:e,selectors:[["","ng2FileSelect",""]],hostBindings:function(e,t){1&e&&n.dc("change",function(){return t.onChange()})},inputs:{uploader:"uploader"},outputs:{onFileSelected:"onFileSelected"}}),e})(),c=(()=>{class e{constructor(e){this.fileOver=new n.o,this.onFileDrop=new n.o,this.element=e}getOptions(){return this.uploader.options}getFilters(){return{}}onDrop(e){let t=this._getTransfer(e);if(!t)return;let o=this.getOptions(),n=this.getFilters();this._preventAndStop(e),this.uploader.addToQueue(t.files,o,n),this.fileOver.emit(!1),this.onFileDrop.emit(t.files)}onDragOver(e){let t=this._getTransfer(e);this._haveFiles(t.types)&&(t.dropEffect="copy",this._preventAndStop(e),this.fileOver.emit(!0))}onDragLeave(e){this.element&&e.currentTarget===this.element[0]||(this._preventAndStop(e),this.fileOver.emit(!1))}_getTransfer(e){return e.dataTransfer?e.dataTransfer:e.originalEvent.dataTransfer}_preventAndStop(e){e.preventDefault(),e.stopPropagation()}_haveFiles(e){return!!e&&(e.indexOf?-1!==e.indexOf("Files"):!!e.contains&&e.contains("Files"))}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.m))},e.\u0275dir=n.Hb({type:e,selectors:[["","ng2FileDrop",""]],hostBindings:function(e,t){1&e&&n.dc("drop",function(e){return t.onDrop(e)})("dragover",function(e){return t.onDragOver(e)})("dragleave",function(e){return t.onDragLeave(e)})},inputs:{uploader:"uploader"},outputs:{fileOver:"fileOver",onFileDrop:"onFileDrop"}}),e})(),p=(()=>{class e{}return e.\u0275mod=n.Kb({type:e}),e.\u0275inj=n.Jb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})()},"9Rx7":function(e,t,o){"use strict";o.d(t,"a",function(){return p});var n=o("3Pt+"),i=o("quSY"),r=o("fXoL"),s=o("tk/3"),a=o("Wl7B"),l=o("qfBg"),u=o("gA3Z"),c=o("Ludi");let p=(()=>{class e{constructor(e,t,o,r){this.http=e,this.gridService=t,this.userService=o,this.modalService=r,this.locationInformation=new n.k({city:new n.h,country:new n.h(""),state:new n.h(""),base:new n.h("")}),this.subscriptions=new i.a,this.constantSubscriptions=new i.a,this.id=null,this.city="",this.country="",this.state="",this.base="",this.gridService.setGridType(13)}showSelectedLocationData(){const e=this.gridService.getSelectedRow();e&&(e.city&&this.locationInformation.controls.city.setValue(e.city),e.state&&this.locationInformation.controls.state.setValue(e.state),e.country&&this.locationInformation.controls.country.setValue(e.country),e.base&&this.locationInformation.controls.base.setValue(e.base),this.id=e.id?e.id:null)}checkLocationData(){this.city=this.locationInformation.controls.city.value,this.state=this.locationInformation.controls.state.value,this.country=this.locationInformation.controls.country.value,this.base=this.locationInformation.controls.base.value,""!==this.city&&""!==this.state&&""!==this.country&&""!==this.base?this.id?this.updateLocation():this.addLocation():this.modalService.setModalContext("Improper Format for the Location")}addLocation(){this.userService.addLocationData(this.city,this.state,this.country,this.base).subscribe(e=>{this.modalService.setModalContext("New Location has been added to the database"),this.resetValues()})}updateLocation(){this.userService.updateLocationData(this.id,this.city,this.state,this.country,this.base).subscribe(e=>{this.modalService.setModalContext("Location has been updated in the database"),this.resetValues()})}resetValues(){this.locationInformation.reset(),this.resetSubscriptions(),this.id=null,this.city="",this.country="",this.state="",this.base="",this.gridService.setGridType(13)}ngOnInit(){this.constantSubscriptions.add(this.gridService.rowSelected.subscribe(e=>{e?this.showSelectedLocationData():this.resetValues()}))}resetSubscriptions(){this.subscriptions.unsubscribe()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.constantSubscriptions.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.Mb(s.b),r.Mb(a.a),r.Mb(l.a),r.Mb(u.a))},e.\u0275cmp=r.Gb({type:e,selectors:[["app-site-management"]],decls:36,vars:2,consts:[[1,"flexContainer"],[1,"flexElement"],[1,"description"],[1,"flexContainer",3,"formGroup"],[1,"input-group","flexElement"],["formControlName","city","type","text","id","city","placeholder",""],["formControlName","state","placeholder","","id","state","type","text"],["formControlName","country","placeholder","","id","country","type","text"],["formControlName","base","type","text","id","base","placeholder",""],["type","submit","id","submitButton",1,"btn","btn-default",3,"disabled","click"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"h3"),r.Sb(3,"b"),r.Sb(4,"strong"),r.Hc(5,"Location Manipulation"),r.Rb(),r.Rb(),r.Rb(),r.Sb(6,"div",2),r.Sb(7,"span",2),r.Hc(8,"Add a new location by filling out the appropriate fields."),r.Rb(),r.Rb(),r.Sb(9,"div",2),r.Sb(10,"span",2),r.Hc(11,"Edit an existing location by double clicking an existing location from the table."),r.Rb(),r.Rb(),r.Nb(12,"div"),r.Rb(),r.Sb(13,"div",1),r.Sb(14,"form",3),r.Sb(15,"div",4),r.Sb(16,"label"),r.Hc(17," City: "),r.Rb(),r.Nb(18,"input",5),r.Rb(),r.Sb(19,"div",4),r.Sb(20,"label"),r.Hc(21," State: "),r.Rb(),r.Nb(22,"input",6),r.Rb(),r.Sb(23,"div",4),r.Sb(24,"label"),r.Hc(25," Country: "),r.Rb(),r.Nb(26,"input",7),r.Rb(),r.Sb(27,"div",4),r.Sb(28,"label"),r.Hc(29," base: "),r.Rb(),r.Nb(30,"input",8),r.Rb(),r.Sb(31,"div",1),r.Sb(32,"button",9),r.dc("click",function(){return t.checkLocationData()}),r.Hc(33," Submit Location "),r.Rb(),r.Rb(),r.Sb(34,"div",1),r.Nb(35,"app-grid"),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.zb(14),r.nc("formGroup",t.locationInformation),r.zb(18),r.nc("disabled",!t.locationInformation.valid))},directives:[n.H,n.t,n.l,n.c,n.s,n.j,c.a],styles:["label[_ngcontent-%COMP%]{min-width:150px;align-content:flex-start}#base[_ngcontent-%COMP%], #city[_ngcontent-%COMP%], #country[_ngcontent-%COMP%], #state[_ngcontent-%COMP%]{min-width:100px}.description[_ngcontent-%COMP%]{align-content:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;-webkit-text-fill-color:#666}"]}),e})()},"9ppp":function(e,t,o){"use strict";o.d(t,"a",function(){return n});const n=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},A2Dp:function(e,t,o){"use strict";o.d(t,"a",function(){return s});var n=o("fXoL"),i=o("Wl7B"),r=o("Ludi");let s=(()=>{class e{constructor(e){this.gridService=e,this.gridService.setGridType(7)}ngOnDestroy(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(i.a))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-wearer-home-screen"]],decls:9,vars:0,consts:[[1,"flexContainer"],[1,"flexElement"]],template:function(e,t){1&e&&(n.Sb(0,"div",0),n.Sb(1,"div",1),n.Sb(2,"h3"),n.Sb(3,"b"),n.Sb(4,"strong"),n.Hc(5,"My Badges"),n.Rb(),n.Rb(),n.Rb(),n.Nb(6,"div"),n.Rb(),n.Sb(7,"div",1),n.Nb(8,"app-grid"),n.Rb(),n.Rb())},directives:[r.a],styles:[""]}),e})()},AazU:function(e,t,o){"use strict";o.d(t,"a",function(){return l});var n=o("fXoL"),i=o("EFyh"),r=o("ofXK");const s=function(){return{padding:"10px"}},a=function(){return{"font-size":"larger"}};let l=(()=>{class e{constructor(e){this.loginService=e}OnSignOut(){this.loginService.disconnectActiveUser()}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(i.a))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-sign-out"]],decls:9,vars:4,consts:[[1,"flexContainer"],[1,"flexElement",3,"ngStyle"],[3,"ngStyle"],[1,"flexElement"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(n.Sb(0,"div",0),n.Sb(1,"div",1),n.Sb(2,"label",2),n.Sb(3,"b"),n.Sb(4,"strong"),n.Hc(5,"Are you sure you want to sign out?"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(6,"div",3),n.Sb(7,"button",4),n.dc("click",function(){return t.OnSignOut()}),n.Hc(8,"Sign Out"),n.Rb(),n.Rb(),n.Rb()),2&e&&(n.zb(1),n.nc("ngStyle",n.qc(2,s)),n.zb(1),n.nc("ngStyle",n.qc(3,a)))},directives:[r.x],styles:[".flexContainer[_ngcontent-%COMP%]{flex-direction:column}.flexContainer[_ngcontent-%COMP%], .flexElement[_ngcontent-%COMP%]{display:flex;align-items:center}.description[_ngcontent-%COMP%]{align-content:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;-webkit-text-fill-color:#666}"]}),e})()},AytR:function(e,t,o){"use strict";o.d(t,"a",function(){return n});const n={production:!0,apiUrl:"https://xplodemo.Longwaveinc.com/api"}},BFxc:function(e,t,o){"use strict";o.d(t,"a",function(){return s});var n=o("7o/Q"),i=o("4I5i"),r=o("EY2u");function s(e){return function(t){return 0===e?Object(r.b)():t.lift(new a(e))}}class a{constructor(e){if(this.total=e,this.total<0)throw new i.a}call(e,t){return t.subscribe(new l(e,this.total))}}class l extends n.a{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,o=this.total,n=this.count++;t.length<o?t.push(e):t[n%o]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const o=this.count>=this.total?this.total:this.count,n=this.ring;for(let i=0;i<o;i++){const i=t++%o;e.next(n[i])}}e.complete()}}},"Bx/L":function(e,t,o){"use strict";o.d(t,"a",function(){return c});var n=o("JIr8"),i=o("vkgz"),r=o("AytR"),s=o("fXoL"),a=o("tk/3"),l=o("qfBg"),u=o("EFyh");let c=(()=>{class e{constructor(e,t,o){this.http=e,this.userService=t,this.loginService=o}handleError(e){this.loginService.setErrorCode(e.status),401===e.status&&this.loginService.getLoggedInValue()&&this.logout()}issueBadgeData(e,t,o,i){const s=this.userService.getActiveUser();return this.http.post(r.a.apiUrl+"/issueBadge",{badgeSerialNumber:e,badgeStatus:t,selectedUser:o,issuedTime:i,activeUserId:s.userId}).pipe(Object(n.a)(e=>this.handleError(e)))}getUserList(){const e=this.userService.getActiveUser().userId;return this.http.get(r.a.apiUrl+"/getUsers"+e).pipe(Object(n.a)(e=>this.handleError(e)))}getSelectedUser(e){const t=this.userService.getActiveUser();return this.http.post(r.a.apiUrl+"/getSelectedUser",{userId:e,activeUserId:t.userId}).pipe(Object(n.a)(e=>this.handleError(e)))}getBadgeList(e){const t=this.userService.getActiveUser();return this.http.post(r.a.apiUrl+"/getBadges",{badgeStatus:e,activeUserId:t.userId}).pipe(Object(n.a)(e=>this.handleError(e)))}getAllBadges(){const e=this.userService.getActiveUser();return this.http.post(r.a.apiUrl+"/badge",{activeUserId:e.userId}).pipe(Object(n.a)(e=>this.handleError(e)))}getWearerBadgeList(e){const t=this.userService.getActiveUser();return this.http.post(r.a.apiUrl+"/getWearerBadgesByStatus",{badgeStatus:e,activeUserId:t.userId}).pipe(Object(n.a)(e=>this.handleError(e)))}getSubordinantBadgeList(e){const t=this.userService.getActiveUser();return this.http.post(r.a.apiUrl+"/getSubordinantBadgesByStatus",{badgeStatus:e,activeUserId:t.userId}).pipe(Object(n.a)(e=>this.handleError(e)))}getLocationList(){const e=this.userService.getActiveUser().userId;return this.http.get(r.a.apiUrl+"/getLocation"+e).pipe(Object(n.a)(e=>this.handleError(e)))}getBadge(e){const t=this.userService.getActiveUser();return this.http.post(r.a.apiUrl+"/getSpecificBadge",{badgeSerialNumber:e,activeUserId:t.userId}).pipe(Object(n.a)(e=>this.handleError(e)))}getAnalyst(e){const t=this.userService.getActiveUser();return this.http.post(r.a.apiUrl+"/getBadgeAnalyst",{badgeSerialNumber:e,activeUserId:t.userId}).pipe(Object(n.a)(e=>this.handleError(e)))}getBadgeByStatus(e){const t=this.userService.getActiveUser();return this.http.post(r.a.apiUrl+"/getBadgesByStatus",{badgeStatus:e,activeUserId:t.userId}).pipe(Object(n.a)(e=>this.handleError(e)))}getAnalyzedTokenReportResponse(e,t){const o=this.userService.getActiveUser();return this.http.post(r.a.apiUrl+"/getAnalyzedReports",{badgeSerialNumber:e,token_id:t,activeUserId:o.userId}).pipe(Object(n.a)(e=>this.handleError(e)))}turnInBadgeData(e,t,o,i,s,a,l){const u=this.userService.getActiveUser();return this.http.post(r.a.apiUrl+"/turnInBadge",{badgeSerialNumber:e,turnedInTime:t,celsiusTemp:o,fahrenheitTemp:i,vaporsExposed:s,relativeHumidity:a,notes:l,activeUserId:u.userId}).pipe(Object(n.a)(e=>this.handleError(e)))}addBadgeData(e,t,o,s,a,l,u,c,p){const d=this.userService.getActiveUser();return this.http.post(r.a.apiUrl+"/addBadge",{badgeSerialNumber:e,dataId:t,assignedUser:o,badgeStatus:s,activatedTime:a,turnedInTime:l,batchGroup:u,numberOfTolkens:c,expirationDate:p,activeUserId:d.userId}).pipe(Object(n.a)(e=>this.handleError(e)),Object(i.a)(e=>{console.log(e)}))}editBadgeData(e,t,o,s,a,l,u,c,p,d,h){const f=this.userService.getActiveUser();return this.http.post(r.a.apiUrl+"/editBadge",{badgeSerialNumber:e,assignedUser:t,badgeStatus:o,activatedTime:s,turnedInTime:a,temperatureCelsius:l,temperatureFahrenheit:u,vaporsExposed:p,relativeHumidity:c,notes:d,badgeId:h,activeUserId:f.userId}).pipe(Object(n.a)(e=>this.handleError(e)),Object(i.a)(e=>{console.log(e)}))}logout(){this.loginService.backendForceLogout()}}return e.\u0275fac=function(t){return new(t||e)(s.ac(a.b),s.ac(l.a),s.ac(u.a))},e.\u0275prov=s.Ib({token:e,factory:e.\u0275fac}),e})()},Cfvw:function(e,t,o){"use strict";o.d(t,"a",function(){return p});var n=o("HDdC"),i=o("SeVD"),r=o("quSY"),s=o("kJWO"),a=o("jZKg"),l=o("Lhse"),u=o("c2HN"),c=o("I55L");function p(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[s.a]}(e))return function(e,t){return new n.a(o=>{const n=new r.a;return n.add(t.schedule(()=>{const i=e[s.a]();n.add(i.subscribe({next(e){n.add(t.schedule(()=>o.next(e)))},error(e){n.add(t.schedule(()=>o.error(e)))},complete(){n.add(t.schedule(()=>o.complete()))}}))})),n})}(e,t);if(Object(u.a)(e))return function(e,t){return new n.a(o=>{const n=new r.a;return n.add(t.schedule(()=>e.then(e=>{n.add(t.schedule(()=>{o.next(e),n.add(t.schedule(()=>o.complete()))}))},e=>{n.add(t.schedule(()=>o.error(e)))}))),n})}(e,t);if(Object(c.a)(e))return Object(a.a)(e,t);if(function(e){return e&&"function"==typeof e[l.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new n.a(o=>{const n=new r.a;let i;return n.add(()=>{i&&"function"==typeof i.return&&i.return()}),n.add(t.schedule(()=>{i=e[l.a](),n.add(t.schedule(function(){if(o.closed)return;let e,t;try{const o=i.next();e=o.value,t=o.done}catch(n){return void o.error(n)}t?o.complete():(o.next(e),this.schedule())}))})),n})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof n.a?e:new n.a(Object(i.a)(e))}},D0XW:function(e,t,o){"use strict";o.d(t,"a",function(){return l});var n=o("quSY");class i extends n.a{constructor(e,t){super()}schedule(e,t=0){return this}}class r extends i{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const o=this.id,n=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(n,o,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this}requestAsyncId(e,t,o=0){return setInterval(e.flush.bind(e,this),o)}recycleAsyncId(e,t,o=0){if(null!==o&&this.delay===o&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(e,t);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let o=!1,n=void 0;try{this.work(e)}catch(i){o=!0,n=!!i&&i||new Error(i)}if(o)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,o=t.actions,n=o.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&o.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let s=(()=>{class e{constructor(t,o=e.now){this.SchedulerAction=t,this.now=o}schedule(e,t=0,o){return new this.SchedulerAction(this,e).schedule(o,t)}}return e.now=()=>Date.now(),e})();class a extends s{constructor(e,t=s.now){super(e,()=>a.delegate&&a.delegate!==this?a.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,o){return a.delegate&&a.delegate!==this?a.delegate.schedule(e,t,o):super.schedule(e,t,o)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let o;this.active=!0;do{if(o=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,o){for(;e=t.shift();)e.unsubscribe();throw o}}}const l=new a(r)},DH7j:function(e,t,o){"use strict";o.d(t,"a",function(){return n});const n=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))()},EFyh:function(e,t,o){"use strict";o.d(t,"a",function(){return f});var n=o("tk/3"),i=o("2Vo4"),r=o("z6cu"),s=o("JIr8"),a=o("SxV6"),l=o("+lv+"),u=o("AytR"),c=o("fXoL"),p=o("qfBg"),d=o("tyNb"),h=o("gA3Z");let f=(()=>{class e{constructor(e,t,o,n,r){this.httpClient=e,this.userService=t,this.router=o,this.idle=n,this.modalService=r,this.maintTime=new i.a(null),this.maintEndTime=new i.a(null),this.logoutEvent=new i.a(!1),this.isLoggedIn=!1,this.authDefaultResponse=class{static getResponse(){return{userId:-1,role:-1,group:-1,locationId:-1,username:null,hippaFlag:!1,governmentFlag:!1,accountLocked:!1,passwordExpiredDate:null,maintenanceTime:null,maintenanceEndTime:null,routes:null}}}.getResponse(),this.authUser=new i.a(this.authDefaultResponse),this.maintenanceTime=null,this.errorCode=0}static handleError(e){let t="An unknown error occurred!";if(!e.error||!e.error.error)return Object(r.a)(t);switch(e.error.error.message){case"DB_CONNECTION_ERROR":t="There was an error attempting to connect to the database.";break;case"USERNAME_NOT_FOUND":t="This username does not exist.";break;case"INVALID_PASSWORD":t="This password is not correct.";break;case"MAINTENANCE":t="The Site is currently under maintenance.";break;case"LOCKED":t="The user account has been locked. Contact your administrator."}return Object(r.a)(t)}getLoggedInValue(){return this.isLoggedIn}getErrorCode(){return this.errorCode}getReturnUrl(){return this.returnUrl}setErrorCode(e){this.errorCode=e,this.errorCode>399&&(this.returnUrl=this.router.url,this.router.navigate(["/not-found"]))}checkCredentials(t,o){this.httpClient.post(u.a.apiUrl+"/auth",{username:t,password:o,endpointAddress:this.ipAddress}).pipe(Object(s.a)(e.handleError)).subscribe(e=>{this.handleAuthentication(e)},e=>{console.warn(e.message),this.setErrorCode(e.status),this.handleAuthentication(void 0)})}changeCredentials(t){this.httpClient.put(u.a.apiUrl+"/auth",{userId:this.authUser.value.userId,newPassword:t}).pipe(Object(s.a)(e.handleError)).subscribe(e=>{1===e.affectedRows&&1===e.changedRows&&this.authUser.next({userId:-1,role:this.authUser.value.role,group:this.authUser.value.group,locationId:this.authUser.value.locationId,username:this.authUser.value.username,hippaFlag:!0,governmentFlag:!0,accountLocked:!1,passwordExpiredDate:null,maintenanceTime:null,maintenanceEndTime:null,routes:null})})}acceptGovernmentWarning(){this.authUser.next(class{static getResponse(){return{userId:void 0,role:-1,group:-1,locationId:-1,username:null,hippaFlag:!1,governmentFlag:!0,accountLocked:!1,passwordExpiredDate:null,maintenanceTime:null,maintenanceEndTime:null,routes:null}}}.getResponse())}acceptHippaAgreement(){this.authUser.next(class{static getResponse(){return{userId:void 0,role:-1,group:-1,locationId:-1,username:null,hippaFlag:!0,governmentFlag:!0,accountLocked:!1,passwordExpiredDate:null,maintenanceTime:null,maintenanceEndTime:null,routes:null}}}.getResponse())}setMaintValue(e){this.maintenanceTime=e,this.maintTime.next(this.maintenanceTime)}setMaintEndTimeValue(e){this.maintenanceEndTime=e,this.maintEndTime.next(this.maintenanceEndTime)}backendLogOut(){const t=this.userService.getActiveUser();return this.httpClient.post(u.a.apiUrl+"/logout",{activeUserId:t.userId}).pipe(Object(s.a)(e.handleError))}disconnectActiveUser(){this.backendLogOut().subscribe(),this.router.navigate(["/login"]).then(()=>{this.setLoggedIn(!1),this.authUser.next(this.authDefaultResponse),this.userService.disconnectActiveUser(),this.idle.stop()}),this.logoutEvent.next(!0)}setLoggedIn(e){this.isLoggedIn!==e&&(console.log("isLoggedIn changing from "+this.isLoggedIn+" to "+e+"."),this.isLoggedIn=e)}ConvertTimeMilliseconds(e,t){return e+36e5*t}handleAuthentication(e){if(void 0===e||void 0===e[0])return this.setLoggedIn(!1),void this.authUser.next({userId:0,role:this.authUser.value.role,group:this.authUser.value.group,locationId:this.authUser.value.locationId,username:this.authUser.value.username,hippaFlag:this.authUser.value.hippaFlag,governmentFlag:this.authUser.value.governmentFlag,accountLocked:this.authUser.value.accountLocked,passwordExpiredDate:this.authUser.value.passwordExpiredDate,maintenanceTime:this.authUser.value.maintenanceTime,maintenanceEndTime:this.authUser.value.maintenanceEndTime,routes:this.authUser.value.routes});const{role:t,group:o,location_id:n,id:i,username:r,account_locked:s,date_password_expires:a,routes:l,jwt:u}=e[0];if(1===Number(s))return this.setLoggedIn(!1),void this.authUser.next({userId:0,role:this.authUser.value.role,group:this.authUser.value.group,locationId:this.authUser.value.locationId,username:this.authUser.value.username,hippaFlag:this.authUser.value.hippaFlag,governmentFlag:this.authUser.value.governmentFlag,accountLocked:!0,passwordExpiredDate:this.authUser.value.passwordExpiredDate,maintenanceTime:this.authUser.value.maintenanceTime,maintenanceEndTime:this.authUser.value.maintenanceEndTime,routes:this.authUser.value.routes});if(new Date(a).valueOf()<Date.now().valueOf())return this.setLoggedIn(!1),void this.authUser.next({userId:i,role:t,group:o,locationId:n,username:r,hippaFlag:this.authUser.value.hippaFlag,governmentFlag:this.authUser.value.governmentFlag,accountLocked:s,passwordExpiredDate:a,maintenanceTime:this.maintenanceTime,maintenanceEndTime:this.maintenanceEndTime,routes:l});if(8!==t&&6!==t&&null!==this.maintenanceTime){const e=Date.parse(this.maintenanceTime),t=Date.now(),o=this.ConvertTimeMilliseconds(e,-2);if(t>e)return this.modalService.setModalContext(null===this.maintenanceEndTime?"The site is now currently under Maintenance.":"The Site is currently under maintenance until: "+this.maintenanceEndTime),this.setLoggedIn(!1),void this.authUser.next({userId:0,role:this.authUser.value.role,group:this.authUser.value.group,locationId:this.authUser.value.locationId,username:this.authUser.value.username,hippaFlag:this.authUser.value.hippaFlag,governmentFlag:this.authUser.value.governmentFlag,accountLocked:this.authUser.value.accountLocked,passwordExpiredDate:this.authUser.value.passwordExpiredDate,maintenanceTime:this.maintenanceTime,maintenanceEndTime:this.authUser.value.maintenanceEndTime,routes:this.authUser.value.routes});t>o&&this.modalService.setModalContext("Site will be undergoing Maintenance at: ("+this.maintenanceTime+")")}this.setLoggedIn(!0),this.userService.userAuthToken=u,this.userService.setActiveUser(t,n,i,o,r,s,a,this.maintenanceTime,this.maintenanceEndTime,l),this.authUser.next({userId:i,role:t,group:o,locationId:n,username:r,hippaFlag:this.authUser.value.hippaFlag,governmentFlag:this.authUser.value.governmentFlag,accountLocked:s,passwordExpiredDate:a,maintenanceTime:this.maintenanceTime,maintenanceEndTime:this.maintenanceEndTime,routes:l}),this.autoLogout(10,900)}setMaintenanceLogOut(e,t){setTimeout(()=>this.maintenanceLogout(),t-e)}autoLogout(e,t){this.idle.setIdle(e),this.idle.setTimeout(t),this.idle.setInterrupts(l.a),this.idle.onTimeout.pipe(Object(a.a)()).subscribe(()=>this.logout(),e=>console.error(e)),this.idle.watch()}getMaintenanceTime(){return this.httpClient.get(u.a.apiUrl+"/maintenance").pipe(Object(s.a)(e.handleError))}scheduleMaintenance(t,o){console.log({scheduledTime:t,endTime:o});let i=(new n.d).set("maintenanceTime",t).set("maintenanceEndTime",o);return this.httpClient.put(u.a.apiUrl+"/maintenance",{params:i}).pipe(Object(s.a)(e.handleError))}backendForceLogout(){this.router.navigate(["/login"]).then(()=>{this.setLoggedIn(!1),this.authUser.next(this.authDefaultResponse),this.userService.disconnectActiveUser(),this.idle.stop()})}logout(){console.log("Disconnecting active user."),this.disconnectActiveUser()}maintenanceLogout(){if(!this.isLoggedIn)return;const e=this.userService.getActiveUser();this.setMaintEndTimeValue(this.maintenanceEndTime),this.setMaintValue(this.maintenanceTime),(null==e||8!==e.role&&6!==e.role)&&this.disconnectActiveUser()}isUserLoggedIn(){return this.isLoggedIn}}return e.\u0275fac=function(t){return new(t||e)(c.ac(n.b),c.ac(p.a),c.ac(d.a),c.ac(l.b),c.ac(h.a))},e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac}),e})()},EY2u:function(e,t,o){"use strict";o.d(t,"a",function(){return i}),o.d(t,"b",function(){return r});var n=o("HDdC");const i=new n.a(e=>e.complete());function r(e){return e?function(e){return new n.a(t=>e.schedule(()=>t.complete()))}(e):i}},Egam:function(e,t,o){"use strict";o.d(t,"a",function(){return m}),o.d(t,"b",function(){return b});var n=o("fXoL"),i=o("3Pt+"),r=o("ofXK");function s(e,t){if(1&e&&(n.Sb(0,"span"),n.Hc(1),n.Rb()),2&e){const e=n.gc();n.zb(1),n.Ic(e._placeholder)}}function a(e,t){if(1&e){const e=n.Tb();n.Sb(0,"span",14),n.Hc(1),n.Sb(2,"a",15),n.dc("click",function(o){n.xc(e);const i=t.$implicit;return n.gc().onItemClick(o,i)}),n.Hc(3,"x"),n.Rb(),n.Rb()}if(2&e){const e=t.$implicit,o=t.index,i=n.gc();n.nc("hidden",o>i._settings.itemsShowLimit-1),n.zb(1),n.Jc(" ",e.text," ")}}function l(e,t){if(1&e&&(n.Sb(0,"span",16),n.Hc(1),n.Rb()),2&e){const e=n.gc();n.zb(1),n.Jc("+",e.itemShowRemaining(),"")}}function u(e,t){if(1&e){const e=n.Tb();n.Sb(0,"li",17),n.dc("click",function(){return n.xc(e),n.gc().toggleSelectAll()}),n.Nb(1,"input",18),n.Sb(2,"div"),n.Hc(3),n.Rb(),n.Rb()}if(2&e){const e=n.gc();n.zb(1),n.nc("checked",e.isAllItemsSelected())("disabled",e.disabled||e.isLimitSelectionReached()),n.zb(2),n.Ic(e.isAllItemsSelected()?e._settings.unSelectAllText:e._settings.selectAllText)}}function c(e,t){if(1&e){const e=n.Tb();n.Sb(0,"li",19),n.Sb(1,"input",20),n.dc("ngModelChange",function(t){return n.xc(e),n.gc().filter.text=t})("ngModelChange",function(t){return n.xc(e),n.gc().onFilterTextChange(t)}),n.Rb(),n.Rb()}if(2&e){const e=n.gc();n.zb(1),n.nc("readOnly",e.disabled)("placeholder",e._settings.searchPlaceholderText)("ngModel",e.filter.text)}}function p(e,t){if(1&e){const e=n.Tb();n.Sb(0,"li",21),n.dc("click",function(o){n.xc(e);const i=t.$implicit;return n.gc().onItemClick(o,i)}),n.Nb(1,"input",22),n.Sb(2,"div"),n.Hc(3),n.Rb(),n.Rb()}if(2&e){const e=t.$implicit,o=n.gc();n.zb(1),n.nc("checked",o.isSelected(e))("disabled",o.disabled||o.isLimitSelectionReached()&&!o.isSelected(e)||e.isDisabled),n.zb(2),n.Ic(e.text)}}function d(e,t){if(1&e&&(n.Sb(0,"li",23),n.Sb(1,"h5"),n.Hc(2),n.Rb(),n.Rb()),2&e){const e=n.gc();n.zb(2),n.Ic(e._settings.noDataAvailablePlaceholderText)}}class h{constructor(e){"string"!=typeof e&&"number"!=typeof e||(this.id=this.text=e,this.isDisabled=!1),"object"==typeof e&&(this.id=e.id,this.text=e.text,this.isDisabled=e.isDisabled)}}const f={provide:i.r,useExisting:Object(n.U)(()=>m),multi:!0},g=()=>{};let m=(()=>{let e=class{constructor(e){this.cdr=e,this._data=[],this.selectedItems=[],this.isDropdownOpen=!0,this._placeholder="Select",this._sourceDataType=null,this._sourceDataFields=[],this.filter=new h(this.data),this.defaultSettings={singleSelection:!1,idField:"id",textField:"text",disabledField:"isDisabled",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!1,limitSelection:-1,clearSearchFilter:!0,maxHeight:197,itemsShowLimit:999999999999,searchPlaceholderText:"Search",noDataAvailablePlaceholderText:"No data available",closeDropDownOnSelection:!1,showSelectedItemsAtTop:!1,defaultOpen:!1,allowRemoteDataSearch:!1},this.disabled=!1,this.onFilterChange=new n.o,this.onDropDownClose=new n.o,this.onSelect=new n.o,this.onDeSelect=new n.o,this.onSelectAll=new n.o,this.onDeSelectAll=new n.o,this.onTouchedCallback=g,this.onChangeCallback=g}set placeholder(e){this._placeholder=e||"Select"}set settings(e){this._settings=e?Object.assign(this.defaultSettings,e):Object.assign(this.defaultSettings)}set data(e){if(e){const t=e[0];this._sourceDataType=typeof t,this._sourceDataFields=this.getFields(t),this._data=e.map(e=>new h("string"==typeof e||"number"==typeof e?e:{id:e[this._settings.idField],text:e[this._settings.textField],isDisabled:e[this._settings.disabledField]}))}else this._data=[]}onFilterTextChange(e){this.onFilterChange.emit(e)}onItemClick(e,t){if(this.disabled||t.isDisabled)return!1;const o=this.isSelected(t),n=-1===this._settings.limitSelection||this._settings.limitSelection>0&&this.selectedItems.length<this._settings.limitSelection;o?this.removeSelected(t):n&&this.addSelected(t),this._settings.singleSelection&&this._settings.closeDropDownOnSelection&&this.closeDropdown()}writeValue(e){if(null!=e&&e.length>0)if(this._settings.singleSelection)try{if(e.length>=1){const t=e[0];this.selectedItems=[new h("string"==typeof t||"number"==typeof t?t:{id:t[this._settings.idField],text:t[this._settings.textField],isDisabled:t[this._settings.disabledField]})]}}catch(t){}else{const t=e.map(e=>new h("string"==typeof e||"number"==typeof e?e:{id:e[this._settings.idField],text:e[this._settings.textField],isDisabled:e[this._settings.disabledField]}));this.selectedItems=this._settings.limitSelection>0?t.splice(0,this._settings.limitSelection):t}else this.selectedItems=[];this.onChangeCallback(e)}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}onTouched(){this.closeDropdown(),this.onTouchedCallback()}trackByFn(e,t){return t.id}isSelected(e){let t=!1;return this.selectedItems.forEach(o=>{e.id===o.id&&(t=!0)}),t}isLimitSelectionReached(){return this._settings.limitSelection===this.selectedItems.length}isAllItemsSelected(){const e=this._data.filter(e=>e.isDisabled).length;return!((!this.data||0===this.data.length)&&this._settings.allowRemoteDataSearch)&&this._data.length===this.selectedItems.length+e}showButton(){return!(this._settings.singleSelection||this._settings.limitSelection>0)}itemShowRemaining(){return this.selectedItems.length-this._settings.itemsShowLimit}addSelected(e){this._settings.singleSelection?(this.selectedItems=[],this.selectedItems.push(e)):this.selectedItems.push(e),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onSelect.emit(this.emittedValue(e))}removeSelected(e){this.selectedItems.forEach(t=>{e.id===t.id&&this.selectedItems.splice(this.selectedItems.indexOf(t),1)}),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onDeSelect.emit(this.emittedValue(e))}emittedValue(e){const t=[];if(Array.isArray(e))e.map(e=>{t.push(this.objectify(e))});else if(e)return this.objectify(e);return t}objectify(e){if("object"===this._sourceDataType){const t={};return t[this._settings.idField]=e.id,t[this._settings.textField]=e.text,this._sourceDataFields.includes(this._settings.disabledField)&&(t[this._settings.disabledField]=e.isDisabled),t}return"number"===this._sourceDataType?Number(e.id):e.text}toggleDropdown(e){e.preventDefault(),this.disabled&&this._settings.singleSelection||(this._settings.defaultOpen=!this._settings.defaultOpen,this._settings.defaultOpen||this.onDropDownClose.emit())}closeDropdown(){this._settings.defaultOpen=!1,this._settings.clearSearchFilter&&(this.filter.text=""),this.onDropDownClose.emit()}toggleSelectAll(){if(this.disabled)return!1;this.isAllItemsSelected()?(this.selectedItems=[],this.onDeSelectAll.emit(this.emittedValue(this.selectedItems))):(this.selectedItems=this._data.filter(e=>!e.isDisabled).slice(),this.onSelectAll.emit(this.emittedValue(this.selectedItems))),this.onChangeCallback(this.emittedValue(this.selectedItems))}getFields(e){const t=[];if("object"!=typeof e)return t;for(const o in e)t.push(o);return t}};return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.i))},e.\u0275cmp=n.Gb({type:e,selectors:[["ng-multiselect-dropdown"]],hostBindings:function(e,t){1&e&&n.dc("blur",function(){return t.onTouched()})},inputs:{disabled:"disabled",placeholder:"placeholder",settings:"settings",data:"data"},outputs:{onFilterChange:"onFilterChange",onDropDownClose:"onDropDownClose",onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll"},features:[n.yb([f])],decls:16,vars:17,consts:[["tabindex","=0",1,"multiselect-dropdown",3,"blur","clickOutside"],["tabindex","-1",1,"dropdown-btn",3,"click"],[4,"ngIf"],["class","selected-item",3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[2,"float","right !important","padding-right","4px"],["style","padding-right: 6px;",4,"ngIf"],[3,"ngClass"],[1,"dropdown-list",3,"hidden"],[1,"item1"],["class","multiselect-item-checkbox","style","border-bottom: 1px solid #ccc;padding:10px",3,"click",4,"ngIf"],["class","filter-textbox",4,"ngIf"],[1,"item2"],["class","multiselect-item-checkbox",3,"click",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],[1,"selected-item",3,"hidden"],[2,"padding-top","2px","padding-left","2px","color","white",3,"click"],[2,"padding-right","6px"],[1,"multiselect-item-checkbox",2,"border-bottom","1px solid #ccc","padding","10px",3,"click"],["type","checkbox","aria-label","multiselect-select-all",3,"checked","disabled"],[1,"filter-textbox"],["type","text","aria-label","multiselect-search",3,"readOnly","placeholder","ngModel","ngModelChange"],[1,"multiselect-item-checkbox",3,"click"],["type","checkbox","aria-label","multiselect-item",3,"checked","disabled"],[1,"no-data"]],template:function(e,t){1&e&&(n.Sb(0,"div",0),n.dc("blur",function(){return t.onTouched()})("clickOutside",function(){return t.closeDropdown()}),n.Sb(1,"div"),n.Sb(2,"span",1),n.dc("click",function(e){return t.toggleDropdown(e)}),n.Fc(3,s,2,1,"span",2),n.Fc(4,a,4,2,"span",3),n.Sb(5,"span",4),n.Fc(6,l,2,1,"span",5),n.Nb(7,"span",6),n.Rb(),n.Rb(),n.Rb(),n.Sb(8,"div",7),n.Sb(9,"ul",8),n.Fc(10,u,4,3,"li",9),n.Fc(11,c,2,3,"li",10),n.Rb(),n.Sb(12,"ul",11),n.Fc(13,p,4,3,"li",12),n.hc(14,"multiSelectFilter"),n.Fc(15,d,3,1,"li",13),n.Rb(),n.Rb(),n.Rb()),2&e&&(n.zb(1),n.Eb("disabled",t.disabled),n.zb(2),n.nc("ngIf",0==t.selectedItems.length),n.zb(1),n.nc("ngForOf",t.selectedItems)("ngForTrackBy",t.trackByFn),n.zb(2),n.nc("ngIf",t.itemShowRemaining()>0),n.zb(1),n.nc("ngClass",t._settings.defaultOpen?"dropdown-up":"dropdown-down"),n.zb(1),n.nc("hidden",!t._settings.defaultOpen),n.zb(2),n.nc("ngIf",(t._data.length>0||t._settings.allowRemoteDataSearch)&&!t._settings.singleSelection&&t._settings.enableCheckAll&&-1===t._settings.limitSelection),n.zb(1),n.nc("ngIf",(t._data.length>0||t._settings.allowRemoteDataSearch)&&t._settings.allowSearchFilter),n.zb(1),n.Ec("max-height",t._settings.maxHeight+"px"),n.zb(1),n.nc("ngForOf",n.jc(14,14,t._data,t.filter)),n.zb(2),n.nc("ngIf",0==t._data.length&&!t._settings.allowRemoteDataSearch))},directives:function(){return[y,r.u,r.t,r.r,i.c,i.s,i.v]},pipes:function(){return[v]},styles:['.multiselect-dropdown[_ngcontent-%COMP%]{position:relative;width:100%;font-size:inherit;font-family:inherit}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]{display:inline-block;border:1px solid #adadad;width:100%;padding:6px 12px;margin-bottom:0;font-weight:400;line-height:1.52857143;text-align:left;vertical-align:middle;cursor:pointer;background-image:none;border-radius:4px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{border:1px solid #337ab7;margin-right:4px;background:#337ab7;padding:0 5px;color:#fff;border-radius:2px;float:left}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px #959595}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-down[_ngcontent-%COMP%]{display:inline-block;top:10px;width:0;height:0;border-top:10px solid #adadad;border-left:10px solid transparent;border-right:10px solid transparent}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-up[_ngcontent-%COMP%]{display:inline-block;width:0;height:0;border-bottom:10px solid #adadad;border-left:10px solid transparent;border-right:10px solid transparent}.multiselect-dropdown[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:#eceeef}.dropdown-list[_ngcontent-%COMP%]{position:absolute;padding-top:6px;width:100%;z-index:9999;border:1px solid #ccc;border-radius:3px;background:#fff;margin-top:10px;box-shadow:0 1px 5px #959595}.dropdown-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;overflow:auto;margin:0}.dropdown-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 10px;cursor:pointer;text-align:left}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;position:relative;padding:10px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;width:100%;padding:0 0 0 26px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:0}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus + div[_ngcontent-%COMP%]:before, .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:hover + div[_ngcontent-%COMP%]:before{border-color:#337ab7;background-color:#f2f2f2}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:active + div[_ngcontent-%COMP%]:before{transition-duration:0s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{position:relative;padding-left:2em;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;margin:0;color:#000}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:before{box-sizing:content-box;content:"";color:#337ab7;position:absolute;top:50%;left:0;width:14px;height:14px;margin-top:-9px;border:2px solid #337ab7;text-align:center;transition:.4s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:after{box-sizing:content-box;content:"";position:absolute;transform:scale(0);transform-origin:50%;transition:transform .2s ease-out;background-color:transparent;top:50%;left:4px;width:8px;height:3px;margin-top:-4px;border-style:solid;border-color:#fff;border-width:0 0 3px 3px;-o-border-image:none;border-image:none;transform:rotate(-45deg) scale(0)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled + div[_ngcontent-%COMP%]:before{border-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:focus + div[_ngcontent-%COMP%]:before   .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:hover + div[_ngcontent-%COMP%]:before{background-color:inherit}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:checked + div[_ngcontent-%COMP%]:before{background-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:after{content:"";transition:transform .2s ease-out;transform:rotate(-45deg) scale(1)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:before{-webkit-animation:.2s ease-in borderscale;animation:.2s ease-in borderscale;background:#337ab7}@-webkit-keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}@keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}'],changeDetection:0}),e})(),y=(()=>{let e=class{constructor(e){this._elementRef=e,this.clickOutside=new n.o}onClick(e,t){t&&(this._elementRef.nativeElement.contains(t)||this.clickOutside.emit(e))}};return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.m))},e.\u0275dir=n.Hb({type:e,selectors:[["","clickOutside",""]],hostBindings:function(e,t){1&e&&n.dc("click",function(e){return t.onClick(e,e.target)},!1,n.wc)},outputs:{clickOutside:"clickOutside"}}),e})(),v=(()=>{let e=class{transform(e,t){return e&&t?e.filter(e=>this.applyFilter(e,t)):e}applyFilter(e,t){return"string"==typeof e.text&&"string"==typeof t.text?!(t.text&&e.text&&-1===e.text.toLowerCase().indexOf(t.text.toLowerCase())):!(t.text&&e.text&&-1===e.text.toString().toLowerCase().indexOf(t.text.toString().toLowerCase()))}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Lb({name:"multiSelectFilter",type:e,pure:!1}),e})();var C;let b=(()=>{let e=C=class{static forRoot(){return{ngModule:C}}};return e.\u0275mod=n.Kb({type:e}),e.\u0275inj=n.Jb({factory:function(t){return new(t||e)},imports:[[r.c,i.n]]}),e})()},F24V:function(e,t,o){"use strict";o.d(t,"a",function(){return p});var n=o("3Pt+"),i=o("quSY"),r=o("fXoL"),s=o("tk/3"),a=o("Bx/L"),l=o("Wl7B"),u=o("gA3Z"),c=o("Ludi");let p=(()=>{class e{constructor(e,t,o,r){this.http=e,this.badgeService=t,this.gridService=o,this.modalService=r,this.badgeInformation=new n.k({badgeSerialNumber:new n.h,batchGroup:new n.h(""),expirationDate:new n.h(""),numberOfTolkens:new n.h("")}),this.subscriptions=new i.a,this.constantSubscriptions=new i.a,this.gridService.setGridType(1)}showSelectedBadgeData(){const e=this.gridService.getSelectedRow();e&&(e.batch_group&&this.badgeInformation.controls.batchGroup.setValue(e.batch_group),e.badge_serial_number&&this.badgeInformation.controls.badgeSerialNumber.setValue(e.badge_serial_number),e.number_of_tolkens&&this.badgeInformation.controls.numberOfTolkens.setValue(e.number_of_tolkens.valueOf()),e.expiration_date&&this.badgeInformation.controls.expirationDate.setValue(e.expiration_date.valueOf()))}checkBadgeData(){this.expirationDate=this.badgeInformation.controls.expirationDate.value,this.batchGroup=this.badgeInformation.controls.batchGroup.value,this.badgeSerialNumber=this.badgeInformation.controls.badgeSerialNumber.value,this.numberOfTolkens=this.badgeInformation.controls.numberOfTolkens.value,""===this.badgeSerialNumber||this.numberOfTolkens<1||this.batchGroup<1?this.modalService.setModalContext("Improper Format for the Badge Data"):this.addBadge()}addBadge(){const e=this.formatDate(this.expirationDate);this.badgeService.addBadgeData(this.badgeSerialNumber,null,null,null,null,null,this.batchGroup,this.numberOfTolkens,e).subscribe(e=>{},e=>{console.log(e)},()=>{this.resetValues()})}resetValues(){this.modalService.setModalContext("Badge "+this.badgeSerialNumber+" has been added to the database"),this.badgeInformation.reset(),this.resetSubscriptions(),this.gridService.setGridType(1)}formatDate(e){if(null===e)return null;const t=(e+"").slice(0,16).replace("T"," ")+":00";return console.log("The New Formatted Time is: "+t),t}ngOnInit(){this.constantSubscriptions.add(this.gridService.rowSelected.subscribe(e=>{e?this.showSelectedBadgeData():this.badgeInformation.reset()}))}resetSubscriptions(){this.subscriptions.unsubscribe()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.constantSubscriptions.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.Mb(s.b),r.Mb(a.a),r.Mb(l.a),r.Mb(u.a))},e.\u0275cmp=r.Gb({type:e,selectors:[["app-badge-add"]],decls:33,vars:2,consts:[[1,"flexContainer"],[1,"flexElement"],[1,"description"],[1,"flexContainer",3,"formGroup"],[1,"input-group","flexElement"],["formControlName","badgeSerialNumber","type","text","id","badgeSerialNumber","placeholder","BadgeSerialNumber"],["formControlName","batchGroup","placeholder","BatchGroup","id","batchGroup","type","number"],["formControlName","numberOfTolkens","placeholder","NumberOfTolkens","id","numberOfTolkens","type","number"],["formControlName","expirationDate","type","datetime-local","id","expirationDate","placeholder","ExpirationDate"],["type","submit","id","submitButton",1,"btn","btn-default",3,"disabled","click"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"h3"),r.Sb(3,"b"),r.Sb(4,"strong"),r.Hc(5,"Add Single Badge"),r.Rb(),r.Rb(),r.Rb(),r.Sb(6,"div",2),r.Sb(7,"span",2),r.Hc(8,"Creates a new badge based on the following values:"),r.Rb(),r.Rb(),r.Nb(9,"div"),r.Rb(),r.Sb(10,"div",1),r.Sb(11,"form",3),r.Sb(12,"div",4),r.Sb(13,"label"),r.Hc(14," Badge Serial Number: "),r.Rb(),r.Nb(15,"input",5),r.Rb(),r.Sb(16,"div",4),r.Sb(17,"label"),r.Hc(18," Batch Group: "),r.Rb(),r.Nb(19,"input",6),r.Rb(),r.Sb(20,"div",4),r.Sb(21,"label"),r.Hc(22," Number Of Tolkens: "),r.Rb(),r.Nb(23,"input",7),r.Rb(),r.Sb(24,"div",4),r.Sb(25,"label"),r.Hc(26," Expiration Date: "),r.Rb(),r.Nb(27,"input",8),r.Rb(),r.Sb(28,"div",1),r.Sb(29,"button",9),r.dc("click",function(){return t.checkBadgeData()}),r.Hc(30," Add Badge "),r.Rb(),r.Rb(),r.Sb(31,"div",1),r.Nb(32,"app-grid"),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.zb(11),r.nc("formGroup",t.badgeInformation),r.zb(18),r.nc("disabled",!t.badgeInformation.valid))},directives:[n.H,n.t,n.l,n.c,n.s,n.j,n.y,c.a],styles:["label[_ngcontent-%COMP%]{min-width:150px;align-content:flex-start}#badgeSerialNumber[_ngcontent-%COMP%], #batchGroup[_ngcontent-%COMP%], #numberOfTolkens[_ngcontent-%COMP%]{min-width:100px}#expirationDate[_ngcontent-%COMP%]{align-content:flex-start}.description[_ngcontent-%COMP%]{align-content:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;-webkit-text-fill-color:#666}"]}),e})()},HDdC:function(e,t,o){"use strict";o.d(t,"a",function(){return u});var n=o("7o/Q"),i=o("2QA8"),r=o("gRHU"),s=o("kJWO"),a=o("mCNh"),l=o("2fFW");let u=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const o=new e;return o.source=this,o.operator=t,o}subscribe(e,t,o){const{operator:s}=this,a=function(e,t,o){if(e){if(e instanceof n.a)return e;if(e[i.a])return e[i.a]()}return e||t||o?new n.a(e,t,o):new n.a(r.a)}(e,t,o);if(a.add(s?s.call(a,this.source):this.source||l.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),l.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){l.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:o,isStopped:i}=e;if(t||i)return!1;e=o&&o instanceof n.a?o:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=c(t))((t,o)=>{let n;n=this.subscribe(t=>{try{e(t)}catch(i){o(i),n&&n.unsubscribe()}},o,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[s.a](){return this}pipe(...e){return 0===e.length?this:Object(a.b)(e)(this)}toPromise(e){return new(e=c(e))((e,t)=>{let o;this.subscribe(e=>o=e,e=>t(e),()=>e(o))})}}return e.create=t=>new e(t),e})();function c(e){if(e||(e=l.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},HE9a:function(e,t,o){"use strict";o.d(t,"a",function(){return b});var n=o("quSY"),i=o("fXoL"),r=o("tk/3"),s=o("Bx/L"),a=o("Wl7B"),l=o("gA3Z"),u=o("ofXK");function c(e,t){if(1&e&&(i.Sb(0,"td"),i.Hc(1),i.Rb()),2&e){const e=i.gc(2);i.zb(1),i.Jc(" ",null==e.wearerLocation?null:e.wearerLocation.city," ")}}function p(e,t){1&e&&(i.Sb(0,"td"),i.Sb(1,"span"),i.Hc(2,"\xb5"),i.Rb(),i.Hc(3,"g"),i.Rb())}function d(e,t){if(1&e&&(i.Sb(0,"td"),i.Hc(1),i.Rb()),2&e){const e=i.gc().$implicit;i.zb(1),i.Ic(null==e?null:e.recorded_units)}}function h(e,t){if(1&e&&(i.Sb(0,"tr"),i.Sb(1,"td"),i.Hc(2),i.Rb(),i.Sb(3,"td"),i.Hc(4),i.Rb(),i.Sb(5,"td"),i.Hc(6),i.Rb(),i.Sb(7,"td"),i.Hc(8),i.Rb(),i.Sb(9,"td"),i.Hc(10),i.Rb(),i.Sb(11,"td"),i.Hc(12),i.hc(13,"number"),i.Rb(),i.Fc(14,p,4,0,"td",10),i.Fc(15,d,2,1,"td",10),i.Sb(16,"td"),i.Hc(17),i.Rb(),i.Sb(18,"td"),i.Hc(19),i.hc(20,"number"),i.Rb(),i.Sb(21,"td"),i.Hc(22),i.hc(23,"number"),i.Rb(),i.Sb(24,"td"),i.Hc(25),i.Rb(),i.Rb()),2&e){const e=t.$implicit,o=i.gc(2);i.zb(2),i.Ic(null==o.selectedBadge?null:o.selectedBadge.badge_serial_number),i.zb(2),i.Ic(null==e?null:e.token_id),i.zb(2),i.Ic(null==e?null:e.token_type),i.zb(2),i.Jc(" ",o.findAnalyteName(null==e?null:e.cas_number)+"("+(null==e?null:e.cas_number)+")"," "),i.zb(2),i.Ic(null==e?null:e.analysis_method),i.zb(2),i.Ic(i.jc(13,12,null==e?null:e.recorded_value,"1.2-5")),i.zb(2),i.nc("ngIf","ug"===(null==e?null:e.recorded_units)),i.zb(1),i.nc("ngIf","ug"!==e.recorded_units),i.zb(2),i.Ic(null==e?null:e.reporting_limit),i.zb(2),i.Ic(i.jc(20,15,null==e?null:e.volume_concentration,"1.2-5")),i.zb(3),i.Ic(i.jc(23,18,null==e?null:e.found_concentration,"1.2-5")),i.zb(3),i.Ic(null==e?null:e.concentration_units)}}function f(e,t){1&e&&(i.Sb(0,"td"),i.Sb(1,"span"),i.Hc(2,"\xb5"),i.Rb(),i.Hc(3,"g"),i.Rb())}function g(e,t){if(1&e&&(i.Sb(0,"td"),i.Hc(1),i.Rb()),2&e){const e=i.gc().$implicit;i.zb(1),i.Ic(null==e?null:e.foundUnits)}}function m(e,t){if(1&e&&(i.Sb(0,"tr",18),i.Sb(1,"td"),i.Hc(2),i.Rb(),i.Sb(3,"td"),i.Hc(4),i.Rb(),i.Sb(5,"td"),i.Hc(6),i.Rb(),i.Sb(7,"td"),i.Hc(8),i.Rb(),i.Sb(9,"td"),i.Hc(10),i.Rb(),i.Sb(11,"td"),i.Hc(12),i.hc(13,"number"),i.Rb(),i.Fc(14,f,4,0,"td",10),i.Fc(15,g,2,1,"td",10),i.Sb(16,"td"),i.Hc(17),i.Rb(),i.Sb(18,"td"),i.Hc(19),i.hc(20,"number"),i.Rb(),i.Sb(21,"td"),i.Hc(22),i.hc(23,"number"),i.Rb(),i.Sb(24,"td"),i.Hc(25),i.Rb(),i.Rb()),2&e){const e=t.$implicit,o=i.gc(2);i.zb(2),i.Ic(" "),i.zb(2),i.Ic((null==e?null:e.numValues)+"-token Average"),i.zb(2),i.Ic(" "),i.zb(2),i.Jc(" ",o.findAnalyteName(null==e?null:e.casNum)+"("+(null==e?null:e.casNum)+")"," "),i.zb(2),i.Ic(" "),i.zb(2),i.Ic(i.jc(13,12,null==e?null:e.averageQtyFound,"1.2-5")),i.zb(2),i.nc("ngIf","ug"===(null==e?null:e.foundUnits)),i.zb(1),i.nc("ngIf","ug"!==(null==e?null:e.foundUnits)),i.zb(2),i.Ic(" "),i.zb(2),i.Ic(i.jc(20,15,null==e?null:e.averageVolumeConcentration,"1.2-5")),i.zb(3),i.Ic(i.jc(23,18,null==e?null:e.averageFoundConcentration,"1.2-5")),i.zb(3),i.Ic(null==e?null:e.concentrationUnits)}}function y(e,t){if(1&e&&(i.Sb(0,"td"),i.Hc(1),i.Rb()),2&e){const e=i.gc(2);i.zb(1),i.Jc(" ",null==e.analystLocation?null:e.analystLocation.city," ")}}function v(e,t){if(1&e&&(i.Sb(0,"tr"),i.Sb(1,"td"),i.Hc(2,"--Required--"),i.Rb(),i.Sb(3,"td"),i.Hc(4),i.Rb(),i.Sb(5,"td"),i.Hc(6),i.Rb(),i.Sb(7,"td"),i.Hc(8,"OSHA"),i.Rb(),i.Sb(9,"td"),i.Hc(10),i.Rb(),i.Sb(11,"td"),i.Hc(12),i.Rb(),i.Sb(13,"td"),i.Hc(14,"PPM"),i.Rb(),i.Rb()),2&e){const e=t.$implicit,o=i.gc(2);i.zb(4),i.Ic((null==e?null:e.analyte_name)+" ("+(null==e?null:e.cas_number)+")"),i.zb(2),i.Ic(o.findMethod(null==e?null:e.cas_number)),i.zb(4),i.Ic(null==e?null:e.cal_osha_pel_8_hour_twa_c),i.zb(2),i.Ic(null==e?null:e.cal_osha_pel_8_hour_twa_st)}}function C(e,t){if(1&e&&(i.Sb(0,"div",1),i.Sb(1,"div",2),i.Sb(2,"table",3),i.Sb(3,"tr"),i.Sb(4,"th"),i.Nb(5,"img",4),i.Rb(),i.Sb(6,"th"),i.Hc(7,"Dosimeter Badge Analysis Report"),i.Rb(),i.Sb(8,"th"),i.Nb(9,"img",5),i.Rb(),i.Rb(),i.Sb(10,"tr"),i.Sb(11,"td"),i.Sb(12,"table",6),i.Sb(13,"tr"),i.Sb(14,"th"),i.Hc(15,"Customer:"),i.Rb(),i.Rb(),i.Sb(16,"tr"),i.Hc(17," Attention: Dr. John Kelly "),i.Rb(),i.Nb(18,"tr"),i.Sb(19,"tr"),i.Hc(20," Airforce Research Laboratory "),i.Rb(),i.Nb(21,"tr"),i.Sb(22,"tr"),i.Hc(23," 711th Human Performance Wing-RHBCO "),i.Rb(),i.Nb(24,"tr"),i.Sb(25,"tr"),i.Hc(26," 2510 Fifth Street "),i.Rb(),i.Nb(27,"tr"),i.Sb(28,"tr"),i.Hc(29," Bldg. 840 E 215.13 "),i.Rb(),i.Nb(30,"tr"),i.Sb(31,"tr"),i.Hc(32," Wright-Patterson AFB, OH 45433-7913 "),i.Rb(),i.Rb(),i.Rb(),i.Nb(33,"td"),i.Sb(34,"td"),i.Sb(35,"table",7),i.Sb(36,"tr"),i.Sb(37,"th"),i.Hc(38,"Badge ID #"),i.Rb(),i.Sb(39,"th"),i.Hc(40,"Lab Recieved"),i.Rb(),i.Sb(41,"th"),i.Hc(42,"Lab Reported"),i.Rb(),i.Rb(),i.Sb(43,"tr"),i.Sb(44,"td"),i.Hc(45),i.Rb(),i.Sb(46,"td"),i.Hc(47),i.Rb(),i.Sb(48,"td"),i.Hc(49),i.Rb(),i.Rb(),i.Rb(),i.Sb(50,"table",8),i.Sb(51,"tr"),i.Sb(52,"th"),i.Hc(53,"Client ID Number"),i.Rb(),i.Sb(54,"th"),i.Hc(55,"Client Project ID"),i.Rb(),i.Rb(),i.Sb(56,"tr"),i.Sb(57,"td"),i.Hc(58),i.Rb(),i.Sb(59,"td"),i.Hc(60),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(61,"div",2),i.Sb(62,"table",3),i.Sb(63,"tr"),i.Sb(64,"td"),i.Sb(65,"table",9),i.Sb(66,"tr"),i.Sb(67,"th"),i.Hc(68,"Lab Sample ID #"),i.Rb(),i.Sb(69,"th"),i.Hc(70,"Client Sample Id"),i.Rb(),i.Sb(71,"th"),i.Hc(72,"Assigned User Id"),i.Rb(),i.Sb(73,"th"),i.Hc(74,"Location Id"),i.Rb(),i.Sb(75,"th"),i.Hc(76,"Exposure Date"),i.Rb(),i.Sb(77,"th"),i.Hc(78,"Exposure Time (min)"),i.Rb(),i.Rb(),i.Sb(79,"tr"),i.Sb(80,"td"),i.Hc(81),i.Rb(),i.Sb(82,"td"),i.Hc(83),i.Rb(),i.Sb(84,"td"),i.Hc(85),i.Rb(),i.Fc(86,c,2,1,"td",10),i.Sb(87,"td"),i.Hc(88),i.Rb(),i.Sb(89,"td"),i.Hc(90),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(91,"tr"),i.Sb(92,"td"),i.Sb(93,"table",11),i.Sb(94,"tr"),i.Sb(95,"th"),i.Hc(96,"Badge ID #"),i.Rb(),i.Sb(97,"th"),i.Hc(98,"Token #"),i.Rb(),i.Sb(99,"th"),i.Hc(100,"Token Type"),i.Rb(),i.Sb(101,"th"),i.Hc(102,"Compounds Requested"),i.Rb(),i.Sb(103,"th"),i.Hc(104,"Analysis Method ID"),i.Rb(),i.Sb(105,"th"),i.Hc(106,"Qty. Found"),i.Rb(),i.Sb(107,"th"),i.Hc(108,"Units"),i.Rb(),i.Sb(109,"th"),i.Hc(110,"Reporting Limit"),i.Rb(),i.Sb(111,"th"),i.Hc(112,"mg/m3"),i.Rb(),i.Sb(113,"th"),i.Hc(114,"Found"),i.Rb(),i.Sb(115,"th"),i.Hc(116,"Units"),i.Rb(),i.Rb(),i.Fc(117,h,26,21,"tr",12),i.Fc(118,m,26,21,"tr",13),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(119,"div",2),i.Sb(120,"table",3),i.Sb(121,"tr"),i.Sb(122,"td"),i.Sb(123,"table",14),i.Sb(124,"tr"),i.Sb(125,"th"),i.Hc(126,"Analysis Performed By"),i.Rb(),i.Sb(127,"th"),i.Hc(128,"Analysis Date(s)"),i.Rb(),i.Sb(129,"th"),i.Hc(130,"Analysis Lab Code"),i.Rb(),i.Rb(),i.Sb(131,"tr"),i.Sb(132,"td"),i.Hc(133),i.Rb(),i.Sb(134,"td"),i.Hc(135),i.Rb(),i.Fc(136,y,2,1,"td",10),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(137,"tr"),i.Sb(138,"td"),i.Sb(139,"table",15),i.Sb(140,"tr"),i.Sb(141,"th"),i.Hc(142,"Test Code"),i.Rb(),i.Sb(143,"th"),i.Hc(144,"Analytes Requested"),i.Rb(),i.Sb(145,"th"),i.Hc(146,"Method Reference"),i.Rb(),i.Sb(147,"th"),i.Hc(148,"Regulatory Agency"),i.Rb(),i.Sb(149,"th"),i.Hc(150,"Twa Limit"),i.Rb(),i.Sb(151,"th"),i.Hc(152,"Stel Limit"),i.Rb(),i.Sb(153,"th"),i.Hc(154,"Units"),i.Rb(),i.Rb(),i.Fc(155,v,15,4,"tr",12),i.Rb(),i.Rb(),i.Rb(),i.Sb(156,"tr"),i.Sb(157,"td"),i.Sb(158,"table",16),i.Sb(159,"th"),i.Hc(160,"*****Disclaimer****"),i.Rb(),i.Sb(161,"tr"),i.Sb(162,"td"),i.Hc(163),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(164,"tr"),i.Sb(165,"td"),i.Sb(166,"table",17),i.Sb(167,"th"),i.Hc(168,"712 Eastgate Street"),i.Rb(),i.Sb(169,"th"),i.Hc(170,"Stillwater, OK 74074"),i.Rb(),i.Sb(171,"th"),i.Hc(172,"(405)334-5720"),i.Rb(),i.Sb(173,"th"),i.Hc(174,"www.xplosafe.com"),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb()),2&e){const e=i.gc();i.zb(45),i.Ic(e.selectedBadge.badge_serial_number),i.zb(2),i.Ic(e.selectedBadge.turned_in_time),i.zb(2),i.Ic(e.labReportedValue),i.zb(9),i.Ic(null==e.assignedUser?null:e.assignedUser.id),i.zb(2),i.Ic(null==e.assignedUser?null:e.assignedUser.location_id),i.zb(21),i.Ic(null==e.analyst?null:e.analyst.location_id),i.zb(2),i.Ic(null==e.analyst?null:e.analyst.location_id),i.zb(2),i.Ic(null==e.selectedBadge?null:e.selectedBadge.assigned_user),i.zb(1),i.nc("ngIf",e.wearerLocation),i.zb(2),i.Ic(null==e.selectedBadge?null:e.selectedBadge.activated_time),i.zb(2),i.Ic(e.elapsedTime),i.zb(27),i.nc("ngForOf",e.analyzedTokenReportList),i.zb(1),i.nc("ngForOf",e.analyzedValues),i.zb(15),i.Ic(null==e.analyst?null:e.analyst.username),i.zb(2),i.Ic(e.labReportedValue),i.zb(1),i.nc("ngIf",e.analystLocation),i.zb(19),i.nc("ngForOf",e.analytesFound),i.zb(8),i.Jc(" ",e.disclaimerInfo," ")}}let b=(()=>{class e{constructor(e,t,o,i){this.http=e,this.badgeService=t,this.gridService=o,this.modalWindow=i,this.subscriptions=new n.a,this.constantSubscriptions=new n.a,this.formLoaded=!1,this.evaluationsMade=!1,this.analytesFound=[],this.userList=[],this.analyzedTokenReportList=[],this.locations=[],this.method=[],this.analyzedValues=[],this.wearerLocation=null,this.analystLocation=null,this.disclaimerInfo=""}setElapsedTime(){const e=new Date(this.selectedBadge.activated_time).valueOf(),t=new Date(this.selectedBadge.turned_in_time).valueOf();this.elapsedTime=(t-e)/6e4}findAnalyteName(e){return e?this.analyteList.find(t=>t.cas_number===e).analyte_name:""}findMethod(e){return this.analyzedTokenReportList.find(t=>t.cas_number===e).analysis_method}determineEvaluations(){console.log("Reached into determineEvaluations.");const e=[],t=[];for(const o of this.analyzedTokenReportList)console.log("Reached into AnalyzedTokenReportList."),t.includes(o.cas_number)||(t.push(o.cas_number),this.analytesFound.includes(this.analyteList.find(e=>e.cas_number===o.cas_number))||this.analytesFound.push(this.analyteList.find(e=>e.cas_number===o.cas_number)));this.analyzedTokenReportList[0]&&(this.labReportedValue=this.analyzedTokenReportList[0].date_created),console.log("Cas Numbers: "),console.log(t);for(const o of t){let t=0,n=0,i=0,r="",s="",a="",l="",u="";for(const e of this.analyzedTokenReportList.filter(e=>e.cas_number===o))t+=Number(e.recorded_value),n+=Number(e.volume_concentration),i+=Number(e.found_concentration),r=e.recorded_units,s=e.concentration_units,u=e.sampling_rate,l=e.molar_volume,a=e.molecular_weight;const c=this.analyzedTokenReportList.filter(e=>e.cas_number===o).length;e.push({numValues:c,casNum:o,averageQtyFound:Math.round(t/c*1e3)/1e3,averageVolumeConcentration:Math.round(n/c*1e3)/1e3,averageFoundConcentration:Math.round(i/c*1e3)/1e3,foundUnits:r,concentrationUnits:s})}this.analyzedValues=e,this.analyzedValues.length>0&&(this.evaluationsMade=!0),console.log(this.analyzedValues)}formatLocations(){if(console.log(this.analyst),this.analyst)for(const e of this.locations)e.id===this.analyst.location_id&&(this.analystLocation=e);else console.log("Analyst Value is null in analyzed-data.component");if(console.log(this.assignedUser),this.assignedUser)for(const e of this.locations)e.id===this.assignedUser.location_id&&(this.wearerLocation=e);else console.log("Assigned User Value is null in analyzed-data.component")}checkFormReadyToLoad(){this.formatLocations(),this.evaluationsMade?console.log("evaluations were Made"):this.userList.length<1?console.log("users Not Found"):this.selectedBadge?this.analyteList.length<1?console.log("Analytes Not Found"):this.analyzedTokenReportList.length<1?console.log("analyzed Token Reports Not Found"):this.analyst?(console.log("All Checks Performed"),this.determineEvaluations(),this.labReportedValue?this.formLoaded=!0:this.modalWindow.setModalContext("There are no analyzed values for this badge.")):console.log("analyst Not Found"):console.log("Selected Badge Not Found")}ngOnInit(){this.evaluationsMade=!1,this.setElapsedTime(),this.gridService.AnalyteResponse().subscribe(e=>{this.analyteList=e},e=>{console.log(e)},()=>{this.checkFormReadyToLoad()}),this.badgeService.getLocationList().subscribe(e=>{e&&(this.locations=e)},e=>{console.log(e)},()=>{this.checkFormReadyToLoad()}),this.badgeService.getAnalyzedTokenReportResponse(this.selectedBadge.badge_serial_number).subscribe(e=>{this.analyzedTokenReportList=e},e=>{console.log(e)},()=>{this.checkFormReadyToLoad()}),this.badgeService.getUserList().subscribe(e=>{this.userList=e},e=>{},()=>{this.checkFormReadyToLoad()}),this.disclaimerInfo=this.getDefaultDisclaimer()}getDefaultDisclaimer(){return"'<' means the result is below the Reporting Limit (Quantification Limits) of the software. Exposure results are the average of the time period when reported by badge, or the average of the token when reported by individual tokens. Applicable OSHA and NIOSH PEL's, STEL's, and REL's are reported for reference only. These may not be sufficient for regulatory compliance. Clients should be aware that more stringent local, state, or international standards may be applicable. AiroTect/XploSafe make no claims as to the sufficiency of regulatory compliance, and each client should be aware of how their results correspond with legal exposure tracking requirements."}resetSubscriptions(){this.subscriptions.unsubscribe()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.constantSubscriptions.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.Mb(r.b),i.Mb(s.a),i.Mb(a.a),i.Mb(l.a))},e.\u0275cmp=i.Gb({type:e,selectors:[["app-analyzed-data"]],inputs:{selectedBadge:"selectedBadge",assignedUserId:"assignedUserId",assignedUser:"assignedUser",analyst:"analyst"},decls:1,vars:1,consts:[["class","flex-container",4,"ngIf"],[1,"flex-container"],[1,"table-wrapper"],[1,"complete-table"],["src","assets/XplosafeLogo.png","alt","xplosafe logo",1,"xplosafe-logo"],["src","assets/airotectLogoLandscape.png","alt","company logo","align","right",1,"company-logo"],[1,"customer-info"],[1,"badge-info"],[1,"client-info"],[1,"lab-info"],[4,"ngIf"],[1,"analyzed-badge-info"],[4,"ngFor","ngForOf"],["class","result",4,"ngFor","ngForOf"],[1,"analysis-info"],[1,"method-info"],[1,"disclaimer-info"],[1,"footer-info"],[1,"result"]],template:function(e,t){1&e&&i.Fc(0,C,175,18,"div",0),2&e&&i.nc("ngIf",t.formLoaded)},directives:[u.u,u.t],pipes:[u.g],styles:[".tokenContainer[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.tokenContainer[_ngcontent-%COMP%], .tokenElement[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.tokenElement[_ngcontent-%COMP%]{flex-direction:column}.xplosafe-logo[_ngcontent-%COMP%]{justify-content:left}.company-logo[_ngcontent-%COMP%], .xplosafe-logo[_ngcontent-%COMP%]{display:flex;width:auto;max-width:200px;max-height:200px;flex-direction:column}.company-logo[_ngcontent-%COMP%]{alignment:right;justify-content:right}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;width:auto;flex:auto;flex-direction:column;justify-content:center}.complete-table[_ngcontent-%COMP%]{justify-content:center;align-items:center;border:3px #222;background-color:#fff;width:100%}.complete-table[_ngcontent-%COMP%], .complete-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{flex:auto;flex-direction:column;padding:8px;text-align:center}.complete-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{justify-content:space-evenly;color:#fff;background-color:#29577c}.customer-info[_ngcontent-%COMP%], .customer-info[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{justify-content:center;border:3px #222;padding:8px;background-color:#fff;flex:auto;align-items:center;text-align:left}.customer-info[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#000}.lab-info[_ngcontent-%COMP%]{justify-content:center;border:3px #222;background-color:#fff;align-items:center;text-align:center}.lab-info[_ngcontent-%COMP%], .label-info[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:8px;flex:auto;width:100%}.label-info[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;background-color:#29577c;color:#fff;text-align:center}.analyzed-badge-info[_ngcontent-%COMP%]{justify-content:center;border:3px #222;padding:8px;background-color:#fff;flex:auto;width:100%;align-items:center;text-align:center}.analyzed-badge-info[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:8px;text-align:left;background-color:#29577c;color:#fff;text-align:center}.analysis-info[_ngcontent-%COMP%]{justify-content:center;border:3px #222;padding:8px;background-color:#fff;flex:auto;width:100%;align-items:center;text-align:center}.analysis-info[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:8px;text-align:left;background-color:#29577c;color:#fff;text-align:center}.method-info[_ngcontent-%COMP%]{justify-content:center;border:3px #222;padding:8px;background-color:#fff;flex:auto;width:100%;align-items:center;text-align:center}.method-info[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:8px;text-align:left;background-color:#29577c;color:#fff;text-align:center}.disclaimer-info[_ngcontent-%COMP%]{justify-content:center;border:3px #222;padding:8px;background-color:#fff;flex:auto;width:100%;align-items:center;text-align:left}.disclaimer-info[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:8px;text-align:left;background-color:#29577c;color:#fff;text-align:center}.footer-info[_ngcontent-%COMP%]{justify-content:center;border:3px #222;padding:8px;background-color:#fff;flex:auto;width:100%;align-items:center;text-align:center}.footer-info[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:8px;text-align:left;background-color:#29577c;color:#fff;text-align:center}.badge-info[_ngcontent-%COMP%]{justify-content:space-evenly;font-family:Arial,Helvetica,sans-serif;border-collapse:collapse;width:100%}.badge-info[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px;text-align:left;background-color:#29577c;color:#fff}.result[_ngcontent-%COMP%]{background-color:#208c20;color:#fff}"]}),e})()},I55L:function(e,t,o){"use strict";o.d(t,"a",function(){return n});const n=e=>e&&"number"==typeof e.length&&"function"!=typeof e},IzEk:function(e,t,o){"use strict";o.d(t,"a",function(){return s});var n=o("7o/Q"),i=o("4I5i"),r=o("EY2u");function s(e){return t=>0===e?Object(r.b)():t.lift(new a(e))}class a{constructor(e){if(this.total=e,this.total<0)throw new i.a}call(e,t){return t.subscribe(new l(e,this.total))}}class l extends n.a{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,o=++this.count;o<=t&&(this.destination.next(e),o===t&&(this.destination.complete(),this.unsubscribe()))}}},JIr8:function(e,t,o){"use strict";o.d(t,"a",function(){return s});var n=o("l7GE"),i=o("51Dv"),r=o("ZUHj");function s(e){return function(t){const o=new a(e),n=t.lift(o);return o.caught=n}}class a{constructor(e){this.selector=e}call(e,t){return t.subscribe(new l(e,this.selector,this.caught))}}class l extends n.a{constructor(e,t,o){super(e),this.selector=t,this.caught=o}error(e){if(!this.isStopped){let o;try{o=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const n=new i.a(this,void 0,void 0);this.add(n);const s=Object(r.a)(this,o,void 0,void 0,n);s!==n&&this.add(s)}}}},JX91:function(e,t,o){"use strict";o.d(t,"a",function(){return a});var n=o("LRne"),i=o("0EUg");function r(...e){return Object(i.a)()(Object(n.a)(...e))}var s=o("z+Ro");function a(...e){const t=e[e.length-1];return Object(s.a)(t)?(e.pop(),o=>r(e,o,t)):t=>r(e,t)}},Jqc3:function(e,t,o){"use strict";o.d(t,"a",function(){return i});var n=o("fXoL");let i=(()=>{class e{transform(e){return 1===e?"Wearer ("+e+")":2===e?"Manufacturer ("+e+")":3===e?"Scientist ("+e+")":4===e?"Analyst ("+e+")":5===e?"Manager ("+e+")":6===e?"Administrator ("+e+")":7===e?"Auditor ("+e+")":8===e?"Developer ("+e+")":""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Lb({name:"userRoleConverter",type:e,pure:!0}),e})()},KAx5:function(e,t,o){"use strict";o.d(t,"a",function(){return S});var n=o("3Pt+"),i=o("2Vo4"),r=o("quSY"),s=o("fXoL"),a=o("qfBg"),l=o("Wl7B"),u=o("gA3Z"),c=o("6Svq"),p=o("ofXK"),d=o("XGh5"),h=o("Jqc3");function f(e,t){1&e&&(s.Sb(0,"header"),s.Sb(1,"h3",5),s.Sb(2,"b"),s.Sb(3,"strong"),s.Hc(4,"Current User Settings"),s.Rb(),s.Rb(),s.Rb(),s.Rb())}function g(e,t){1&e&&(s.Sb(0,"nav"),s.Sb(1,"h3",5),s.Sb(2,"b"),s.Sb(3,"strong"),s.Hc(4,"Edit User Settings"),s.Rb(),s.Rb(),s.Rb(),s.Rb())}function m(e,t){if(1&e){const e=s.Tb();s.Sb(0,"img",17),s.dc("click",function(){return s.xc(e),s.gc(2).toggleLockStatus(!1)}),s.Rb()}}function y(e,t){if(1&e){const e=s.Tb();s.Sb(0,"img",18),s.dc("click",function(){return s.xc(e),s.gc(2).toggleLockStatus(!0)}),s.Rb()}}function v(e,t){1&e&&(s.Sb(0,"span"),s.Hc(1,'"Click to lock account"'),s.Rb())}function C(e,t){1&e&&(s.Sb(0,"span"),s.Hc(1,'"Click to unlock account"'),s.Rb())}function b(e,t){if(1&e&&(s.Nb(0,"option",19),s.hc(1,"locationConverter")),2&e){const e=t.$implicit,o=s.gc(2);s.nc("label",s.ic(1,3,e.id))("value",e.id)("hidden",e.id===o.currentLocation)}}function w(e,t){if(1&e&&(s.Nb(0,"option",19),s.hc(1,"userRoleConverter")),2&e){const e=t.$implicit,o=s.gc(2);s.nc("label",s.ic(1,3,e.id))("value",e.id)("hidden",e.id===o.currentRole)}}function E(e,t){if(1&e&&s.Nb(0,"option",19),2&e){const e=t.$implicit,o=s.gc(2);s.nc("label",e.id)("value",e.id)("hidden",e.id===o.currentGroup)}}function R(e,t){if(1&e&&(s.Sb(0,"aside",2),s.Sb(1,"label",6),s.Fc(2,m,1,0,"img",7),s.Fc(3,y,1,0,"img",8),s.Sb(4,"span",9),s.Fc(5,v,2,0,"span",1),s.Fc(6,C,2,0,"span",1),s.Rb(),s.Rb(),s.Sb(7,"label"),s.Hc(8,"New Password: "),s.Nb(9,"input",10),s.Rb(),s.Sb(10,"label"),s.Hc(11,"New Location: "),s.Sb(12,"select",11),s.Nb(13,"option",12),s.Fc(14,b,2,5,"option",13),s.hc(15,"async"),s.Rb(),s.Rb(),s.Sb(16,"label"),s.Hc(17,"New Role: "),s.Sb(18,"select",14),s.Nb(19,"option",12),s.Fc(20,w,2,5,"option",13),s.hc(21,"async"),s.Rb(),s.Rb(),s.Sb(22,"label"),s.Hc(23,"New Group: "),s.Sb(24,"select",15),s.Nb(25,"option",12),s.Fc(26,E,1,3,"option",13),s.hc(27,"async"),s.Rb(),s.Rb(),s.Sb(28,"p",16),s.Hc(29),s.Rb(),s.Rb()),2&e){const e=s.gc();s.zb(2),s.nc("ngIf",e.lockStatus),s.zb(1),s.nc("ngIf",!e.lockStatus),s.zb(1),s.nc("ngClass",e.lockStatus?"white-on-black":"black-on-white"),s.zb(1),s.nc("ngIf",!e.lockStatus),s.zb(1),s.nc("ngIf",e.lockStatus),s.zb(8),s.nc("ngForOf",s.ic(15,10,e.locations$)),s.zb(6),s.nc("ngForOf",s.ic(21,12,e.roles$)),s.zb(6),s.nc("ngForOf",s.ic(27,14,e.groups$)),s.zb(2),s.nc("ngClass",e.cssUserFeedback),s.zb(1),s.Jc(" ",e.userFeedback," ")}}function _(e,t){if(1&e){const e=s.Tb();s.Sb(0,"footer",2),s.Sb(1,"button",20),s.dc("click",function(){return s.xc(e),s.gc().updateInfo()}),s.Hc(2," Update "),s.Rb(),s.Rb()}}let S=(()=>{class e{constructor(e,t,o){this.userService=e,this.gridService=t,this.modalWindowService=o,this.editUserFormContext=new n.k({userName:new n.h(""),newPassword:new n.h(""),locationId:new n.h(0),accountLocked:new n.h(0),roleId:new n.h(0),groupId:new n.h(0)}),this.cssWrapperOverrideValue="override-wrapper-edit-user",this.userFeedback="",this.cssUserFeedback="",this.editUserForm=new i.a(this.editUserFormContext),this.subscription=new r.a,this.groups$=this.gridService.groups.asObservable(),this.locations$=this.gridService.locations.asObservable(),this.roles$=this.gridService.roles.asObservable(),this.userToUpdate=null}get formContext(){return this.editUserForm.getValue()}get lockStatus(){return this.formContext.get("accountLocked").value}set lockStatus(e){this.formContext.get("accountLocked").setValue(e)}get userName(){var e,t;return null!==(t=null===(e=this.userToUpdate)||void 0===e?void 0:e.username)&&void 0!==t?t:""}get currentLocation(){var e;return null===(e=this.userToUpdate)||void 0===e?void 0:e.location_id}get currentRole(){var e;return null===(e=this.userToUpdate)||void 0===e?void 0:e.role}get currentGroup(){var e,t;return null!==(t=null===(e=this.userToUpdate)||void 0===e?void 0:e.group_id)&&void 0!==t?t:""}get userSelected(){return null!==this.userToUpdate}get createdOn(){var e,t;return null!==(t=null===(e=this.userToUpdate)||void 0===e?void 0:e.date_created)&&void 0!==t?t:""}get updatedOn(){var e,t;return null!==(t=null===(e=this.userToUpdate)||void 0===e?void 0:e.date_last_updated)&&void 0!==t?t:""}showSelectedUser(){const e=this.gridService.getSelectedRow();e&&this.subscription.add(this.userService.getSelectedUser(e.id).subscribe(e=>{this.userToUpdate=e[0],this.resetForm()},e=>{console.error(e),this.resetForm(),this.userFeedback="There was an error attempting to show the selected user.",this.cssUserFeedback="fail"}))}updateInfo(){this.determineUserToUpdateValues(),this.userService.updateSubordinateInfo(this.userToUpdate).subscribe(e=>{1===e.affectedRows&&1===e.changedRows&&(this.modalWindowService.setModalContext(this.userToUpdate.username+"'s account information was updated successfully."),this.cssUserFeedback="success")},e=>{console.error(e),this.resetForm(),this.userFeedback=this.userToUpdate.username+"'s account information was not updated.",this.cssUserFeedback="fail"},()=>{let e=this.gridService.getSelectedRow();this.gridService.setGridType(5),this.gridService.setSelectedRow(e)})}determineUserToUpdateValues(){const e=this.formContext.get("roleId").value,t=this.formContext.get("groupId").value,o=this.formContext.get("locationId").value,n=this.formContext.get("accountLocked").value,i=this.formContext.get("newPassword").value;e&&(this.userToUpdate.role=e),t&&(this.userToUpdate.group_id=t),o&&(this.userToUpdate.location_id=o),n!==this.userToUpdate.account_locked&&(this.userToUpdate.account_locked=Number(n)),this.userToUpdate.password=i}ngOnInit(){this.gridService.getGroupList(),this.gridService.getLocationList(),this.gridService.getRoleList(),this.subscription.add(this.gridService.rowSelected.subscribe(e=>{e&&5===this.gridService.gridType?this.showSelectedUser():(this.editUserFormContext.reset(),this.userToUpdate=null)})),this.subscription.add(this.formContext.valueChanges.subscribe(()=>{this.cssUserFeedback="",this.userFeedback=""}))}resetForm(){this.userToUpdate&&this.formContext.reset({accountLocked:this.userToUpdate.account_locked})}resetSubscriptions(){this.subscription.unsubscribe(),this.editUserForm.next(null),this.editUserForm.complete(),this.gridService.setSelectedRow(null)}ngOnDestroy(){this.resetSubscriptions(),this.userToUpdate=null}toggleLockStatus(e){this.lockStatus=e}}return e.\u0275fac=function(t){return new(t||e)(s.Mb(a.a),s.Mb(l.a),s.Mb(u.a))},e.\u0275cmp=s.Gb({type:e,selectors:[["app-edit-user"]],decls:26,vars:16,consts:[[3,"formGroup","cssWrapperOverride"],[4,"ngIf"],[1,"flex-container"],["type","text","readonly","",3,"value"],["class","flex-container",4,"ngIf"],[1,"my-caption"],[1,"my-tooltip"],["src","assets/lock_black_36px.png","alt","Account Locked",3,"click",4,"ngIf"],["src","assets/lock_open_black_36px.png","alt","Account Unlocked",3,"click",4,"ngIf"],[1,"my-tooltip-text",3,"ngClass"],["type","password","formControlName","newPassword"],["formControlName","locationId"],["value",""],["ngDefaultControl","",3,"label","value","hidden",4,"ngFor","ngForOf"],["formControlName","roleId"],["formControlName","groupId"],[1,"user-feedback",3,"ngClass"],["src","assets/lock_black_36px.png","alt","Account Locked",3,"click"],["src","assets/lock_open_black_36px.png","alt","Account Unlocked",3,"click"],["ngDefaultControl","",3,"label","value","hidden"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(s.Sb(0,"app-layout-wrapper",0),s.Fc(1,f,5,0,"header",1),s.Fc(2,g,5,0,"nav",1),s.Sb(3,"article",2),s.Sb(4,"label"),s.Hc(5,"Username: "),s.Nb(6,"input",3),s.Rb(),s.Sb(7,"label"),s.Hc(8,"Current Location: "),s.Nb(9,"input",3),s.hc(10,"locationConverter"),s.Rb(),s.Sb(11,"label"),s.Hc(12,"Current Role: "),s.Nb(13,"input",3),s.hc(14,"userRoleConverter"),s.Rb(),s.Sb(15,"label"),s.Hc(16,"Current Group: "),s.Nb(17,"input",3),s.Rb(),s.Sb(18,"label"),s.Hc(19,"Created on: "),s.Nb(20,"input",3),s.Rb(),s.Sb(21,"label"),s.Hc(22,"Updated on: "),s.Nb(23,"input",3),s.Rb(),s.Rb(),s.Fc(24,R,30,16,"aside",4),s.Fc(25,_,3,0,"footer",4),s.Rb()),2&e&&(s.nc("formGroup",t.formContext)("cssWrapperOverride",t.cssWrapperOverrideValue),s.zb(1),s.nc("ngIf",t.userSelected),s.zb(1),s.nc("ngIf",t.userSelected),s.zb(4),s.nc("value",t.userName),s.zb(3),s.nc("value",s.ic(10,12,t.currentLocation)),s.zb(4),s.nc("value",s.ic(14,14,t.currentRole)),s.zb(4),s.nc("value",t.currentGroup),s.zb(3),s.nc("value",t.createdOn),s.zb(3),s.nc("value",t.updatedOn),s.zb(1),s.nc("ngIf",t.userSelected),s.zb(1),s.nc("ngIf",t.userSelected))},directives:[c.a,n.t,n.l,p.u,p.r,n.c,n.s,n.j,n.E,n.x,n.G,p.t],pipes:[d.a,h.a,p.b],styles:['select[_ngcontent-%COMP%]{padding:1px 2px;min-width:110px}.flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;height:100%;margin:10px}.my-caption[_ngcontent-%COMP%]{margin-bottom:0}.flex-container[_ngcontent-%COMP%] > .my-tooltip[_ngcontent-%COMP%]{align-self:flex-start}.flex-container[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{align-self:stretch}.user-feedback[_ngcontent-%COMP%]{margin-top:15px;min-height:1.5em;align-self:center}.success[_ngcontent-%COMP%]{color:#2eae00}.fail[_ngcontent-%COMP%]{color:red}.white-on-black[_ngcontent-%COMP%]{background-color:#000;color:#fff}.black-on-white[_ngcontent-%COMP%]{background-color:#fff;color:#000}.my-tooltip[_ngcontent-%COMP%]   .my-tooltip-text[_ngcontent-%COMP%]{visibility:hidden;border-radius:6px 6px 6px 0;padding:3px;font-style:italic;font-weight:700;position:absolute;z-index:1}.my-tooltip[_ngcontent-%COMP%]:hover   .my-tooltip-text[_ngcontent-%COMP%]{visibility:visible}.my-tooltip[_ngcontent-%COMP%]:after{content:" "}.description[_ngcontent-%COMP%]{align-content:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;-webkit-text-fill-color:#666}']}),e})()},Kqap:function(e,t,o){"use strict";o.d(t,"a",function(){return i});var n=o("7o/Q");function i(e,t){let o=!1;return arguments.length>=2&&(o=!0),function(n){return n.lift(new r(e,t,o))}}class r{constructor(e,t,o=!1){this.accumulator=e,this.seed=t,this.hasSeed=o}call(e,t){return t.subscribe(new s(e,this.accumulator,this.seed,this.hasSeed))}}class s extends n.a{constructor(e,t,o,n){super(e),this.accumulator=t,this._seed=o,this.hasSeed=n,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let o;try{o=this.accumulator(this.seed,e,t)}catch(n){this.destination.error(n)}this.seed=o,this.destination.next(o)}}},KqfI:function(e,t,o){"use strict";function n(){}o.d(t,"a",function(){return n})},LRne:function(e,t,o){"use strict";o.d(t,"a",function(){return s});var n=o("z+Ro"),i=o("yCtX"),r=o("jZKg");function s(...e){let t=e[e.length-1];return Object(n.a)(t)?(e.pop(),Object(r.a)(e,t)):Object(i.a)(e)}},Lhse:function(e,t,o){"use strict";function n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}o.d(t,"a",function(){return i});const i=n()},Ludi:function(e,t,o){"use strict";o.d(t,"a",function(){return yh});var n={};o.r(n),o.d(n,"makeNull",function(){return D}),o.d(n,"exists",function(){return P}),o.d(n,"missing",function(){return T}),o.d(n,"missingOrEmpty",function(){return A}),o.d(n,"toStringOrNull",function(){return F}),o.d(n,"attrToNumber",function(){return N}),o.d(n,"attrToBoolean",function(){return x}),o.d(n,"attrToString",function(){return I}),o.d(n,"referenceCompare",function(){return M}),o.d(n,"jsonEquals",function(){return L}),o.d(n,"defaultComparator",function(){return G}),o.d(n,"find",function(){return k}),o.d(n,"values",function(){return V});var i={};o.r(i),o.d(i,"firstExistingValue",function(){return W}),o.d(i,"anyExists",function(){return B}),o.d(i,"existsAndNotEmpty",function(){return j}),o.d(i,"last",function(){return U}),o.d(i,"areEqual",function(){return z}),o.d(i,"compareArrays",function(){return K}),o.d(i,"shallowCompare",function(){return Y}),o.d(i,"sortNumerically",function(){return q}),o.d(i,"removeRepeatsFromArray",function(){return $}),o.d(i,"removeFromArray",function(){return Q}),o.d(i,"removeAllFromArray",function(){return X}),o.d(i,"insertIntoArray",function(){return Z}),o.d(i,"insertArrayIntoArray",function(){return J}),o.d(i,"moveInArray",function(){return ee}),o.d(i,"includes",function(){return te}),o.d(i,"flatten",function(){return oe}),o.d(i,"pushAll",function(){return ne}),o.d(i,"toStrings",function(){return ie}),o.d(i,"findIndex",function(){return re}),o.d(i,"every",function(){return se}),o.d(i,"some",function(){return ae}),o.d(i,"forEach",function(){return le}),o.d(i,"forEachReverse",function(){return ue}),o.d(i,"map",function(){return ce}),o.d(i,"filter",function(){return pe}),o.d(i,"reduce",function(){return de}),o.d(i,"forEachSnapshotFirst",function(){return he});var r={};o.r(r),o.d(r,"iterateObject",function(){return fe}),o.d(r,"cloneObject",function(){return ge}),o.d(r,"deepCloneObject",function(){return me}),o.d(r,"deepCloneDefinition",function(){return ye}),o.d(r,"getProperty",function(){return ve}),o.d(r,"setProperty",function(){return Ce}),o.d(r,"copyPropertiesIfPresent",function(){return be}),o.d(r,"copyPropertyIfPresent",function(){return we}),o.d(r,"getAllKeysInObjects",function(){return Ee}),o.d(r,"mergeDeep",function(){return Re}),o.d(r,"assign",function(){return _e}),o.d(r,"missingOrEmptyObject",function(){return Se}),o.d(r,"get",function(){return Oe}),o.d(r,"set",function(){return De}),o.d(r,"deepFreeze",function(){return Pe}),o.d(r,"getValueUsingField",function(){return Te}),o.d(r,"removeAllReferences",function(){return Ae}),o.d(r,"isNonNullObject",function(){return Fe});var s={};o.r(s),o.d(s,"doOnce",function(){return Me}),o.d(s,"getFunctionName",function(){return Le}),o.d(s,"getFunctionParameters",function(){return Ge}),o.d(s,"isFunction",function(){return ke}),o.d(s,"executeInAWhile",function(){return Ve}),o.d(s,"executeNextVMTurn",function(){return He}),o.d(s,"executeAfter",function(){return We}),o.d(s,"debounce",function(){return Be}),o.d(s,"compose",function(){return je}),o.d(s,"callIfPresent",function(){return Ue});var a={};o.r(a),o.d(a,"stopPropagationForAgGrid",function(){return gt}),o.d(a,"isStopPropagationForAgGrid",function(){return mt}),o.d(a,"isEventSupported",function(){return vt}),o.d(a,"getCellCompForEvent",function(){return Ct}),o.d(a,"addChangeListener",function(){return bt}),o.d(a,"getTarget",function(){return wt}),o.d(a,"isElementInEventPath",function(){return Et}),o.d(a,"createEventPath",function(){return Rt}),o.d(a,"addAgGridEventPath",function(){return _t}),o.d(a,"getEventPath",function(){return St}),o.d(a,"addSafePassiveEventListener",function(){return Ot});var l={};o.r(l),o.d(l,"utf8_encode",function(){return Gt}),o.d(l,"camelCaseToHyphen",function(){return kt}),o.d(l,"hyphenToCamelCase",function(){return Vt}),o.d(l,"capitalise",function(){return Ht}),o.d(l,"escapeString",function(){return Wt}),o.d(l,"camelCaseToHumanText",function(){return Bt}),o.d(l,"startsWith",function(){return jt});var u={};o.r(u),o.d(u,"padStart",function(){return Yt}),o.d(u,"createArrayOfNumbers",function(){return qt}),o.d(u,"isNumeric",function(){return $t}),o.d(u,"getMaxSafeInteger",function(){return Qt}),o.d(u,"cleanNumber",function(){return Xt}),o.d(u,"decToHex",function(){return Zt}),o.d(u,"formatNumberTwoDecimalPlacesAndCommas",function(){return Jt}),o.d(u,"formatNumberCommas",function(){return eo}),o.d(u,"sum",function(){return to});var c={};o.r(c),o.d(c,"stringToArray",function(){return wo});var p={};o.r(p),o.d(p,"isBrowserIE",function(){return Eo}),o.d(p,"isBrowserEdge",function(){return Ro}),o.d(p,"isBrowserSafari",function(){return _o}),o.d(p,"isBrowserChrome",function(){return So}),o.d(p,"isBrowserFirefox",function(){return Oo}),o.d(p,"isIOSUserAgent",function(){return Do}),o.d(p,"getTabIndex",function(){return Po}),o.d(p,"getMaxDivHeight",function(){return To}),o.d(p,"getScrollbarWidth",function(){return Ao}),o.d(p,"hasOverflowScrolling",function(){return Fo}),o.d(p,"getBodyWidth",function(){return No}),o.d(p,"getBodyHeight",function(){return xo});var d={};o.r(d),o.d(d,"addCssClass",function(){return Io}),o.d(d,"removeCssClass",function(){return Mo}),o.d(d,"addOrRemoveCssClass",function(){return Lo}),o.d(d,"radioCssClass",function(){return Go}),o.d(d,"containsClass",function(){return ko}),o.d(d,"setDisplayed",function(){return Vo}),o.d(d,"setVisible",function(){return Ho}),o.d(d,"setDisabled",function(){return Wo}),o.d(d,"isElementChildOfClass",function(){return Bo}),o.d(d,"getElementSize",function(){return jo}),o.d(d,"getInnerHeight",function(){return Uo}),o.d(d,"getInnerWidth",function(){return zo}),o.d(d,"getAbsoluteHeight",function(){return Ko}),o.d(d,"getAbsoluteWidth",function(){return Yo}),o.d(d,"isRtlNegativeScroll",function(){return qo}),o.d(d,"getScrollLeft",function(){return $o}),o.d(d,"setScrollLeft",function(){return Qo}),o.d(d,"clearElement",function(){return Xo}),o.d(d,"removeElement",function(){return Zo}),o.d(d,"removeFromParent",function(){return Jo}),o.d(d,"isVisible",function(){return en}),o.d(d,"loadTemplate",function(){return tn}),o.d(d,"appendHtml",function(){return on}),o.d(d,"getElementAttribute",function(){return nn}),o.d(d,"offsetHeight",function(){return rn}),o.d(d,"offsetWidth",function(){return sn}),o.d(d,"ensureDomOrder",function(){return an}),o.d(d,"setDomChildOrder",function(){return ln}),o.d(d,"insertTemplateWithDomOrder",function(){return un}),o.d(d,"prependDC",function(){return cn}),o.d(d,"addStylesToElement",function(){return pn}),o.d(d,"isHorizontalScrollShowing",function(){return dn}),o.d(d,"isVerticalScrollShowing",function(){return hn}),o.d(d,"setElementWidth",function(){return fn}),o.d(d,"setFixedWidth",function(){return gn}),o.d(d,"setElementHeight",function(){return mn}),o.d(d,"setFixedHeight",function(){return yn}),o.d(d,"formatSize",function(){return vn}),o.d(d,"isNode",function(){return Cn}),o.d(d,"isElement",function(){return bn}),o.d(d,"isNodeOrElement",function(){return wn}),o.d(d,"copyNodeList",function(){return En}),o.d(d,"iterateNamedNodeMap",function(){return Rn}),o.d(d,"setCheckboxState",function(){return _n}),o.d(d,"addOrRemoveAttribute",function(){return Sn}),o.d(d,"nodeListForEach",function(){return On});var h={};o.r(h),o.d(h,"getNameOfClass",function(){return Dn}),o.d(h,"findLineByLeastSquares",function(){return Pn}),o.d(h,"cssStyleObjectToMarkup",function(){return Tn}),o.d(h,"message",function(){return An}),o.d(h,"bindCellRendererToHtmlElement",function(){return Fn});var f={};o.r(f),o.d(f,"getAriaSortState",function(){return Mn}),o.d(f,"getAriaLevel",function(){return Ln}),o.d(f,"getAriaPosInSet",function(){return Gn}),o.d(f,"setAriaLabel",function(){return kn}),o.d(f,"setAriaLabelledBy",function(){return Vn}),o.d(f,"setAriaDescribedBy",function(){return Hn}),o.d(f,"setAriaLevel",function(){return Wn}),o.d(f,"setAriaDisabled",function(){return Bn}),o.d(f,"setAriaExpanded",function(){return jn}),o.d(f,"removeAriaExpanded",function(){return Un}),o.d(f,"setAriaSetSize",function(){return zn}),o.d(f,"setAriaPosInSet",function(){return Kn}),o.d(f,"setAriaMultiSelectable",function(){return Yn}),o.d(f,"setAriaRowCount",function(){return qn}),o.d(f,"setAriaRowIndex",function(){return $n}),o.d(f,"setAriaColCount",function(){return Qn}),o.d(f,"setAriaColIndex",function(){return Xn}),o.d(f,"setAriaColSpan",function(){return Zn}),o.d(f,"setAriaSort",function(){return Jn}),o.d(f,"removeAriaSort",function(){return ei}),o.d(f,"setAriaSelected",function(){return ti}),o.d(f,"setAriaChecked",function(){return oi});var g={};o.r(g),o.d(g,"serialiseDate",function(){return ni}),o.d(g,"parseDateTimeFromString",function(){return ii});var m={};o.r(m),o.d(m,"fuzzyCheckStrings",function(){return ri}),o.d(m,"fuzzySuggestions",function(){return si}),o.d(m,"get_bigrams",function(){return ai}),o.d(m,"string_distances",function(){return li}),o.d(m,"string_weighted_distances",function(){return ui});var y={};o.r(y),o.d(y,"iconNameClassMap",function(){return ci}),o.d(y,"createIcon",function(){return pi}),o.d(y,"createIconNoSpan",function(){return di});var v={};o.r(v),o.d(v,"isKeyPressed",function(){return hi}),o.d(v,"isEventFromPrintableCharacter",function(){return fi}),o.d(v,"isUserSuppressingKeyboardEvent",function(){return gi}),o.d(v,"isUserSuppressingHeaderKeyboardEvent",function(){return mi});var C={};o.r(C),o.d(C,"keys",function(){return yi});var b={};o.r(b),o.d(b,"normalizeWheel",function(){return vi}),o.d(b,"isLeftClick",function(){return Ci}),o.d(b,"areEventsNear",function(){return bi});var w={};o.r(w),o.d(w,"sortRowNodesByOrder",function(){return wi}),o.d(w,"traverseNodesWithKey",function(){return Ei});var E={};o.r(E),o.d(E,"convertToSet",function(){return Ri});var R=o("quSY");class _{constructor(){this.id=null,this.assigned_user=null,this.badge_status=null,this.activated_time=null,this.turned_in_time=null,this.expiration_date=null,this.batch_group=null,this.badge_serial_number=null,this.number_of_tolkens=null,this.date_created=null,this.date_last_updated=null,this.temperature_fahrenheit=null,this.temperature_celsius=null,this.relative_humidity=null,this.vapors_exposed=null,this.notes=null}getId(){return this.id}getAssignedUser(){return this.assigned_user}getBadgeStatus(){return this.badge_status}getActivatedTime(){return this.activated_time}getExpirationDate(){return this.expiration_date}getTurnedInTime(){return this.turned_in_time}getBatchGroup(){return this.batch_group}getBadgeSerialNumber(){return this.badge_serial_number}getNumberOfTolkens(){return this.number_of_tolkens}getDateCreated(){return this.date_created}getDateLastUpdated(){return this.date_last_updated}getTemperatureFahrenheit(){return this.temperature_fahrenheit}getTemperatureCelsius(){return this.temperature_celsius}getRelativeHumidity(){return this.relative_humidity}getVaporsExposed(){return this.vapors_exposed}getNotes(){return this.notes}setId(e){this.id=e}setAssignedUser(e){this.assigned_user=e}setBadgeStatus(e){this.badge_status=e}setActivatedTime(e){this.activated_time=e}setTurnedInTime(e){this.turned_in_time=e}setExpirationdate(e){this.expiration_date=e}setBatchGroup(e){this.batch_group=e}setBadgeSerialNumber(e){this.badge_serial_number=e}setNumberOfTolkens(e){this.number_of_tolkens=e}setDateCreated(e){this.date_created=e}setDateLastUpdated(e){this.date_last_updated=e}setTemperatureFahrenheit(e){this.temperature_fahrenheit=e}setTemperatureCelsius(e){this.temperature_celsius=e}setRelativeHumidity(e){this.relative_humidity=e}setVaporsExposed(e){this.vapors_exposed=e}setNotes(e){this.notes=e}}class S{constructor(){this.id=null,this.data_table_type=null,this.raw_data_id=null,this.badge_id=null,this.wearer=null,this.wearer_id=null,this.analyst=null,this.analyst_id=null,this.badge_serial_number=null,this.analyzed_data=null,this.analyzed_comments=null,this.raw_data=null,this.raw_comments=null,this.date_created=null,this.date_last_updated=null,this.original_filename=null,this.raw_uploaded_by=null,this.country=null,this.city=null,this.base=null,this.state=null}getId(){return this.id}getDataTableType(){return this.data_table_type}getRawDataId(){return this.raw_data_id}getBadgeId(){return this.badge_id}getWearer(){return this.wearer}getWearerId(){return this.wearer_id}getAnalyst(){return this.analyst}getAnalystId(){return this.analyst_id}getBadgeSerialNumber(){return this.badge_serial_number}getAnalyzedData(){return this.analyzed_data}getAnalyzedComments(){return this.analyzed_comments}getRawData(){return this.raw_data}getRawComments(){return this.raw_comments}getDateCreated(){return this.date_created}getDateLastUpdated(){return this.date_last_updated}getRawUploadedBy(){return this.raw_uploaded_by}getOriginalFilename(){return this.original_filename}setId(e){this.id=e}setDataTableType(e){this.data_table_type=e}setRawDataId(e){this.raw_data_id=e}setBadgeId(e){this.badge_id=e}setWearer(e){this.wearer=e}setWearerId(e){this.wearer_id=e}setAnalyst(e){this.analyst=e}setAnalystId(e){this.analyst_id=e}setBadgeSerialNumber(e){this.badge_serial_number=e}setAnalyzedData(e){this.analyzed_data=e}setAnalyzedComments(e){this.analyzed_comments=e}setRawData(e){this.raw_data=e}setRawComments(e){this.raw_comments=e}setDateCreated(e){this.date_created=e}setDateLastUpdated(e){this.date_last_updated=e}setRawUploadedBy(e){this.raw_uploaded_by=e}setOriginalFilename(e){this.original_filename=e}}class O{constructor(){this.id=0,this.chemical_class_id=0,this.analyte_name="",this.data_table_id=0,this.cas_number="",this.osha_pel_ppm="",this.osha_pel_mg="",this.cal_osha_pel_8_hour_twa="",this.cal_osha_pel_8_hour_twa_st="",this.cal_osha_pel_8_hour_twa_c="",this.niosh_rel_10_hour_twa="",this.niosh_rel_10_hour_twa_st="",this.niosh_rel_10_hour_twa_c="",this.acgih_2019_tlv_8_hour_twa="",this.acgih_2019_tlv_8_hour_twa_st="",this.acgih_2019_tlv_8_hour_twa_c="",this.date_last_updated="",this.detection_limit="",this.osu_6_sampling_rate="",this.molecular_weight="",this.reporting_limit="",this.sampling_rate=""}getId(){return this.id}getChemicalClassId(){return this.chemical_class_id}getAnalyteName(){return this.analyte_name}getDataTableId(){return this.data_table_id}getCasNumber(){return this.cas_number}getOshaPPM(){return this.osha_pel_ppm}getOshaMg(){return this.osha_pel_mg}getOshatwa(){return this.cal_osha_pel_8_hour_twa}getOshatwaSt(){return this.cal_osha_pel_8_hour_twa_st}getOshatwaC(){return this.cal_osha_pel_8_hour_twa_c}getNioshTwa(){return this.niosh_rel_10_hour_twa}getNioshTwaSt(){return this.niosh_rel_10_hour_twa_st}getNioshTwaC(){return this.niosh_rel_10_hour_twa_c}getAcgihTwa(){return this.acgih_2019_tlv_8_hour_twa}getAcgihTwaSt(){return this.acgih_2019_tlv_8_hour_twa_st}getAcgihTwaC(){return this.acgih_2019_tlv_8_hour_twa_c}getDateLastUpdated(){return this.date_last_updated}getDetectionLimit(){return this.detection_limit}getOsu6SamplingRate(){return this.osu_6_sampling_rate}getMolecularWeight(){return this.molecular_weight}getReportingLimit(){return this.reporting_limit}getSamplingRate(){return this.sampling_rate}setId(e){this.id=e}setChemicalClassId(e){this.chemical_class_id=e}setAnalyteName(e){this.analyte_name=e}setDataTableId(e){this.data_table_id=e}setCasNumber(e){this.cas_number=e}setOshaPPM(e){this.osha_pel_ppm=e}setOshaMg(e){this.osha_pel_mg=e}setOshaTwa(e){this.cal_osha_pel_8_hour_twa=e}setOshaTwaSt(e){this.cal_osha_pel_8_hour_twa_st=e}setOshaTwaC(e){this.cal_osha_pel_8_hour_twa_c=e}setNioshTwa(e){this.niosh_rel_10_hour_twa=e}setNioshTwaSt(e){this.niosh_rel_10_hour_twa_st=e}setNioshTwaC(e){this.niosh_rel_10_hour_twa_c=e}setAcgihTwa(e){this.acgih_2019_tlv_8_hour_twa=e}setAcgihTwaSt(e){this.acgih_2019_tlv_8_hour_twa_st=e}setAcgihTwaC(e){this.acgih_2019_tlv_8_hour_twa_c=e}setDateLastUpdated(e){this.date_last_updated=e}setDetectionLimit(e){this.detection_limit=e}setOsu6SamplingRate(e){this.osu_6_sampling_rate=e}setMolecularWeight(e){this.molecular_weight=e}setReportingLimit(e){this.reporting_limit=e}setSamplingRate(e){this.sampling_rate=e}}function D(e){return null==e||""===e?null:e}function P(e,t){return void 0===t&&(t=!1),null!=e&&(t||""!==e)}function T(e){return!P(e)}function A(e){return!e||T(e)||0===e.length}function F(e){return P(e)&&e.toString?e.toString():null}function N(e){if(void 0!==e){if(null===e||""===e)return null;if("number"==typeof e)return isNaN(e)?void 0:e;var t=parseInt(e,10);return isNaN(t)?void 0:t}}function x(e){if(void 0!==e)return null!==e&&""!==e&&(!0===e||!1===e?e:/true/i.test(e))}function I(e){if(null!=e&&""!==e)return e}function M(e,t){return null==e&&null==t||(null!=e||null==t)&&(null==e||null!=t)&&e===t}function L(e,t){return(e?JSON.stringify(e):null)===(t?JSON.stringify(t):null)}function G(e,t,o){void 0===o&&(o=!1);var n=null==e,i=null==t;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&i)return 0;if(n)return-1;if(i)return 1;function r(e,t){return e>t?1:e<t?-1:0}if("string"!=typeof e)return r(e,t);if(!o)return r(e,t);try{return e.localeCompare(t)}catch(s){return r(e,t)}}function k(e,t,o){if(null==e)return null;if(!Array.isArray(e))return k(V(e),t,o);for(var n=e,i=null,r=0;r<n.length;r++){var s=n[r];if("string"==typeof t){if(s[t]===o){i=s;break}}else if(t(s)){i=s;break}}return i}function V(e){if(e instanceof Set||e instanceof Map){var t=[];return e.forEach(function(e){return t.push(e)}),t}return Object.keys(e).map(function(t){return e[t]})}var H=function(){function e(){this.existingKeys={}}return e.prototype.addExistingKeys=function(e){for(var t=0;t<e.length;t++)this.existingKeys[e[t]]=!0},e.prototype.getUniqueKey=function(e,t){e=F(e);for(var o=0;;){var n=void 0;if(e?(n=e,0!==o&&(n+="_"+o)):t?(n=t,0!==o&&(n+="_"+o)):n=""+o,!this.existingKeys[n])return this.existingKeys[n]=!0,n;o++}},e}();function W(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var o=0;o<e.length;o++){var n=e[o];if(P(n))return n}return null}function B(e){return e&&null!=W(e)}function j(e){return null!=e&&e.length>0}function U(e){if(e&&e.length)return e[e.length-1]}function z(e,t,o){return null==e&&null==t||null!=e&&null!=t&&e.length===t.length&&se(e,function(e,n){return o?o(e,t[n]):t[n]===e})}function K(e,t){return z(e,t)}function Y(e,t){return z(e,t)}function q(e){return e.sort(function(e,t){return e-t})}function $(e,t){if(e)for(var o=e.length-2;o>=0;o--)e[o]===t&&e[o+1]===t&&e.splice(o+1,1)}function Q(e,t){var o=e.indexOf(t);o>=0&&e.splice(o,1)}function X(e,t){le(t,function(t){return Q(e,t)})}function Z(e,t,o){e.splice(o,0,t)}function J(e,t,o){if(null!=e&&null!=t)for(var n=t.length-1;n>=0;n--)Z(e,t[n],o)}function ee(e,t,o){X(e,t),le(t.slice().reverse(),function(t){return Z(e,t,o)})}function te(e,t){return e.indexOf(t)>-1}function oe(e){return[].concat.apply([],e)}function ne(e,t){null!=t&&null!=e&&le(t,function(t){return e.push(t)})}function ie(e){return ce(e,F)}function re(e,t){for(var o=0;o<e.length;o++)if(t(e[o],o,e))return o;return-1}function se(e,t){if(null==e)return!0;for(var o=0;o<e.length;o++)if(!t(e[o],o))return!1;return!0}function ae(e,t){if(null==e)return!1;for(var o=0;o<e.length;o++)if(t(e[o],o))return!0;return!1}function le(e,t){if(null!=e)for(var o=0;o<e.length;o++)t(e[o],o)}function ue(e,t){if(null!=e)for(var o=e.length-1;o>=0;o--)t(e[o],o)}function ce(e,t){if(null==e)return null;for(var o=[],n=0;n<e.length;n++)o.push(t(e[n],n));return o}function pe(e,t){if(null==e)return null;for(var o=[],n=0;n<e.length;n++)t(e[n],n)&&o.push(e[n]);return o}function de(e,t,o){if(null==e||null==o)return null;for(var n=o,i=0;i<e.length;i++)n=t(n,e[i],i);return n}function he(e,t){e&&e.slice(0).forEach(t)}function fe(e,t){null!=e&&(Array.isArray(e)?le(e,function(e,o){return t(""+o,e)}):le(Object.keys(e),function(o){return t(o,e[o])}))}function ge(e){for(var t={},o=Object.keys(e),n=0;n<o.length;n++){var i=o[n];t[i]=e[i]}return t}function me(e){return JSON.parse(JSON.stringify(e))}function ye(e,t){if(e){var o=e,n={};return Object.keys(o).forEach(function(e){if(!(t&&t.indexOf(e)>=0)){var i=o[e];n[e]="object"==typeof i&&i.constructor===Object?ye(i):i}}),n}}function ve(e,t){return e[t]}function Ce(e,t,o){e[t]=o}function be(e,t){for(var o=[],n=2;n<arguments.length;n++)o[n-2]=arguments[n];le(o,function(o){return we(e,t,o)})}function we(e,t,o,n){var i=ve(e,o);void 0!==i&&Ce(t,o,n?n(i):i)}function Ee(e){var t={};return e.filter(function(e){return null!=e}).forEach(function(e){le(Object.keys(e),function(e){return t[e]=null})}),Object.keys(t)}function Re(e,t,o,n){void 0===o&&(o=!0),void 0===n&&(n=!1),P(t)&&fe(t,function(t,i){var r=e[t];r!==i&&(n&&null==r&&null!=i&&"object"==typeof i&&i.constructor===Object&&(e[t]=r={}),Fe(i)&&Fe(r)&&!Array.isArray(r)?Re(r,i,o,n):(o||void 0!==i)&&(e[t]=i))})}function _e(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];return le(t,function(t){return fe(t,function(t,o){return e[t]=o})}),e}function Se(e){return T(e)||0===Object.keys(e).length}function Oe(e,t,o){if(null==e)return o;for(var n=t.split("."),i=e;n.length>1;)if(null==(i=i[n.shift()]))return o;var r=i[n[0]];return null!=r?r:o}function De(e,t,o){if(null!=e){for(var n=t.split("."),i=e;n.length>1;)if(null==(i=i[n.shift()]))return;i[n[0]]=o}}function Pe(e){return Object.freeze(e),le(V(e),function(e){(Fe(e)||"function"==typeof e)&&Pe(e)}),e}function Te(e,t,o){if(t&&e){if(!o)return e[t];for(var n=t.split("."),i=e,r=0;r<n.length;r++){if(T(i))return null;i=i[n[r]]}return i}}function Ae(e,t){Object.keys(e).forEach(function(t){"object"==typeof e[t]&&(e[t]=void 0)});var o=Object.getPrototypeOf(e),n={};Object.keys(o).forEach(function(e){"function"==typeof o[e]&&(n[e]={value:function(){console.warn("ag-Grid: "+t+" function "+e+"() cannot be called as the grid has been \ndestroyed. Please don't call grid API functions on destroyed grids - as a matter of fact you \nshouldn't be keeping the API reference, your application has a memory leak! Remove the API reference \nwhen the grid is destroyed.")},writable:!0})}),Object.defineProperties(e,n)}function Fe(e){return"object"==typeof e&&null!==e}var Ne=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,xe=/([^\s,]+)/g,Ie={};function Me(e,t){Ie[t]||(e(),Ie[t]=!0)}function Le(e){if(e.name)return e.name;var t=/function\s+([^\(]+)/.exec(e.toString());return t&&2===t.length?t[1].trim():null}function Ge(e){var t=e.toString().replace(Ne,"");return t.slice(t.indexOf("(")+1,t.indexOf(")")).match(xe)||[]}function ke(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Ve(e){We(e,400)}function He(e){We(e,0)}function We(e,t){void 0===t&&(t=0),e.length>0&&window.setTimeout(function(){return e.forEach(function(e){return e()})},t)}function Be(e,t,o){var n;return void 0===o&&(o=!1),function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var s=this,a=o&&!n;window.clearTimeout(n),n=window.setTimeout(function(){n=null,o||e.apply(s,i)},t),a&&e.apply(s,i)}}function je(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduce(function(e,t){return t(e)},t)}}function Ue(e){e&&e()}var ze=function(){function e(e,t){if(this.beanWrappers={},this.destroyed=!1,e&&e.beanClasses){this.contextParams=e,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();var o=this.getBeanInstances();this.wireBeans(o),this.logger.log(">> ag-Application Context ready - component is alive")}}return e.prototype.getBeanInstances=function(){return V(this.beanWrappers).map(function(e){return e.beanInstance})},e.prototype.createBean=function(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.wireBeans([e],t),e},e.prototype.wireBeans=function(e,t){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),P(t)&&e.forEach(t),this.callLifeCycleMethods(e,"postConstructMethods")},e.prototype.createBeans=function(){var e=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),fe(this.beanWrappers,function(t,o){var n;o.bean.__agBeanMetaData&&o.bean.__agBeanMetaData.autowireMethods&&o.bean.__agBeanMetaData.autowireMethods.agConstructor&&(n=o.bean.__agBeanMetaData.autowireMethods.agConstructor);var i,r,s=e.getBeansForParameters(n,o.bean.name),a=(i=o.bean,r=[null].concat(s),new(i.bind.apply(i,r)));o.beanInstance=a});var t=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+t)},e.prototype.createBeanWrapper=function(e){var t,o=e.__agBeanMetaData;if(!o)return t=e.prototype.constructor?Le(e.prototype.constructor):""+e,void console.error("Context item "+t+" is not a bean");this.beanWrappers[o.beanName]={bean:e,beanInstance:null,beanName:o.beanName}},e.prototype.autoWireBeans=function(e){var t=this;e.forEach(function(e){t.forEachMetaDataInHierarchy(e,function(o,n){var i=o.agClassAttributes;i&&i.forEach(function(o){var i=t.lookupBeanInstance(n,o.beanName,o.optional);e[o.attributeName]=i})})})},e.prototype.methodWireBeans=function(e){var t=this;e.forEach(function(e){t.forEachMetaDataInHierarchy(e,function(o,n){fe(o.autowireMethods,function(o,i){if("agConstructor"!==o){var r=t.getBeansForParameters(i,n);e[o].apply(e,r)}})})})},e.prototype.forEachMetaDataInHierarchy=function(e,t){for(var o=Object.getPrototypeOf(e);null!=o;){var n=o.constructor;n.hasOwnProperty("__agBeanMetaData")&&t(n.__agBeanMetaData,this.getBeanName(n)),o=Object.getPrototypeOf(o)}},e.prototype.getBeanName=function(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;var t=e.toString();return t.substring(9,t.indexOf("("))},e.prototype.getBeansForParameters=function(e,t){var o=this,n=[];return e&&fe(e,function(e,i){var r=o.lookupBeanInstance(t,i);n[Number(e)]=r}),n},e.prototype.lookupBeanInstance=function(e,t,o){if(void 0===o&&(o=!1),"context"===t)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];var n=this.beanWrappers[t];return n?n.beanInstance:(o||console.error("ag-Grid: unable to find bean reference "+t+" while initialising "+e),null)},e.prototype.callLifeCycleMethods=function(e,t){var o=this;e.forEach(function(e){return o.callLifeCycleMethodsOnBean(e,t)})},e.prototype.callLifeCycleMethodsOnBean=function(e,t,o){var n={};this.forEachMetaDataInHierarchy(e,function(e){var i=e[t];i&&i.forEach(function(e){e!=o&&(n[e]=!0)})}),Object.keys(n).forEach(function(t){return e[t]()})},e.prototype.getBean=function(e){return this.lookupBeanInstance("getBean",e,!0)},e.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var e=this.getBeanInstances();this.destroyBeans(e),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},e.prototype.destroyBean=function(e){e&&this.destroyBeans([e])},e.prototype.destroyBeans=function(e){var t=this;return e?(e.forEach(function(e){t.callLifeCycleMethodsOnBean(e,"preDestroyMethods","destroy"),"function"==typeof e.destroy&&e.destroy()}),[]):[]},e}();function Ke(e,t,o){var n=et(e.constructor);n.preConstructMethods||(n.preConstructMethods=[]),n.preConstructMethods.push(t)}function Ye(e,t,o){var n=et(e.constructor);n.postConstructMethods||(n.postConstructMethods=[]),n.postConstructMethods.push(t)}function qe(e,t,o){var n=et(e.constructor);n.preDestroyMethods||(n.preDestroyMethods=[]),n.preDestroyMethods.push(t)}function $e(e){return function(t){et(t).beanName=e}}function Qe(e){return function(t,o,n){Ze(t,e,!1,0,o,null)}}function Xe(e){return function(t,o,n){Ze(t,e,!0,0,o,null)}}function Ze(e,t,o,n,i,r){if(null!==t)if("number"!=typeof r){var s=et(e.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:i,beanName:t,optional:o})}else console.error("ag-Grid: Autowired should be on an attribute");else console.error("ag-Grid: Autowired name should not be null")}function Je(e){return function(t,o,n){var i,r="function"==typeof t?t:t.constructor;if("number"==typeof n){var s=void 0;o?(i=et(r),s=o):(i=et(r),s="agConstructor"),i.autowireMethods||(i.autowireMethods={}),i.autowireMethods[s]||(i.autowireMethods[s]={}),i.autowireMethods[s][n]=e}}}function et(e){return e.hasOwnProperty("__agBeanMetaData")||(e.__agBeanMetaData={}),e.__agBeanMetaData}var tt,ot=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},nt=function(e,t){return function(o,n){t(o,n,e)}},it=function(){function e(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return e.prototype.setBeans=function(e,t,o){if(void 0===o&&(o=null),this.logger=e.create("EventService"),o){var n=t.useAsyncEvents();this.addGlobalListener(o,n)}},e.prototype.getListeners=function(e,t){var o=t?this.allAsyncListeners:this.allSyncListeners,n=o.get(e);return n||(n=new Set,o.set(e,n)),n},e.prototype.addEventListener=function(e,t,o){void 0===o&&(o=!1),this.getListeners(e,o).add(t)},e.prototype.removeEventListener=function(e,t,o){void 0===o&&(o=!1),this.getListeners(e,o).delete(t)},e.prototype.addGlobalListener=function(e,t){void 0===t&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)},e.prototype.removeGlobalListener=function(e,t){void 0===t&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)},e.prototype.dispatchEvent=function(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0},e.prototype.dispatchEventOnce=function(e){this.firedEvents[e.type]||this.dispatchEvent(e)},e.prototype.dispatchToListeners=function(e,t){var o=this,n=e.type;this.getListeners(n,t).forEach(function(n){t?o.dispatchAsync(function(){return n(e)}):n(e)}),(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(i){t?o.dispatchAsync(function(){return i(n,e)}):i(n,e)})},e.prototype.dispatchAsync=function(e){this.asyncFunctionsQueue.push(e),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},e.prototype.flushAsyncQueue=function(){this.scheduled=!1;var e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(function(e){return e()})},ot([nt(0,Je("loggerFactory")),nt(1,Je("gridOptionsWrapper")),nt(2,Je("globalEventListener"))],e.prototype,"setBeans",null),ot([$e("eventService")],e)}(),rt=function(){function e(){}return e.STEP_EVERYTHING=0,e.STEP_FILTER=1,e.STEP_SORT=2,e.STEP_MAP=3,e.STEP_AGGREGATE=4,e.STEP_PIVOT=5,e.ROW_BUFFER_SIZE=10,e.LAYOUT_INTERVAL=500,e.BATCH_WAIT_MILLIS=50,e.EXPORT_TYPE_DRAG_COPY="dragCopy",e.EXPORT_TYPE_CLIPBOARD="clipboard",e.EXPORT_TYPE_EXCEL="excel",e.EXPORT_TYPE_CSV="csv",e.ROW_MODEL_TYPE_INFINITE="infinite",e.ROW_MODEL_TYPE_VIEWPORT="viewport",e.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",e.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",e.ALWAYS="always",e.ONLY_WHEN_GROUPING="onlyWhenGrouping",e.PINNED_TOP="top",e.PINNED_BOTTOM="bottom",e.DOM_LAYOUT_NORMAL="normal",e.DOM_LAYOUT_PRINT="print",e.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",e.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",e.SOURCE_PASTE="paste",e.PINNED_RIGHT="right",e.PINNED_LEFT="left",e.SORT_ASC="asc",e.SORT_DESC="desc",e}();!function(e){e.CommunityCoreModule="@ag-grid-community/core",e.CommunityAllModules="@ag-grid-community/all",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.RowNodeCache="@ag-grid-community/row-node-cache",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.EnterpriseAllModules="@ag-grid-enterprise/all",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.DateTimeCellEditorModule="@ag-grid-enterprise/date-time-cell-editor",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e.PolymerModule="@ag-grid-community/polymer"}(tt||(tt={}));var st=function(){function e(){}return e.register=function(t,o){void 0===o&&(o=!0),e.modulesMap[t.moduleName]=t,void 0===e.moduleBased?e.moduleBased=o:e.moduleBased!==o&&Me(function(){console.warn("ag-Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid-packages-modules/ for more information.")},"ModulePackageCheck")},e.registerModules=function(t,o){void 0===o&&(o=!0),t&&t.forEach(function(t){return e.register(t,o)})},e.assertRegistered=function(e,t){if(this.isRegistered(e))return!0;var o="ag-Grid: unable to use "+t+" as module "+e+" is not present. Please see: https://www.ag-grid.com/javascript-grid-modules/";return Me(function(){console.warn(o)},t+e),!1},e.isRegistered=function(t){return!!e.modulesMap[t]},e.getRegisteredModules=function(){return V(e.modulesMap)},e.isPackageBased=function(){return!e.moduleBased},e.modulesMap={},e}(),at=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},lt=function(){function e(e,t,o,n){this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new it,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=o,this.primary=n,this.setState(e)}return e.prototype.setState=function(e){void 0!==e.sort?e.sort!==rt.SORT_ASC&&e.sort!==rt.SORT_DESC||(this.sort=e.sort):e.initialSort!==rt.SORT_ASC&&e.initialSort!==rt.SORT_DESC||(this.sort=e.initialSort);var t=N(e.sortIndex),o=N(e.initialSortIndex);void 0!==t?null!==t&&(this.sortIndex=t):null!==o&&(this.sortIndex=o);var n=x(e.hide),i=x(e.initialHide);this.visible=void 0!==n?!n:!i,this.setPinned(void 0!==e.pinned?e.pinned:e.initialPinned);var r=N(e.flex),s=N(e.initialFlex);void 0!==r?this.flex=r:void 0!==s&&(this.flex=s)},e.prototype.setColDef=function(e,t){this.colDef=e,this.userProvidedColDef=t},e.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},e.prototype.setParent=function(e){this.parent=e},e.prototype.getParent=function(){return this.parent},e.prototype.setOriginalParent=function(e){this.originalParent=e},e.prototype.getOriginalParent=function(){return this.originalParent},e.prototype.initialise=function(){var e=this.gridOptionsWrapper.getMinColWidth(),t=this.gridOptionsWrapper.getMaxColWidth();this.minWidth=this.colDef.minWidth?this.colDef.minWidth:e,this.maxWidth=this.colDef.maxWidth?this.colDef.maxWidth:t,this.resetActualWidth("gridInitializing");var o=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=P(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!o,this.tooltipFieldContainsDots=P(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!o,this.validate()},e.prototype.resetActualWidth=function(e){void 0===e&&(e="api");var t=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)},e.prototype.isEmptyGroup=function(){return!1},e.prototype.isRowGroupDisplayed=function(e){return!(T(this.colDef)||T(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==e)},e.prototype.getUniqueId=function(){return this.getId()},e.prototype.isPrimary=function(){return this.primary},e.prototype.isFilterAllowed=function(){return this.primary&&(!!this.colDef.filter||!!this.colDef.filterFramework)},e.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},e.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},e.prototype.validate=function(){var e=this.colDef;function t(e,t,o){Me(function(){o?console.warn(e,o):Me(function(){return console.warn(e)},t)},t)}st.isRegistered(tt.RowGroupingModule)||["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach(function(o){P(e[o])&&(st.isPackageBased()?t("ag-Grid: "+o+" is only valid in ag-grid-enterprise, your column definition should not have "+o,"ColumnRowGroupingMissing"+o):t("ag-Grid: "+o+" is only valid with ag-Grid Enterprise Module "+tt.RowGroupingModule+" - your column definition should not have "+o,"ColumnRowGroupingMissing"+o))}),st.isRegistered(tt.RichSelectModule)||"agRichSelect"!==this.colDef.cellEditor&&"agRichSelectCellEditor"!==this.colDef.cellEditor||(st.isPackageBased()?t("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):t("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-Grid Enterprise Module "+tt.RichSelectModule,"ColumnRichSelectMissing")),st.isRegistered(tt.DateTimeCellEditorModule)||"agRichSelect"!==this.colDef.cellEditor&&"agDateTimeCellEditor"!==this.colDef.cellEditor||(st.isPackageBased()?t("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnDateTimeMissing"):t("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-Grid Enterprise Module "+tt.DateTimeCellEditorModule,"ColumnDateTimeMissing")),this.gridOptionsWrapper.isTreeData()&&["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach(function(o){P(e[o])&&t("ag-Grid: "+o+" is not possible when doing tree data, your column definition should not have "+o,"TreeDataCannotRowGroup")}),P(this.colDef.width)&&"number"!=typeof this.colDef.width&&t("ag-Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef")},e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.createIsColumnFuncParams=function(e){return{node:e,data:e.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},e.prototype.isSuppressNavigable=function(e){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var t=this.createIsColumnFuncParams(e);return(0,this.colDef.suppressNavigable)(t)}return!1},e.prototype.isCellEditable=function(e){return!(e.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(e,this.colDef.editable)},e.prototype.isRowDrag=function(e){return this.isColumnFunc(e,this.colDef.rowDrag)},e.prototype.isDndSource=function(e){return this.isColumnFunc(e,this.colDef.dndSource)},e.prototype.isCellCheckboxSelection=function(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)},e.prototype.isSuppressPaste=function(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)},e.prototype.isResizable=function(){return!0===this.colDef.resizable},e.prototype.isColumnFunc=function(e,t){return"boolean"==typeof t?t:"function"==typeof t&&t(this.createIsColumnFuncParams(e))},e.prototype.setMoving=function(t,o){void 0===o&&(o="api"),this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_MOVING_CHANGED,o))},e.prototype.createColumnEvent=function(e,t){return{api:this.gridApi,columnApi:this.columnApi,type:e,column:this,columns:[this],source:t}},e.prototype.isMoving=function(){return this.moving},e.prototype.getSort=function(){return this.sort},e.prototype.setSort=function(t,o){void 0===o&&(o="api"),this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_SORT_CHANGED,o)))},e.prototype.setMenuVisible=function(t,o){void 0===o&&(o="api"),this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_MENU_VISIBLE_CHANGED,o)))},e.prototype.isMenuVisible=function(){return this.menuVisible},e.prototype.isSortAscending=function(){return this.sort===rt.SORT_ASC},e.prototype.isSortDescending=function(){return this.sort===rt.SORT_DESC},e.prototype.isSortNone=function(){return T(this.sort)},e.prototype.isSorting=function(){return P(this.sort)},e.prototype.getSortIndex=function(){return this.sortIndex},e.prototype.setSortIndex=function(e){this.sortIndex=e},e.prototype.setAggFunc=function(e){this.aggFunc=e},e.prototype.getAggFunc=function(){return this.aggFunc},e.prototype.getLeft=function(){return this.left},e.prototype.getOldLeft=function(){return this.oldLeft},e.prototype.getRight=function(){return this.left+this.actualWidth},e.prototype.setLeft=function(t,o){void 0===o&&(o="api"),this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_LEFT_CHANGED,o)))},e.prototype.isFilterActive=function(){return this.filterActive},e.prototype.setFilterActive=function(t,o,n){void 0===o&&(o="api"),this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_FILTER_ACTIVE_CHANGED,o)));var i=this.createColumnEvent(e.EVENT_FILTER_CHANGED,o);n&&Re(i,n),this.eventService.dispatchEvent(i)},e.prototype.setPinned=function(e){this.pinned=!0===e||e===rt.PINNED_LEFT?rt.PINNED_LEFT:e===rt.PINNED_RIGHT?rt.PINNED_RIGHT:null},e.prototype.setFirstRightPinned=function(t,o){void 0===o&&(o="api"),this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_FIRST_RIGHT_PINNED_CHANGED,o)))},e.prototype.setLastLeftPinned=function(t,o){void 0===o&&(o="api"),this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_LAST_LEFT_PINNED_CHANGED,o)))},e.prototype.isFirstRightPinned=function(){return this.firstRightPinned},e.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},e.prototype.isPinned=function(){return this.pinned===rt.PINNED_LEFT||this.pinned===rt.PINNED_RIGHT},e.prototype.isPinnedLeft=function(){return this.pinned===rt.PINNED_LEFT},e.prototype.isPinnedRight=function(){return this.pinned===rt.PINNED_RIGHT},e.prototype.getPinned=function(){return this.pinned},e.prototype.setVisible=function(t,o){void 0===o&&(o="api");var n=!0===t;this.visible!==n&&(this.visible=n,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_VISIBLE_CHANGED,o)))},e.prototype.isVisible=function(){return this.visible},e.prototype.getColDef=function(){return this.colDef},e.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},e.prototype.getColId=function(){return this.colId},e.prototype.getId=function(){return this.getColId()},e.prototype.getDefinition=function(){return this.colDef},e.prototype.getActualWidth=function(){return this.actualWidth},e.prototype.createBaseColDefParams=function(e){return{node:e,data:e.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},e.prototype.getColSpan=function(e){if(T(this.colDef.colSpan))return 1;var t=this.createBaseColDefParams(e),o=this.colDef.colSpan(t);return Math.max(o,1)},e.prototype.getRowSpan=function(e){if(T(this.colDef.rowSpan))return 1;var t=this.createBaseColDefParams(e),o=this.colDef.rowSpan(t);return Math.max(o,1)},e.prototype.setActualWidth=function(e,t,o){void 0===t&&(t="api"),void 0===o&&(o=!1),null!=this.minWidth&&(e=Math.max(e,this.minWidth)),null!=this.maxWidth&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&"flex"!==t&&"gridInitializing"!==t&&(this.flex=null),o||this.fireColumnWidthChangedEvent(t))},e.prototype.fireColumnWidthChangedEvent=function(t){this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_WIDTH_CHANGED,t))},e.prototype.isGreaterThanMax=function(e){return null!=this.maxWidth&&e>this.maxWidth},e.prototype.getMinWidth=function(){return this.minWidth},e.prototype.getMaxWidth=function(){return this.maxWidth},e.prototype.getFlex=function(){return this.flex||0},e.prototype.setFlex=function(e){this.flex!==e&&(this.flex=e)},e.prototype.setMinimum=function(e){void 0===e&&(e="api"),this.setActualWidth(this.minWidth,e)},e.prototype.setRowGroupActive=function(t,o){void 0===o&&(o="api"),this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_ROW_GROUP_CHANGED,o)))},e.prototype.isRowGroupActive=function(){return this.rowGroupActive},e.prototype.setPivotActive=function(t,o){void 0===o&&(o="api"),this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_PIVOT_CHANGED,o)))},e.prototype.isPivotActive=function(){return this.pivotActive},e.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},e.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},e.prototype.setValueActive=function(t,o){void 0===o&&(o="api"),this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_VALUE_CHANGED,o)))},e.prototype.isValueActive=function(){return this.aggregationActive},e.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},e.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},e.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},e.prototype.getMenuTabs=function(e){var t=this.getColDef().menuTabs;return null==t&&(t=e),t},e.prototype.isLockPosition=function(){return console.warn("ag-Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},e.prototype.isLockVisible=function(){return console.warn("ag-Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},e.prototype.isLockPinned=function(){return console.warn("ag-Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},e.EVENT_MOVING_CHANGED="movingChanged",e.EVENT_LEFT_CHANGED="leftChanged",e.EVENT_WIDTH_CHANGED="widthChanged",e.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",e.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",e.EVENT_VISIBLE_CHANGED="visibleChanged",e.EVENT_FILTER_CHANGED="filterChanged",e.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",e.EVENT_SORT_CHANGED="sortChanged",e.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",e.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",e.EVENT_PIVOT_CHANGED="columnPivotChanged",e.EVENT_VALUE_CHANGED="columnValueChanged",at([Qe("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),at([Qe("columnUtils")],e.prototype,"columnUtils",void 0),at([Qe("columnApi")],e.prototype,"columnApi",void 0),at([Qe("gridApi")],e.prototype,"gridApi",void 0),at([Qe("context")],e.prototype,"context",void 0),at([Ye],e.prototype,"initialise",null),e}(),ut=function(){function e(e,t,o,n){this.displayedChildren=[],this.localEventService=new it,this.groupId=t,this.instanceId=o,this.originalColumnGroup=e,this.pinned=n}return e.createUniqueId=function(e,t){return e+"_"+t},e.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},e.prototype.getParent=function(){return this.parent},e.prototype.setParent=function(e){this.parent=e},e.prototype.getUniqueId=function(){return e.createUniqueId(this.groupId,this.instanceId)},e.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},e.prototype.isMoving=function(){var e=this.getOriginalColumnGroup().getLeafColumns();return!(!e||0===e.length)&&e.every(function(e){return e.isMoving()})},e.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(t){t instanceof e&&t.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var t=U(this.displayedChildren).getLeft();this.setLeft(t)}else{var o=this.displayedChildren[0].getLeft();this.setLeft(o)}else this.setLeft(null)},e.prototype.getLeft=function(){return this.left},e.prototype.getOldLeft=function(){return this.oldLeft},e.prototype.setLeft=function(t){this.oldLeft=t,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_LEFT_CHANGED)))},e.prototype.getPinned=function(){return this.pinned},e.prototype.createAgEvent=function(e){return{type:e}},e.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},e.prototype.getGroupId=function(){return this.groupId},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.isChildInThisGroupDeepSearch=function(t){var o=!1;return this.children.forEach(function(n){t===n&&(o=!0),n instanceof e&&n.isChildInThisGroupDeepSearch(t)&&(o=!0)}),o},e.prototype.getActualWidth=function(){var e=0;return this.displayedChildren&&this.displayedChildren.forEach(function(t){e+=t.getActualWidth()}),e},e.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var e=!1;return this.displayedChildren.forEach(function(t){t.isResizable()&&(e=!0)}),e},e.prototype.getMinWidth=function(){var e=0;return this.displayedChildren.forEach(function(t){e+=t.getMinWidth()}),e},e.prototype.addChild=function(e){this.children||(this.children=[]),this.children.push(e)},e.prototype.getDisplayedChildren=function(){return this.displayedChildren},e.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},e.prototype.getDisplayedLeafColumns=function(){var e=[];return this.addDisplayedLeafColumns(e),e},e.prototype.getDefinition=function(){return this.originalColumnGroup.getColGroupDef()},e.prototype.getColGroupDef=function(){return this.originalColumnGroup.getColGroupDef()},e.prototype.isPadding=function(){return this.originalColumnGroup.isPadding()},e.prototype.isExpandable=function(){return this.originalColumnGroup.isExpandable()},e.prototype.isExpanded=function(){return this.originalColumnGroup.isExpanded()},e.prototype.setExpanded=function(e){this.originalColumnGroup.setExpanded(e)},e.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach(function(o){o instanceof lt?t.push(o):o instanceof e&&o.addDisplayedLeafColumns(t)})},e.prototype.addLeafColumns=function(t){this.children.forEach(function(o){o instanceof lt?t.push(o):o instanceof e&&o.addLeafColumns(t)})},e.prototype.getChildren=function(){return this.children},e.prototype.getColumnGroupShow=function(){return this.originalColumnGroup.getColumnGroupShow()},e.prototype.getOriginalColumnGroup=function(){return this.originalColumnGroup},e.prototype.getPaddingLevel=function(){var e=this.getParent();return this.isPadding()&&e&&e.isPadding()?1+e.getPaddingLevel():0},e.prototype.calculateDisplayedColumns=function(){var t=this;this.displayedChildren=[];var o=this;if(this.isPadding())for(;o.getParent()&&o.isPadding();)o=o.getParent();o.originalColumnGroup.isExpandable()?this.children.forEach(function(n){switch(n.getColumnGroupShow()){case e.HEADER_GROUP_SHOW_OPEN:o.originalColumnGroup.isExpanded()&&t.displayedChildren.push(n);break;case e.HEADER_GROUP_SHOW_CLOSED:o.originalColumnGroup.isExpanded()||t.displayedChildren.push(n);break;default:n instanceof e&&n.isPadding()&&!n.displayedChildren.length||t.displayedChildren.push(n)}}):this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_DISPLAYED_CHILDREN_CHANGED))},e.HEADER_GROUP_SHOW_OPEN="open",e.HEADER_GROUP_SHOW_CLOSED="closed",e.HEADER_GROUP_PADDING="padding",e.EVENT_LEFT_CHANGED="leftChanged",e.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([Qe("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(),ct=function(){function e(e,t,o,n){this.localEventService=new it,this.expandable=!1,this.colGroupDef=e,this.groupId=t,this.expanded=e&&!!e.openByDefault,this.padding=o,this.level=n}return e.prototype.setOriginalParent=function(e){this.originalParent=e},e.prototype.getOriginalParent=function(){return this.originalParent},e.prototype.getLevel=function(){return this.level},e.prototype.isVisible=function(){return!!this.children&&this.children.some(function(e){return e.isVisible()})},e.prototype.isPadding=function(){return this.padding},e.prototype.setExpanded=function(t){this.expanded=void 0!==t&&t,this.localEventService.dispatchEvent({type:e.EVENT_EXPANDED_CHANGED})},e.prototype.isExpandable=function(){return this.expandable},e.prototype.isExpanded=function(){return this.expanded},e.prototype.getGroupId=function(){return this.groupId},e.prototype.getId=function(){return this.getGroupId()},e.prototype.setChildren=function(e){this.children=e},e.prototype.getChildren=function(){return this.children},e.prototype.getColGroupDef=function(){return this.colGroupDef},e.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},e.prototype.addLeafColumns=function(t){this.children&&this.children.forEach(function(o){o instanceof lt?t.push(o):o instanceof e&&o.addLeafColumns(t)})},e.prototype.getColumnGroupShow=function(){return this.padding?ut.HEADER_GROUP_PADDING:this.colGroupDef.columnGroupShow},e.prototype.setupExpandable=function(){var e=this;this.setExpandable(),this.getLeafColumns().forEach(function(t){return t.addEventListener(lt.EVENT_VISIBLE_CHANGED,e.onColumnVisibilityChanged.bind(e))})},e.prototype.setExpandable=function(){if(!this.isPadding()){for(var t=!1,o=!1,n=!1,i=this.findChildren(),r=0,s=i.length;r<s;r++){var a=i[r];if(a.isVisible()){var l=a.getColumnGroupShow();l===ut.HEADER_GROUP_SHOW_OPEN?(t=!0,n=!0):l===ut.HEADER_GROUP_SHOW_CLOSED?(o=!0,n=!0):(t=!0,o=!0,l===ut.HEADER_GROUP_PADDING&&(n=n||a.children.some(function(e){return void 0!==e.getColumnGroupShow()})))}}var u=t&&o&&n;this.expandable!==u&&(this.expandable=u,this.localEventService.dispatchEvent({type:e.EVENT_EXPANDABLE_CHANGED}))}},e.prototype.findChildren=function(){var t=this.children,o=t[0];if(o&&(!o.isPadding||!o.isPadding()))return t;for(;1===t.length&&t[0]instanceof e;)t=t[0].children;return t},e.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},e.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},e.EVENT_EXPANDED_CHANGED="expandedChanged",e.EVENT_EXPANDABLE_CHANGED="expandableChanged",e}(),pt={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},dt=["touchstart","touchend","touchmove","touchcancel"],ht=["mouseover","mouseout","mouseenter","mouseleave"],ft={};function gt(e){e.__ag_Grid_Stop_Propagation=!0}function mt(e){return!0===e.__ag_Grid_Stop_Propagation}var yt,vt=(yt={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},function(e){if("boolean"==typeof ft[e])return ft[e];var t=document.createElement(yt[e]||"div"),o=(e="on"+e)in t;return o||(t.setAttribute(e,"return;"),o="function"==typeof t[e]),t=null,ft[e]=o});function Ct(e,t){for(var o=wt(t);o;){var n=e.getDomData(o,"cellComp");if(n)return n;o=o.parentElement}return null}function bt(e,t){e.addEventListener("changed",t),e.addEventListener("paste",t),e.addEventListener("input",t),e.addEventListener("keydown",t),e.addEventListener("keyup",t)}function wt(e){return e.target||e.srcElement}function Et(e,t){return!(!t||!e)&&St(t).indexOf(e)>=0}function Rt(e){for(var t=[],o=wt(e);o;)t.push(o),o=o.parentElement;return t}function _t(e){e.__agGridEventPath=St(e)}function St(e){var t=e;return t.deepPath?t.deepPath():t.path?t.path:t.composedPath?t.composedPath():t.__agGridEventPath?t.__agGridEventPath:Rt(e)}function Ot(e,t,o,n){var i=te(dt,o)?{passive:!0}:void 0;te(ht,o)?e&&e.addEventListenerOutsideAngular&&e.addEventListenerOutsideAngular(t,o,n,i):t.addEventListener(o,n,i)}var Dt,Pt=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Tt=function(){function e(){var e=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.getContext=function(){return e.context},this.isAlive=function(){return!e.destroyed}}return e.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},e.prototype.destroy=function(){this.destroyFunctions.forEach(function(e){return e()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:e.EVENT_DESTROYED})},e.prototype.addEventListener=function(e,t){this.localEventService||(this.localEventService=new it),this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)},e.prototype.dispatchEventAsync=function(e){var t=this;window.setTimeout(function(){return t.dispatchEvent(e)},0)},e.prototype.dispatchEvent=function(e){this.localEventService&&this.localEventService.dispatchEvent(e)},e.prototype.addManagedListener=function(e,t,o){var n=this;if(!this.destroyed){e instanceof HTMLElement?Ot(this.getFrameworkOverrides(),e,t,o):e.addEventListener(t,o);var i=function(){return e.removeEventListener(t,o),n.destroyFunctions=n.destroyFunctions.filter(function(e){return e!==i}),null};return this.destroyFunctions.push(i),i}},e.prototype.addDestroyFunc=function(e){this.isAlive()?this.destroyFunctions.push(e):e()},e.prototype.createManagedBean=function(e,t){var o=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),o},e.prototype.createBean=function(e,t,o){return(t||this.getContext()).createBean(e,o)},e.prototype.destroyBean=function(e,t){return(t||this.getContext()).destroyBean(e)},e.prototype.destroyBeans=function(e,t){var o=this;return e&&le(e,function(e){return o.destroyBean(e,t)}),[]},e.EVENT_DESTROYED="destroyed",Pt([Qe("frameworkOverrides")],e.prototype,"frameworkOverrides",void 0),Pt([Qe("context")],e.prototype,"context",void 0),Pt([Qe("eventService")],e.prototype,"eventService",void 0),Pt([qe],e.prototype,"destroy",null),e}(),At=(Dt=function(e,t){return(Dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}Dt(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),Ft=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Nt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return At(t,e),t.prototype.setBeans=function(e){this.logger=e.create("ColumnFactory")},t.prototype.createColumnTree=function(e,t,o){var n=new H;if(o){var i=o.map(function(e){return e.getId()});n.addExistingKeys(i)}var r=o?o.slice():null,s=this.recursivelyCreateColumns(e,0,t,r,n,null),a=this.findMaxDept(s,0);this.logger.log("Number of levels for grouped columns is "+a);var l=this.balanceColumnTree(s,0,a,n);return this.columnUtils.depthFirstOriginalTreeSearch(null,l,function(e,t){e instanceof ct&&e.setupExpandable(),e.setOriginalParent(t)}),{columnTree:l,treeDept:a}},t.prototype.createForAutoGroups=function(e,t){var o=this,n=[];return e.forEach(function(e){var i=o.createAutoGroupTreeItem(t,e);n.push(i)}),n},t.prototype.createAutoGroupTreeItem=function(e,t){for(var o=t,n=this.findDepth(e)-1;n>=0;n--){var i=new ct(null,"FAKE_PATH_"+t.getId()+"}_"+n,!0,n);this.context.createBean(i),i.setChildren([o]),o.setOriginalParent(i),o=i}return o},t.prototype.findDepth=function(e){for(var t=0,o=e;o&&o[0]&&o[0]instanceof ct;)t++,o=o[0].getChildren();return t},t.prototype.balanceColumnTree=function(e,t,o,n){for(var i=[],r=0;r<e.length;r++){var s=e[r];if(s instanceof ct){var a=s,l=this.balanceColumnTree(a.getChildren(),t+1,o,n);a.setChildren(l),i.push(a)}else{for(var u=void 0,c=void 0,p=o-1;p>=t;p--){var d=n.getUniqueKey(null,null),h=this.createMergedColGroupDef(null),f=new ct(h,d,!0,t);this.context.createBean(f),c&&c.setChildren([f]),c=f,u||(u=c)}if(u){if(i.push(u),e.some(function(e){return e instanceof ct})){c.setChildren([s]);continue}c.setChildren(e);break}i.push(s)}}return i},t.prototype.findMaxDept=function(e,t){for(var o=t,n=0;n<e.length;n++){var i=e[n];if(i instanceof ct){var r=this.findMaxDept(i.getChildren(),t+1);o<r&&(o=r)}}return o},t.prototype.recursivelyCreateColumns=function(e,t,o,n,i,r){var s=this,a=[];return e?(e.forEach(function(e){var l;l=s.isColumnGroup(e)?s.createColumnGroup(o,e,t,n,i,r):s.createColumn(o,e,n,i,r),a.push(l)}),a):a},t.prototype.createColumnGroup=function(e,t,o,n,i,r){var s=this.createMergedColGroupDef(t),a=i.getUniqueKey(s.groupId,null),l=new ct(s,a,!1,o);this.context.createBean(l);var u=this.recursivelyCreateColumns(s.children,o+1,e,n,i,l);return l.setChildren(u),l},t.prototype.createMergedColGroupDef=function(e){var t={};return _e(t,this.gridOptionsWrapper.getDefaultColGroupDef()),_e(t,e),this.checkForDeprecatedItems(t),t},t.prototype.createColumn=function(e,t,o,n,i){var r=this.mergeColDefs(t);this.checkForDeprecatedItems(r);var s=this.findExistingColumn(t,o);if(s)s.setColDef(r,t),this.applyColumnState(s,r);else{var a=n.getUniqueKey(r.colId,r.field);s=new lt(r,t,a,e),this.context.createBean(s)}return s},t.prototype.applyColumnState=function(e,t){var o=N(t.flex);if(void 0!==o&&e.setFlex(o),e.getFlex()<=0){var n=N(t.width);null!=n&&e.setActualWidth(n)}void 0!==t.sort&&e.setSort(t.sort==rt.SORT_ASC||t.sort==rt.SORT_DESC?t.sort:void 0);var i=N(t.sortIndex);void 0!==i&&e.setSortIndex(i);var r=x(t.hide);void 0!==r&&e.setVisible(!r),void 0!==t.pinned&&e.setPinned(t.pinned)},t.prototype.findExistingColumn=function(e,t){var o=k(t,function(t){var o=t.getUserProvidedColDef();if(!o)return!1;var n=null!=e.field;return null!=e.colId?t.getId()===e.colId:n?o.field===e.field:o===e});return o&&Q(t,o),o},t.prototype.mergeColDefs=function(e){var t={},o=this.gridOptionsWrapper.getDefaultColDef();return Re(t,o,!0,!0),(e.type||o&&o.type)&&this.assignColumnTypes(e.type?e.type:o.type,t),Re(t,e,!0,!0),t},t.prototype.assignColumnTypes=function(e,t){var o;if(e instanceof Array)e.some(function(e){return"string"!=typeof e})?console.warn("ag-grid: if colDef.type is supplied an array it should be of type 'string[]'"):o=e;else{if("string"!=typeof e)return void console.warn("ag-grid: colDef.type should be of type 'string' | 'string[]'");o=e.split(",")}var n=_e({},pt);fe(this.gridOptionsWrapper.getColumnTypes()||{},function(e,t){e in n?console.warn("ag-Grid: the column type '"+e+"' is a default column type and cannot be overridden."):n[e]=t}),o.forEach(function(e){var o=n[e.trim()];o?Re(t,o,!0,!0):console.warn("ag-grid: colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes")})},t.prototype.checkForDeprecatedItems=function(e){if(e){var t=e;void 0!==t.group&&console.warn("ag-grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.headerGroup&&console.warn("ag-grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.headerGroupShow&&console.warn("ag-grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.suppressRowGroup&&console.warn("ag-grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==t.suppressAggregation&&console.warn("ag-grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(t.suppressRowGroup||t.suppressAggregation)&&console.warn("ag-grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),t.displayName&&(console.warn("ag-grid: Found displayName "+t.displayName+", please use headerName instead, displayName is deprecated."),t.headerName=t.displayName)}},t.prototype.isColumnGroup=function(e){return void 0!==e.children},Ft([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ft([Qe("columnUtils")],t.prototype,"columnUtils",void 0),Ft([(0,o=Je("loggerFactory"),function(e,t){o(e,t,0)})],t.prototype,"setBeans",null),Ft([$e("columnFactory")],t);var o}(Tt),xt=function(){function e(){}return e.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",e.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",e.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",e.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",e.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",e.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",e.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",e.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",e.EVENT_COLUMN_MOVED="columnMoved",e.EVENT_COLUMN_VISIBLE="columnVisible",e.EVENT_COLUMN_PINNED="columnPinned",e.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",e.EVENT_COLUMN_RESIZED="columnResized",e.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",e.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",e.EVENT_ROW_GROUP_OPENED="rowGroupOpened",e.EVENT_ROW_DATA_CHANGED="rowDataChanged",e.EVENT_ROW_DATA_UPDATED="rowDataUpdated",e.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",e.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",e.EVENT_CHART_CREATED="chartCreated",e.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",e.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",e.EVENT_CHART_DESTROYED="chartDestroyed",e.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",e.EVENT_MODEL_UPDATED="modelUpdated",e.EVENT_PASTE_START="pasteStart",e.EVENT_PASTE_END="pasteEnd",e.EVENT_FILL_START="fillStart",e.EVENT_FILL_END="fillEnd",e.EVENT_CELL_CLICKED="cellClicked",e.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",e.EVENT_CELL_MOUSE_DOWN="cellMouseDown",e.EVENT_CELL_CONTEXT_MENU="cellContextMenu",e.EVENT_CELL_VALUE_CHANGED="cellValueChanged",e.EVENT_ROW_VALUE_CHANGED="rowValueChanged",e.EVENT_CELL_FOCUSED="cellFocused",e.EVENT_ROW_SELECTED="rowSelected",e.EVENT_SELECTION_CHANGED="selectionChanged",e.EVENT_CELL_KEY_DOWN="cellKeyDown",e.EVENT_CELL_KEY_PRESS="cellKeyPress",e.EVENT_CELL_MOUSE_OVER="cellMouseOver",e.EVENT_CELL_MOUSE_OUT="cellMouseOut",e.EVENT_FILTER_CHANGED="filterChanged",e.EVENT_FILTER_MODIFIED="filterModified",e.EVENT_FILTER_OPENED="filterOpened",e.EVENT_SORT_CHANGED="sortChanged",e.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",e.EVENT_ROW_CLICKED="rowClicked",e.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",e.EVENT_GRID_READY="gridReady",e.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",e.EVENT_VIEWPORT_CHANGED="viewportChanged",e.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",e.EVENT_FIRST_DATA_RENDERED="firstDataRendered",e.EVENT_DRAG_STARTED="dragStarted",e.EVENT_DRAG_STOPPED="dragStopped",e.EVENT_CHECKBOX_CHANGED="checkboxChanged",e.EVENT_ROW_EDITING_STARTED="rowEditingStarted",e.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",e.EVENT_CELL_EDITING_STARTED="cellEditingStarted",e.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",e.EVENT_BODY_SCROLL="bodyScroll",e.EVENT_ANIMATION_QUEUE_EMPTY="animationQueueEmpty",e.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",e.EVENT_PAGINATION_CHANGED="paginationChanged",e.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",e.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",e.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",e.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",e.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",e.EVENT_FLASH_CELLS="flashCells",e.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",e.EVENT_ROW_DRAG_ENTER="rowDragEnter",e.EVENT_ROW_DRAG_MOVE="rowDragMove",e.EVENT_ROW_DRAG_LEAVE="rowDragLeave",e.EVENT_ROW_DRAG_END="rowDragEnd",e.EVENT_POPUP_TO_FRONT="popupToFront",e.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",e.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",e.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",e.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",e.EVENT_KEYBOARD_FOCUS="keyboardFocus",e.EVENT_MOUSE_FOCUS="mouseFocus",e}(),It=function(){function e(){this.existingIds={}}return e.prototype.getInstanceIdForKey=function(e){var t,o=this.existingIds[e];return this.existingIds[e]=t="number"!=typeof o?0:o+1,t},e}(),Mt=/[&<>"']/g,Lt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Gt(e){var t=String.fromCharCode;function o(e,o){return t(e>>o&63|128)}function n(e){if(0==(4294967168&e))return t(e);var n="";return 0==(4294965248&e)?n=t(e>>6&31|192):0==(4294901760&e)?(function(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}(e),n=t(e>>12&15|224),n+=o(e,6)):0==(4292870144&e)&&(n=t(e>>18&7|240),n+=o(e,12),n+=o(e,6)),n+t(63&e|128)}for(var i=function(e){for(var t,o,n=[],i=0,r=e.length;i<r;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<r?56320==(64512&(o=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&o)+65536):(n.push(t),i--):n.push(t);return n}(e),r=i.length,s=-1,a="";++s<r;)a+=n(i[s]);return a}function kt(e){return null==e?null:e.replace(/([A-Z])/g,function(e){return"-"+e[0].toLowerCase()})}function Vt(e){return null==e?null:e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})}function Ht(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()}function Wt(e){return null!=e&&e.replace?e.replace(Mt,function(e){return Lt[e]}):e}function Bt(e){return e&&null!=e?e.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map(function(e){return e.substring(0,1).toUpperCase()+(e.length>1?e.substring(1,e.length):"")}).join(" "):null}function jt(e,t){return e===t||null!=e&&e.slice(0,t.length)===t}var Ut=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),zt=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Kt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.primaryHeaderRowCount=0,t.secondaryHeaderRowCount=0,t.secondaryColumnsPresent=!1,t.gridHeaderRowCount=0,t.displayedLeftColumns=[],t.displayedRightColumns=[],t.displayedCenterColumns=[],t.allDisplayedColumns=[],t.allDisplayedVirtualColumns=[],t.allDisplayedCenterVirtualColumns=[],t.rowGroupColumns=[],t.valueColumns=[],t.pivotColumns=[],t.ready=!1,t.autoGroupsNeedBuilding=!1,t.forceRecreateAutoGroups=!1,t.pivotMode=!1,t.bodyWidth=0,t.leftWidth=0,t.rightWidth=0,t.bodyWidthDirty=!0,t.colDefVersion=0,t.flexColsCalculatedAtLestOnce=!1,t}return Ut(t,e),t.prototype.init=function(){this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var e=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,"autoGroupColumnDef",this.onAutoGroupColumnDefChanged.bind(this))},t.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},t.prototype.getColDefVersion=function(){return this.colDefVersion},t.prototype.setColumnDefs=function(e,t){void 0===t&&(t="api");var o=!!this.columnDefs;this.colDefVersion++;var n=this.compareColumnStatesAndRaiseEvents(t);this.columnDefs=e,this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var i=this.primaryColumns,r=this.columnFactory.createColumnTree(e,!0,i);this.primaryColumnTree=r.columnTree,this.primaryHeaderRowCount=r.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.extractRowGroupColumns(t,i),this.extractPivotColumns(t,i),this.extractValueColumns(t,i),this.ready=!0,this.updateGridColumns(),o&&this.gridColsArePrimary&&this.gridOptionsWrapper.isApplyColumnDefOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(t),this.checkDisplayedVirtualColumns(),this.eventService.dispatchEvent({type:xt.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:t});var s={type:xt.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi};n(),this.eventService.dispatchEvent(s)},t.prototype.orderGridColumnsLikePrimary=function(){var e=this;this.gridColumns.sort(function(t,o){var n=e.primaryColumns.indexOf(t),i=e.primaryColumns.indexOf(o),r=n>=0,s=i>=0;return r&&s?n-i:r?1:s?-1:e.gridColumns.indexOf(t)-e.gridColumns.indexOf(o)})},t.prototype.isAutoRowHeightActive=function(){return this.autoRowHeightColumns&&this.autoRowHeightColumns.length>0},t.prototype.getAllAutoRowHeightCols=function(){return this.autoRowHeightColumns},t.prototype.setVirtualViewportLeftAndRight=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},t.prototype.getDisplayedColumnsStartingAt=function(e){for(var t=e,o=[];null!=t;)o.push(t),t=this.getDisplayedColAfter(t);return o},t.prototype.checkDisplayedVirtualColumns=function(){if(null!=this.displayedCenterColumns){var e=this.allDisplayedVirtualColumns.map(function(e){return e.getId()}).join("#");this.updateVirtualSets(),e!==this.allDisplayedVirtualColumns.map(function(e){return e.getId()}).join("#")&&this.eventService.dispatchEvent({type:xt.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})}},t.prototype.setVirtualViewportPosition=function(e,t){(e!==this.scrollWidth||t!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=t,this.bodyWidthDirty=!0,this.setVirtualViewportLeftAndRight(),this.ready&&this.checkDisplayedVirtualColumns())},t.prototype.isPivotMode=function(){return this.pivotMode},t.prototype.isPivotSettingAllowed=function(e){return!e||!this.gridOptionsWrapper.isTreeData()||(console.warn("ag-Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},t.prototype.setPivotMode=function(e,t){void 0===t&&(t="api"),e!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=e,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(t),this.eventService.dispatchEvent({type:xt.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.getSecondaryPivotColumn=function(e,t){if(!this.secondaryColumnsPresent||!this.secondaryColumns)return null;var o=this.getPrimaryColumn(t),n=null;return this.secondaryColumns.forEach(function(t){var i=t.getColDef().pivotKeys,r=t.getColDef().pivotValueColumn;z(i,e)&&r===o&&(n=t)}),n},t.prototype.setBeans=function(e){this.logger=e.create("ColumnController")},t.prototype.setFirstRightAndLastLeftPinned=function(e){var t,o;this.gridOptionsWrapper.isEnableRtl()?(t=this.displayedLeftColumns?this.displayedLeftColumns[0]:null,o=this.displayedRightColumns?U(this.displayedRightColumns):null):(t=this.displayedLeftColumns?U(this.displayedLeftColumns):null,o=this.displayedRightColumns?this.displayedRightColumns[0]:null),this.gridColumns.forEach(function(n){n.setLastLeftPinned(n===t,e),n.setFirstRightPinned(n===o,e)})},t.prototype.autoSizeColumns=function(e,t,o){var n=this;void 0===o&&(o="api"),this.animationFrameService.flushAllFrames();var i=[],r=-1;for(null==t&&(t=this.gridOptionsWrapper.isSkipHeaderOnAutoSize());0!==r;)r=0,this.actionOnGridColumns(e,function(e){if(i.indexOf(e)>=0)return!1;var s=n.autoWidthCalculator.getPreferredWidthForColumn(e,t);if(s>0){var a=n.normaliseColumnWidth(e,s);e.setActualWidth(a,o),i.push(e),r++}return!0},o);this.fireColumnResizedEvent(i,!0,"autosizeColumns")},t.prototype.fireColumnResizedEvent=function(e,t,o,n){void 0===n&&(n=null),e&&e.length&&this.eventService.dispatchEvent({type:xt.EVENT_COLUMN_RESIZED,columns:e,column:1===e.length?e[0]:null,flexColumns:n,finished:t,api:this.gridApi,columnApi:this.columnApi,source:o})},t.prototype.autoSizeColumn=function(e,t,o){void 0===o&&(o="api"),e&&this.autoSizeColumns([e],t,o)},t.prototype.autoSizeAllColumns=function(e,t){void 0===t&&(t="api");var o=this.getAllDisplayedColumns();this.autoSizeColumns(o,e,t)},t.prototype.getColumnsFromTree=function(e){var t=[],o=function(e){for(var n=0;n<e.length;n++){var i=e[n];i instanceof lt?t.push(i):i instanceof ct&&o(i.getChildren())}};return o(e),t},t.prototype.getAllDisplayedColumnGroups=function(){return this.displayedLeftColumnTree&&this.displayedRightColumnTree&&this.displayedCentreColumnTree?this.displayedLeftColumnTree.concat(this.displayedCentreColumnTree).concat(this.displayedRightColumnTree):null},t.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},t.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},t.prototype.getLeftDisplayedColumnGroups=function(){return this.displayedLeftColumnTree},t.prototype.getRightDisplayedColumnGroups=function(){return this.displayedRightColumnTree},t.prototype.getCenterDisplayedColumnGroups=function(){return this.displayedCentreColumnTree},t.prototype.getDisplayedColumnGroups=function(e){switch(e){case rt.PINNED_LEFT:return this.getLeftDisplayedColumnGroups();case rt.PINNED_RIGHT:return this.getRightDisplayedColumnGroups();default:return this.getCenterDisplayedColumnGroups()}},t.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},t.prototype.getAllDisplayedColumns=function(){return this.allDisplayedColumns},t.prototype.getAllDisplayedVirtualColumns=function(){return this.allDisplayedVirtualColumns},t.prototype.getDisplayedLeftColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedLeftColumns):this.displayedLeftColumns},t.prototype.getDisplayedRightColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedRightColumns):this.displayedRightColumns},t.prototype.getDisplayedColumnsForRow=function(e,t,o,n){for(var i,r=[],s=null,a=function(a){var l,u=t[a],c=t.length-a,p=Math.min(u.getColSpan(e),c),d=[u];if(p>1){for(var h=p-1,f=1;f<=h;f++)d.push(t[a+f]);a+=h}o?(l=!1,d.forEach(function(e){o(e)&&(l=!0)})):l=!0,l&&(0===r.length&&s&&n&&n(u)&&r.push(s),r.push(u)),s=u,i=a},l=0;l<t.length;l++)a(l),l=i;return r},t.prototype.getAllDisplayedCenterVirtualColumnsForRow=function(e){var t=this;if(!this.colSpanActive)return this.allDisplayedCenterVirtualColumns;var o=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedCenterColumns,o,function(e){return e.getLeft()>t.viewportLeft})},t.prototype.getAriaColumnIndex=function(e){return this.getAllGridColumns().indexOf(e)+1},t.prototype.isColumnInViewport=function(e){var t=e.getLeft(),o=e.getLeft()+e.getActualWidth(),n=this.viewportLeft-200,i=this.viewportRight+200;return!(t<n&&o<n||t>i&&o>i)},t.prototype.getPinnedLeftContainerWidth=function(){return this.getWidthOfColsInList(this.displayedLeftColumns)},t.prototype.getPinnedRightContainerWidth=function(){return this.getWidthOfColsInList(this.displayedRightColumns)},t.prototype.updatePrimaryColumnList=function(e,t,o,n,i,r){var s=this;if(void 0===r&&(r="api"),e&&!A(e)){var a=!1;e.forEach(function(e){var i=s.getPrimaryColumn(e);if(i){if(o){if(t.indexOf(i)>=0)return;t.push(i)}else{if(t.indexOf(i)<0)return;Q(t,i)}n(i),a=!0}}),a&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(r),this.eventService.dispatchEvent({type:i,columns:t,column:1===t.length?t[0]:null,api:this.gridApi,columnApi:this.columnApi,source:r}))}},t.prototype.setRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,xt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),t)},t.prototype.setRowGroupActive=function(e,t,o){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,o),e||this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()||t.setVisible(!0,o))},t.prototype.addRowGroupColumn=function(e,t){void 0===t&&(t="api"),e&&this.addRowGroupColumns([e],t)},t.prototype.addRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),xt.EVENT_COLUMN_ROW_GROUP_CHANGED,t)},t.prototype.removeRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),xt.EVENT_COLUMN_ROW_GROUP_CHANGED,t)},t.prototype.removeRowGroupColumn=function(e,t){void 0===t&&(t="api"),e&&this.removeRowGroupColumns([e],t)},t.prototype.addPivotColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!0,function(e){return e.setPivotActive(!0,t)},xt.EVENT_COLUMN_PIVOT_CHANGED,t)},t.prototype.setPivotColumns=function(e,t){void 0===t&&(t="api"),this.setPrimaryColumnList(e,this.pivotColumns,xt.EVENT_COLUMN_PIVOT_CHANGED,function(e,o){o.setPivotActive(e,t)},t)},t.prototype.addPivotColumn=function(e,t){void 0===t&&(t="api"),this.addPivotColumns([e],t)},t.prototype.removePivotColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!1,function(e){return e.setPivotActive(!1,t)},xt.EVENT_COLUMN_PIVOT_CHANGED,t)},t.prototype.removePivotColumn=function(e,t){void 0===t&&(t="api"),this.removePivotColumns([e],t)},t.prototype.setPrimaryColumnList=function(e,t,o,n,i){var r=this;t.length=0,P(e)&&e.forEach(function(e){var o=r.getPrimaryColumn(e);o&&t.push(o)}),this.primaryColumns.forEach(function(e){var o=t.indexOf(e)>=0;n(o,e)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(i),this.eventService.dispatchEvent({type:o,columns:t,column:1===t.length?t[0]:null,api:this.gridApi,columnApi:this.columnApi,source:i})},t.prototype.setValueColumns=function(e,t){void 0===t&&(t="api"),this.setPrimaryColumnList(e,this.valueColumns,xt.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),t)},t.prototype.setValueActive=function(e,t,o){if(e!==t.isValueActive()&&(t.setValueActive(e,o),e&&!t.getAggFunc())){var n=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(n)}},t.prototype.addValueColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),xt.EVENT_COLUMN_VALUE_CHANGED,t)},t.prototype.addValueColumn=function(e,t){void 0===t&&(t="api"),e&&this.addValueColumns([e],t)},t.prototype.removeValueColumn=function(e,t){void 0===t&&(t="api"),this.removeValueColumns([e],t)},t.prototype.removeValueColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),xt.EVENT_COLUMN_VALUE_CHANGED,t)},t.prototype.normaliseColumnWidth=function(e,t){return t<e.getMinWidth()&&(t=e.getMinWidth()),e.isGreaterThanMax(t)&&(t=e.getMaxWidth()),t},t.prototype.getPrimaryOrGridColumn=function(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)},t.prototype.setColumnWidths=function(e,t,o,n){var i=this;void 0===n&&(n="api");var r=[];e.forEach(function(e){var o=i.getPrimaryOrGridColumn(e.key);if(o&&(r.push({width:e.newWidth,ratios:[1],columns:[o]}),"shift"===i.gridOptionsWrapper.getColResizeDefault()&&(t=!t),t)){var n=i.getDisplayedColAfter(o);if(!n)return;var s=o.getActualWidth()-e.newWidth,a=n.getActualWidth()+s;r.push({width:a,ratios:[1],columns:[n]})}}),0!==r.length&&this.resizeColumnSets(r,o,n)},t.prototype.checkMinAndMaxWidthsForSet=function(e){var t=e.width,o=0,n=0,i=!0;return e.columns.forEach(function(e){o+=e.getMinWidth(),e.getMaxWidth()>0?n+=e.getMaxWidth():i=!1}),t>=o&&(!i||t<=n)},t.prototype.resizeColumnSets=function(e,t,o){if(!e||e.every(this.checkMinAndMaxWidthsForSet.bind(this))){var n=[],i=[];e.forEach(function(e){var t=e.width,r=e.columns,s=e.ratios,a={},l={};r.forEach(function(e){return i.push(e)});for(var u=!0,c=0,p=function(){if(++c>1e3)return console.error("ag-Grid: infinite loop in resizeColumnSets"),"break";u=!1;var e=[],o=[],n=0,i=t;r.forEach(function(t,r){if(l[t.getId()])i-=a[t.getId()];else{e.push(t);var u=s[r];n+=u,o.push(u)}});var p=1/n;e.forEach(function(o,n){var r;n===e.length-1?r=i:(r=Math.round(s[n]*t*p),i-=r),r<o.getMinWidth()?(r=o.getMinWidth(),l[o.getId()]=!0,u=!0):o.getMaxWidth()>0&&r>o.getMaxWidth()&&(r=o.getMaxWidth(),l[o.getId()]=!0,u=!0),a[o.getId()]=r})};u&&"break"!==p(););r.forEach(function(e){var t=a[e.getId()];e.getActualWidth()!==t&&(e.setActualWidth(t,o),n.push(e))})});var r=n.length>0,s=this.refreshFlexedColumns({resizingCols:i,skipSetLeft:!0});r&&(this.setLeftValues(o),this.updateBodyWidths(),this.checkDisplayedVirtualColumns());var a=i.concat(s);(r||t)&&this.fireColumnResizedEvent(a,t,o,s)}else t&&this.fireColumnResizedEvent(e&&e.length>0?e[0].columns:null,t,o)},t.prototype.setColumnAggFunc=function(e,t,o){if(void 0===o&&(o="api"),e){var n=this.getPrimaryColumn(e);n&&(n.setAggFunc(t),this.eventService.dispatchEvent({type:xt.EVENT_COLUMN_VALUE_CHANGED,columns:[n],column:n,api:this.gridApi,columnApi:this.columnApi,source:o}))}},t.prototype.moveRowGroupColumn=function(e,t,o){void 0===o&&(o="api");var n=this.rowGroupColumns[e];this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(t,0,n),this.eventService.dispatchEvent({type:xt.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:o})},t.prototype.moveColumns=function(e,t,o){if(void 0===o&&(o="api"),this.columnAnimationService.start(),t>this.gridColumns.length-e.length)return console.warn("ag-Grid: tried to insert columns in invalid location, toIndex = "+t),void console.warn("ag-Grid: remember that you should not count the moving columns when calculating the new index");var n=this.getGridColumns(e);!this.doesMovePassRules(n,t)||(ee(this.gridColumns,n,t),this.updateDisplayedColumns(o),this.eventService.dispatchEvent({type:xt.EVENT_COLUMN_MOVED,columns:n,column:1===n.length?n[0]:null,toIndex:t,api:this.gridApi,columnApi:this.columnApi,source:o}),this.columnAnimationService.finish())},t.prototype.doesMovePassRules=function(e,t){var o=this.gridColumns.slice();return ee(o,e,t),!!this.doesMovePassMarryChildren(o)&&!!this.doesMovePassLockedPositions(o)},t.prototype.sortColumnsLikeGridColumns=function(e){var t=this;!e||e.length<=1||e.filter(function(e){return t.gridColumns.indexOf(e)<0}).length>0||e.sort(function(e,o){return t.gridColumns.indexOf(e)-t.gridColumns.indexOf(o)})},t.prototype.doesMovePassLockedPositions=function(e){var t=!1,o=!0;return e.forEach(function(e){e.getColDef().lockPosition?t&&(o=!1):t=!0}),o},t.prototype.doesMovePassMarryChildren=function(e){var t=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(o){if(o instanceof ct){var n=o;if(n.getColGroupDef()&&n.getColGroupDef().marryChildren){var i=[];n.getLeafColumns().forEach(function(t){var o=e.indexOf(t);i.push(o)}),Math.max.apply(Math,i)-Math.min.apply(Math,i)>n.getLeafColumns().length-1&&(t=!1)}}}),t},t.prototype.moveColumn=function(e,t,o){void 0===o&&(o="api"),this.moveColumns([e],t,o)},t.prototype.moveColumnByIndex=function(e,t,o){void 0===o&&(o="api"),this.moveColumn(this.gridColumns[e],t,o)},t.prototype.getColumnDefs=function(){var e=this,t=this.primaryColumns.slice();return this.gridColsArePrimary?t.sort(function(t,o){return e.gridColumns.indexOf(t)-e.gridColumns.indexOf(o)}):this.lastPrimaryOrder&&t.sort(function(t,o){return e.lastPrimaryOrder.indexOf(t)-e.lastPrimaryOrder.indexOf(o)}),this.columnDefFactory.buildColumnDefs(t,this.rowGroupColumns,this.pivotColumns)},t.prototype.getBodyContainerWidth=function(){return this.bodyWidth},t.prototype.getContainerWidth=function(e){switch(e){case rt.PINNED_LEFT:return this.leftWidth;case rt.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},t.prototype.updateBodyWidths=function(){var e=this.getWidthOfColsInList(this.displayedCenterColumns),t=this.getWidthOfColsInList(this.displayedLeftColumns),o=this.getWidthOfColsInList(this.displayedRightColumns);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==o)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=o,this.eventService.dispatchEvent({type:xt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},t.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},t.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},t.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},t.prototype.getDisplayedCenterColumns=function(){return this.displayedCenterColumns},t.prototype.getDisplayedLeftColumns=function(){return this.displayedLeftColumns},t.prototype.getDisplayedRightColumns=function(){return this.displayedRightColumns},t.prototype.getDisplayedColumns=function(e){switch(e){case rt.PINNED_LEFT:return this.getDisplayedLeftColumns();case rt.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},t.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},t.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},t.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},t.prototype.getAllGridColumns=function(){return this.gridColumns},t.prototype.isEmpty=function(){return A(this.gridColumns)},t.prototype.isRowGroupEmpty=function(){return A(this.rowGroupColumns)},t.prototype.setColumnVisible=function(e,t,o){void 0===o&&(o="api"),this.setColumnsVisible([e],t,o)},t.prototype.setColumnsVisible=function(e,t,o){var n=this;void 0===o&&(o="api"),this.columnAnimationService.start(),this.actionOnGridColumns(e,function(e){return e.isVisible()!==t&&(e.setVisible(t,o),!0)},o,function(){return{type:xt.EVENT_COLUMN_VISIBLE,visible:t,column:null,columns:null,api:n.gridApi,columnApi:n.columnApi,source:o}}),this.columnAnimationService.finish()},t.prototype.setColumnPinned=function(e,t,o){void 0===o&&(o="api"),e&&this.setColumnsPinned([e],t,o)},t.prototype.setColumnsPinned=function(e,t,o){var n,i=this;void 0===o&&(o="api"),"print"!==this.gridOptionsWrapper.getDomLayout()?(this.columnAnimationService.start(),n=!0===t||t===rt.PINNED_LEFT?rt.PINNED_LEFT:t===rt.PINNED_RIGHT?rt.PINNED_RIGHT:null,this.actionOnGridColumns(e,function(e){return e.getPinned()!==n&&(e.setPinned(n),!0)},o,function(){return{type:xt.EVENT_COLUMN_PINNED,pinned:n,column:null,columns:null,api:i.gridApi,columnApi:i.columnApi,source:o}}),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},t.prototype.actionOnGridColumns=function(e,t,o,n){var i=this;if(!A(e)){var r=[];if(e.forEach(function(e){var o=i.getGridColumn(e);o&&!1!==t(o)&&r.push(o)}),r.length&&(this.updateDisplayedColumns(o),P(n)&&n)){var s=n();s.columns=r,s.column=1===r.length?r[0]:null,this.eventService.dispatchEvent(s)}}},t.prototype.getDisplayedColBefore=function(e){var t=this.getAllDisplayedColumns(),o=t.indexOf(e);return o>0?t[o-1]:null},t.prototype.getDisplayedColAfter=function(e){var t=this.getAllDisplayedColumns(),o=t.indexOf(e);return o<t.length-1?t[o+1]:null},t.prototype.getDisplayedGroupAfter=function(e){return this.getDisplayedGroupAtDirection(e,"After")},t.prototype.getDisplayedGroupBefore=function(e){return this.getDisplayedGroupAtDirection(e,"Before")},t.prototype.getDisplayedGroupAtDirection=function(e,t){for(var o=e.getOriginalColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),i="After"===t?U(n):n[0],r="getDisplayedCol"+t;;){var s=this[r](i);if(!s)return null;var a=this.getColumnGroupAtLevel(s,o);if(a!==e)return a}},t.prototype.getColumnGroupAtLevel=function(e,t){for(var o=e.getParent();!(o.getOriginalColumnGroup().getLevel()+o.getPaddingLevel()<=t);)o=o.getParent();return o},t.prototype.isPinningLeft=function(){return this.displayedLeftColumns.length>0},t.prototype.isPinningRight=function(){return this.displayedRightColumns.length>0},t.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var e=this.primaryColumns?this.primaryColumns.slice(0):[];return this.groupAutoColumns&&P(this.groupAutoColumns)&&this.groupAutoColumns.forEach(function(t){return e.push(t)}),this.secondaryColumnsPresent&&this.secondaryColumns&&this.secondaryColumns.forEach(function(t){return e.push(t)}),e},t.prototype.createStateItemFromColumn=function(e){var t=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,o=e.isPivotActive()?this.pivotColumns.indexOf(e):null,n=e.isValueActive()?e.getAggFunc():null,i=null!=e.getSort()?e.getSort():null,r=null!=e.getSortIndex()?e.getSortIndex():null,s=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:i,sortIndex:r,aggFunc:n,rowGroup:e.isRowGroupActive(),rowGroupIndex:t,pivot:e.isPivotActive(),pivotIndex:o,flex:s}},t.prototype.getColumnState=function(){if(T(this.primaryColumns)||!this.isAlive())return[];var e=this.primaryColumns.map(this.createStateItemFromColumn.bind(this)),t=(this.groupAutoColumns?this.groupAutoColumns.map(this.createStateItemFromColumn.bind(this)):[]).concat(e);return this.pivotMode||this.orderColumnStateList(t),t},t.prototype.orderColumnStateList=function(e){var t=this.gridColumns.map(function(e){return e.getColId()});e.sort(function(e,o){return t.indexOf(e.colId)-t.indexOf(o.colId)})},t.prototype.resetColumnState=function(e,t){void 0===e&&(e=!1),void 0===t&&(t="api");var o=this.getColumnsFromTree(this.primaryColumnTree),n=[],i=1e3,r=1e3;o&&o.forEach(function(e){var t=e.getColDef(),o=null!=t.sort?t.sort:null,s=t.sortIndex,a=!!t.hide,l=t.pinned?t.pinned:null,u=t.width,c=null!=t.flex?t.flex:null,p=t.rowGroupIndex,d=t.rowGroup;null!=p||null!=d&&0!=d||(p=null,d=null);var h=t.pivotIndex,f=t.pivot;null!=h||null!=f&&0!=f||(h=null,f=null);var g=null!=t.aggFunc?t.aggFunc:null,m={colId:e.getColId(),sort:o,sortIndex:s,hide:a,pinned:l,width:u,flex:c,rowGroup:d,rowGroupIndex:p,pivot:f,pivotIndex:h,aggFunc:g};T(p)&&d&&(m.rowGroupIndex=i++),T(h)&&f&&(m.pivotIndex=r++),n.push(m)}),this.applyColumnState({state:n,applyOrder:!0},t)},t.prototype.applyColumnState=function(e,t){var o=this;if(void 0===t&&(t="api"),A(this.primaryColumns))return!1;if(!e||!e.state||e.state.forEach){this.columnAnimationService.start();var n=this.compareColumnStatesAndRaiseEvents(t);this.autoGroupsNeedBuilding=!0;var i=this.primaryColumns.slice(),r=!0,s={},a={},l=[],u=this.rowGroupColumns.slice(),c=this.pivotColumns.slice();e.state&&e.state.forEach(function(n){var u=n.colId;if(jt(u,rt.GROUP_AUTO_COLUMN_ID))l.push(n);else{var c=o.getPrimaryColumn(u);c?(o.syncColumnWithStateItem(c,n,e.defaultState,s,a,!1,t),Q(i,c)):r=!1}}),i.forEach(function(n){o.syncColumnWithStateItem(n,null,e.defaultState,s,a,!1,t)});var p=function(e,t,o,n){var i=e[o.getId()],r=e[n.getId()],s=null!=i,a=null!=r;if(s&&a)return i-r;if(s)return-1;if(a)return 1;var l=t.indexOf(o),u=t.indexOf(n),c=l>=0;return c&&u>=0?l-u:c?-1:1};if(this.rowGroupColumns.sort(p.bind(this,s,u)),this.pivotColumns.sort(p.bind(this,a,c)),this.updateGridColumns(),l.forEach(function(n){var i=o.getAutoColumn(n.colId);o.syncColumnWithStateItem(i,n,e.defaultState,null,null,!0,t)}),this.gridColsArePrimary&&e.applyOrder&&e.state){var d=e.state.map(function(e){return e.colId});this.gridColumns.sort(function(e,t){return d.indexOf(e.getId())-d.indexOf(t.getId())}),this.putFixedColumnsFirst()}return this.updateDisplayedColumns(t),this.eventService.dispatchEvent({type:xt.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:t}),n(),this.columnAnimationService.finish(),r}console.warn("ag-Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.")},t.prototype.compareColumnStatesAndRaiseEvents=function(e){var t=this;if(!this.columnDefs)return function(){};var o={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},n=this.getColumnState(),i={};return n.forEach(function(e){i[e.colId]=e}),function(){if(!t.gridOptionsWrapper.isSuppressColumnStateEvents()){var r=function(o,n,i,r){z(n.map(r).sort(),i.map(r).sort())||t.eventService.dispatchEvent({type:o,columns:i,column:1===i.length?i[0]:null,api:t.gridApi,columnApi:t.columnApi,source:e})},s=function(e){var o=[];return t.gridColumns.forEach(function(t){var n=i[t.getColId()];n&&e(n,t)&&o.push(t)}),o},a=function(e){return e.getColId()};r(xt.EVENT_COLUMN_ROW_GROUP_CHANGED,o.rowGroupColumns,t.rowGroupColumns,a),r(xt.EVENT_COLUMN_PIVOT_CHANGED,o.pivotColumns,t.pivotColumns,a),r(xt.EVENT_COLUMN_VALUE_CHANGED,o.valueColumns,t.valueColumns,a),t.fireColumnResizedEvent(s(function(e,t){return e.width!=t.getActualWidth()}),!0,e),t.raiseColumnPinnedEvent(s(function(e,t){return e.pinned!=t.getPinned()}),e),t.raiseColumnVisibleEvent(s(function(e,t){return e.hide==t.isVisible()}),e),s(function(e,t){return e.sort!=t.getSort()||e.sortIndex!=t.getSortIndex()}).length>0&&t.sortController.dispatchSortChangedEvents(),t.raiseColumnMovedEvent(n,e)}}},t.prototype.raiseColumnPinnedEvent=function(e,t){e.length&&this.eventService.dispatchEvent({type:xt.EVENT_COLUMN_PINNED,pinned:null,columns:e,column:null,api:this.gridApi,columnApi:this.columnApi,source:t})},t.prototype.raiseColumnVisibleEvent=function(e,t){e.length&&this.eventService.dispatchEvent({type:xt.EVENT_COLUMN_VISIBLE,visible:void 0,columns:e,column:null,api:this.gridApi,columnApi:this.columnApi,source:t})},t.prototype.raiseColumnMovedEvent=function(e,t){var o=this,n=this.getColumnState(),i={};n.forEach(function(e){return i[e.colId]=e});var r={};e.forEach(function(e){i[e.colId]&&(r[e.colId]=!0)});var s=pe(e,function(e){return r[e.colId]}),a=pe(n,function(e){return r[e.colId]}),l=[];a.forEach(function(e,t){var n=s[t];n.colId!==e.colId&&l.push(o.getGridColumn(n.colId))}),l.length&&this.eventService.dispatchEvent({type:xt.EVENT_COLUMN_MOVED,columns:l,column:null,toIndex:void 0,api:this.gridApi,columnApi:this.columnApi,source:t})},t.prototype.syncColumnWithStateItem=function(e,t,o,n,i,r,s){if(e){var a=function(e,n){return!t||void 0===t[e]&&void 0===t[n]?!o||void 0===o[e]&&void 0===o[n]?{value1:void 0,value2:void 0}:{value1:o[e],value2:o[n]}:{value1:t[e],value2:t[n]}},l=a("hide").value1;void 0!==l&&e.setVisible(!l,s);var u=a("pinned").value1;void 0!==u&&e.setPinned(u);var c=this.gridOptionsWrapper.getMinColWidth(),p=a("flex").value1;if(void 0!==p&&e.setFlex(p),e.getFlex()<=0){var d=a("width").value1;null!=d&&c&&d>=c&&e.setActualWidth(d,s)}var h=a("sort").value1;void 0!==h&&e.setSort(h===rt.SORT_DESC||h===rt.SORT_ASC?h:void 0);var f=a("sortIndex").value1;if(void 0!==f&&e.setSortIndex(f),!r){var g=a("aggFunc").value1;void 0!==g&&("string"==typeof g?(e.setAggFunc(g),e.isValueActive()||(e.setValueActive(!0,s),this.valueColumns.push(e))):(P(g)&&console.warn("ag-Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.setAggFunc(null),e.isValueActive()&&(e.setValueActive(!1,s),Q(this.valueColumns,e))));var m=a("rowGroup","rowGroupIndex"),y=m.value1,v=m.value2;void 0===y&&void 0===v||("number"==typeof v||y?(e.isRowGroupActive()||(e.setRowGroupActive(!0,s),this.rowGroupColumns.push(e)),"number"==typeof v&&(n[e.getId()]=v)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,s),Q(this.rowGroupColumns,e)));var C=a("pivot","pivotIndex"),b=C.value1,w=C.value2;void 0===b&&void 0===w||("number"==typeof w||b?(e.isPivotActive()||(e.setPivotActive(!0,s),this.pivotColumns.push(e)),"number"==typeof w&&(i[e.getId()]=w)):e.isPivotActive()&&(e.setPivotActive(!1,s),Q(this.pivotColumns,e)))}}},t.prototype.getGridColumns=function(e){return this.getColumns(e,this.getGridColumn.bind(this))},t.prototype.getColumns=function(e,t){var o=[];return e&&e.forEach(function(e){var n=t(e);n&&o.push(n)}),o},t.prototype.getColumnWithValidation=function(e){if(null==e)return null;var t=this.getGridColumn(e);return t||console.warn("ag-Grid: could not find column "+e),t},t.prototype.getPrimaryColumn=function(e){return this.getColumn(e,this.primaryColumns)},t.prototype.getGridColumn=function(e){return this.getColumn(e,this.gridColumns)},t.prototype.getColumn=function(e,t){if(!e)return null;for(var o=0;o<t.length;o++)if(this.columnsMatch(t[o],e))return t[o];return this.getAutoColumn(e)},t.prototype.getAutoColumn=function(e){var t=this;return this.groupAutoColumns&&P(this.groupAutoColumns)&&!T(this.groupAutoColumns)?k(this.groupAutoColumns,function(o){return t.columnsMatch(o,e)}):null},t.prototype.columnsMatch=function(e,t){var o=e===t,n=e.getColDef()===t,i=e.getColId()==t;return o||n||i},t.prototype.getDisplayNameForColumn=function(e,t,o){if(void 0===o&&(o=!1),!e)return null;var n=this.getHeaderName(e.getColDef(),e,null,null,t);return o?this.wrapHeaderNameWithAggFunc(e,n):n},t.prototype.getDisplayNameForOriginalColumnGroup=function(e,t,o){var n=t?t.getColGroupDef():null;return n?this.getHeaderName(n,null,e,t,o):null},t.prototype.getDisplayNameForColumnGroup=function(e,t){return this.getDisplayNameForOriginalColumnGroup(e,e.getOriginalColumnGroup(),t)},t.prototype.getHeaderName=function(e,t,o,n,i){var r=e.headerValueGetter;if(r){var s={colDef:e,column:t,columnGroup:o,originalColumnGroup:n,location:i,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof r?r(s):"string"==typeof r?this.expressionService.evaluate(r,s):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?Bt(e.field):""},t.prototype.wrapHeaderNameWithAggFunc=function(e,t){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return t;var o,n=e.getColDef().pivotValueColumn,i=null;if(P(n))i=n?n.getAggFunc():null,o=!0;else{var r=e.isValueActive(),s=this.pivotMode||!this.isRowGroupEmpty();r&&s?(i=e.getAggFunc(),o=!0):o=!1}if(o){var a="string"==typeof i?i:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(a,a)+"("+t+")"}return t},t.prototype.getColumnGroup=function(e,t){if(!e)return null;if(e instanceof ut)return e;var o=this.getAllDisplayedColumnGroups(),n="number"==typeof t,i=null;return this.columnUtils.depthFirstAllColumnTreeSearch(o,function(o){if(o instanceof ut){var r=o;(n?e===r.getGroupId()&&t===r.getInstanceId():e===r.getGroupId())&&(i=r)}}),i},t.prototype.isReady=function(){return this.ready},t.prototype.extractValueColumns=function(e,t){this.valueColumns=this.extractColumns(t,this.valueColumns,function(t,o){return t.setValueActive(o,e)},function(){},function(){},function(e){var t=e.aggFunc;return null===t||""===t?null:void 0===t?void 0:""!=t},function(e){return null!=e.initialAggFunc&&""!=e.initialAggFunc}),this.valueColumns.forEach(function(e){var t=e.getColDef();null!=t.aggFunc&&""!=t.aggFunc?e.setAggFunc(t.aggFunc):e.getAggFunc()||e.setAggFunc(t.initialAggFunc)})},t.prototype.extractRowGroupColumns=function(e,t){this.rowGroupColumns=this.extractColumns(t,this.rowGroupColumns,function(t,o){return t.setRowGroupActive(o,e)},function(e){return e.rowGroupIndex},function(e){return e.initialRowGroupIndex},function(e){return e.rowGroup},function(e){return e.initialRowGroup})},t.prototype.extractColumns=function(e,t,o,n,i,r,s){void 0===e&&(e=[]),void 0===t&&(t=[]);var a=[],l=[];this.primaryColumns.forEach(function(o){var u=e.indexOf(o)<0,c=o.getColDef(),p=x(r(c)),d=x(s(c)),h=N(n(c)),f=N(i(c));(u?void 0!==p||void 0!==h?void 0!==p?p:h>=0:1==d||f>=0:void 0!==p?p:void 0!==h?null!==h&&h>=0:t.indexOf(o)>=0)&&((u?null!=h||null!=f:null!=h)?a.push(o):l.push(o))});var u=function(e){var t=n(e.getColDef()),o=i(e.getColDef());return null!=t?t:o};a.sort(function(e,t){var o=u(e),n=u(t);return o===n?0:o<n?-1:1});var c=[].concat(a);return t.forEach(function(e){l.indexOf(e)>=0&&c.push(e)}),l.forEach(function(e){c.indexOf(e)<0&&c.push(e)}),t.forEach(function(e){c.indexOf(e)<0&&o(e,!1)}),c.forEach(function(e){t.indexOf(e)<0&&o(e,!0)}),c},t.prototype.extractPivotColumns=function(e,t){this.pivotColumns=this.extractColumns(t,this.pivotColumns,function(t,o){return t.setPivotActive(o,e)},function(e){return e.pivotIndex},function(e){return e.initialPivotIndex},function(e){return e.pivot},function(e){return e.initialPivot})},t.prototype.resetColumnGroupState=function(e){void 0===e&&(e="api");var t=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(e){if(e instanceof ct){var o={groupId:e.getGroupId(),open:e.getColGroupDef().openByDefault};t.push(o)}}),this.setColumnGroupState(t,e)},t.prototype.getColumnGroupState=function(){var e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(t){if(t instanceof ct){var o=t;e.push({groupId:o.getGroupId(),open:o.isExpanded()})}}),e},t.prototype.setColumnGroupState=function(e,t){var o=this;void 0===t&&(t="api"),this.columnAnimationService.start();var n=[];e.forEach(function(e){var t=e.open,i=o.getOriginalColumnGroup(e.groupId);i&&i.isExpanded()!==t&&(o.logger.log("columnGroupOpened("+i.getGroupId()+","+t+")"),i.setExpanded(t),n.push(i))}),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t),n.forEach(function(e){o.eventService.dispatchEvent({type:xt.EVENT_COLUMN_GROUP_OPENED,columnGroup:e,api:o.gridApi,columnApi:o.columnApi})}),this.columnAnimationService.finish()},t.prototype.setColumnGroupOpened=function(e,t,o){var n;void 0===o&&(o="api"),n=e instanceof ct?e.getId():e,this.setColumnGroupState([{groupId:n,open:t}],o)},t.prototype.getOriginalColumnGroup=function(e){if(e instanceof ct)return e;"string"!=typeof e&&console.error("ag-Grid: group key must be a string");var t=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(o){if(o instanceof ct){var n=o;n.getId()===e&&(t=n)}}),t},t.prototype.calculateColumnsForDisplay=function(){var e=this;return this.gridColumns.filter(this.pivotMode&&!this.secondaryColumnsPresent?function(t){var o=e.groupAutoColumns&&te(e.groupAutoColumns,t),n=e.valueColumns&&te(e.valueColumns,t);return o||n}:function(t){return e.groupAutoColumns&&te(e.groupAutoColumns,t)||t.isVisible()})},t.prototype.checkColSpanActiveInCols=function(e){var t=!1;return e.forEach(function(e){P(e.getColDef().colSpan)&&(t=!0)}),t},t.prototype.calculateColumnsForGroupDisplay=function(){var e=this;this.groupDisplayColumns=[];var t=function(t){var o=t.getColDef();o&&P(o.showRowGroup)&&e.groupDisplayColumns.push(t)};this.gridColumns.forEach(t),this.groupAutoColumns&&this.groupAutoColumns.forEach(t)},t.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},t.prototype.updateDisplayedColumns=function(e){var t=this.calculateColumnsForDisplay();this.buildDisplayedTrees(t),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)},t.prototype.isSecondaryColumnsPresent=function(){return this.secondaryColumnsPresent},t.prototype.setSecondaryColumns=function(e,t){void 0===t&&(t="api");var o=e&&e.length>0;if(o||this.secondaryColumnsPresent){if(o){this.processSecondaryColumnDefinitions(e);var n=this.columnFactory.createColumnTree(e,!1);this.secondaryBalancedTree=n.columnTree,this.secondaryHeaderRowCount=n.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsPresent=!0}else this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsPresent=!1;this.updateGridColumns(),this.updateDisplayedColumns(t)}},t.prototype.processSecondaryColumnDefinitions=function(e){var t=this.gridOptionsWrapper.getProcessSecondaryColDefFunc(),o=this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();if(t||o){var n=function(e){e.forEach(function(e){if(P(e.children)){var i=e;o&&o(i),n(i.children)}else t&&t(e)})};e&&n(e)}},t.prototype.updateGridColumns=function(){this.gridColsArePrimary&&(this.lastPrimaryOrder=this.gridColumns),this.secondaryColumns&&this.secondaryBalancedTree?(this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1):(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLikeLastPrimary()),this.addAutoGroupToGridColumns(),this.autoRowHeightColumns=this.gridColumns.filter(function(e){return e.getColDef().autoHeight}),this.putFixedColumnsFirst(),this.setupQuickFilterColumns(),this.clearDisplayedColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.eventService.dispatchEvent({type:xt.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.orderGridColsLikeLastPrimary=function(){var e=this;if(!T(this.lastPrimaryOrder)){var t=!0;if(this.gridColumns.forEach(function(o){e.lastPrimaryOrder.indexOf(o)>=0&&(t=!1)}),!t){var o=this.lastPrimaryOrder.filter(function(t){return e.gridColumns.indexOf(t)>=0}),n=this.gridColumns.filter(function(e){return o.indexOf(e)<0}),i=o.slice();n.forEach(function(e){var t=e.getOriginalParent();if(t){for(var o=[];!o.length&&t;)t.getLeafColumns().forEach(function(e){var t=i.indexOf(e)>=0,n=o.indexOf(e)<0;t&&n&&o.push(e)}),t=t.getOriginalParent();if(o.length){var n=o.map(function(e){return i.indexOf(e)}),r=Math.max.apply(Math,n);Z(i,e,r+1)}else i.push(e)}else i.push(e)}),this.gridColumns=i}}},t.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},t.prototype.setupQuickFilterColumns=function(){this.columnsForQuickFilter=this.groupAutoColumns?this.primaryColumns.concat(this.groupAutoColumns):this.primaryColumns},t.prototype.putFixedColumnsFirst=function(){var e=this.gridColumns.filter(function(e){return e.getColDef().lockPosition}),t=this.gridColumns.filter(function(e){return!e.getColDef().lockPosition});this.gridColumns=e.concat(t)},t.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!T(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=e.concat(this.gridBalancedTree)}},t.prototype.clearDisplayedColumns=function(){this.displayedLeftColumnTree=[],this.displayedRightColumnTree=[],this.displayedCentreColumnTree=[],this.displayedLeftHeaderRows={},this.displayedRightHeaderRows={},this.displayedCentreHeaderRows={},this.displayedLeftColumns=[],this.displayedRightColumns=[],this.displayedCenterColumns=[],this.allDisplayedColumns=[],this.allDisplayedVirtualColumns=[]},t.prototype.updateGroupsAndDisplayedColumns=function(e){this.updateOpenClosedVisibilityInColumnGroups(),this.updateDisplayedColumnsFromTrees(e),this.refreshFlexedColumns(),this.updateVirtualSets(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:xt.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.updateDisplayedColumnsFromTrees=function(e){this.addToDisplayedColumns(this.displayedLeftColumnTree,this.displayedLeftColumns),this.addToDisplayedColumns(this.displayedCentreColumnTree,this.displayedCenterColumns),this.addToDisplayedColumns(this.displayedRightColumnTree,this.displayedRightColumns),this.setupAllDisplayedColumns(),this.setLeftValues(e)},t.prototype.setupAllDisplayedColumns=function(){this.allDisplayedColumns=this.gridOptionsWrapper.isEnableRtl()?this.displayedRightColumns.concat(this.displayedCenterColumns).concat(this.displayedLeftColumns):this.displayedLeftColumns.concat(this.displayedCenterColumns).concat(this.displayedRightColumns)},t.prototype.setLeftValues=function(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()},t.prototype.setLeftValuesOfColumns=function(e){var t=this,o=this.primaryColumns.slice(0),n=this.gridOptionsWrapper.isEnableRtl();[this.displayedLeftColumns,this.displayedRightColumns,this.displayedCenterColumns].forEach(function(i){if(n){var r=t.getWidthOfColsInList(i);i.forEach(function(t){r-=t.getActualWidth(),t.setLeft(r,e)})}else{var s=0;i.forEach(function(t){t.setLeft(s,e),s+=t.getActualWidth()})}X(o,i)}),o.forEach(function(t){t.setLeft(null,e)})},t.prototype.setLeftValuesOfGroups=function(){[this.displayedLeftColumnTree,this.displayedRightColumnTree,this.displayedCentreColumnTree].forEach(function(e){e.forEach(function(e){e instanceof ut&&e.checkLeft()})})},t.prototype.addToDisplayedColumns=function(e,t){t.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,function(e){e instanceof lt&&t.push(e)})},t.prototype.updateDisplayedCenterVirtualColumns=function(){this.allDisplayedCenterVirtualColumns=this.suppressColumnVirtualisation?this.displayedCenterColumns:this.filterOutColumnsWithinViewport(),this.allDisplayedVirtualColumns=this.allDisplayedCenterVirtualColumns.concat(this.displayedLeftColumns).concat(this.displayedRightColumns);var e={};return this.allDisplayedVirtualColumns.forEach(function(t){e[t.getId()]=!0}),e},t.prototype.getVirtualHeaderGroupRow=function(e,t){var o;switch(e){case rt.PINNED_LEFT:o=this.displayedLeftHeaderRows[t];break;case rt.PINNED_RIGHT:o=this.displayedRightHeaderRows[t];break;default:o=this.displayedCentreHeaderRows[t]}return T(o)&&(o=[]),o},t.prototype.updateDisplayedVirtualGroups=function(e){this.displayedLeftHeaderRows={},this.displayedRightHeaderRows={},this.displayedCentreHeaderRows={};var t=function(o,n,i){for(var r=!1,s=0;s<o.length;s++){var a=o[s];(a instanceof lt?!0===e[a.getId()]:t(a.getDisplayedChildren(),n,i+1))&&(r=!0,n[i]||(n[i]=[]),n[i].push(a))}return r};t(this.displayedLeftColumnTree,this.displayedLeftHeaderRows,0),t(this.displayedRightColumnTree,this.displayedRightHeaderRows,0),t(this.displayedCentreColumnTree,this.displayedCentreHeaderRows,0)},t.prototype.updateVirtualSets=function(){var e=this.updateDisplayedCenterVirtualColumns();this.updateDisplayedVirtualGroups(e)},t.prototype.filterOutColumnsWithinViewport=function(){return this.displayedCenterColumns.filter(this.isColumnInViewport.bind(this))},t.prototype.refreshFlexedColumns=function(e){var t=this;void 0===e&&(e={});var o=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),this.flexViewportWidth){var n=-1;e.resizingCols&&e.resizingCols.forEach(function(e){var o=t.displayedCenterColumns.indexOf(e);n<o&&(n=o)});var i=function(e){var o=t.displayedCenterColumns.indexOf(e)>n;return e.getFlex()&&o},r=this.displayedCenterColumns.filter(function(e){return!i(e)}),s=this.displayedCenterColumns.filter(function(e){return i(e)}),a=[];if(!s.length)return[];var l,u=[];e:for(;;){var c=s.reduce(function(e,t){return e+t.getFlex()},0);l=this.flexViewportWidth-this.getWidthOfColsInList(r);for(var p=0;p<s.length;p++){var d=s[p],h=l*d.getFlex()/c,f=void 0;if(h<d.getMinWidth()?f=d.getMinWidth():null!=d.getMaxWidth()&&h>d.getMaxWidth()&&(f=d.getMaxWidth()),f){d.setActualWidth(f,o),Q(s,d),a.push(d),r.push(d);continue e}u[p]=Math.round(h)}break}var g=l;return s.forEach(function(e,t){e.setActualWidth(Math.min(u[t],g),o),a.push(e),g-=u[t]}),e.skipSetLeft||this.setLeftValues(o),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.fireColumnResizedEvent(a,!0,o,s),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),s}},t.prototype.sizeColumnsToFit=function(e,t,o){void 0===t&&(t="sizeColumnsToFit");var n=this.getAllDisplayedColumns();if(!(e<=0)&&n.length){var i=[],r=[];n.forEach(function(e){!0===e.getColDef().suppressSizeToFit?r.push(e):i.push(e)});var s=i.slice(0),a=!1,l=function(e){Q(i,e),r.push(e)};for(i.forEach(function(e){return e.resetActualWidth(t)});!a;){a=!0;var u=e-this.getWidthOfColsInList(r);if(u<=0)i.forEach(function(e){e.setMinimum(t)});else for(var c=u/this.getWidthOfColsInList(i),p=u,d=i.length-1;d>=0;d--){var h=i[d],f=h.getMinWidth(),g=h.getMaxWidth(),m=Math.round(h.getActualWidth()*c);m<f?(m=h.getMinWidth(),l(h),a=!1):h.isGreaterThanMax(m)?(m=g,l(h),a=!1):0===d&&(m=p),h.setActualWidth(m,t,!0),p-=m}}s.forEach(function(e){e.fireColumnWidthChangedEvent(t)}),this.setLeftValues(t),this.updateBodyWidths(),o||this.fireColumnResizedEvent(s,!0,t)}},t.prototype.buildDisplayedTrees=function(e){var t=[],o=[],n=[];e.forEach(function(e){switch(e.getPinned()){case"left":t.push(e);break;case"right":o.push(e);break;default:n.push(e)}});var i=new It;this.displayedLeftColumnTree=this.displayedGroupCreator.createDisplayedGroups(t,this.gridBalancedTree,i,rt.PINNED_LEFT,this.displayedLeftColumnTree),this.displayedRightColumnTree=this.displayedGroupCreator.createDisplayedGroups(o,this.gridBalancedTree,i,rt.PINNED_RIGHT,this.displayedRightColumnTree),this.displayedCentreColumnTree=this.displayedGroupCreator.createDisplayedGroups(n,this.gridBalancedTree,i,null,this.displayedCentreColumnTree)},t.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var e=this.getAllDisplayedColumnGroups();this.columnUtils.depthFirstAllColumnTreeSearch(e,function(e){e instanceof ut&&e.calculateDisplayedColumns()})},t.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},t.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var e=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),t=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||t||e)this.groupAutoColumns=null;else{var o=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);(!this.autoColsEqual(o,this.groupAutoColumns)||this.forceRecreateAutoGroups)&&(this.groupAutoColumns=o)}}},t.prototype.autoColsEqual=function(e,t){return z(e,t,function(e,t){return e.getColId()===t.getColId()})},t.prototype.getWidthOfColsInList=function(e){return e.reduce(function(e,t){return e+t.getActualWidth()},0)},t.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},t.prototype.hasFloatingFilters=function(){var e=this.gridOptionsWrapper.getDefaultColDef();return null!=e&&!0===e.floatingFilter||null!=this.columnDefs&&this.columnDefs.some(function(e){return!0===e.floatingFilter})},t.prototype.getFirstDisplayedColumn=function(){var e=this.gridOptionsWrapper.isEnableRtl(),t=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&t.reverse();for(var o=0;o<t.length;o++){var n=this[t[o]]();if(n.length)return e?U(n):n[0]}return null},zt([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),zt([Qe("expressionService")],t.prototype,"expressionService",void 0),zt([Qe("columnFactory")],t.prototype,"columnFactory",void 0),zt([Qe("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),zt([Qe("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),zt([Qe("columnUtils")],t.prototype,"columnUtils",void 0),zt([Qe("columnAnimationService")],t.prototype,"columnAnimationService",void 0),zt([Qe("autoGroupColService")],t.prototype,"autoGroupColService",void 0),zt([Xe("aggFuncService")],t.prototype,"aggFuncService",void 0),zt([Xe("valueCache")],t.prototype,"valueCache",void 0),zt([Xe("animationFrameService")],t.prototype,"animationFrameService",void 0),zt([Qe("rowModel")],t.prototype,"rowModel",void 0),zt([Qe("columnApi")],t.prototype,"columnApi",void 0),zt([Qe("gridApi")],t.prototype,"gridApi",void 0),zt([Qe("sortController")],t.prototype,"sortController",void 0),zt([Qe("columnDefFactory")],t.prototype,"columnDefFactory",void 0),zt([Ye],t.prototype,"init",null),zt([(0,o=Je("loggerFactory"),function(e,t){o(e,t,0)})],t.prototype,"setBeans",null),zt([$e("columnController")],t);var o}(Tt);function Yt(e,t){for(var o=""+e;o.length<t;)o="0"+o;return o}function qt(e,t){for(var o=[],n=e;n<=t;n++)o.push(n);return o}function $t(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Qt(){return Number.MAX_SAFE_INTEGER||9007199254740991}function Xt(e){return"string"==typeof e&&(e=parseInt(e,10)),"number"==typeof e?Math.floor(e):null}function Zt(e,t){for(var o="",n=0;n<t;n++)o+=String.fromCharCode(255&e),e>>>=8;return o}function Jt(e){return"number"!=typeof e?"":eo(Math.round(100*e)/100)}function eo(e){return"number"!=typeof e?"":e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}function to(e){return null==e?null:e.reduce(function(e,t){return e+t},0)}var oo=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),no=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},io=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oo(t,e),t.prototype.calculateColInitialWidth=function(e){var t,o=this.gridOptionsWrapper,n=null!=e.minWidth?e.minWidth:o.getMinColWidth(),i=null!=e.maxWidth?e.maxWidth:o.getMaxColWidth()||Qt(),r=N(e.width),s=N(e.initialWidth);return t=null!=r?r:null!=s?s:o.getColWidth(),Math.max(Math.min(t,i),n)},t.prototype.getOriginalPathForColumn=function(e,t){var o=[],n=!1,i=function(t,r){for(var s=0;s<t.length;s++){if(n)return;var a=t[s];a instanceof ct?(i(a.getChildren(),r+1),o[r]=a):a===e&&(n=!0)}};return i(t,0),n?o:null},t.prototype.depthFirstOriginalTreeSearch=function(e,t,o){var n=this;t&&t.forEach(function(t){t instanceof ct&&n.depthFirstOriginalTreeSearch(t,t.getChildren(),o),o(t,e)})},t.prototype.depthFirstAllColumnTreeSearch=function(e,t){var o=this;e&&e.forEach(function(e){e instanceof ut&&o.depthFirstAllColumnTreeSearch(e.getChildren(),t),t(e)})},t.prototype.depthFirstDisplayedColumnTreeSearch=function(e,t){var o=this;e&&e.forEach(function(e){e instanceof ut&&o.depthFirstDisplayedColumnTreeSearch(e.getDisplayedChildren(),t),t(e)})},no([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),no([$e("columnUtils")],t)}(Tt),ro=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),so=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ao=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ro(t,e),t.prototype.createDisplayedGroups=function(e,t,o,n,i){var r,s,a=this,l=[],u=this.mapOldGroupsById(i);return e.forEach(function(e){for(var i=a.getOriginalPathForColumn(t,e),c=[],p=!s,d=0;d<i.length;d++)if(p||i[d]!==s[d]){var h=a.createColumnGroup(i[d],o,u,n);c[d]=h,0==d?l.push(h):c[d-1].addChild(h)}else c[d]=r[d];0===c.length?l.push(e):U(c).addChild(e),r=c,s=i}),this.setupParentsIntoColumns(l,null),l},t.prototype.createColumnGroup=function(e,t,o,n){var i=e.getGroupId(),r=t.getInstanceIdForKey(i),s=o[ut.createUniqueId(i,r)];return s&&s.getOriginalColumnGroup()!==e&&(s=null),P(s)?s.reset():(s=new ut(e,i,r,n),this.context.createBean(s)),s},t.prototype.mapOldGroupsById=function(e){var t={},o=function(e){e.forEach(function(e){if(e instanceof ut){var n=e;t[e.getUniqueId()]=n,o(n.getChildren())}})};return e&&o(e),t},t.prototype.setupParentsIntoColumns=function(e,t){var o=this;e.forEach(function(e){if(e.setParent(t),e instanceof ut){var n=e;o.setupParentsIntoColumns(n.getChildren(),n)}})},t.prototype.getOriginalPathForColumn=function(e,t){var o=[],n=!1,i=function(e,r){for(var s=0;s<e.length;s++){if(n)return;var a=e[s];a instanceof ct?(i(a.getChildren(),r+1),o[r]=a):a===t&&(n=!0)}};return i(e,0),n?o:(console.warn("could not get path"),null)},so([Qe("columnUtils")],t.prototype,"columnUtils",void 0),so([$e("displayedGroupCreator")],t)}(Tt),lo=function(){function e(){}return e.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDeliminator","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection"],e.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","columnTypes","rowClassRules","detailGridOptions","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","reduxStore","statusBar","sideBar","chartThemeOverrides","customChartThemes"],e.ARRAY_PROPERTIES=["alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes"],e.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay"],e.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","enableMultiRowDragging","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","floatingFilter","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","enableOldSetFilterModel","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","serverSideSortingAlwaysResets","reactNext","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight"],e.ALL_PROPERTIES=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,i++)n[i]=r[s];return n}(e.ARRAY_PROPERTIES,e.OBJECT_PROPERTIES,e.STRING_PROPERTIES,e.NUMBER_PROPERTIES,e.FUNCTION_PROPERTIES=["localeTextFunc","groupRowInnerRenderer","groupRowInnerRendererFramework","dateComponent","dateComponentFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getRowClassRules","traverseNode","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","groupRowAggNodes","getRowNodeId","isFullWidthCell","fullWidthCellRenderer","fullWidthCellRendererFramework","processSecondaryColDef","processSecondaryColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","getDetailRowData","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","defaultGroupSortComparator","isRowMaster","isRowSelectable","postSort","processHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","processChartOptions","getChartToolbarItems","fillOperation"],e.BOOLEAN_PROPERTIES),e.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],e}(),uo=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,i++)n[i]=r[s];return n},co=function(){function e(){}return e.getEventCallbacks=function(){return e.EVENT_CALLBACKS||(e.EVENT_CALLBACKS=e.EVENTS.map(function(t){return e.getCallbackForEvent(t)})),e.EVENT_CALLBACKS},e.copyAttributesToGridOptions=function(t,o,n){void 0===n&&(n=!1),"object"!=typeof t&&(t={});var i=t,r=function(e){return void 0!==o[e]};return uo(e.ARRAY_PROPERTIES,e.STRING_PROPERTIES,e.OBJECT_PROPERTIES,e.FUNCTION_PROPERTIES,e.getEventCallbacks()).filter(r).forEach(function(e){return i[e]=o[e]}),e.BOOLEAN_PROPERTIES.filter(r).forEach(function(t){return i[t]=e.toBoolean(o[t])}),e.NUMBER_PROPERTIES.filter(r).forEach(function(t){return i[t]=e.toNumber(o[t])}),t},e.getCallbackForEvent=function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substr(1)},e.processOnChange=function(t,o,n,i){if(t){var r=o,s=function(e){return t[e]};uo(e.ARRAY_PROPERTIES,e.OBJECT_PROPERTIES,e.STRING_PROPERTIES,e.getEventCallbacks()).filter(s).forEach(function(e){return r[e]=t[e].currentValue}),e.BOOLEAN_PROPERTIES.filter(s).forEach(function(o){return r[o]=e.toBoolean(t[o].currentValue)}),e.NUMBER_PROPERTIES.filter(s).forEach(function(o){return r[o]=e.toNumber(t[o].currentValue)}),t.enableCellTextSelection&&n.setEnableCellTextSelection(e.toBoolean(t.enableCellTextSelection.currentValue)),t.quickFilterText&&n.setQuickFilter(t.quickFilterText.currentValue),t.rowData&&n.setRowData(t.rowData.currentValue),t.pinnedTopRowData&&n.setPinnedTopRowData(t.pinnedTopRowData.currentValue),t.pinnedBottomRowData&&n.setPinnedBottomRowData(t.pinnedBottomRowData.currentValue),t.autoGroupColumnDef&&n.setAutoGroupColumnDef(t.autoGroupColumnDef.currentValue,"gridOptionsChanged"),t.columnDefs&&n.setColumnDefs(t.columnDefs.currentValue,"gridOptionsChanged"),t.datasource&&n.setDatasource(t.datasource.currentValue),t.headerHeight&&n.setHeaderHeight(e.toNumber(t.headerHeight.currentValue)),t.paginationPageSize&&n.paginationSetPageSize(e.toNumber(t.paginationPageSize.currentValue)),t.pivotMode&&i.setPivotMode(e.toBoolean(t.pivotMode.currentValue)),t.groupRemoveSingleChildren&&n.setGroupRemoveSingleChildren(e.toBoolean(t.groupRemoveSingleChildren.currentValue)),t.suppressRowDrag&&n.setSuppressRowDrag(e.toBoolean(t.suppressRowDrag.currentValue)),t.suppressMoveWhenRowDragging&&n.setSuppressMoveWhenRowDragging(e.toBoolean(t.suppressMoveWhenRowDragging.currentValue)),t.suppressRowClickSelection&&n.setSuppressRowClickSelection(e.toBoolean(t.suppressRowClickSelection.currentValue)),t.suppressClipboardPaste&&n.setSuppressClipboardPaste(e.toBoolean(t.suppressClipboardPaste.currentValue)),t.sideBar&&n.setSideBar(t.sideBar.currentValue);var a={type:xt.EVENT_COMPONENT_STATE_CHANGED,api:o.api,columnApi:o.columnApi};fe(t,function(e,t){a[e]=t}),n.dispatchEvent(a)}},e.toBoolean=function(e){return"boolean"==typeof e?e:"string"==typeof e&&("TRUE"===e.toUpperCase()||""==e)},e.toNumber=function(e){return"number"==typeof e?e:"string"==typeof e?Number(e):void 0},e.EVENTS=[],e.STRING_PROPERTIES=lo.STRING_PROPERTIES,e.OBJECT_PROPERTIES=lo.OBJECT_PROPERTIES,e.ARRAY_PROPERTIES=lo.ARRAY_PROPERTIES,e.NUMBER_PROPERTIES=lo.NUMBER_PROPERTIES,e.BOOLEAN_PROPERTIES=lo.BOOLEAN_PROPERTIES,e.FUNCTION_PROPERTIES=lo.FUNCTION_PROPERTIES,e.ALL_PROPERTIES=lo.ALL_PROPERTIES,e}();co.EVENTS=V(xt);var po,ho,fo,go,mo,yo,vo,Co=function(){function e(){}return e.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","template","templateUrl","filter","initialAggFunc","aggFunc","cellRenderer","cellEditor","pinned","initialPinned","chartDataType"],e.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRendererParams","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],e.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],e.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],e.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter"],e.ALL_PROPERTIES=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,i++)n[i]=r[s];return n}(e.ARRAY_PROPERTIES,e.OBJECT_PROPERTIES,e.STRING_PROPERTIES,e.NUMBER_PROPERTIES,e.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","cellRenderer","cellRendererFramework","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],e.BOOLEAN_PROPERTIES),e.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],e}(),bo=function(){function e(e,t,o,n){void 0===n&&(n=1),this.r=Math.min(1,Math.max(0,e||0)),this.g=Math.min(1,Math.max(0,t||0)),this.b=Math.min(1,Math.max(0,o||0)),this.a=Math.min(1,Math.max(0,n||0))}return e.fromString=function(t){if(t.indexOf("#")>=0)return e.fromHexString(t);var o=e.nameToHex[t];if(o)return e.fromHexString(o);if(t.indexOf("rgb")>=0)return e.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},e.fromHexString=function(t){var o=t.match(e.hexRe);if(o)return new e((n=parseInt(o[1],16))/255,(i=parseInt(o[2],16))/255,(r=parseInt(o[3],16))/255,(s=void 0!==o[4]?parseInt(o[4],16):255)/255);if(o=t.match(e.shortHexRe)){var n=parseInt(o[1],16),i=parseInt(o[2],16),r=parseInt(o[3],16),s=void 0!==o[4]?parseInt(o[4],16):15;return new e((n+=16*n)/255,(i+=16*i)/255,(r+=16*r)/255,(s+=16*s)/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},e.fromRgbaString=function(t){var o=t.match(e.rgbRe);if(o)return new e(+o[1]/255,+o[2]/255,+o[3]/255);if(o=t.match(e.rgbaRe))return new e(+o[1]/255,+o[2]/255,+o[3]/255,+o[4]);throw new Error("Malformed rgb/rgba color string: '"+t+"'")},e.fromArray=function(t){if(4===t.length)return new e(t[0],t[1],t[2],t[3]);if(3===t.length)return new e(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},e.fromHSB=function(t,o,n,i){void 0===i&&(i=1);var r=e.HSBtoRGB(t,o,n);return new e(r[0],r[1],r[2],i)},e.padHex=function(e){return 1===e.length?"0"+e:e},e.prototype.toHexString=function(){var t="#"+e.padHex(Math.round(255*this.r).toString(16))+e.padHex(Math.round(255*this.g).toString(16))+e.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=e.padHex(Math.round(255*this.a).toString(16))),t},e.prototype.toRgbaString=function(e){void 0===e&&(e=3);var t=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],o=Math.pow(10,e);return 1!==this.a?(t.push(Math.round(this.a*o)/o),"rgba("+t.join(", ")+")"):"rgb("+t.join(", ")+")"},e.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},e.prototype.toHSB=function(){return e.RGBtoHSB(this.r,this.g,this.b)},e.RGBtoHSB=function(e,t,o){var n=Math.min(e,t,o),i=Math.max(e,t,o),r=NaN;if(n!==i){var s=i-n,a=(i-e)/s,l=(i-t)/s,u=(i-o)/s;r=e===i?u-l:t===i?2+a-u:4+l-a,(r/=6)<0&&(r+=1)}return[360*r,0!==i?(i-n)/i:0,i]},e.HSBtoRGB=function(e,t,o){isNaN(e)&&(e=0),e=(e%360+360)%360/360;var n=0,i=0,r=0;if(0===t)n=i=r=o;else{var s=6*(e-Math.floor(e)),a=s-Math.floor(s),l=o*(1-t),u=o*(1-t*a),c=o*(1-t*(1-a));switch(s>>0){case 0:n=o,i=c,r=l;break;case 1:n=u,i=o,r=l;break;case 2:n=l,i=o,r=c;break;case 3:n=l,i=u,r=o;break;case 4:n=c,i=l,r=o;break;case 5:n=o,i=l,r=u}}return[n,i,r]},e.prototype.derive=function(t,o,n,i){var r=e.RGBtoHSB(this.r,this.g,this.b),s=r[2];0==s&&n>1&&(s=.05);var a=((r[0]+t)%360+360)%360,l=Math.max(Math.min(r[1]*o,1),0);s=Math.max(Math.min(s*n,1),0);var u=Math.max(Math.min(this.a*i,1),0),c=e.HSBtoRGB(a,l,s);return c.push(u),e.fromArray(c)},e.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},e.prototype.darker=function(){return this.derive(0,1,.7,1)},e.hexRe=/\s*#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?\s*$/,e.shortHexRe=/\s*#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?\s*$/,e.rgbRe=/\s*rgb\((\d+),\s*(\d+),\s*(\d+)\)\s*/,e.rgbaRe=/\s*rgba\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)\s*/,e.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),e}();function wo(e,t){void 0===t&&(t=",");for(var o,n,i,r=[],s=function(e){return"\r"===e||"\n"===e},a=!1,l=function(l,u,c){var p=e[c-1],d=e[c],h=e[c+1],f=function(){r[l]||(r[l]=[]),r[l][u]||(r[l][u]="")};if(f(),'"'===d){if(a)return'"'===h?(r[l][u]+='"',c++):a=!1,o=l,n=u,i=c,"continue";if(void 0===p||p===t||s(p))return a=!0,o=l,n=u,i=c,"continue"}if(!a){if(d===t)return u++,f(),o=l,n=u,i=c,"continue";if(s(d))return u=0,l++,f(),"\r"===d&&"\n"===h&&c++,o=l,n=u,i=c,"continue"}r[l][u]+=d,o=l,n=u,i=c},u=0,c=0,p=0;p<e.length;p++)l(u,c,p),u=o,c=n,p=i;return r}function Eo(){return void 0===ho&&(ho=!!document.documentMode),ho}function Ro(){return void 0===fo&&(fo=!Eo()&&!!window.StyleMedia),fo}function _o(){if(void 0===po){var e=window;po=Object.prototype.toString.call(e.HTMLElement).indexOf("Constructor")>0||(t=e.safari&&e.safari.pushNotification)&&"[object SafariRemoteNotification]"===t.toString()}var t;return po}function So(){if(void 0===go){var e=window;go=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return go}function Oo(){if(void 0===mo){var e=window;mo=void 0!==e.InstallTrigger}return mo}function Do(){return void 0===yo&&(yo=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),yo}function Po(e){if(!e)return null;var t=e.tabIndex,o=e.getAttribute("tabIndex");return Eo()&&0===t&&null===o?!0==={a:!0,body:!0,button:!0,frame:!0,iframe:!0,img:!0,input:!0,isindex:!0,object:!0,select:!0,textarea:!0}[e.nodeName.toLowerCase()]?"0":null:-1!==t||null!==o&&(""!==o||Oo())?t.toString():null}function To(){if(!document.body)return-1;var e=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,o=document.createElement("div");for(document.body.appendChild(o);;){var n=2*e;if(o.style.height=n+"px",n>t||o.clientHeight!==n)break;e=n}return document.body.removeChild(o),e}function Ao(){var e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);var o=t.offsetWidth-t.clientWidth;return 0===o&&0===t.clientWidth?null:(t.parentNode&&t.parentNode.removeChild(t),o)}function Fo(){var e=["webkit","moz","o","ms"],t=document.createElement("div"),o=!1;document.getElementsByTagName("body")[0].appendChild(t),t.setAttribute("style",e.map(function(e){return"-"+e+"-overflow-scrolling: touch"}).concat("overflow-scrolling: touch").join(";"));var n=window.getComputedStyle(t);if("touch"===n.overflowScrolling&&(o=!0),!o)for(var i=0,r=e;i<r.length;i++)if("touch"===n[r[i]+"OverflowScrolling"]){o=!0;break}return t.parentNode&&t.parentNode.removeChild(t),o}function No(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function xo(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}function Io(e,t){if(e&&t&&0!==t.length){if(!(t.indexOf(" ")>=0)){if(e.classList)e.classList.add(t);else if(e.className&&e.className.length>0){var o=e.className.split(" ");o.indexOf(t)<0&&(o.push(t),e.setAttribute("class",o.join(" ")))}else e.setAttribute("class",t);return e}t.split(" ").forEach(function(t){return Io(e,t)})}}function Mo(e,t){if(e&&t&&0!==t.length)if(t.indexOf(" ")>=0)t.split(" ").forEach(function(t){return Mo(e,t)});else if(e.classList)e.classList.remove(t);else if(e.className&&e.className.length>0){var o=e.className.split(" ").filter(function(e){return e!==t}).join(" ");e.setAttribute("class",o)}}function Lo(e,t,o){o?Io(e,t):Mo(e,t)}function Go(e,t,o){for(var n=e.parentElement.firstChild;n;)t&&Lo(n,t,n===e),o&&Lo(n,o,n!==e),n=n.nextSibling}function ko(e,t){if(e.classList)return e.classList.contains(t);if(e.className){var o=e.className===t,n=e.className.indexOf(" "+t+" ")>=0,i=0===e.className.indexOf(t+" "),r=e.className.lastIndexOf(" "+t)===e.className.length-t.length-1;return o||n||i||r}return!1}function Vo(e,t){Lo(e,"ag-hidden",!t)}function Ho(e,t){Lo(e,"ag-invisible",!t)}function Wo(e,t){var o=t?function(e){return e.setAttribute("disabled","")}:function(e){return e.removeAttribute("disabled")};o(e),On(e.querySelectorAll("input"),function(e){return o(e)})}function Bo(e,t,o){for(var n=0;e;){if(ko(e,t))return!0;if(e=e.parentElement,o&&++n>o)break}return!1}function jo(e){var t=window.getComputedStyle(e),o=t.width,n=t.paddingTop,i=t.paddingRight,r=t.paddingBottom,s=t.paddingLeft,a=t.marginTop,l=t.marginRight,u=t.marginBottom,c=t.marginLeft,p=t.boxSizing;return{height:parseFloat(t.height),width:parseFloat(o),paddingTop:parseFloat(n),paddingRight:parseFloat(i),paddingBottom:parseFloat(r),paddingLeft:parseFloat(s),marginTop:parseFloat(a),marginRight:parseFloat(l),marginBottom:parseFloat(u),marginLeft:parseFloat(c),boxSizing:p}}function Uo(e){var t=jo(e);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function zo(e){var t=jo(e);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function Ko(e){var t=jo(e);return Math.ceil(e.offsetHeight+(t.marginBottom+t.marginTop))}function Yo(e){var t=jo(e);return Math.ceil(e.offsetWidth+(t.marginLeft+t.marginRight))}function qo(){if("boolean"==typeof vo)return vo;var e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(e),e.scrollLeft=1,vo=0===e.scrollLeft,document.body.removeChild(e),vo}function $o(e,t){var o=e.scrollLeft;return t&&(o=Math.abs(o),So()&&!qo()&&(o=e.scrollWidth-e.clientWidth-o)),o}function Qo(e,t,o){o&&(qo()?t*=-1:(_o()||So())&&(t=e.scrollWidth-e.clientWidth-t)),e.scrollLeft=t}function Xo(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Zo(e,t){Jo(e.querySelector(t))}function Jo(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function en(e){return null!==e.offsetParent}function tn(e){var t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function on(e,t){e.lastChild?e.insertAdjacentHTML("afterbegin",t):e.innerHTML=t}function nn(e,t){return e.attributes&&e.attributes[t]?e.attributes[t].value:null}function rn(e){return e&&e.clientHeight?e.clientHeight:0}function sn(e){return e&&e.clientWidth?e.clientWidth:0}function an(e,t,o){o&&o.nextSibling===t||(o?o.nextSibling?e.insertBefore(t,o.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t))}function ln(e,t){for(var o=0;o<t.length;o++){var n=t[o],i=e.children[o];i!==n&&e.insertBefore(n,i)}}function un(e,t,o){var n;return o?(o.insertAdjacentHTML("afterend",t),n=o.nextSibling):(e.firstChild?e.insertAdjacentHTML("afterbegin",t):e.innerHTML=t,n=e.firstChild),n}function cn(e,t){P(e.firstChild)?e.insertBefore(t,e.firstChild):e.appendChild(t)}function pn(e,t){t&&Object.keys(t).forEach(function(o){var n=Vt(o);n&&(e.style[n]=t[o])})}function dn(e){return e.clientWidth<e.scrollWidth}function hn(e){return e.clientHeight<e.scrollHeight}function fn(e,t){"flex"===t?(e.style.width=null,e.style.minWidth=null,e.style.maxWidth=null,e.style.flex="1 1 auto"):gn(e,t)}function gn(e,t){t=vn(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function mn(e,t){"flex"===t?(e.style.height=null,e.style.minHeight=null,e.style.maxHeight=null,e.style.flex="1 1 auto"):yn(e,t)}function yn(e,t){t=vn(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function vn(e){return"number"==typeof e?e+"px":e}function Cn(e){return"function"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}function bn(e){return"function"==typeof HTMLElement?e instanceof HTMLElement:e&&Fe(e)&&1===e.nodeType&&"string"==typeof e.nodeName}function wn(e){return Cn(e)||bn(e)}function En(e){if(null==e)return[];var t=[];return On(e,function(e){return t.push(e)}),t}function Rn(e,t){if(e)for(var o=0;o<e.length;o++){var n=e[o];t(n.name,n.value)}}function _n(e,t){"boolean"==typeof t?(e.checked=t,e.indeterminate=!1):e.indeterminate=!0}function Sn(e,t,o){null==o?e.removeAttribute(t):e.setAttribute(t,o.toString())}function On(e,t){if(null!=e)for(var o=0;o<e.length;o++)t(e[o])}function Dn(e){var t=e.toString(),o=/function (.{1,})\(/.exec(t);return o&&o.length>1?o[1]:""}function Pn(e){var t=e.length,o=0;if(t<=1)return e;for(var n=0;n<e.length;n++){var i=e[n];Math.floor(i)!==i&&(o=Math.max(o,i.toString().split(".")[1].length))}for(var r=0,s=0,a=0,l=0,u=0,c=0;c<t;c++)r+=c,s+=u=e[c],l+=c*c,a+=c*u;var p=(t*a-r*s)/(t*l-r*r),d=s/t-p*r/t,h=[];for(c=0;c<=t;c++)h.push(parseFloat((c*p+d).toFixed(o)));return h}function Tn(e){if(!e)return"";var t=[];return fe(e,function(e,o){var n=kt(e);t.push(n+": "+o+";")}),t.join(" ")}function An(e){var t=document.createElement("div"),o=document.querySelector("#__ag__message");t.innerHTML=e,o||(o=tn('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(o)),o.insertBefore(t,o.children[0])}function Fn(e,t){e.then(function(e){var o=e.getGui();null!=o&&("object"==typeof o?t.appendChild(o):t.innerHTML=o)})}function Nn(e,t,o){e.setAttribute(In(t),o.toString())}function xn(e,t){e.removeAttribute(In(t))}function In(e){return"aria-"+e}function Mn(e){return e.isSortAscending()?"ascending":e.isSortDescending()?"descending":"none"}function Ln(e){return parseInt(e.getAttribute("aria-level"),10)}function Gn(e){return parseInt(e.getAttribute("aria-posinset"),10)}function kn(e,t){Nn(e,"label",t)}function Vn(e,t){Nn(e,"labelledby",t)}function Hn(e,t){Nn(e,"describedby",t)}function Wn(e,t){Nn(e,"level",t)}function Bn(e,t){Nn(e,"disabled",t)}function jn(e,t){Nn(e,"expanded",t)}function Un(e){xn(e,"expanded")}function zn(e,t){Nn(e,"setsize",t)}function Kn(e,t){Nn(e,"posinset",t)}function Yn(e,t){Nn(e,"multiselectable",t)}function qn(e,t){Nn(e,"rowcount",t)}function $n(e,t){Nn(e,"rowindex",t)}function Qn(e,t){Nn(e,"colcount",t)}function Xn(e,t){Nn(e,"colindex",t)}function Zn(e,t){Nn(e,"colspan",t)}function Jn(e,t){Nn(e,"sort",t)}function ei(e){xn(e,"sort")}function ti(e,t){t?Nn(e,"selected",t):xn(e,"selected")}function oi(e,t){Nn(e,"checked",void 0===t?"mixed":t)}function ni(e,t,o){if(void 0===t&&(t=!0),void 0===o&&(o="-"),!e)return null;var n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(function(e){return Yt(e,2)}).join(o);return t&&(n+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(function(e){return Yt(e,2)}).join(":")),n}function ii(e){if(!e)return null;var t=e.split(" "),o=t[0],n=t[1];if(!o)return null;var i=o.split("-").map(function(e){return parseInt(e,10)});if(3!==i.filter(function(e){return!isNaN(e)}).length)return null;var r=i[0],s=i[1],a=i[2],l=new Date(r,s-1,a);if(l.getFullYear()!==r||l.getMonth()!==s-1||l.getDate()!==a)return null;if(!n||"00:00:00"===n)return l;var u=n.split(":").map(function(e){return parseInt(e,10)}),c=u[0],p=u[1],d=u[2];return c>=0&&c<24&&l.setHours(c),p>=0&&p<60&&l.setMinutes(p),d>=0&&d<60&&l.setSeconds(d),l}function ri(e,t,o){var n={},i=e.filter(function(e){return!t.some(function(t){return t===e})});return i.length>0&&i.forEach(function(e){return n[e]=si(e,o)}),n}function si(e,t,o,n){var i=n?ui:li,r=t.map(function(t){return{value:t,relevance:i(e.toLowerCase(),t.toLocaleLowerCase())}});return r.sort(function(e,t){return t.relevance-e.relevance}),o&&(r=r.filter(function(e){return 0!==e.relevance})),r.map(function(e){return e.value})}function ai(e){var t,o,n,i=e.toLowerCase(),r=new Array(i.length-1);for(t=o=0,n=r.length;o<=n;t=o+=1)r[t]=i.slice(t,t+2);return r}function li(e,t){if(0===e.length&&0===t.length)return 0;var o,n,i=ai(e),r=ai(t),s=i.length+r.length,a=0;for(o=0,n=i.length;o<n;o++){var l,u=i[o],c=void 0;for(c=0,l=r.length;c<l;c++)u===r[c]&&a++}return a>0?2*a/s:0}function ui(e,t){for(var o=e.replace(/\s/g,""),n=t.replace(/\s/g,""),i=0,r=0;r<o.length;r++){var s=n.indexOf(o[r]);-1!==s&&(i+=100*(n.length-s)/n.length,i*=i)}return i}var ci={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function pi(e,t,o){var n=di(e,t,o);if(n.className.indexOf("ag-icon")>-1)return n;var i=document.createElement("span");return i.appendChild(n),i}function di(e,t,o,n){var i=null,r=o&&o.getColDef().icons;if(r&&(i=r[e]),t&&!i){var s=t.getIcons();s&&(i=s[e])}if(!i){var a=document.createElement("span"),l=ci[e];return l||(n?l=e:(console.warn("ag-Grid: Did not find icon "+e),l="")),a.setAttribute("class","ag-icon ag-icon-"+l),a.setAttribute("unselectable","on"),a.setAttribute("role","presentation"),a}var u=void 0;if("function"==typeof i)u=i();else{if("string"!=typeof i)throw new Error("icon from grid options needs to be a string or a function");u=i}return"string"==typeof u?tn(u):wn(u)?u:void console.warn("ag-Grid: iconRenderer should return back a string or a dom object")}function hi(e,t){return(e.which||e.keyCode)===t}function fi(e){if(e.altKey||e.ctrlKey||e.metaKey)return!1;var t=1===e.key.length,o=function(e){return(Ro()||Eo())&&"Del"===e.key&&46===e.charCode}(e);return t||o}function gi(e,t,o,n,i){var r=e.getSuppressKeyboardEventFunc(),s=n.getColDef().suppressKeyboardEvent;if(!r&&!s)return!1;var a={event:t,editing:i,column:n,api:e.getApi(),node:o,data:o.data,colDef:n.getColDef(),context:e.getContext(),columnApi:e.getColumnApi()};return!(!s||!s(a))||!!r&&r(a)}function mi(e,t,o,n){var i=n.getDefinition(),r=i.suppressHeaderKeyboardEvent;return!!P(r)&&!!r({api:e.getApi(),columnApi:e.getColumnApi(),context:e.getContext(),colDef:i,column:n,headerRowIndex:o,event:t})}function yi(e){var t=[];return e.forEach(function(e,o){return t.push(o)}),t}function vi(e){var t=0,o=0,n=0,i=0;return"detail"in e&&(o=e.detail),"wheelDelta"in e&&(o=-e.wheelDelta/120),"wheelDeltaY"in e&&(o=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=o,o=0),n=10*t,i=10*o,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(n=e.deltaX),(n||i)&&e.deltaMode&&(1==e.deltaMode?(n*=40,i*=40):(n*=800,i*=800)),n&&!t&&(t=n<1?-1:1),i&&!o&&(o=i<1?-1:1),{spinX:t,spinY:o,pixelX:n,pixelY:i}}function Ci(e){return"buttons"in e?1==e.buttons:1==(e.which||e.button)}function bi(e,t,o){if(0===o)return!1;var n=Math.abs(e.clientX-t.clientX),i=Math.abs(e.clientY-t.clientY);return Math.max(n,i)<=o}function wi(e,t){if(e){for(var o=function(e,o){var n=t[e.id],i=t[o.id],r=void 0!==n,s=void 0!==i;return r&&s?n-i:r||s?r?1:-1:e.__objectId-o.__objectId},n=!1,i=0;i<e.length-1;i++)if(o(e[i],e[i+1])>0){n=!0;break}n&&e.sort(o)}}function Ei(e,t){var o=[];!function e(n){n.forEach(function(n){if(n.group||n.hasChildren()){o.push(n.key);var i=o.join("|");t(n,i),e(n.childrenAfterGroup),o.pop()}})}(e)}function Ri(e){var t=new Set;return e.forEach(function(e){return t.add(e)}),t}var _i,Si=function(){return(Si=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Oi=Si(Si(Si(Si(Si(Si(Si(Si(Si(Si(Si(Si(Si(Si(Si(Si(Si(Si(Si(Si({},h),f),i),p),c),g),d),a),s),m),n),y),v),C),b),u),r),w),E),l),Di=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=1),this.nextValue=e,this.step=t}return e.prototype.next=function(){var e=this.nextValue;return this.nextValue+=this.step,e},e.prototype.peek=function(){return this.nextValue},e.prototype.skip=function(e){this.nextValue+=e},e}();!function(e){e[e.IN_PROGRESS=0]="IN_PROGRESS",e[e.RESOLVED=1]="RESOLVED"}(_i||(_i={}));var Pi=function(){function e(e){var t=this;this.status=_i.IN_PROGRESS,this.resolution=null,this.waiters=[],e(function(e){return t.onDone(e)},function(e){return t.onReject(e)})}return e.all=function(t){return new e(function(e){var o=t.length,n=new Array(o);le(t,function(t,i){t.then(function(t){n[i]=t,0==--o&&e(n)})})})},e.resolve=function(t){return void 0===t&&(t=null),new e(function(e){return e(t)})},e.prototype.then=function(t){var o=this;return new e(function(e){o.status===_i.RESOLVED?e(t(o.resolution)):o.waiters.push(function(o){return e(t(o))})})},e.prototype.resolveNow=function(e,t){return this.status===_i.RESOLVED?t(this.resolution):e},e.prototype.onDone=function(e){this.status=_i.RESOLVED,this.resolution=e,le(this.waiters,function(t){return t(e)})},e.prototype.onReject=function(e){console.warn("TBI")},e}(),Ti=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ai=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Fi=new Di,Ni=function(e){function t(t){var o=e.call(this)||this;return o.annotatedGuiListeners=[],o.displayed=!0,o.visible=!0,o.compId=Fi.next(),o.cssClassStates={},t&&o.setTemplate(t),o}return Ti(t,e),t.prototype.getCompId=function(){return this.compId},t.prototype.createChildComponentsFromTags=function(e,t){var o=this;le(En(e.childNodes),function(n){if(n instanceof HTMLElement){var i=o.createComponentFromElement(n,function(e){o.copyAttributesFromNode(n,e.getGui())},t);if(i){if(i.addItems&&n.children.length){o.createChildComponentsFromTags(n,t);var r=Array.prototype.slice.call(n.children);i.addItems(r)}o.swapComponentForNode(i,e,n)}else n.childNodes&&o.createChildComponentsFromTags(n,t)}})},t.prototype.createComponentFromElement=function(e,t,o){var n=e.nodeName,i=o?o[e.getAttribute("ref")]:void 0,r=this.agStackComponentsRegistry.getComponentClass(n);if(r){var s=new r(i);return this.createBean(s,null,t),s}return null},t.prototype.copyAttributesFromNode=function(e,t){Rn(e.attributes,function(e,o){return t.setAttribute(e,o)})},t.prototype.swapComponentForNode=function(e,t,o){var n=e.getGui();t.replaceChild(n,o),t.insertBefore(document.createComment(o.nodeName),n),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,o)},t.prototype.swapInComponentForQuerySelectors=function(e,t){var o=this;this.iterateOverQuerySelectors(function(n){o[n.attributeName]===t&&(o[n.attributeName]=e)})},t.prototype.iterateOverQuerySelectors=function(e){for(var t=Object.getPrototypeOf(this);null!=t;){var o=t.__agComponentMetaData,n=Le(t.constructor);o&&o[n]&&o[n].querySelectors&&le(o[n].querySelectors,function(t){return e(t)}),t=Object.getPrototypeOf(t)}},t.prototype.setTemplate=function(e,t){var o=tn(e);this.setTemplateFromElement(o,t)},t.prototype.setTemplateFromElement=function(e,t){this.eGui=e,this.eGui.__agComponent=this,this.addAnnotatedGuiEventListeners(),this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),t)},t.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},t.prototype.wireQuerySelectors=function(){var e=this;if(this.eGui){var t=this;this.iterateOverQuerySelectors(function(o){var n=e.eGui.querySelector(o.querySelector);n&&(t[o.attributeName]=n.__agComponent||n)})}},t.prototype.addAnnotatedGuiEventListeners=function(){var e=this;if(this.removeAnnotatedGuiEventListeners(),this.eGui){var t=this.getAgComponentMetaData("guiListenerMethods");t&&(this.annotatedGuiListeners||(this.annotatedGuiListeners=[]),t.forEach(function(t){var o=e.getRefElement(t.ref);if(o){var n=e[t.methodName].bind(e);o.addEventListener(t.eventName,n),e.annotatedGuiListeners.push({eventName:t.eventName,listener:n,element:o})}}))}},t.prototype.addAnnotatedGridEventListeners=function(){var e=this,t=this.getAgComponentMetaData("gridListenerMethods");t&&t.forEach(function(t){var o=e[t.methodName].bind(e);e.addManagedListener(e.eventService,t.eventName,o)})},t.prototype.getAgComponentMetaData=function(e){for(var t=[],o=Object.getPrototypeOf(this);null!=o;){var n=o.__agComponentMetaData,i=Le(o.constructor);n&&n[i]&&n[i][e]&&(t=t.concat(n[i][e])),o=Object.getPrototypeOf(o)}return t},t.prototype.removeAnnotatedGuiEventListeners=function(){this.annotatedGuiListeners&&(le(this.annotatedGuiListeners,function(e){e.element.removeEventListener(e.eventName,e.listener)}),this.annotatedGuiListeners=[])},t.prototype.getGui=function(){return this.eGui},t.prototype.getFocusableElement=function(){return this.eGui},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setGui=function(e){this.eGui=e},t.prototype.queryForHtmlElement=function(e){return this.eGui.querySelector(e)},t.prototype.queryForHtmlInputElement=function(e){return this.eGui.querySelector(e)},t.prototype.appendChild=function(e,t){if(t||(t=this.eGui),null!=e)if(wn(e))t.appendChild(e);else{var o=e;t.appendChild(o.getGui()),this.addDestroyFunc(this.destroyBean.bind(this,o))}},t.prototype.isDisplayed=function(){return this.displayed},t.prototype.setVisible=function(e){e!==this.visible&&(this.visible=e,Ho(this.eGui,e))},t.prototype.setDisplayed=function(e){e!==this.displayed&&(this.displayed=e,Vo(this.eGui,e),this.dispatchEvent({type:t.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},t.prototype.destroy=function(){this.removeAnnotatedGuiEventListeners(),e.prototype.destroy.call(this)},t.prototype.addGuiEventListener=function(e,t){var o=this;this.eGui.addEventListener(e,t),this.addDestroyFunc(function(){return o.eGui.removeEventListener(e,t)})},t.prototype.addCssClass=function(e){!0!==this.cssClassStates[e]&&(Io(this.eGui,e),this.cssClassStates[e]=!0)},t.prototype.removeCssClass=function(e){!1!==this.cssClassStates[e]&&(Mo(this.eGui,e),this.cssClassStates[e]=!1)},t.prototype.addOrRemoveCssClass=function(e,t){this.cssClassStates[e]!==t&&(Lo(this.eGui,e,t),this.cssClassStates[e]=t)},t.prototype.getAttribute=function(e){var t=this.eGui;return t?t.getAttribute(e):null},t.prototype.getRefElement=function(e){return this.queryForHtmlElement('[ref="'+e+'"]')},t.EVENT_DISPLAYED_CHANGED="displayedChanged",Ai([Qe("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),Ai([Ke],t.prototype,"createChildComponentsPreConstruct",null),Ai([Ye],t.prototype,"addAnnotatedGridEventListeners",null),t}(Tt),xi=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ii=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xi(t,e),t.prototype.isPopup=function(){return!0},t.prototype.setParentComponent=function(t){Io(t.getGui(),"ag-has-popup"),e.prototype.setParentComponent.call(this,t)},t.prototype.destroy=function(){var t=this.parentComponent;t&&t.isAlive()&&Mo(t.getGui(),"ag-has-popup"),e.prototype.destroy.call(this)},t}(Ni);function Mi(e){return Li.bind(this,"[ref="+e+"]")}function Li(e,t,o,n){var i,r,s,a;null!==e?"number"!=typeof n?(r="querySelectors",s={attributeName:o,querySelector:e},(a=function(e,t){return e.__agComponentMetaData||(e.__agComponentMetaData={}),e.__agComponentMetaData[t]||(e.__agComponentMetaData[t]={}),e.__agComponentMetaData[t]}(i=t,Le(i.constructor)))[r]||(a[r]=[]),a[r].push(s)):console.error("ag-Grid: QuerySelector should be on an attribute"):console.error("ag-Grid: QuerySelector selector should not be null")}var Gi,ki=function(){function e(){}return e.BACKSPACE=8,e.TAB=9,e.ENTER=13,e.SHIFT=16,e.ESCAPE=27,e.SPACE=32,e.LEFT=37,e.UP=38,e.RIGHT=39,e.DOWN=40,e.DELETE=46,e.A=65,e.C=67,e.V=86,e.D=68,e.Z=90,e.Y=89,e.F2=113,e.PAGE_UP=33,e.PAGE_DOWN=34,e.PAGE_HOME=36,e.PAGE_END=35,e}(),Vi=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Hi=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Vi(t,e),t.prototype.init=function(e){this.params=e;var t,o=this.eInput;e.cellStartedEdit?(this.focusAfterAttached=!0,e.keyPress===ki.BACKSPACE||e.keyPress===ki.DELETE?t="":e.charPress?t=e.charPress:(t=this.getStartValue(e),e.keyPress!==ki.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,t=this.getStartValue(e)),P(t)&&o.setValue(t,!0),this.addManagedListener(o.getGui(),"keydown",function(e){var t=e.keyCode;t!==ki.PAGE_UP&&t!==ki.PAGE_DOWN||e.preventDefault()})},t.prototype.afterGuiAttached=function(){var e=this.eInput;if(e.setInputAriaLabel("Input Editor"),this.focusAfterAttached){_o()||e.getFocusableElement().focus();var t=e.getInputElement();if(this.highlightAllOnFocus)t.select();else{var o=e.getValue(),n=P(o)&&o.length||0;n&&t.setSelectionRange(n,n)}}},t.prototype.focusIn=function(){var e=this.eInput,t=e.getFocusableElement(),o=e.getInputElement();t.focus(),o.select()},t.prototype.focusOut=function(){var e=this.eInput.getInputElement();Eo()&&e.setSelectionRange(0,0)},t.prototype.getValue=function(){return this.params.parseValue(this.eInput.getValue())},t.prototype.getStartValue=function(e){return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value},t.prototype.isPopup=function(){return!1},t.TEMPLATE='<div class="ag-cell-edit-wrapper"><ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field></div>',function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([Mi("eInput")],t.prototype,"eInput",void 0),t}(Ii),Wi=function(){function e(e,t,o,n){var i=this;this.alive=!0,this.context=e,t.newDateComponent(o).then(function(t){i.alive?(i.dateComp=t,n.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached(),i.tempValue&&t.setDate(i.tempValue)):e.destroyBean(t)})}return e.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},e.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},e.prototype.setDate=function(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e},e.prototype.setInputPlaceholder=function(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)},e.prototype.setInputAriaLabel=function(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)},e}(),Bi=function(){function e(){this.customFilterOptions={}}return e.prototype.init=function(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)},e.prototype.getFilterOptions=function(){return this.filterOptions},e.prototype.mapCustomOptions=function(){var e=this;this.filterOptions&&this.filterOptions.forEach(function(t){"string"!=typeof t&&se(["displayKey","displayName","test"],function(e){return!!t[e]||(console.warn("ag-Grid: ignoring FilterOptionDef as it doesn't contain a '"+e+"'"),!1)})&&(e.customFilterOptions[t.displayKey]=t)})},e.prototype.selectDefaultItem=function(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){var t=this.filterOptions[0];"string"==typeof t?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("ag-Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("ag-Grid: no filter options for filter")},e.prototype.getDefaultOption=function(){return this.defaultOption},e.prototype.getCustomOption=function(e){return this.customFilterOptions[e]},e}(),ji={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},Ui=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),zi=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ki=function(e){function t(t,o){void 0===o&&(o=!1);var n=e.call(this,t)||this;return n.isFocusableContainer=o,n.skipTabGuardFocus=!1,n}return Ui(t,e),t.prototype.postConstruct=function(){var e=this,o=this.getFocusableElement();o&&(Io(o,t.FOCUS_MANAGED_CLASS),this.isFocusableContainer&&(this.topTabGuard=this.createTabGuard("top"),this.bottomTabGuard=this.createTabGuard("bottom"),this.addTabGuards(),this.activateTabGuards(),this.forEachTabGuard(function(t){return e.addManagedListener(t,"focus",e.onFocus.bind(e))})),this.addKeyDownListeners(o),this.addManagedListener(o,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(o,"focusout",this.onFocusOut.bind(this)))},t.prototype.focusInnerElement=function(e){void 0===e&&(e=!1);var t=this.focusController.findFocusableElements(this.getFocusableElement());this.isFocusableContainer&&this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus()},t.prototype.onTabKeyDown=function(e){var t=this;if(!e.defaultPrevented){var o=this.tabGuardsAreActive();this.isFocusableContainer&&o&&this.deactivateTabGuards();var n=this.focusController.findNextFocusableElement(this.getFocusableElement(),!1,e.shiftKey);this.isFocusableContainer&&o&&setTimeout(function(){return t.activateTabGuards()},0),n&&(n.focus(),e.preventDefault())}},t.prototype.onFocusIn=function(e){this.isFocusableContainer&&this.deactivateTabGuards()},t.prototype.onFocusOut=function(e){this.isFocusableContainer&&!this.getFocusableElement().contains(e.relatedTarget)&&this.activateTabGuards()},t.prototype.forceFocusOutOfContainer=function(e){if(void 0===e&&(e=!1),this.isFocusableContainer){this.activateTabGuards(),this.skipTabGuardFocus=!0;var t=e?this.topTabGuard:this.bottomTabGuard;t&&t.focus()}},t.prototype.appendChild=function(t,o){if(this.isFocusableContainer){wn(t)||(t=t.getGui());var n=this.bottomTabGuard;n?n.insertAdjacentElement("beforebegin",t):e.prototype.appendChild.call(this,t,o)}else e.prototype.appendChild.call(this,t,o)},t.prototype.createTabGuard=function(e){var t=document.createElement("div");return t.classList.add("ag-tab-guard"),t.classList.add("ag-tab-guard-"+e),t.setAttribute("role","presentation"),t},t.prototype.addTabGuards=function(){var e=this.getFocusableElement();e.insertAdjacentElement("afterbegin",this.topTabGuard),e.insertAdjacentElement("beforeend",this.bottomTabGuard)},t.prototype.forEachTabGuard=function(e){this.topTabGuard&&e(this.topTabGuard),this.bottomTabGuard&&e(this.bottomTabGuard)},t.prototype.addKeyDownListeners=function(e){var t=this;this.addManagedListener(e,"keydown",function(e){e.defaultPrevented||(e.keyCode===ki.TAB?t.onTabKeyDown(e):t.handleKeyDown&&t.handleKeyDown(e))})},t.prototype.onFocus=function(e){this.skipTabGuardFocus?this.skipTabGuardFocus=!1:this.focusInnerElement(e.target===this.bottomTabGuard)},t.prototype.activateTabGuards=function(){this.forEachTabGuard(function(e){return e.setAttribute("tabIndex","0")})},t.prototype.deactivateTabGuards=function(){this.forEachTabGuard(function(e){return e.removeAttribute("tabIndex")})},t.prototype.tabGuardsAreActive=function(){return!!this.topTabGuard&&this.topTabGuard.hasAttribute("tabIndex")},t.prototype.clearGui=function(){var e=this.tabGuardsAreActive();Xo(this.getFocusableElement()),this.isFocusableContainer&&(this.addTabGuards(),e&&this.activateTabGuards())},t.FOCUS_MANAGED_CLASS="ag-focus-managed",zi([Qe("focusController")],t.prototype,"focusController",void 0),zi([Ye],t.prototype,"postConstruct",null),t}(Ni),Yi=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),qi=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},$i=function(e){function t(t){var o=e.call(this)||this;return o.filterNameKey=t,o.applyActive=!1,o.hidePopup=null,o.appliedModel=null,o}return Yi(t,e),t.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},t.prototype.onFilterChanged=function(){console.warn("ag-Grid: you should not call onFilterChanged() directly on the filter, please call\n        gridApi.onFilterChanged() instead. onFilterChanged is not part of the exposed filter interface (it was\n        a method that existed on an old version of the filters that was not intended for public use."),this.providedFilterParams.filterChangedCallback()},t.prototype.isFilterActive=function(){return!!this.appliedModel},t.prototype.postConstruct=function(){this.resetTemplate(),e.prototype.postConstruct.call(this)},t.prototype.resetTemplate=function(e){var t='\n            <div class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </div>";this.setTemplate(t,e)},t.prototype.init=function(e){var t=this;this.setParams(e),this.resetUiToDefaults(!0).then(function(){t.updateUiVisibility(),t.setupOnBtApplyDebounce()})},t.prototype.setParams=function(e){t.checkForDeprecatedParams(e),this.providedFilterParams=e,this.newRowsActionKeep="keep"===e.newRowsAction||"clear"!==e.newRowsAction&&[rt.ROW_MODEL_TYPE_SERVER_SIDE,rt.ROW_MODEL_TYPE_INFINITE].indexOf(this.rowModel.getType())>=0,this.applyActive=t.isUseApplyButton(e),this.createButtonPanel()},t.prototype.createButtonPanel=function(){var e=this,t=this.providedFilterParams.buttons;if(t&&!(t.length<1)){var o=document.createElement("div");Io(o,"ag-filter-apply-panel"),Ri(t).forEach(function(t){return function(t){var n,i;switch(t){case"apply":n=e.translate("applyFilter"),i=function(t){return e.onBtApply(!1,!1,t)};break;case"clear":n=e.translate("clearFilter"),i=function(){return e.onBtClear()};break;case"reset":n=e.translate("resetFilter"),i=function(){return e.onBtReset()};break;case"cancel":n=e.translate("cancelFilter"),i=function(t){e.onBtCancel(t)};break;default:return void console.warn("Unknown button type specified")}var r=tn('<button\n                    type="button"\n                    ref="'+t+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button">'+n+"</button>");o.appendChild(r),e.addManagedListener(r,"click",i)}(t)}),this.getGui().appendChild(o)}},t.checkForDeprecatedParams=function(e){var t=e.buttons||[];if(!(t.length>0)){var o=e.applyButton,n=e.resetButton;e.clearButton&&(console.warn("ag-Grid: as of ag-Grid v23.2, filterParams.clearButton is deprecated. Please use filterParams.buttons instead"),t.push("clear")),n&&(console.warn("ag-Grid: as of ag-Grid v23.2, filterParams.resetButton is deprecated. Please use filterParams.buttons instead"),t.push("reset")),o&&(console.warn("ag-Grid: as of ag-Grid v23.2, filterParams.applyButton is deprecated. Please use filterParams.buttons instead"),t.push("apply")),e.apply&&(console.warn("ag-Grid: as of ag-Grid v21, filterParams.apply is deprecated. Please use filterParams.buttons instead"),t.push("apply")),e.buttons=t}},t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.setupOnBtApplyDebounce=function(){var e=t.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=Be(this.onBtApply.bind(this),e)},t.prototype.getModel=function(){return this.appliedModel},t.prototype.setModel=function(e){var t=this;return(e?this.setModelIntoUi(e):this.resetUiToDefaults()).then(function(){t.updateUiVisibility(),t.applyModel()})},t.prototype.onBtCancel=function(e){var t=this;this.setModelIntoUi(this.getModel()).then(function(){t.onUiChanged(!1,"prevent"),t.providedFilterParams.closeOnApply&&t.close(e)})},t.prototype.onBtClear=function(){var e=this;this.resetUiToDefaults().then(function(){return e.onUiChanged()})},t.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},t.prototype.applyModel=function(){var e=this.getModelFromUi();if(!this.isModelValid(e))return!1;var t=this.appliedModel;return this.appliedModel=e,!this.areModelsEqual(t,e)},t.prototype.isModelValid=function(e){return!0},t.prototype.onBtApply=function(e,t,o){void 0===e&&(e=!1),void 0===t&&(t=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t}),this.providedFilterParams.closeOnApply&&this.applyActive&&!e&&!t&&this.close(o)},t.prototype.onNewRowsLoaded=function(){var e=this;this.newRowsActionKeep||this.resetUiToDefaults().then(function(){return e.appliedModel=null})},t.prototype.close=function(e){if(this.hidePopup){var t,o=e&&e.key;"Enter"!==o&&"Space"!==o||(t={keyboardEvent:e}),this.hidePopup(t),this.hidePopup=null}},t.prototype.isNewRowsActionKeep=function(){return this.newRowsActionKeep},t.prototype.onUiChanged=function(e,t){if(void 0===e&&(e=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive){var o=this.isModelValid(this.getModelFromUi());Wo(this.getRefElement("applyFilterButton"),!o)}e&&!t||"immediately"===t?this.onBtApply(e):(this.applyActive||t)&&"debounce"!==t||this.onBtApplyDebounce()},t.prototype.afterGuiAttached=function(e){null!=e&&(this.hidePopup=e.hidePopup)},t.getDebounceMs=function(e,o){return t.isUseApplyButton(e)?(null!=e.debounceMs&&console.warn("ag-Grid: debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:o},t.isUseApplyButton=function(e){return t.checkForDeprecatedParams(e),e.buttons&&e.buttons.indexOf("apply")>=0},t.prototype.destroy=function(){this.hidePopup=null,e.prototype.destroy.call(this)},t.prototype.translate=function(e){return this.gridOptionsWrapper.getLocaleTextFunc()(e,ji[e])},qi([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),qi([Qe("rowModel")],t.prototype,"rowModel",void 0),qi([Ye],t.prototype,"postConstruct",null),t}(Ki),Qi=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Xi=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.One=0]="One",e[e.Two=1]="Two"}(Gi||(Gi={}));var Zi,Ji=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qi(t,e),t.prototype.showValueFrom=function(e){return!this.doesFilterHaveHiddenInput(e)&&e!==t.EMPTY},t.prototype.showValueTo=function(e){return e===t.IN_RANGE},t.prototype.onFloatingFilterChanged=function(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)},t.prototype.setTypeFromFloatingFilter=function(e){this.eType1.setValue(e),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},t.prototype.getModelFromUi=function(){return this.isConditionUiComplete(Gi.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(Gi.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(Gi.One),condition2:this.createCondition(Gi.Two)}:this.createCondition(Gi.One):null},t.prototype.getCondition1Type=function(){return this.eType1.getValue()},t.prototype.getCondition2Type=function(){return this.eType2.getValue()},t.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},t.prototype.areModelsEqual=function(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;var o,n=!e.operator,i=!t.operator;if(!n&&i||n&&!i)return!1;if(n)o=this.areSimpleModelsEqual(e,t);else{var r=e,s=t;o=r.operator===s.operator&&this.areSimpleModelsEqual(r.condition1,s.condition1)&&this.areSimpleModelsEqual(r.condition2,s.condition2)}return o},t.prototype.setModelIntoUi=function(e){if(e.operator){var t=e,o="OR"===t.operator;this.eJoinOperatorAnd.setValue(!o),this.eJoinOperatorOr.setValue(o),this.eType1.setValue(t.condition1.type),this.eType2.setValue(t.condition2.type),this.setConditionIntoUi(t.condition1,Gi.One),this.setConditionIntoUi(t.condition2,Gi.Two)}else{var n=e;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(n.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(n,Gi.One),this.setConditionIntoUi(null,Gi.Two)}return Pi.resolve()},t.prototype.doesFilterPass=function(e){var t=this,o=this.getModel();if(null==o)return!0;var n=o.operator,i=[];return n?i.push(o.condition1,o.condition2):i.push(o),(n&&"OR"===n?ae:se)(i,function(o){return t.individualConditionPasses(e,o)})},t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.optionsFactory=new Bi,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.allowTwoConditions=!t.suppressAndOrCondition,this.alwaysShowBothConditions=!!t.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(t.defaultJoinOperator),this.putOptionsIntoDropdown(),this.addChangedListeners()},t.prototype.getDefaultJoinOperator=function(e){return te(["AND","OR"],e)?e:"AND"},t.prototype.putOptionsIntoDropdown=function(){var e=this,t=this.optionsFactory.getFilterOptions();le(t,function(t){var o,n;if("string"==typeof t)n=e.translate(o=t);else{var i=e.optionsFactory.getCustomOption(o=t.displayKey);n=i?i.displayName:e.translate(o)}var r=function(){return{value:o,text:n}};e.eType1.addOption(r()),e.eType2.addOption(r())});var o=t.length<=1;this.eType1.setDisabled(o),this.eType2.setDisabled(o)},t.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},t.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(Gi.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(Gi.Two)},t.prototype.getCssIdentifier=function(){return"simple-filter"},t.prototype.updateUiVisibility=function(){var e=this.isCondition2Enabled();this.alwaysShowBothConditions?(this.eJoinOperatorAnd.setDisabled(!e),this.eJoinOperatorOr.setDisabled(!e),this.eType2.setDisabled(!e),Wo(this.eCondition2Body,!e)):(Vo(this.eJoinOperatorPanel,e),Vo(this.eType2.getGui(),e),Vo(this.eCondition2Body,e))},t.prototype.isCondition2Enabled=function(){return this.allowTwoConditions&&this.isConditionUiComplete(Gi.One)},t.prototype.resetUiToDefaults=function(e){var t="ag-simple-filter-and-or-"+this.getCompId(),o=this.optionsFactory.getDefaultOption();return this.eType1.setValue(o,e).setAriaLabel("Filtering operator"),this.eType2.setValue(o,e).setAriaLabel("Filtering operator"),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),e).setName(t).setLabel(this.translate("andCondition")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),e).setName(t).setLabel(this.translate("orCondition")),Pi.resolve()},t.prototype.isDefaultOperator=function(e){return e===this.defaultJoinOperator},t.prototype.addChangedListeners=function(){var e=this,t=function(){return e.onUiChanged()};this.eType1.onValueChange(t),this.eType2.onValueChange(t),this.eJoinOperatorOr.onValueChange(t),this.eJoinOperatorAnd.onValueChange(t)},t.prototype.doesFilterHaveHiddenInput=function(e){var t=this.optionsFactory.getCustomOption(e);return t&&t.hideFilterInput},t.EMPTY="empty",t.EQUALS="equals",t.NOT_EQUAL="notEqual",t.LESS_THAN="lessThan",t.LESS_THAN_OR_EQUAL="lessThanOrEqual",t.GREATER_THAN="greaterThan",t.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",t.IN_RANGE="inRange",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.STARTS_WITH="startsWith",t.ENDS_WITH="endsWith",Xi([Mi("eOptions1")],t.prototype,"eType1",void 0),Xi([Mi("eOptions2")],t.prototype,"eType2",void 0),Xi([Mi("eJoinOperatorPanel")],t.prototype,"eJoinOperatorPanel",void 0),Xi([Mi("eJoinOperatorAnd")],t.prototype,"eJoinOperatorAnd",void 0),Xi([Mi("eJoinOperatorOr")],t.prototype,"eJoinOperatorOr",void 0),Xi([Mi("eCondition1Body")],t.prototype,"eCondition1Body",void 0),Xi([Mi("eCondition2Body")],t.prototype,"eCondition2Body",void 0),t}($i),er=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),tr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return er(t,e),t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.scalarFilterParams=t,this.checkDeprecatedParams()},t.prototype.checkDeprecatedParams=function(){this.scalarFilterParams.nullComparator&&(console.warn("ag-Grid: Since v21.0, the property filterParams.nullComparator is deprecated. Please use filterParams.includeBlanksInEquals, filterParams.includeBlanksInLessThan and filterParams.includeBlanksInGreaterThan instead."),this.scalarFilterParams.includeBlanksInEquals=this.scalarFilterParams.nullComparator.equals,this.scalarFilterParams.includeBlanksInLessThan=this.scalarFilterParams.nullComparator.lessThan,this.scalarFilterParams.includeBlanksInGreaterThan=this.scalarFilterParams.nullComparator.greaterThan)},t.prototype.individualConditionPasses=function(e,o){var n=this.scalarFilterParams.valueGetter(e.node),i=this.mapRangeFromModel(o),r=i.from,s=i.to,a=o.type,l=this.optionsFactory.getCustomOption(a);if(l&&(null!=r||l.hideFilterInput))return l.test(r,n);if(null==n){switch(a){case t.EQUALS:case t.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case t.GREATER_THAN:case t.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case t.LESS_THAN:case t.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case t.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0}return!1}var u=this.comparator(),c=u(r,n);switch(a){case t.EQUALS:return 0===c;case t.NOT_EQUAL:return 0!==c;case t.GREATER_THAN:return c>0;case t.GREATER_THAN_OR_EQUAL:return c>=0;case t.LESS_THAN:return c<0;case t.LESS_THAN_OR_EQUAL:return c<=0;case t.IN_RANGE:var p=u(s,n);return this.scalarFilterParams.inRangeInclusive?c>=0&&p<=0:c>0&&p<0;default:throw new Error("Unexpected type of filter: "+a)}},t}(Ji),or=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),nr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ir=function(e){function t(){return e.call(this,"dateFilter")||this}return or(t,e),t.prototype.mapRangeFromModel=function(e){return{from:ii(e.dateFrom),to:ii(e.dateTo)}},t.prototype.setValueFromFloatingFilter=function(e){this.dateCondition1FromComp.setDate(null==e?null:ii(e)),this.dateCondition1ToComp.setDate(null),this.dateCondition2FromComp.setDate(null),this.dateCondition2ToComp.setDate(null)},t.prototype.setConditionIntoUi=function(e,t){var o=e?[ii(e.dateFrom),ii(e.dateTo)]:[null,null],n=o[0],i=o[1],r=this.getFromToComponents(t),s=r[1];r[0].setDate(n),s.setDate(i)},t.prototype.resetUiToDefaults=function(t){var o=this;return e.prototype.resetUiToDefaults.call(this,t).then(function(){o.dateCondition1FromComp.setDate(null),o.dateCondition1ToComp.setDate(null),o.dateCondition2FromComp.setDate(null),o.dateCondition2ToComp.setDate(null)})},t.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},t.prototype.defaultComparator=function(e,t){return null==t||t<e?-1:t>e?1:0},t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.dateFilterParams=t,this.createDateComponents()},t.prototype.createDateComponents=function(){var e=this,t={onDateChanged:function(){return e.onUiChanged()},filterParams:this.dateFilterParams};this.dateCondition1FromComp=new Wi(this.getContext(),this.userComponentFactory,t,this.eCondition1PanelFrom),this.dateCondition1ToComp=new Wi(this.getContext(),this.userComponentFactory,t,this.eCondition1PanelTo),this.dateCondition2FromComp=new Wi(this.getContext(),this.userComponentFactory,t,this.eCondition2PanelFrom),this.dateCondition2ToComp=new Wi(this.getContext(),this.userComponentFactory,t,this.eCondition2PanelTo),this.addDestroyFunc(function(){e.dateCondition1FromComp.destroy(),e.dateCondition1ToComp.destroy(),e.dateCondition2FromComp.destroy(),e.dateCondition2ToComp.destroy()})},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var t=e===Gi.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+t+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+t+'PanelFrom"></div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+t+'PanelTo"></div>\n            </div>'},t.prototype.isConditionUiComplete=function(e){var t=e===Gi.One?this.getCondition1Type():this.getCondition2Type();if(t===Ji.EMPTY)return!1;if(this.doesFilterHaveHiddenInput(t))return!0;var o=this.getFromToComponents(e),n=o[1],i=null==this.dateFilterParams.minValidYear?1e3:this.dateFilterParams.minValidYear,r=function(e){return null!=e&&e.getUTCFullYear()>i};return r(o[0].getDate())&&(!this.showValueTo(t)||r(n.getDate()))},t.prototype.areSimpleModelsEqual=function(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type},t.prototype.getFilterType=function(){return"date"},t.prototype.createCondition=function(e){var t=e===Gi.One?this.getCondition1Type():this.getCondition2Type(),o=this.getFromToComponents(e),n=o[1];return{dateFrom:ni(o[0].getDate()),dateTo:ni(n.getDate()),type:t,filterType:this.getFilterType()}},t.prototype.resetPlaceholder=function(){var e=this.translate("dateFormatOoo");this.dateCondition1FromComp.setInputPlaceholder(e),this.dateCondition1FromComp.setInputAriaLabel("Filter value"),this.dateCondition1ToComp.setInputPlaceholder(e),this.dateCondition1ToComp.setInputAriaLabel("Filter value"),this.dateCondition2FromComp.setInputPlaceholder(e),this.dateCondition2FromComp.setInputAriaLabel("Filter value"),this.dateCondition2ToComp.setInputPlaceholder(e),this.dateCondition2ToComp.setInputAriaLabel("Filter value")},t.prototype.updateUiVisibility=function(){e.prototype.updateUiVisibility.call(this),this.resetPlaceholder();var t=this.getCondition1Type();Vo(this.eCondition1PanelFrom,this.showValueFrom(t)),Vo(this.eCondition1PanelTo,this.showValueTo(t));var o=this.getCondition2Type();Vo(this.eCondition2PanelFrom,this.showValueFrom(o)),Vo(this.eCondition2PanelTo,this.showValueTo(o))},t.prototype.getFromToComponents=function(e){return e===Gi.One?[this.dateCondition1FromComp,this.dateCondition1ToComp]:[this.dateCondition2FromComp,this.dateCondition2ToComp]},t.DEFAULT_FILTER_OPTIONS=[tr.EQUALS,tr.GREATER_THAN,tr.LESS_THAN,tr.NOT_EQUAL,tr.IN_RANGE],nr([Mi("eCondition1PanelFrom")],t.prototype,"eCondition1PanelFrom",void 0),nr([Mi("eCondition1PanelTo")],t.prototype,"eCondition1PanelTo",void 0),nr([Mi("eCondition2PanelFrom")],t.prototype,"eCondition2PanelFrom",void 0),nr([Mi("eCondition2PanelTo")],t.prototype,"eCondition2PanelTo",void 0),nr([Qe("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(tr),rr=function(){function e(e,t){var o=this;void 0===t&&(t=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new it,this.eElement=e,this.preventMouseClick=t;var n=this.onTouchStart.bind(this),i=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",n,{passive:!0}),this.eElement.addEventListener("touchmove",i,{passive:!0}),this.eElement.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push(function(){o.eElement.removeEventListener("touchstart",n,{passive:!0}),o.eElement.removeEventListener("touchmove",i,{passive:!0}),o.eElement.removeEventListener("touchend",r,{passive:!1})})}return e.prototype.getActiveTouch=function(e){for(var t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null},e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.onTouchStart=function(t){var o=this;if(!this.touching){this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;var n=this.touchStart;window.setTimeout(function(){o.touching&&o.touchStart===n&&!o.moved&&(o.moved=!0,o.eventService.dispatchEvent({type:e.EVENT_LONG_TAP,touchStart:o.touchStart,touchEvent:t}))},500)}},e.prototype.onTouchMove=function(e){if(this.touching){var t=this.getActiveTouch(e.touches);t&&!bi(t,this.touchStart,4)&&(this.moved=!0)}},e.prototype.onTouchEnd=function(t){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:e.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&t.preventDefault(),this.touching=!1)},e.prototype.checkForDoubleTap=function(){var t=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&t-this.lastTapTime>e.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:e.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=t},e.prototype.destroy=function(){this.destroyFuncs.forEach(function(e){return e()})},e.EVENT_TAP="tap",e.EVENT_DOUBLE_TAP="doubleTap",e.EVENT_LONG_TAP="longTap",e.DOUBLE_TAP_MILLIS=500,e}(),sr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ar=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},lr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastMovingChanged=0,t}return sr(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.refresh=function(e){return this.params=e,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(e),!0)},t.prototype.workOutTemplate=function(){var e=W(this.params.template,t.TEMPLATE);return e&&e.trim?e.trim():e},t.prototype.init=function(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(e.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(e)},t.prototype.setDisplayName=function(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;var t=Wt(this.currentDisplayName);this.eText&&(this.eText.innerHTML=t)}},t.prototype.setupIcons=function(e){this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addInIcon("menu",this.eMenu,e),this.addInIcon("filter",this.eFilter,e)},t.prototype.addInIcon=function(e,t,o){if(null!=t){var n=di(e,this.gridOptionsWrapper,o);t.appendChild(n)}},t.prototype.setupTap=function(){var e=this,t=this.gridOptionsWrapper;if(!t.isSuppressTouch()){var o=new rr(this.getGui(),!0),n=t.isSuppressMenuHide(),i=n&&P(this.eMenu),r=i?new rr(this.eMenu,!0):o;this.params.enableMenu&&this.addManagedListener(r,rr[i?"EVENT_TAP":"EVENT_LONG_TAP"],function(o){t.getApi().showColumnMenuAfterMouseClick(e.params.column,o.touchStart)}),this.params.enableSorting&&this.addManagedListener(o,rr.EVENT_TAP,function(t){n&&e.eMenu.contains(t.touchStart.target)||e.sortController.progressSort(e.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(function(){return o.destroy()}),i&&this.addDestroyFunc(function(){return r.destroy()})}},t.prototype.workOutShowMenu=function(){var e=!this.gridOptionsWrapper.isSuppressMenuHide(),t=Do()&&e;return this.params.enableMenu&&!t},t.prototype.setMenu=function(){var e=this;if(this.eMenu)if(this.currentShowMenu=this.workOutShowMenu(),this.currentShowMenu){var t=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",function(){return e.showMenu(e.eMenu)}),Lo(this.eMenu,"ag-header-menu-always-show",t)}else Jo(this.eMenu)},t.prototype.showMenu=function(e){e||(e=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,e)},t.prototype.removeSortIcons=function(){Jo(this.eSortAsc),Jo(this.eSortDesc),Jo(this.eSortNone),Jo(this.eSortOrder)},t.prototype.workOutSort=function(){return this.params.enableSorting},t.prototype.setupSort=function(){var e=this;if(this.currentSort=this.params.enableSorting,this.currentSort){var t=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,lt.EVENT_MOVING_CHANGED,function(){e.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(o){var n=e.params.column.isMoving(),i=(new Date).getTime();n||i-e.lastMovingChanged<50||e.params.progressSort(t?o.ctrlKey||o.metaKey:o.shiftKey)}),this.addManagedListener(this.params.column,lt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.onSortChanged(),this.addManagedListener(this.eventService,xt.EVENT_SORT_CHANGED,this.setMultiSortOrder.bind(this)),this.setMultiSortOrder()}else this.removeSortIcons()},t.prototype.onSortChanged=function(){if(Lo(this.getGui(),"ag-header-cell-sorted-asc",this.params.column.isSortAscending()),Lo(this.getGui(),"ag-header-cell-sorted-desc",this.params.column.isSortDescending()),Lo(this.getGui(),"ag-header-cell-sorted-none",this.params.column.isSortNone()),this.eSortAsc&&Lo(this.eSortAsc,"ag-hidden",!this.params.column.isSortAscending()),this.eSortDesc&&Lo(this.eSortDesc,"ag-hidden",!this.params.column.isSortDescending()),this.eSortNone){var e=!this.params.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();Lo(this.eSortNone,"ag-hidden",e||!this.params.column.isSortNone())}},t.prototype.setMultiSortOrder=function(){if(this.eSortOrder){var e=this.params.column,t=this.sortController.getColumnsWithSortingOrdered(),o=t.indexOf(e),n=t.length>1,i=e.isSorting()&&n;Vo(this.eSortOrder,i),o>=0?this.eSortOrder.innerHTML=(o+1).toString():Xo(this.eSortOrder)}},t.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,lt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},t.prototype.onFilterChanged=function(){var e=this.params.column.isFilterActive();Lo(this.eFilter,"ag-hidden",!e)},t.TEMPLATE='<div class="ag-cell-label-container">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation" unselectable="on">\n                <span ref="eText" class="ag-header-cell-text" unselectable="on"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <span ref="eSortOrder" class="ag-header-icon ag-header-label-icon ag-sort-order" aria-hidden="true"></span>\n                <span ref="eSortAsc" class="ag-header-icon ag-header-label-icon ag-sort-ascending-icon" aria-hidden="true"></span>\n                <span ref="eSortDesc" class="ag-header-icon ag-header-label-icon ag-sort-descending-icon" aria-hidden="true"></span>\n                <span ref="eSortNone" class="ag-header-icon ag-header-label-icon ag-sort-none-icon" aria-hidden="true"></span>\n            </div>\n        </div>',ar([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ar([Qe("sortController")],t.prototype,"sortController",void 0),ar([Qe("menuFactory")],t.prototype,"menuFactory",void 0),ar([Mi("eFilter")],t.prototype,"eFilter",void 0),ar([Mi("eSortAsc")],t.prototype,"eSortAsc",void 0),ar([Mi("eSortDesc")],t.prototype,"eSortDesc",void 0),ar([Mi("eSortNone")],t.prototype,"eSortNone",void 0),ar([Mi("eSortOrder")],t.prototype,"eSortOrder",void 0),ar([Mi("eMenu")],t.prototype,"eMenu",void 0),ar([Mi("eLabel")],t.prototype,"eLabel",void 0),ar([Mi("eText")],t.prototype,"eText",void 0),t}(Ni),ur=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),cr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},pr=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return ur(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e,this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},t.prototype.setupExpandIcons=function(){var e=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var t=function(t){if(!mt(t)){var o=!e.params.columnGroup.isExpanded();e.columnController.setColumnGroupOpened(e.params.columnGroup.getOriginalColumnGroup(),o,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,t),this.addTouchAndClickListeners(this.eOpenIcon,t);var o=function(e){gt(e)};this.addManagedListener(this.eCloseIcon,"dblclick",o),this.addManagedListener(this.eOpenIcon,"dblclick",o),this.addManagedListener(this.getGui(),"dblclick",t),this.updateIconVisibility();var n=this.params.columnGroup.getOriginalColumnGroup();this.addManagedListener(n,ct.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(n,ct.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},t.prototype.addTouchAndClickListeners=function(e,t){var o=new rr(e);this.addManagedListener(o,rr.EVENT_TAP,t),this.addDestroyFunc(function(){return o.destroy()}),this.addManagedListener(e,"click",t)},t.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var e=this.params.columnGroup.isExpanded();Vo(this.eOpenIcon,e),Vo(this.eCloseIcon,!e)}else Vo(this.eOpenIcon,!1),Vo(this.eCloseIcon,!1)},t.prototype.addInIcon=function(e,t){var o=di(e,this.gridOptionsWrapper,null);this.getRefElement(t).appendChild(o)},t.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return Vo(this.eOpenIcon,!1),void Vo(this.eCloseIcon,!1)},t.prototype.setupLabel=function(){var e=this.params.displayName;if(P(e)){var t=Wt(e);this.getRefElement("agLabel").innerHTML=t}},t.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',cr([Qe("columnController")],t.prototype,"columnController",void 0),cr([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),cr([Mi("agOpened")],t.prototype,"eOpenIcon",void 0),cr([Mi("agClosed")],t.prototype,"eCloseIcon",void 0),t}(Ni),dr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},hr=function(){function e(){this.childrenMapped={},this.selectable=!0,this.__objectId=e.OBJECT_ID_SEQUENCE++,this.alreadyRendered=!1,this.highlighted=null,this.selected=!1}return e.prototype.setData=function(e){var t=this.data;this.data=e,this.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var o=this.createDataChangedEvent(e,t,!1);this.dispatchLocalEvent(o)},e.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},e.prototype.createDataChangedEvent=function(t,o,n){return{type:e.EVENT_DATA_CHANGED,node:this,oldData:o,newData:t,update:n}},e.prototype.createLocalRowEvent=function(e){return{type:e,node:this}},e.prototype.updateData=function(e){var t=this.data;this.data=e,this.updateDataOnDetailNode(),this.checkRowSelectable(),this.updateDataOnDetailNode();var o=this.createDataChangedEvent(e,t,!0);this.dispatchLocalEvent(o)},e.prototype.getRowIndexString=function(){return this.rowPinned===rt.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===rt.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},e.prototype.createDaemonNode=function(){var t=new e;return this.context.createBean(t),t.id=this.id,t.data=this.data,t.daemon=!0,t.selected=this.selected,t.level=this.level,t},e.prototype.setDataAndId=function(e,t){var o=P(this.id)?this.createDaemonNode():null,n=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.selectionController.syncInRowNode(this,o),this.checkRowSelectable();var i=this.createDataChangedEvent(e,n,!1);this.dispatchLocalEvent(i)},e.prototype.checkRowSelectable=function(){var e=this.gridOptionsWrapper.getIsRowSelectableFunc(),t=e&&P(this);this.setRowSelectable(!t||e(this))},e.prototype.setRowSelectable=function(t){this.selectable!==t&&(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_SELECTABLE_CHANGED)))},e.prototype.setId=function(t){var o=this.gridOptionsWrapper.getRowNodeIdFunc();o?this.data?(this.id=o(this.data),this.id&&this.id.startsWith&&this.id.startsWith(e.ID_PREFIX_ROW_GROUP)&&console.error("ag-Grid: Row ID's cannot start with "+e.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for ag-Grid's row grouping feature.")):this.id=void 0:this.id=t},e.prototype.isPixelInRange=function(e){return e>=this.rowTop&&e<this.rowTop+this.rowHeight},e.prototype.clearRowTop=function(){this.oldRowTop=this.rowTop,this.setRowTop(null)},e.prototype.setFirstChild=function(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_FIRST_CHILD_CHANGED)))},e.prototype.setLastChild=function(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_LAST_CHILD_CHANGED)))},e.prototype.setChildIndex=function(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_CHILD_INDEX_CHANGED)))},e.prototype.setRowTop=function(t){this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_TOP_CHANGED)))},e.prototype.setDragging=function(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_DRAGGING_CHANGED)))},e.prototype.setHighlighted=function(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HIGHLIGHT_CHANGED)))},e.prototype.setAllChildrenCount=function(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},e.prototype.setMaster=function(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_MASTER_CHANGED)))},e.prototype.setRowHeight=function(t,o){void 0===o&&(o=!1),this.rowHeight=t,this.rowHeightEstimated=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HEIGHT_CHANGED))},e.prototype.setRowIndex=function(t){this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_ROW_INDEX_CHANGED))},e.prototype.setUiLevel=function(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_UI_LEVEL_CHANGED)))},e.prototype.setExpanded=function(t){if(this.expanded!==t){this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_EXPANDED_CHANGED));var o=_e({},this.createGlobalRowEvent(xt.EVENT_ROW_GROUP_OPENED),{expanded:t});this.mainEventService.dispatchEvent(o),this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridApi.redrawRows({rowNodes:[this]})}},e.prototype.createGlobalRowEvent=function(e){return{type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},e.prototype.dispatchLocalEvent=function(e){this.eventService&&this.eventService.dispatchEvent(e)},e.prototype.setDataValue=function(e,t){var o=this.columnController.getPrimaryColumn(e),n=this.valueService.getValue(o,this);this.valueService.setValue(this,o,t),this.dispatchCellChangedEvent(o,t,n)},e.prototype.setGroupValue=function(e,t){var o=this.columnController.getGridColumn(e);T(this.groupData)&&(this.groupData={});var n=o.getColId(),i=this.groupData[n];i!==t&&(this.groupData[n]=t,this.dispatchCellChangedEvent(o,t,i))},e.prototype.setAggData=function(e){var t=this,o=Ee([this.aggData,e]),n=this.aggData;this.aggData=e,this.eventService&&o.forEach(function(e){var o=t.columnController.getGridColumn(e);t.dispatchCellChangedEvent(o,t.aggData?t.aggData[e]:void 0,n?n[e]:void 0)})},e.prototype.updateHasChildren=function(){var t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;t!==this.__hasChildren&&(this.__hasChildren=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HAS_CHILDREN_CHANGED)))},e.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},e.prototype.isEmptyRowGroupNode=function(){return this.group&&A(this.childrenAfterGroup)},e.prototype.dispatchCellChangedEvent=function(t,o,n){this.dispatchLocalEvent({type:e.EVENT_CELL_CHANGED,node:this,column:t,newValue:o,oldValue:n})},e.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},e.prototype.isExpandable=function(){return!(!this.hasChildren()&&!this.master)},e.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},e.prototype.depthFirstSearch=function(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(t){return t.depthFirstSearch(e)}),e(this)},e.prototype.calculateSelectedFromChildren=function(){var e=!1,t=!1,o=!1;if(this.childrenAfterGroup)for(var n=0;n<this.childrenAfterGroup.length;n++){var i=this.childrenAfterGroup[n];if(i.selectable)switch(i.isSelected()){case!0:e=!0;break;case!1:t=!0;break;default:o=!0}}this.selectThisNode(o?void 0:!(!e||t)||!(!e&&t)&&void 0)},e.prototype.setSelectedInitialValue=function(e){this.selected=e},e.prototype.setSelected=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1),this.setSelectedParams({newValue:e,clearSelection:t,suppressFinishActions:o,rangeSelect:!1})},e.prototype.isRowPinned=function(){return this.rowPinned===rt.PINNED_TOP||this.rowPinned===rt.PINNED_BOTTOM},e.prototype.setSelectedParams=function(e){var t=this.gridOptionsWrapper.isGroupSelectsChildren(),o=!0===e.newValue,n=!0===e.clearSelection,i=!0===e.suppressFinishActions,r=!0===e.rangeSelect,s=t&&!0===e.groupSelectsFiltered;if(void 0===this.id)return console.warn("ag-Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("ag-Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(e);if(r&&this.selectionController.getLastSelectedNode()){var a=this.selectionController.getLastSelectedNode()!==this,l=this.gridOptionsWrapper.isRowSelectionMulti();if(a&&l)return this.doRowRangeSelection()}var u=0;return s&&this.group||this.selectThisNode(o)&&u++,t&&this.group&&(u+=this.selectChildNodes(o,s)),i||(o&&(n||!this.gridOptionsWrapper.isRowSelectionMulti())&&(u+=this.selectionController.clearOtherNodes(this)),u>0&&(this.selectionController.updateGroupsFromChildrenSelections(),this.mainEventService.dispatchEvent({type:xt.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})),o&&this.selectionController.setLastSelectedNode(this)),u},e.prototype.doRowRangeSelection=function(){var e=this.gridOptionsWrapper.isGroupSelectsChildren(),t=this.selectionController.getLastSelectedNode(),o=this.rowModel.getNodesInRangeForSelection(this,t),n=0;return o.forEach(function(t){t.group&&e||t.selectThisNode(!0)&&n++}),this.selectionController.updateGroupsFromChildrenSelections(),this.mainEventService.dispatchEvent({type:xt.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi}),n},e.prototype.isParentOfNode=function(e){for(var t=this.parent;t;){if(t===e)return!0;t=t.parent}return!1},e.prototype.selectThisNode=function(t){if(!this.selectable&&t||this.selected===t)return!1;this.selected=t,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_ROW_SELECTED));var o=this.createGlobalRowEvent(xt.EVENT_ROW_SELECTED);return this.mainEventService.dispatchEvent(o),!0},e.prototype.selectChildNodes=function(e,t){var o=t?this.childrenAfterFilter:this.childrenAfterGroup;if(!T(o)){for(var n=0,i=0;i<o.length;i++)n+=o[i].setSelectedParams({newValue:e,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:t});return n}},e.prototype.addEventListener=function(e,t){this.eventService||(this.eventService=new it),this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_MOUSE_ENTER))},e.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_MOUSE_LEAVE))},e.prototype.getFirstChildOfFirstChild=function(e){for(var t,o=this,n=!0,i=!1;n&&!i;){var r=o.parent;P(r)&&o.firstChild?r.rowGroupColumn===e&&(i=!0,t=r):n=!1,o=r}return i?t:null},e.prototype.isFullWidthCell=function(){var e=this.gridOptionsWrapper.getIsFullWidthCellFunc();return!!e&&e(this)},e.ID_PREFIX_ROW_GROUP="row-group-",e.ID_PREFIX_TOP_PINNED="t-",e.ID_PREFIX_BOTTOM_PINNED="b-",e.OBJECT_ID_SEQUENCE=0,e.EVENT_ROW_SELECTED="rowSelected",e.EVENT_DATA_CHANGED="dataChanged",e.EVENT_CELL_CHANGED="cellChanged",e.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",e.EVENT_MASTER_CHANGED="masterChanged",e.EVENT_MOUSE_ENTER="mouseEnter",e.EVENT_MOUSE_LEAVE="mouseLeave",e.EVENT_HEIGHT_CHANGED="heightChanged",e.EVENT_TOP_CHANGED="topChanged",e.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",e.EVENT_LAST_CHILD_CHANGED="lastChildChanged",e.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",e.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",e.EVENT_EXPANDED_CHANGED="expandedChanged",e.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",e.EVENT_SELECTABLE_CHANGED="selectableChanged",e.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",e.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",e.EVENT_DRAGGING_CHANGED="draggingChanged",dr([Qe("eventService")],e.prototype,"mainEventService",void 0),dr([Qe("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),dr([Qe("selectionController")],e.prototype,"selectionController",void 0),dr([Qe("columnController")],e.prototype,"columnController",void 0),dr([Qe("valueService")],e.prototype,"valueService",void 0),dr([Qe("rowModel")],e.prototype,"rowModel",void 0),dr([Qe("context")],e.prototype,"context",void 0),dr([Qe("valueCache")],e.prototype,"valueCache",void 0),dr([Qe("columnApi")],e.prototype,"columnApi",void 0),dr([Qe("gridApi")],e.prototype,"gridApi",void 0),e}(),fr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),gr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},mr=function(e){function t(){return e.call(this,'\n            <div class="ag-selection-checkbox">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return fr(t,e),t.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},t.prototype.onDataChanged=function(){this.onSelectionChanged()},t.prototype.onSelectableChanged=function(){this.showOrHideSelect()},t.prototype.onSelectionChanged=function(){var e=this.rowNode.isSelected(),t=void 0===e?"indeterminate":!0===e?"checked":"unchecked";this.eCheckbox.setValue(e,!0),this.eCheckbox.setInputAriaLabel("Press Space to toggle row selection ("+t+")")},t.prototype.onCheckedClicked=function(){var e=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,groupSelectsFiltered:e})},t.prototype.onUncheckedClicked=function(e){var t=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:e.shiftKey,groupSelectsFiltered:t})},t.prototype.init=function(e){var t=this;this.rowNode=e.rowNode,this.column=e.column,this.onSelectionChanged(),this.addGuiEventListener("click",function(e){return gt(e)}),this.addGuiEventListener("dblclick",function(e){return gt(e)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(e){void 0===e.previousValue?0===t.onUncheckedClicked(e.event||{})&&t.onCheckedClicked():e.selected?t.onUncheckedClicked(e.event||{}):t.onCheckedClicked()}),this.addManagedListener(this.rowNode,hr.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,hr.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,hr.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc(),(this.isRowSelectableFunc||this.checkboxCallbackExists())&&(this.addManagedListener(this.eventService,xt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelect.bind(this)),this.showOrHideSelect()),this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},t.prototype.showOrHideSelect=function(){var e=this.rowNode.selectable;e&&this.checkboxCallbackExists()&&(e=this.column.isCellCheckboxSelection(this.rowNode)),this.setDisplayed(e)},t.prototype.checkboxCallbackExists=function(){var e=this.column?this.column.getColDef():null;return e&&"function"==typeof e.checkboxSelection},gr([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),gr([Mi("eCheckbox")],t.prototype,"eCheckbox",void 0),gr([Ye],t.prototype,"postConstruct",null),t}(Ni),yr={propertyName:"dateComponent",isCellRenderer:function(){return!1}},vr={propertyName:"headerComponent",isCellRenderer:function(){return!1}},Cr={propertyName:"headerGroupComponent",isCellRenderer:function(){return!1}},br={propertyName:"cellRenderer",isCellRenderer:function(){return!0}},wr={propertyName:"pinnedRowCellRenderer",isCellRenderer:function(){return!0}},Er={propertyName:"cellEditor",isCellRenderer:function(){return!1}},Rr={propertyName:"innerRenderer",isCellRenderer:function(){return!0}},_r={propertyName:"loadingOverlayComponent",isCellRenderer:function(){return!1}},Sr={propertyName:"noRowsOverlayComponent",isCellRenderer:function(){return!1}},Or={propertyName:"tooltipComponent",isCellRenderer:function(){return!1}},Dr={propertyName:"filter",isCellRenderer:function(){return!1}},Pr={propertyName:"floatingFilterComponent",isCellRenderer:function(){return!1}},Tr={propertyName:"toolPanel",isCellRenderer:function(){return!1}},Ar={propertyName:"statusPanel",isCellRenderer:function(){return!1}},Fr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Nr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.REGISTERED_BY_NAME=1]="REGISTERED_BY_NAME",e[e.HARDCODED=2]="HARDCODED"}(Zi||(Zi={}));var xr,Ir=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fr(t,e),t.prototype.newDateComponent=function(e){return this.createAndInitUserComponent(this.gridOptions,e,yr,"agDateInput")},t.prototype.newHeaderComponent=function(e){return this.createAndInitUserComponent(e.column.getColDef(),e,vr,"agColumnHeader")},t.prototype.newHeaderGroupComponent=function(e){return this.createAndInitUserComponent(e.columnGroup.getColGroupDef(),e,Cr,"agColumnGroupHeader")},t.prototype.newFullWidthGroupRowInnerCellRenderer=function(e){return this.createAndInitUserComponent(this.gridOptions.groupRowRendererParams,e,Rr,null,!0)},t.prototype.newFullWidthCellRenderer=function(e,t,o){return this.createAndInitUserComponent(null,e,{propertyName:t,isCellRenderer:function(){return!0}},o)},t.prototype.newCellRenderer=function(e,t,o){return void 0===o&&(o=!1),this.createAndInitUserComponent(e,t,o?wr:br,null,!0)},t.prototype.newCellEditor=function(e,t){return this.createAndInitUserComponent(e,t,Er,"agCellEditor")},t.prototype.newInnerCellRenderer=function(e,t){return this.createAndInitUserComponent(e,t,Rr,null)},t.prototype.newLoadingOverlayComponent=function(e){return this.createAndInitUserComponent(this.gridOptions,e,_r,"agLoadingOverlay")},t.prototype.newNoRowsOverlayComponent=function(e){return this.createAndInitUserComponent(this.gridOptions,e,Sr,"agNoRowsOverlay")},t.prototype.newTooltipComponent=function(e){return this.createAndInitUserComponent(e.colDef,e,Or,"agTooltipComponent")},t.prototype.newFilterComponent=function(e,t,o){return this.createAndInitUserComponent(e,t,Dr,o,!1)},t.prototype.newSetFilterCellRenderer=function(e,t){return this.createAndInitUserComponent(e,t,br,null,!0)},t.prototype.newFloatingFilterComponent=function(e,t,o){return this.createAndInitUserComponent(e,t,Pr,o,!0)},t.prototype.newToolPanelComponent=function(e,t){return this.createAndInitUserComponent(e,t,Tr)},t.prototype.newStatusPanelComponent=function(e,t){return this.createAndInitUserComponent(e,t,Ar)},t.prototype.createAndInitUserComponent=function(e,t,o,n,i){void 0===i&&(i=!1),e||(e=this.gridOptions);var r=this.createComponentInstance(e,o,t,n,i);if(!r)return null;var s=r.componentInstance,a=this.createFinalParams(e,o.propertyName,t,r.paramsFromSelector);this.addReactHacks(a);var l=this.initComponent(s,a);return null==l?Pi.resolve(s):l.then(function(){return s})},t.prototype.addReactHacks=function(e){var t=this.context.getBean("agGridReact");t&&(e.agGridReact=ge(t));var o=this.context.getBean("frameworkComponentWrapper");o&&(e.frameworkComponentWrapper=o)},t.prototype.createUserComponentFromConcreteClass=function(e,t){var o=new e;return this.initComponent(o,t),o},t.prototype.lookupComponentClassDef=function(e,t,o,n){void 0===o&&(o=null);var i,r=null,s=null,a=null,l=null;if(null!=e){var u=e[t];null==u||!0===u||("string"==typeof u?r=u:"boolean"==typeof u||(this.agComponentUtils.doesImplementIComponent(u)?s=u:a=u)),l=e[t+"Framework"],i=e[t+"Selector"]}if(s&&l||r&&l||a&&l)throw Error("ag-grid: you are trying to specify: "+t+" twice as a component.");if(l&&!this.frameworkComponentWrapper)throw Error("ag-grid: you are specifying a framework component but you are not using a framework version of ag-grid for : "+t);if(i&&(r||s||a||l))throw Error("ag-grid: you can't specify both, the selector and the component of ag-grid for : "+t);if(l)return{componentFromFramework:!0,component:l,source:Zi.HARDCODED,paramsFromSelector:null};if(s)return{componentFromFramework:!1,component:s,source:Zi.HARDCODED,paramsFromSelector:null};if(a)return this.agComponentUtils.adaptFunction(t,a,!1,Zi.HARDCODED);var c,p=i?i(o):null;if(!(c=p&&p.component?p.component:r||n))return null;var d=this.lookupFromRegisteredComponents(t,c);return d?{componentFromFramework:d.componentFromFramework,component:d.component,source:d.source,paramsFromSelector:p?p.params:null}:null},t.prototype.lookupFromRegisteredComponents=function(e,t){var o=this.userComponentRegistry.retrieve(null!=t?t:e);return null==o?null:o.componentFromFramework?{component:o.component,componentFromFramework:!0,source:Zi.REGISTERED_BY_NAME,paramsFromSelector:null}:this.agComponentUtils.doesImplementIComponent(o.component)?{component:o.component,componentFromFramework:!1,source:o.source==xr.REGISTERED?Zi.REGISTERED_BY_NAME:Zi.DEFAULT,paramsFromSelector:null}:this.agComponentUtils.adaptFunction(e,o.component,o.componentFromFramework,o.source==xr.REGISTERED?Zi.REGISTERED_BY_NAME:Zi.DEFAULT)},t.prototype.createFinalParams=function(e,t,o,n){void 0===n&&(n=null);var i={};Re(i,o);var r=e?e[t+"Params"]:null;return null!=r&&("function"==typeof r?Re(i,r(o)):"object"==typeof r&&Re(i,r)),Re(i,n),i},t.prototype.createComponentInstance=function(e,t,o,n,i){var r,s=t.propertyName,a=this.lookupComponentClassDef(e,s,o,n);if(!a||!a.component)return i||console.error("Could not find component "+((e?e[s]:n)||n)+", did you forget to configure this component?"),null;if(a.componentFromFramework){var l=a.component,u=this.componentMetadataProvider.retrieve(s);r=this.frameworkComponentWrapper.wrap(l,u.mandatoryMethodList,u.optionalMethodList,t,n)}else r=new a.component;return{componentInstance:r,paramsFromSelector:a.paramsFromSelector}},t.prototype.initComponent=function(e,t){if(this.context.createBean(e),null!=e.init)return e.init(t)},Nr([Qe("gridOptions")],t.prototype,"gridOptions",void 0),Nr([Qe("agComponentUtils")],t.prototype,"agComponentUtils",void 0),Nr([Qe("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),Nr([Qe("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),Nr([Xe("frameworkComponentWrapper")],t.prototype,"frameworkComponentWrapper",void 0),Nr([$e("userComponentFactory")],t)}(Tt),Mr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Lr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Gr=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Mr(t,e),t.prototype.init=function(e){this.params=e,this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&this.assignBlankValueToGroupFooterCell(e);var t=this.isEmbeddedRowMismatch(),o=null==e.value,n=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var i=e.node;i.footer&&(n=(e.colDef&&e.colDef.showRowGroup)!==(i.rowGroupColumn&&i.rowGroupColumn.getColId()))}this.cellIsBlank=t||o||n,this.cellIsBlank||(this.setupDragOpenParents(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent())},t.prototype.assignBlankValueToGroupFooterCell=function(e){e.value||-1!=e.node.level||(e.value="")},t.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var e=this.params.pinned===rt.PINNED_LEFT,t=this.params.pinned===rt.PINNED_RIGHT,o=!e&&!t;return this.gridOptionsWrapper.isEnableRtl()?this.columnController.isPinningLeft()?!t:!o:this.columnController.isPinningLeft()?!e:!o},t.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var e=this.params,t=e.colDef&&!0!==e.colDef.showRowGroup?0:e.node.uiLevel;e.padding>=0?this.setPaddingDeprecatedWay(t,e.padding):(this.indentClass&&this.removeCssClass(this.indentClass),this.indentClass="ag-row-group-indent-"+t,this.addCssClass(this.indentClass))}},t.prototype.setPaddingDeprecatedWay=function(e,t){Me(function(){return console.warn("ag-Grid: since v14.2, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the ag-Grid documentation page for Themes, in particular the property $row-group-indent-size.")},"groupCellRenderer->doDeprecatedWay");var o=e*t,n=this.getGui(),i=this.gridOptionsWrapper.isEnableRtl()?"paddingRight":"paddingLeft";n.style[i]=o+"px"},t.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,hr.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},t.prototype.addValueElement=function(){var e=this.params,t=this.displayedGroup;t.footer?this.createFooterCell():t.hasChildren()||Oe(e.colDef,"cellRendererParams.innerRenderer",null)||Oe(e.colDef,"cellRendererParams.innerRendererFramework",null)?(this.createGroupCell(),this.addChildCount()):this.createLeafCell()},t.prototype.createFooterCell=function(){var e,t=this.params.footerValueGetter;if(t){var o=ge(this.params);o.value=this.params.value,"function"==typeof t?e=t(o):"string"==typeof t?e=this.expressionService.evaluate(t,o):console.warn("ag-Grid: footerValueGetter should be either a function or a string (expression)")}else e="Total "+this.params.value;this.eValue.innerHTML=e},t.prototype.createGroupCell=function(){var e,t=this,o=this.params,n=this.displayedGroup.rowGroupColumn||o.column,i=n?this.valueFormatterService.formatValue(n,o.node,o.scope,this.params.value):null;o.valueFormatted=i,(e=o.fullWidth?this.useFullWidth(o):this.useInnerRenderer(this.params.colDef.cellRendererParams,n.getColDef(),o))&&e.then(function(e){t.innerCellRenderer=e})},t.prototype.useInnerRenderer=function(e,t,o){var n=this,i=null,r=this.userComponentFactory.lookupComponentClassDef(e,"innerRenderer");if(r&&null!=r.component&&r.source!=Zi.DEFAULT)i=this.userComponentFactory.newInnerCellRenderer(e,o);else{var s=this.userComponentFactory.lookupComponentClassDef(t,"cellRenderer");i=s&&s.source!=Zi.DEFAULT?this.userComponentFactory.newCellRenderer(t,o):s&&s.source==Zi.DEFAULT&&Oe(t,"cellRendererParams.innerRenderer",null)?this.userComponentFactory.newInnerCellRenderer(t.cellRendererParams,o):this.userComponentFactory.newCellRenderer({},o)}return null!=i?i.then(function(e){null!=e?Fn(i,n.eValue):n.eValue.innerText=null!=o.valueFormatted?o.valueFormatted:o.value}):this.eValue.innerText=null!=o.valueFormatted?o.valueFormatted:o.value,i},t.prototype.useFullWidth=function(e){var t=this.userComponentFactory.newFullWidthGroupRowInnerCellRenderer(e);return null!=t?Fn(t,this.eValue):this.eValue.innerText=null!=e.valueFormatted?e.valueFormatted:e.value,t},t.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroup,hr.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},t.prototype.updateChildCount=function(){var e=this.displayedGroup.allChildrenCount;this.eChildCount.innerHTML=null!=e&&e>=0?"("+e+")":""},t.prototype.createLeafCell=function(){P(this.params.value)&&(this.eValue.innerText=this.params.valueFormatted?this.params.valueFormatted:this.params.value)},t.prototype.isUserWantsSelected=function(){var e=this.params.checkbox;return"function"==typeof e?e(this.params):!0===e},t.prototype.addCheckboxIfNeeded=function(){var e=this,t=this.displayedGroup,o=this.isUserWantsSelected()&&!t.footer&&!t.rowPinned&&!t.detail;if(o){var n=new mr;this.getContext().createBean(n),n.init({rowNode:t,column:this.params.column}),this.eCheckbox.appendChild(n.getGui()),this.addDestroyFunc(function(){return e.getContext().destroyBean(n)})}Lo(this.eCheckbox,"ag-invisible",!o)},t.prototype.addExpandAndContract=function(){var e=this.params,t=e.eGridCell,o=di("groupExpanded",this.gridOptionsWrapper,null),n=di("groupContracted",this.gridOptionsWrapper,null);jn(t,!!e.node.expanded),this.eExpanded.appendChild(o),this.eContracted.appendChild(n),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(e.node,hr.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var i=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroup,hr.EVENT_ALL_CHILDREN_COUNT_CHANGED,i),this.addManagedListener(this.displayedGroup,hr.EVENT_MASTER_CHANGED,i),this.addManagedListener(this.displayedGroup,hr.EVENT_HAS_CHILDREN_CHANGED,i),this.gridOptionsWrapper.isEnableGroupEdit()||!this.isExpandable()||e.suppressDoubleClickExpand||this.addManagedListener(t,"dblclick",this.onCellDblClicked.bind(this))},t.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent()},t.prototype.onKeyDown=function(e){hi(e,ki.ENTER)&&!this.params.suppressEnterExpand&&(this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract())},t.prototype.setupDragOpenParents=function(){var e=this.params.column,t=this.params.node;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(t.hasChildren()){var o=t.rowGroupColumn;this.draggedFromHideOpenParents=!!o&&!e.isRowGroupDisplayed(o.getId())}else this.draggedFromHideOpenParents=!0;else this.draggedFromHideOpenParents=!1;if(this.draggedFromHideOpenParents)for(var n=t.parent;!T(n);){if(n.rowGroupColumn&&e.isRowGroupDisplayed(n.rowGroupColumn.getId())){this.displayedGroup=n;break}n=n.parent}T(this.displayedGroup)&&(this.displayedGroup=t)},t.prototype.onExpandClicked=function(e){mt(e)||(gt(e),this.onExpandOrContract())},t.prototype.onCellDblClicked=function(e){mt(e)||Et(this.eExpanded,e)||Et(this.eContracted,e)||this.onExpandOrContract()},t.prototype.onExpandOrContract=function(){var e=this.displayedGroup,t=this.params,o=!e.expanded;e.setExpanded(o),jn(t.eGridCell,o)},t.prototype.isExpandable=function(){var e=this.params.node,t=this.columnController.isPivotMode()&&e.leafGroup;return this.draggedFromHideOpenParents||e.isExpandable()&&!e.footer&&!t},t.prototype.showExpandAndContractIcons=function(){var e=this,t=e.eContracted,o=e.eExpanded,n=e.params,i=e.displayedGroup,r=e.columnController,s=n.eGridCell,a=n.node;if(this.isExpandable()){var l=!!this.draggedFromHideOpenParents||a.expanded;Vo(t,!l),Vo(o,l)}else Un(s),Vo(o,!1),Vo(t,!1);var u=r.isPivotMode()&&i.leafGroup,c=!i.isExpandable(),p=i.footer||c||u;this.addOrRemoveCssClass("ag-row-group",!p),this.addOrRemoveCssClass("ag-row-group-leaf-indent",p)},t.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),e.prototype.destroy.call(this)},t.prototype.refresh=function(){return!1},t.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',Lr([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Lr([Qe("expressionService")],t.prototype,"expressionService",void 0),Lr([Qe("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Lr([Qe("columnController")],t.prototype,"columnController",void 0),Lr([Qe("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Lr([Mi("eExpanded")],t.prototype,"eExpanded",void 0),Lr([Mi("eContracted")],t.prototype,"eContracted",void 0),Lr([Mi("eCheckbox")],t.prototype,"eCheckbox",void 0),Lr([Mi("eValue")],t.prototype,"eValue",void 0),Lr([Mi("eChildCount")],t.prototype,"eChildCount",void 0),t}(Ni),kr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Vr=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.refreshCount=0,o}return kr(t,e),t.prototype.init=function(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e)},t.prototype.showDelta=function(e,t){var o=Math.abs(t),n=e.formatValue(o),i=P(n)?n:o,r=t>=0;this.eDelta.innerHTML=r?"\u2191"+i:"\u2193"+i,Lo(this.eDelta,"ag-value-change-delta-up",r),Lo(this.eDelta,"ag-value-change-delta-down",!r)},t.prototype.setTimerToRemoveDelta=function(){var e=this;this.refreshCount++;var t=this.refreshCount;window.setTimeout(function(){t===e.refreshCount&&e.hideDeltaValue()},2e3)},t.prototype.hideDeltaValue=function(){Mo(this.eValue,"ag-value-change-value-highlight"),Xo(this.eDelta)},t.prototype.refresh=function(e){var t=e.value;if(t!==this.lastValue&&(P(e.valueFormatted)?this.eValue.innerHTML=e.valueFormatted:P(e.value)?this.eValue.innerHTML=t:Xo(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return"number"==typeof t&&"number"==typeof this.lastValue&&this.showDelta(e,t-this.lastValue),this.lastValue&&Io(this.eValue,"ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=t,!0},t.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([Qe("filterManager")],t.prototype,"filterManager",void 0),t}(Ni),Hr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Wr=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.refreshCount=0,o.eCurrent=o.queryForHtmlElement(".ag-value-slide-current"),o}return Hr(t,e),t.prototype.init=function(e){this.params=e,this.refresh(e)},t.prototype.addSlideAnimation=function(){var e=this;this.refreshCount++;var t=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=tn('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){t===e.refreshCount&&Io(e.ePrevious,"ag-value-slide-out-end")},50),window.setTimeout(function(){t===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)},3e3)},t.prototype.refresh=function(e){var t=e.value;if(T(t)&&(t=""),t!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering())return this.addSlideAnimation(),this.lastValue=t,P(e.valueFormatted)?this.eCurrent.innerHTML=e.valueFormatted:P(e.value)?this.eCurrent.innerHTML=t:Xo(this.eCurrent),!0},t.TEMPLATE='<span><span class="ag-value-slide-current"></span></span>',function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([Qe("filterManager")],t.prototype,"filterManager",void 0),t}(Ni),Br=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),jr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ur=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Br(t,e),t.prototype.init=function(e){var t=di("groupLoading",this.gridOptionsWrapper,null);this.eLoadingIcon.appendChild(t);var o=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=o("loadingOoo","Loading")},t.prototype.refresh=function(e){return!1},t.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',jr([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),jr([Mi("eLoadingIcon")],t.prototype,"eLoadingIcon",void 0),jr([Mi("eLoadingText")],t.prototype,"eLoadingText",void 0),t}(Ni),zr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Kr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Yr=function(e){function t(){var t=e.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return t.startedByEnter=!1,t}return zr(t,e),t.prototype.init=function(e){var t=this;if(this.focusAfterAttached=e.cellStartedEdit,T(e.values))console.warn("ag-Grid: no values found for select cellEditor");else{this.startedByEnter=e.keyPress===ki.ENTER;var o=!1;e.values.forEach(function(n){var i={value:n},r=t.valueFormatterService.formatValue(e.column,null,null,n);i.text=null!=r?r:n,t.eSelect.addOption(i),o=o||e.value===n}),o?this.eSelect.setValue(e.value,!0):e.values.length&&this.eSelect.setValue(e.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange(function(){return e.stopEditing()})}},t.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},t.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},t.prototype.getValue=function(){return this.eSelect.getValue()},t.prototype.isPopup=function(){return!1},Kr([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Kr([Qe("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Kr([Mi("eSelect")],t.prototype,"eSelect",void 0),t}(Ii),qr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),$r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qr(t,e),t.prototype.isPopup=function(){return!0},t}(Hi),Qr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Xr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qr(t,e),t.prototype.isPopup=function(){return!0},t}(Yr),Zr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Jr=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Zr(t,e),t.prototype.init=function(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),P(e.value)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},t.prototype.onKeyDown=function(e){var t=e.which||e.keyCode;(t===ki.LEFT||t===ki.UP||t===ki.RIGHT||t===ki.DOWN||e.shiftKey&&t===ki.ENTER)&&e.stopPropagation()},t.prototype.afterGuiAttached=function(){this.eTextArea.setInputAriaLabel("Input Editor"),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},t.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},t.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([Mi("eTextArea")],t.prototype,"eTextArea",void 0),t}(Ii),es=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ts=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},os=function(e){function t(){return e.call(this,"numberFilter")||this}return es(t,e),t.prototype.mapRangeFromModel=function(e){return{from:e.filter,to:e.filterTo}},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.resetUiToDefaults=function(t){var o=this;return e.prototype.resetUiToDefaults.call(this,t).then(function(){[o.eValueFrom1,o.eValueFrom2,o.eValueTo1,o.eValueTo2].forEach(function(e){return e.setValue(null,t)}),o.resetPlaceholder()})},t.prototype.setConditionIntoUi=function(e,t){var o=t===Gi.One,n=o?this.eValueTo1:this.eValueTo2;(o?this.eValueFrom1:this.eValueFrom2).setValue(e?""+e.filter:null),n.setValue(e?""+e.filterTo:null)},t.prototype.setValueFromFloatingFilter=function(e){this.eValueFrom1.setValue(e),this.eValueTo1.setValue(null),this.eValueFrom2.setValue(null),this.eValueTo2.setValue(null)},t.prototype.comparator=function(){return function(e,t){return e===t?0:e<t?1:-1}},t.prototype.setParams=function(t){this.numberFilterParams=t;var o=t.allowedCharPattern;if(o){var n={allowedCharPattern:o};this.resetTemplate({eValueFrom1:n,eValueTo1:n,eValueFrom2:n,eValueTo2:n})}e.prototype.setParams.call(this,t),this.addValueChangedListeners()},t.prototype.addValueChangedListeners=function(){var e=this,t=function(){return e.onUiChanged()};this.eValueFrom1.onValueChange(t),this.eValueTo1.onValueChange(t),this.eValueFrom2.onValueChange(t),this.eValueTo2.onValueChange(t)},t.prototype.resetPlaceholder=function(){var e=this.showValueTo(this.getCondition1Type()),t=this.showValueTo(this.getCondition2Type());this.eValueFrom1.setInputPlaceholder(this.translate(e?"inRangeStart":"filterOoo")),this.eValueFrom1.setInputAriaLabel(e?"Filter from value":"Filter value"),this.eValueTo1.setInputPlaceholder(this.translate("inRangeEnd")),this.eValueTo1.setInputAriaLabel("Filter to value"),this.eValueFrom2.setInputPlaceholder(this.translate(t?"inRangeStart":"filterOoo")),this.eValueFrom2.setInputAriaLabel(t?"Filter from value":"Filter value"),this.eValueTo2.setInputPlaceholder(this.translate("inRangeEnd")),this.eValueTo2.setInputAriaLabel("Filter to value")},t.prototype.afterGuiAttached=function(t){e.prototype.afterGuiAttached.call(this,t),this.resetPlaceholder(),t&&t.suppressFocus||this.eValueFrom1.getInputElement().focus()},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var t=e===Gi.One?"1":"2",o=(this.numberFilterParams||{}).allowedCharPattern?"ag-input-text-field":"ag-input-number-field";return'\n            <div class="ag-filter-body" ref="eCondition'+t+'Body" role="presentation">\n                <'+o+' class="ag-filter-from ag-filter-filter" ref="eValueFrom'+t+'"></'+o+">\n                <"+o+' class="ag-filter-to ag-filter-filter" ref="eValueTo'+t+'"></'+o+">\n            </div>"},t.prototype.isConditionUiComplete=function(e){var t=e===Gi.One,o=t?this.getCondition1Type():this.getCondition2Type();if(o===Ji.EMPTY)return!1;if(this.doesFilterHaveHiddenInput(o))return!0;var n=t?this.eValueTo1:this.eValueTo2;return null!=this.stringToFloat((t?this.eValueFrom1:this.eValueFrom2).getValue())&&(!this.showValueTo(o)||null!=this.stringToFloat(n.getValue()))},t.prototype.areSimpleModelsEqual=function(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type},t.prototype.getFilterType=function(){return"number"},t.prototype.stringToFloat=function(e){if("number"==typeof e)return e;var t=D(e);return null!=t&&""===t.trim()&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):null==t||"-"===t.trim()?null:parseFloat(t)},t.prototype.createCondition=function(e){var t=e===Gi.One,o=t?this.getCondition1Type():this.getCondition2Type(),n=this.stringToFloat((t?this.eValueFrom1:this.eValueFrom2).getValue()),i={filterType:this.getFilterType(),type:o};if(!this.doesFilterHaveHiddenInput(o)&&(i.filter=n,this.showValueTo(o))){var r=this.stringToFloat((t?this.eValueTo1:this.eValueTo2).getValue());i.filterTo=r}return i},t.prototype.updateUiVisibility=function(){e.prototype.updateUiVisibility.call(this),this.resetPlaceholder();var t=this.getCondition1Type(),o=this.getCondition2Type();Vo(this.eValueFrom1.getGui(),this.showValueFrom(t)),Vo(this.eValueTo1.getGui(),this.showValueTo(t)),Vo(this.eValueFrom2.getGui(),this.showValueFrom(o)),Vo(this.eValueTo2.getGui(),this.showValueTo(o))},t.DEFAULT_FILTER_OPTIONS=[tr.EQUALS,tr.NOT_EQUAL,tr.LESS_THAN,tr.LESS_THAN_OR_EQUAL,tr.GREATER_THAN,tr.GREATER_THAN_OR_EQUAL,tr.IN_RANGE],ts([Mi("eValueFrom1")],t.prototype,"eValueFrom1",void 0),ts([Mi("eValueTo1")],t.prototype,"eValueTo1",void 0),ts([Mi("eValueFrom2")],t.prototype,"eValueFrom2",void 0),ts([Mi("eValueTo2")],t.prototype,"eValueTo2",void 0),t}(tr),ns=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),is=function(e){function t(){return e.call(this)||this}return ns(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var o=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():t.DEFAULT_LOADING_OVERLAY_TEMPLATE,n=this.gridOptionsWrapper.getLocaleTextFunc(),i=o.replace("[LOADING...]",n("loadingOoo","Loading..."));this.setTemplate(i)},t.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(Ni),rs=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ss=function(e){function t(){return e.call(this)||this}return rs(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var o=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():t.DEFAULT_NO_ROWS_TEMPLATE,n=this.gridOptionsWrapper.getLocaleTextFunc(),i=o.replace("[NO_ROWS_TO_SHOW]",n("noRowsToShow","No Rows To Show"));this.setTemplate(i)},t.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(Ni),as=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ls=function(e){function t(){return e.call(this,'<div class="ag-tooltip"></div>')||this}return as(t,e),t.prototype.init=function(e){var t=e.value;this.getGui().innerHTML=t},t}(Ii),us=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),cs=function(e){function t(){return e.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return us(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var t=this;this.shouldUseBrowserDatePicker(e)&&(Eo()?console.warn("ag-grid: browserDatePicker is specified to true, but it is not supported in IE 11, reverting to plain text date picker"):this.eDateInput.getInputElement().type="date"),this.listener=e.onDateChanged,this.addManagedListener(this.eDateInput.getInputElement(),"input",function(e){e.target===document.activeElement&&t.listener()})},t.prototype.getDate=function(){return ii(this.eDateInput.getValue())},t.prototype.setDate=function(e){this.eDateInput.setValue(ni(e,!1))},t.prototype.setInputPlaceholder=function(e){this.eDateInput.setInputPlaceholder(e)},t.prototype.shouldUseBrowserDatePicker=function(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:So()||Oo()},function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([Mi("eDateInput")],t.prototype,"eDateInput",void 0),t}(Ni),ps=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ds=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ps(t,e),t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.getTextFromModel=function(e){if(!e)return null;if(e.operator){var t=e,o=this.conditionToString(t.condition1),n=this.conditionToString(t.condition2);return o+" "+t.operator+" "+n}return this.conditionToString(e)},t.prototype.isEventFromFloatingFilter=function(e){return e&&e.afterFloatingFilter},t.prototype.getLastType=function(){return this.lastType},t.prototype.setLastTypeFromModel=function(e){this.lastType=e?(e.operator?e.condition1:e).type:this.optionsFactory.getDefaultOption()},t.prototype.canWeEditAfterModelFromParentFilter=function(e){return e?!e.operator&&this.isTypeEditable(e.type):this.isTypeEditable(this.lastType)},t.prototype.init=function(e){this.optionsFactory=new Bi,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption();var t=this.isTypeEditable(this.lastType);this.setEditable(t)},t.prototype.doesFilterHaveHiddenInput=function(e){var t=this.optionsFactory.getCustomOption(e);return t&&t.hideFilterInput},t.prototype.isTypeEditable=function(e){return!this.doesFilterHaveHiddenInput(e)&&e&&e!==Ji.IN_RANGE&&e!==Ji.EMPTY},t}(Ni),hs=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),fs=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},gs=function(e){function t(){return e.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return hs(t,e),t.prototype.getDefaultFilterOptions=function(){return ir.DEFAULT_FILTER_OPTIONS},t.prototype.conditionToString=function(e){return e.type===Ji.IN_RANGE?e.dateFrom+"-"+e.dateTo:null==e.dateFrom?""+e.type:""+e.dateFrom},t.prototype.init=function(t){e.prototype.init.call(this,t),this.params=t,this.createDateComponent(),this.eReadOnlyText.setDisabled(!0).setInputAriaLabel("Date Filter Input")},t.prototype.setEditable=function(e){Vo(this.eDateWrapper,e),Vo(this.eReadOnlyText.getGui(),!e)},t.prototype.onParentModelChanged=function(t,o){if(!this.isEventFromFloatingFilter(o)){e.prototype.setLastTypeFromModel.call(this,t);var n=this.canWeEditAfterModelFromParentFilter(t);this.setEditable(n),n?(this.dateComp.setDate(t?ii(t.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.getTextFromModel(t)),this.dateComp.setDate(null))}},t.prototype.onDateChanged=function(){var e=this,t=ni(this.dateComp.getDate());this.params.parentFilterInstance(function(o){o&&o.onFloatingFilterChanged(e.getLastType(),t)})},t.prototype.createDateComponent=function(){var e=this,t=$i.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),o={onDateChanged:Be(this.onDateChanged.bind(this),t),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new Wi(this.getContext(),this.userComponentFactory,o,this.eDateWrapper),this.addDestroyFunc(function(){return e.dateComp.destroy()})},fs([Qe("userComponentFactory")],t.prototype,"userComponentFactory",void 0),fs([Mi("eReadOnlyText")],t.prototype,"eReadOnlyText",void 0),fs([Mi("eDateWrapper")],t.prototype,"eDateWrapper",void 0),t}(ds),ms=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ys=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},vs=function(e){function t(){return e.call(this,"textFilter")||this}return ms(t,e),t.cleanInput=function(e){var t=e&&e.trim();return""===t?e:t},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.getCleanValue=function(e){return t.cleanInput(D(e.getValue()))},t.prototype.addValueChangedListeners=function(){var e=this,t=function(){return e.onUiChanged()};this.eValue1.onValueChange(t),this.eValue2.onValueChange(t)},t.prototype.setParams=function(o){e.prototype.setParams.call(this,o),this.textFilterParams=o,this.comparator=this.textFilterParams.textCustomComparator||t.DEFAULT_COMPARATOR,this.formatter=this.textFilterParams.textFormatter||(1==this.textFilterParams.caseSensitive?t.DEFAULT_FORMATTER:t.DEFAULT_LOWERCASE_FORMATTER),this.addValueChangedListeners()},t.prototype.setConditionIntoUi=function(e,t){(t===Gi.One?this.eValue1:this.eValue2).setValue(e?e.filter:null)},t.prototype.createCondition=function(e){var t=e===Gi.One,o=t?this.getCondition1Type():this.getCondition2Type(),n=t?this.eValue1:this.eValue2,i=this.getCleanValue(n);n.setValue(i,!0);var r={filterType:this.getFilterType(),type:o};return this.doesFilterHaveHiddenInput(o)||(r.filter=i),r},t.prototype.getFilterType=function(){return"text"},t.prototype.areSimpleModelsEqual=function(e,t){return e.filter===t.filter&&e.type===t.type},t.prototype.resetUiToDefaults=function(t){var o=this;return e.prototype.resetUiToDefaults.call(this,t).then(function(){o.forEachInput(function(e){return e.setValue(null,t)}),o.resetPlaceholder()})},t.prototype.resetPlaceholder=function(){var e=this.translate("filterOoo");this.forEachInput(function(t){t.setInputPlaceholder(e),t.setInputAriaLabel("Filter value")})},t.prototype.forEachInput=function(e){le([this.eValue1,this.eValue2],e)},t.prototype.setValueFromFloatingFilter=function(e){this.eValue1.setValue(e),this.eValue2.setValue(null)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var t=e===Gi.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+t+'Body" role="presentation">\n                <ag-input-text-field class="ag-filter-filter" ref="eValue'+t+'"></ag-input-text-field>\n            </div>'},t.prototype.updateUiVisibility=function(){e.prototype.updateUiVisibility.call(this),Vo(this.eCondition1Body,this.showValueFrom(this.getCondition1Type())),Vo(this.eCondition2Body,this.isCondition2Enabled()&&this.showValueFrom(this.getCondition2Type()))},t.prototype.afterGuiAttached=function(t){e.prototype.afterGuiAttached.call(this,t),this.resetPlaceholder(),t&&t.suppressFocus||this.eValue1.getInputElement().focus()},t.prototype.isConditionUiComplete=function(e){var t=e===Gi.One,o=t?this.getCondition1Type():this.getCondition2Type();return o!==Ji.EMPTY&&(!!this.doesFilterHaveHiddenInput(o)||null!=this.getCleanValue(t?this.eValue1:this.eValue2))},t.prototype.individualConditionPasses=function(e,t){var o=t.filter,n=t.type,i=this.textFilterParams.valueGetter(e.node),r=this.formatter(i),s=this.optionsFactory.getCustomOption(n);if(s&&(null!=o||s.hideFilterInput))return s.test(o,r);if(null==i)return n===Ji.NOT_EQUAL||n===Ji.NOT_CONTAINS;var a=this.formatter(o);return this.comparator(n,r,a)},t.DEFAULT_FILTER_OPTIONS=[Ji.CONTAINS,Ji.NOT_CONTAINS,Ji.EQUALS,Ji.NOT_EQUAL,Ji.STARTS_WITH,Ji.ENDS_WITH],t.DEFAULT_FORMATTER=function(e){return e},t.DEFAULT_LOWERCASE_FORMATTER=function(e){return null==e?null:e.toString().toLowerCase()},t.DEFAULT_COMPARATOR=function(e,o,n){switch(e){case t.CONTAINS:return o.indexOf(n)>=0;case t.NOT_CONTAINS:return o.indexOf(n)<0;case t.EQUALS:return o===n;case t.NOT_EQUAL:return o!=n;case t.STARTS_WITH:return 0===o.indexOf(n);case t.ENDS_WITH:var i=o.lastIndexOf(n);return i>=0&&i===o.length-n.length;default:return console.warn("invalid filter type "+e),!1}},ys([Mi("eValue1")],t.prototype,"eValue1",void 0),ys([Mi("eValue2")],t.prototype,"eValue2",void 0),t}(Ji),Cs=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),bs=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ws=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cs(t,e),t.prototype.postConstruct=function(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>')},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.onParentModelChanged=function(e,t){this.isEventFromFloatingFilter(t)||(this.setLastTypeFromModel(e),this.eFloatingFilterInput.setValue(this.getTextFromModel(e)),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)))},t.prototype.init=function(t){e.prototype.init.call(this,t),this.params=t,this.applyActive=$i.isUseApplyButton(this.params.filterParams);var o=$i.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),n=Be(this.syncUpWithParentFilter.bind(this),o),i=this.eFloatingFilterInput.getGui();this.addManagedListener(i,"input",n),this.addManagedListener(i,"keypress",n),this.addManagedListener(i,"keydown",n);var r=t.column.getDefinition();r.filterParams&&r.filterParams.filterOptions&&1===r.filterParams.filterOptions.length&&"inRange"===r.filterParams.filterOptions[0]&&this.eFloatingFilterInput.setDisabled(!0);var s=this.columnController.getDisplayNameForColumn(t.column,"header",!0);this.eFloatingFilterInput.setInputAriaLabel(s+" Filter Input")},t.prototype.syncUpWithParentFilter=function(e){var t=this,o=hi(e,ki.ENTER);if(!this.applyActive||o){var n=vs.cleanInput(this.eFloatingFilterInput.getValue());this.eFloatingFilterInput.setValue(n,!0),this.params.parentFilterInstance(function(e){e&&e.onFloatingFilterChanged(t.getLastType(),n)})}},t.prototype.setEditable=function(e){this.eFloatingFilterInput.setDisabled(!e)},bs([Qe("columnController")],t.prototype,"columnController",void 0),bs([Mi("eFloatingFilterInput")],t.prototype,"eFloatingFilterInput",void 0),bs([Ye],t.prototype,"postConstruct",null),t}(ds),Es=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Rs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Es(t,e),t.prototype.getDefaultFilterOptions=function(){return os.DEFAULT_FILTER_OPTIONS},t.prototype.conditionToString=function(e){return e.type==Ji.IN_RANGE?e.filter+"-"+e.filterTo:null!=e.filter?""+e.filter:""+e.type},t}(ws),_s=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ss=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _s(t,e),t.prototype.conditionToString=function(e){return null!=e.filter?""+e.filter:""+e.type},t.prototype.getDefaultFilterOptions=function(){return vs.DEFAULT_FILTER_OPTIONS},t}(ws),Os=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ds=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.REGISTERED=1]="REGISTERED"}(xr||(xr={}));var Ps=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.agGridDefaults={agDateInput:cs,agColumnHeader:lr,agColumnGroupHeader:pr,agTextColumnFloatingFilter:Ss,agNumberColumnFloatingFilter:Rs,agDateColumnFloatingFilter:gs,agAnimateShowChangeCellRenderer:Vr,agAnimateSlideCellRenderer:Wr,agGroupCellRenderer:Gr,agGroupRowRenderer:Gr,agLoadingCellRenderer:Ur,agCellEditor:Hi,agTextCellEditor:Hi,agSelectCellEditor:Yr,agPopupTextCellEditor:$r,agPopupSelectCellEditor:Xr,agLargeTextCellEditor:Jr,agTextColumnFilter:vs,agNumberColumnFilter:os,agDateColumnFilter:ir,agLoadingOverlay:is,agNoRowsOverlay:ss,agTooltipComponent:ls},t.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},t.jsComponents={},t.frameworkComponents={},t}return Os(t,e),t.prototype.init=function(){var e=this;null!=this.gridOptions.components&&fe(this.gridOptions.components,function(t,o){return e.registerComponent(t,o)}),null!=this.gridOptions.frameworkComponents&&fe(this.gridOptions.frameworkComponents,function(t,o){return e.registerFwComponent(t,o)})},t.prototype.registerDefaultComponent=function(e,t){var o=this.translateIfDeprecated(e);this.agGridDefaults[o]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[o]=t},t.prototype.registerComponent=function(e,t){var o=this.translateIfDeprecated(e);this.frameworkComponents[o]?console.error("Trying to register a component that you have already registered for frameworks: "+o):this.jsComponents[o]=t},t.prototype.registerFwComponent=function(e,t){var o=this.translateIfDeprecated(e);this.jsComponents[o]?console.error("Trying to register a component that you have already registered for plain javascript: "+o):this.frameworkComponents[o]=t},t.prototype.retrieve=function(e){var t=this.translateIfDeprecated(e),o=this.frameworkComponents[t];if(o)return{componentFromFramework:!0,component:o,source:xr.REGISTERED};var n=this.jsComponents[t];if(n)return{componentFromFramework:!1,component:n,source:xr.REGISTERED};var i=this.agGridDefaults[t];return i?{componentFromFramework:!1,component:i,source:xr.DEFAULT}:(Object.keys(this.agGridDefaults).indexOf(t)<0&&console.warn("ag-Grid: Looking for component ["+t+"] but it wasn't found."),null)},t.prototype.translateIfDeprecated=function(e){var t=this.agDeprecatedNames[e];return null!=t?(Me(function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+t.propertyHolder+":"+e+" to "+t.propertyHolder+":"+t.newComponentName)},"DEPRECATE_COMPONENT_"+e),t.newComponentName):e},Ds([Qe("gridOptions")],t.prototype,"gridOptions",void 0),Ds([Ye],t.prototype,"init",null),Ds([$e("userComponentRegistry")],t)}(Tt),Ts=function(){function e(){}return e.parse=function(t){if(!t)return null;if(!0===t)return{toolPanels:[e.DEFAULT_COLUMN_COMP,e.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof t)return e.parse([t]);if(Array.isArray(t)){var o=[];return t.forEach(function(t){var n=e.DEFAULT_BY_KEY[t];n?o.push(n):console.warn("ag-grid: the key "+t+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(e.DEFAULT_BY_KEY).join(","))}),0===o.length?null:{toolPanels:o,defaultToolPanel:o[0].id}}return{toolPanels:e.parseComponents(t.toolPanels),defaultToolPanel:t.defaultToolPanel,hiddenByDefault:t.hiddenByDefault,position:t.position}},e.parseComponents=function(t){var o=[];return t.forEach(function(t){var n=null;if("string"==typeof t){var i=e.DEFAULT_BY_KEY[t];if(!i)return void console.warn("ag-grid: the key "+t+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(e.DEFAULT_BY_KEY).join(","));n=i}else n=t;o.push(n)}),o},e.DEFAULT_BY_KEY={columns:e.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},filters:e.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}},e}(),As=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Fs=function(e,t){return function(o,n){t(o,n,e)}},Ns=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,i++)n[i]=r[s];return n};function xs(e){return!0===e||"true"===e}var Is,Ms,Ls=function(){function e(){this.propertyEventService=new it,this.domDataKey="__AG_"+Math.random().toString(),this.layoutElements=[],this.destroyed=!1}var t;return t=e,e.prototype.agWire=function(e,t){this.gridOptions.api=e,this.gridOptions.columnApi=t,this.checkForDeprecated(),this.checkForViolations()},e.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.removeEventListener(t.PROP_DOM_LAYOUT,this.updateLayoutClassesListener),this.destroyed=!0},e.prototype.init=function(){var e=this;!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),null!=this.gridOptions.sideBar&&(this.gridOptions.sideBar=Ts.parse(this.gridOptions.sideBar));var o=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),o),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("ag-Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("ag-Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("ag-Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("ag-Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!"),this.isRowModelServerSide()){var n=function(e){return"ag-Grid: '"+e+"' is not supported on the Server-Side Row Model"};P(this.gridOptions.groupDefaultExpanded)&&console.warn(n("groupDefaultExpanded")),P(this.gridOptions.groupDefaultExpanded)&&console.warn(n("groupIncludeFooter")),P(this.gridOptions.groupDefaultExpanded)&&console.warn(n("groupIncludeTotalFooter"))}this.isEnableRangeSelection()&&st.assertRegistered(tt.RangeSelectionModule,"enableRangeSelection"),this.isEnableRangeSelection()||!this.isEnableRangeHandle()&&!this.isEnableFillHandle()||console.warn("ag-Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var i=function(t){e.gridOptions.icons&&e.gridOptions.icons[t]&&console.warn("gridOptions.icons."+t+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};i("radioButtonOff"),i("radioButtonOn"),i("checkboxChecked"),i("checkboxUnchecked"),i("checkboxIndeterminate"),this.updateLayoutClassesListener=this.updateLayoutClasses.bind(this),this.addEventListener(t.PROP_DOM_LAYOUT,this.updateLayoutClassesListener),this.getScrollbarWidth()},e.prototype.checkColumnDefProperties=function(){var e=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(function(t){var o=Object.getOwnPropertyNames(t),n=Ns(Co.ALL_PROPERTIES,Co.FRAMEWORK_PROPERTIES);e.checkProperties(o,n,n,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")})},e.prototype.checkGridOptionsProperties=function(){var e=Object.getOwnPropertyNames(this.gridOptions),t=Ns(lo.ALL_PROPERTIES,lo.FRAMEWORK_PROPERTIES,V(xt).map(function(e){return co.getCallbackForEvent(e)})),o=Ns(t,["api","columnApi"]);this.checkProperties(e,o,t,"gridOptions","https://www.ag-grid.com/javascript-grid-properties/")},e.prototype.checkProperties=function(e,t,o,n,i){var r=ri(e,t,o);fe(r,function(e,t){console.warn("ag-grid: invalid "+n+" property '"+e+"' did you mean any of these: "+t.slice(0,8).join(", "))}),Object.keys(r).length>0&&console.warn("ag-grid: to see all the valid "+n+" properties please check: "+i)},e.prototype.getDomDataKey=function(){return this.domDataKey},e.prototype.getDomData=function(e,t){var o=e[this.getDomDataKey()];return o?o[t]:void 0},e.prototype.setDomData=function(e,t,o){var n=this.getDomDataKey(),i=e[n];T(i)&&(e[n]=i={}),i[t]=o},e.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},e.prototype.isSuppressRowDeselection=function(){return xs(this.gridOptions.suppressRowDeselection)},e.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},e.prototype.isRowMultiSelectWithClick=function(){return xs(this.gridOptions.rowMultiSelectWithClick)},e.prototype.getContext=function(){return this.gridOptions.context},e.prototype.isPivotMode=function(){return xs(this.gridOptions.pivotMode)},e.prototype.isSuppressExpandablePivotGroups=function(){return xs(this.gridOptions.suppressExpandablePivotGroups)},e.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},e.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},e.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===rt.ROW_MODEL_TYPE_INFINITE},e.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===rt.ROW_MODEL_TYPE_VIEWPORT},e.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===rt.ROW_MODEL_TYPE_SERVER_SIDE},e.prototype.isRowModelDefault=function(){return T(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===rt.ROW_MODEL_TYPE_CLIENT_SIDE},e.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},e.prototype.isSuppressFocusAfterRefresh=function(){return xs(this.gridOptions.suppressFocusAfterRefresh)},e.prototype.isSuppressBrowserResizeObserver=function(){return xs(this.gridOptions.suppressBrowserResizeObserver)},e.prototype.isSuppressMaintainUnsortedOrder=function(){return xs(this.gridOptions.suppressMaintainUnsortedOrder)},e.prototype.isSuppressClearOnFillReduction=function(){return xs(this.gridOptions.suppressClearOnFillReduction)},e.prototype.isShowToolPanel=function(){return xs(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},e.prototype.getSideBar=function(){return this.gridOptions.sideBar},e.prototype.isSuppressTouch=function(){return xs(this.gridOptions.suppressTouch)},e.prototype.isApplyColumnDefOrder=function(){return xs(this.gridOptions.applyColumnDefOrder)},e.prototype.isSuppressRowTransform=function(){return xs(this.gridOptions.suppressRowTransform)},e.prototype.isSuppressColumnStateEvents=function(){return xs(this.gridOptions.suppressColumnStateEvents)},e.prototype.isAllowDragFromColumnsToolPanel=function(){return xs(this.gridOptions.allowDragFromColumnsToolPanel)},e.prototype.useAsyncEvents=function(){return!xs(this.gridOptions.suppressAsyncEvents)},e.prototype.isEnableCellChangeFlash=function(){return xs(this.gridOptions.enableCellChangeFlash)},e.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},e.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},e.prototype.isGroupSelectsChildren=function(){var e=xs(this.gridOptions.groupSelectsChildren);return e&&this.isTreeData()?(console.warn("ag-Grid: groupSelectsChildren does not work with tree data"),!1):e},e.prototype.isSuppressRowHoverHighlight=function(){return xs(this.gridOptions.suppressRowHoverHighlight)},e.prototype.isGroupSelectsFiltered=function(){return xs(this.gridOptions.groupSelectsFiltered)},e.prototype.isGroupHideOpenParents=function(){return xs(this.gridOptions.groupHideOpenParents)},e.prototype.isGroupMultiAutoColumn=function(){return xs(this.gridOptions.groupMultiAutoColumn)||xs(this.gridOptions.groupHideOpenParents)},e.prototype.isGroupRemoveSingleChildren=function(){return xs(this.gridOptions.groupRemoveSingleChildren)},e.prototype.isGroupRemoveLowestSingleChildren=function(){return xs(this.gridOptions.groupRemoveLowestSingleChildren)},e.prototype.isGroupIncludeFooter=function(){return xs(this.gridOptions.groupIncludeFooter)},e.prototype.isGroupIncludeTotalFooter=function(){return xs(this.gridOptions.groupIncludeTotalFooter)},e.prototype.isGroupSuppressBlankHeader=function(){return xs(this.gridOptions.groupSuppressBlankHeader)},e.prototype.isSuppressRowClickSelection=function(){return xs(this.gridOptions.suppressRowClickSelection)},e.prototype.isSuppressCellSelection=function(){return xs(this.gridOptions.suppressCellSelection)},e.prototype.isSuppressMultiSort=function(){return xs(this.gridOptions.suppressMultiSort)},e.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},e.prototype.isGroupSuppressAutoColumn=function(){return xs(this.gridOptions.groupSuppressAutoColumn)},e.prototype.isPivotSuppressAutoColumn=function(){return xs(this.gridOptions.pivotSuppressAutoColumn)},e.prototype.isSuppressDragLeaveHidesColumns=function(){return xs(this.gridOptions.suppressDragLeaveHidesColumns)},e.prototype.isSuppressScrollOnNewData=function(){return xs(this.gridOptions.suppressScrollOnNewData)},e.prototype.isRowDragManaged=function(){return xs(this.gridOptions.rowDragManaged)},e.prototype.isSuppressRowDrag=function(){return xs(this.gridOptions.suppressRowDrag)},e.prototype.isSuppressMoveWhenRowDragging=function(){return xs(this.gridOptions.suppressMoveWhenRowDragging)},e.prototype.isEnableMultiRowDragging=function(){return xs(this.gridOptions.enableMultiRowDragging)},e.prototype.getDomLayout=function(){var e=this.gridOptions.domLayout||rt.DOM_LAYOUT_NORMAL;return-1===[rt.DOM_LAYOUT_PRINT,rt.DOM_LAYOUT_AUTO_HEIGHT,rt.DOM_LAYOUT_NORMAL].indexOf(e)?(Me(function(){return console.warn("ag-Grid: "+e+" is not valid for DOM Layout, valid values are "+rt.DOM_LAYOUT_NORMAL+", "+rt.DOM_LAYOUT_AUTO_HEIGHT+" and "+rt.DOM_LAYOUT_PRINT)},"warn about dom layout values"),rt.DOM_LAYOUT_NORMAL):e},e.prototype.isSuppressHorizontalScroll=function(){return xs(this.gridOptions.suppressHorizontalScroll)},e.prototype.isSuppressMaxRenderedRowRestriction=function(){return xs(this.gridOptions.suppressMaxRenderedRowRestriction)},e.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return xs(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},e.prototype.isAlwaysShowVerticalScroll=function(){return xs(this.gridOptions.alwaysShowVerticalScroll)},e.prototype.isDebounceVerticalScrollbar=function(){return xs(this.gridOptions.debounceVerticalScrollbar)},e.prototype.isSuppressLoadingOverlay=function(){return xs(this.gridOptions.suppressLoadingOverlay)},e.prototype.isSuppressNoRowsOverlay=function(){return xs(this.gridOptions.suppressNoRowsOverlay)},e.prototype.isSuppressFieldDotNotation=function(){return xs(this.gridOptions.suppressFieldDotNotation)},e.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},e.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},e.prototype.isFunctionsPassive=function(){return xs(this.gridOptions.functionsPassive)},e.prototype.isSuppressChangeDetection=function(){return xs(this.gridOptions.suppressChangeDetection)},e.prototype.isSuppressAnimationFrame=function(){return xs(this.gridOptions.suppressAnimationFrame)},e.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},e.prototype.isCacheQuickFilter=function(){return xs(this.gridOptions.cacheQuickFilter)},e.prototype.isUnSortIcon=function(){return xs(this.gridOptions.unSortIcon)},e.prototype.isSuppressMenuHide=function(){return xs(this.gridOptions.suppressMenuHide)},e.prototype.isEnterMovesDownAfterEdit=function(){return xs(this.gridOptions.enterMovesDownAfterEdit)},e.prototype.isEnterMovesDown=function(){return xs(this.gridOptions.enterMovesDown)},e.prototype.isUndoRedoCellEditing=function(){return xs(this.gridOptions.undoRedoCellEditing)},e.prototype.getUndoRedoCellEditingLimit=function(){return this.gridOptions.undoRedoCellEditingLimit},e.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},e.prototype.getRowClass=function(){return this.gridOptions.rowClass},e.prototype.getRowStyleFunc=function(){return this.gridOptions.getRowStyle},e.prototype.getRowClassFunc=function(){return this.gridOptions.getRowClass},e.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},e.prototype.getCreateChartContainerFunc=function(){return this.gridOptions.createChartContainer},e.prototype.getPopupParent=function(){return this.gridOptions.popupParent},e.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},e.prototype.getPostProcessPopupFunc=function(){return this.gridOptions.postProcessPopup},e.prototype.getPaginationNumberFormatterFunc=function(){return this.gridOptions.paginationNumberFormatter},e.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},e.prototype.getDefaultGroupSortComparator=function(){return this.gridOptions.defaultGroupSortComparator},e.prototype.getIsFullWidthCellFunc=function(){return this.gridOptions.isFullWidthCell},e.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},e.prototype.isEmbedFullWidthRows=function(){return xs(this.gridOptions.embedFullWidthRows)||xs(this.gridOptions.deprecatedEmbedFullWidthRows)},e.prototype.isDetailRowAutoHeight=function(){return xs(this.gridOptions.detailRowAutoHeight)},e.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},e.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},e.prototype.getApi=function(){return this.gridOptions.api},e.prototype.getColumnApi=function(){return this.gridOptions.columnApi},e.prototype.isImmutableData=function(){return xs(this.gridOptions.immutableData)},e.prototype.isEnsureDomOrder=function(){return xs(this.gridOptions.ensureDomOrder)},e.prototype.isEnableCharts=function(){return!!xs(this.gridOptions.enableCharts)&&st.assertRegistered(tt.GridChartsModule,"enableCharts")},e.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},e.prototype.isSingleClickEdit=function(){return xs(this.gridOptions.singleClickEdit)},e.prototype.isSuppressClickEdit=function(){return xs(this.gridOptions.suppressClickEdit)},e.prototype.isStopEditingWhenGridLosesFocus=function(){return xs(this.gridOptions.stopEditingWhenGridLosesFocus)},e.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},e.prototype.getMaxConcurrentDatasourceRequests=function(){return this.gridOptions.maxConcurrentDatasourceRequests},e.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},e.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},e.prototype.getPaginationPageSize=function(){return"number"==typeof(e=this.gridOptions.paginationPageSize)?e:"string"==typeof e?parseInt(e,10):void 0;var e},e.prototype.isPaginateChildRows=function(){return!(!this.isGroupRemoveSingleChildren()&&!this.isGroupRemoveLowestSingleChildren())||xs(this.gridOptions.paginateChildRows)},e.prototype.getCacheBlockSize=function(){return this.gridOptions.cacheBlockSize},e.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},e.prototype.isPurgeClosedRowNodes=function(){return xs(this.gridOptions.purgeClosedRowNodes)},e.prototype.isSuppressPaginationPanel=function(){return xs(this.gridOptions.suppressPaginationPanel)},e.prototype.getRowData=function(){return this.gridOptions.rowData},e.prototype.isGroupUseEntireRow=function(e){return!e&&xs(this.gridOptions.groupUseEntireRow)},e.prototype.isEnableRtl=function(){return xs(this.gridOptions.enableRtl)},e.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},e.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},e.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},e.prototype.isAngularCompileRows=function(){return xs(this.gridOptions.angularCompileRows)},e.prototype.isAngularCompileFilters=function(){return xs(this.gridOptions.angularCompileFilters)},e.prototype.isDebug=function(){return xs(this.gridOptions.debug)},e.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},e.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},e.prototype.getDatasource=function(){return this.gridOptions.datasource},e.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},e.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},e.prototype.isAccentedSort=function(){return xs(this.gridOptions.accentedSort)},e.prototype.isEnableBrowserTooltips=function(){return xs(this.gridOptions.enableBrowserTooltips)},e.prototype.isEnableCellExpressions=function(){return xs(this.gridOptions.enableCellExpressions)},e.prototype.isEnableGroupEdit=function(){return xs(this.gridOptions.enableGroupEdit)},e.prototype.isSuppressMiddleClickScrolls=function(){return xs(this.gridOptions.suppressMiddleClickScrolls)},e.prototype.isPreventDefaultOnContextMenu=function(){return xs(this.gridOptions.preventDefaultOnContextMenu)},e.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return xs(this.gridOptions.suppressPreventDefaultOnMouseWheel)},e.prototype.isSuppressColumnVirtualisation=function(){return xs(this.gridOptions.suppressColumnVirtualisation)},e.prototype.isSuppressContextMenu=function(){return xs(this.gridOptions.suppressContextMenu)},e.prototype.isAllowContextMenuWithControlKey=function(){return xs(this.gridOptions.allowContextMenuWithControlKey)},e.prototype.isSuppressCopyRowsToClipboard=function(){return xs(this.gridOptions.suppressCopyRowsToClipboard)},e.prototype.isCopyHeadersToClipboard=function(){return xs(this.gridOptions.copyHeadersToClipboard)},e.prototype.isSuppressClipboardPaste=function(){return xs(this.gridOptions.suppressClipboardPaste)},e.prototype.isSuppressLastEmptyLineOnPaste=function(){return xs(this.gridOptions.suppressLastEmptyLineOnPaste)},e.prototype.isPagination=function(){return xs(this.gridOptions.pagination)},e.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return xs(this.gridOptions.suppressEnterpriseResetOnNewColumns)},e.prototype.getProcessDataFromClipboardFunc=function(){return this.gridOptions.processDataFromClipboard},e.prototype.getAsyncTransactionWaitMillis=function(){return P(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:rt.BATCH_WAIT_MILLIS},e.prototype.isSuppressMovableColumns=function(){return xs(this.gridOptions.suppressMovableColumns)},e.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&xs(this.gridOptions.animateRows)},e.prototype.isSuppressColumnMoveAnimation=function(){return xs(this.gridOptions.suppressColumnMoveAnimation)},e.prototype.isSuppressAggFuncInHeader=function(){return xs(this.gridOptions.suppressAggFuncInHeader)},e.prototype.isSuppressAggAtRootLevel=function(){return xs(this.gridOptions.suppressAggAtRootLevel)},e.prototype.isEnableRangeSelection=function(){return st.isRegistered(tt.RangeSelectionModule)&&xs(this.gridOptions.enableRangeSelection)},e.prototype.isEnableRangeHandle=function(){return xs(this.gridOptions.enableRangeHandle)},e.prototype.isEnableFillHandle=function(){return xs(this.gridOptions.enableFillHandle)},e.prototype.getFillHandleDirection=function(){var e=this.gridOptions.fillHandleDirection;return e?"x"!==e&&"y"!==e&&"xy"!==e?(Me(function(){return console.warn("ag-Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")},"warn invalid fill direction"),"xy"):e:"xy"},e.prototype.getFillOperation=function(){return this.gridOptions.fillOperation},e.prototype.isSuppressMultiRangeSelection=function(){return xs(this.gridOptions.suppressMultiRangeSelection)},e.prototype.isPaginationAutoPageSize=function(){return xs(this.gridOptions.paginationAutoPageSize)},e.prototype.isRememberGroupStateWhenNewData=function(){return xs(this.gridOptions.rememberGroupStateWhenNewData)},e.prototype.getIcons=function(){return this.gridOptions.icons},e.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},e.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},e.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},e.prototype.isMasterDetail=function(){return!!xs(this.gridOptions.masterDetail)&&st.assertRegistered(tt.MasterDetailModule,"masterDetail")},e.prototype.isKeepDetailRows=function(){return xs(this.gridOptions.keepDetailRows)},e.prototype.getKeepDetailRowsCount=function(){return this.gridOptions.keepDetailRowsCount>0?this.gridOptions.keepDetailRowsCount:10},e.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},e.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},e.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},e.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},e.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},e.prototype.isSuppressAutoSize=function(){return xs(this.gridOptions.suppressAutoSize)},e.prototype.isEnableCellTextSelection=function(){return xs(this.gridOptions.enableCellTextSelection)},e.prototype.isSuppressParentsInRowNodes=function(){return xs(this.gridOptions.suppressParentsInRowNodes)},e.prototype.isFunctionsReadOnly=function(){return xs(this.gridOptions.functionsReadOnly)},e.prototype.isFloatingFilter=function(){return this.gridOptions.floatingFilter},e.prototype.isEnableCellTextSelect=function(){return xs(this.gridOptions.enableCellTextSelection)},e.prototype.isEnableOldSetFilterModel=function(){return xs(this.gridOptions.enableOldSetFilterModel)},e.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},e.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},e.prototype.getDefaultExportParams=function(){return this.gridOptions.defaultExportParams},e.prototype.isSuppressCsvExport=function(){return xs(this.gridOptions.suppressCsvExport)},e.prototype.isAllowShowChangeAfterFilter=function(){return xs(this.gridOptions.allowShowChangeAfterFilter)},e.prototype.isSuppressExcelExport=function(){return xs(this.gridOptions.suppressExcelExport)},e.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return xs(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},e.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},e.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},e.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},e.prototype.getGroupRowAggNodesFunc=function(){return this.gridOptions.groupRowAggNodes},e.prototype.getContextMenuItemsFunc=function(){return this.gridOptions.getContextMenuItems},e.prototype.getMainMenuItemsFunc=function(){return this.gridOptions.getMainMenuItems},e.prototype.getRowNodeIdFunc=function(){return this.gridOptions.getRowNodeId},e.prototype.getNavigateToNextHeaderFunc=function(){return this.gridOptions.navigateToNextHeader},e.prototype.getTabToNextHeaderFunc=function(){return this.gridOptions.tabToNextHeader},e.prototype.getNavigateToNextCellFunc=function(){return this.gridOptions.navigateToNextCell},e.prototype.getTabToNextCellFunc=function(){return this.gridOptions.tabToNextCell},e.prototype.isTreeData=function(){return!!xs(this.gridOptions.treeData)&&st.assertRegistered(tt.RowGroupingModule,"Tree Data")},e.prototype.isValueCache=function(){return xs(this.gridOptions.valueCache)},e.prototype.isValueCacheNeverExpires=function(){return xs(this.gridOptions.valueCacheNeverExpires)},e.prototype.isDeltaSort=function(){return xs(this.gridOptions.deltaSort)},e.prototype.isAggregateOnlyChangedColumns=function(){return xs(this.gridOptions.aggregateOnlyChangedColumns)},e.prototype.getProcessSecondaryColDefFunc=function(){return this.gridOptions.processSecondaryColDef},e.prototype.getProcessSecondaryColGroupDefFunc=function(){return this.gridOptions.processSecondaryColGroupDef},e.prototype.getSendToClipboardFunc=function(){return this.gridOptions.sendToClipboard},e.prototype.getProcessRowPostCreateFunc=function(){return this.gridOptions.processRowPostCreate},e.prototype.getProcessCellForClipboardFunc=function(){return this.gridOptions.processCellForClipboard},e.prototype.getProcessHeaderForClipboardFunc=function(){return this.gridOptions.processHeaderForClipboard},e.prototype.getProcessCellFromClipboardFunc=function(){return this.gridOptions.processCellFromClipboard},e.prototype.getViewportRowModelPageSize=function(){return(e=this.gridOptions.viewportRowModelPageSize)>0?e:5;var e},e.prototype.getViewportRowModelBufferSize=function(){return(e=this.gridOptions.viewportRowModelBufferSize)>=0?e:5;var e},e.prototype.isServerSideSortingAlwaysResets=function(){return xs(this.gridOptions.serverSideSortingAlwaysResets)},e.prototype.getPostSortFunc=function(){return this.gridOptions.postSort},e.prototype.getChartToolbarItemsFunc=function(){return this.gridOptions.getChartToolbarItems},e.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},e.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},e.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},e.prototype.getProcessChartOptionsFunc=function(){return this.gridOptions.processChartOptions},e.prototype.getClipboardDeliminator=function(){return P(this.gridOptions.clipboardDeliminator)?this.gridOptions.clipboardDeliminator:"\t"},e.prototype.setProperty=function(e,t,o){void 0===o&&(o=!1);var n=this.gridOptions,i=n[e];(o||i!==t)&&(n[e]=t,this.propertyEventService.dispatchEvent({type:e,currentValue:t,previousValue:i}))},e.prototype.addLayoutElement=function(e){this.layoutElements.push(e),this.updateLayoutClasses()},e.prototype.updateLayoutClasses=function(){var e=this.getDomLayout(),t=e===rt.DOM_LAYOUT_AUTO_HEIGHT,o=e===rt.DOM_LAYOUT_PRINT,n=e===rt.DOM_LAYOUT_NORMAL;this.layoutElements.forEach(function(e){Lo(e,"ag-layout-auto-height",t),Lo(e,"ag-layout-normal",n),Lo(e,"ag-layout-print",o)})},e.prototype.addEventListener=function(e,t){this.propertyEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.propertyEventService.removeEventListener(e,t)},e.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},e.prototype.getAutoSizePadding=function(){var e=this.gridOptions.autoSizePadding;return null!=e&&e>=0?e:20},e.prototype.getHeaderHeight=function(){return"number"==typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},e.prototype.getFloatingFiltersHeight=function(){return"number"==typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},e.prototype.getGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},e.prototype.getPivotHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},e.prototype.getPivotGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},e.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent()},e.prototype.doesExternalFilterPass=function(e){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(e)},e.prototype.getTooltipShowDelay=function(){var e=this.gridOptions.tooltipShowDelay;return P(e)?(e<0&&console.warn("ag-grid: tooltipShowDelay should not be lower than 0"),Math.max(200,e)):null},e.prototype.isTooltipMouseTrack=function(){return xs(this.gridOptions.tooltipMouseTrack)},e.prototype.getDocument=function(){var e=null;return this.gridOptions.getDocument&&P(this.gridOptions.getDocument)&&(e=this.gridOptions.getDocument()),e&&P(e)?e:document},e.prototype.getMinColWidth=function(){if(this.gridOptions.minColWidth>t.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var e=this.getFromTheme(null,"headerCellMinWidth");return Math.max(e,t.MIN_COL_WIDTH)},e.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>t.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},e.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<t.MIN_COL_WIDTH?200:this.gridOptions.colWidth},e.prototype.getRowBuffer=function(){var e=this.gridOptions.rowBuffer;return"number"==typeof e?e<0&&(Me(function(){return console.warn("ag-Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),this.gridOptions.rowBuffer=e=0):e=rt.ROW_BUFFER_SIZE,e},e.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},e.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var e="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Ao();null!=e&&(this.scrollbarWidth=e,this.eventService.dispatchEvent({type:xt.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},e.prototype.checkForDeprecated=function(){var e=this.gridOptions;e.deprecatedEmbedFullWidthRows&&console.warn("ag-Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),e.enableOldSetFilterModel&&console.warn("ag-Grid: since v22.x, enableOldSetFilterModel is deprecated. Please move to the new Set Filter Model as the old one may not be supported in v23 onwards."),e.floatingFilter&&(console.warn("ag-Grid: since v23.1, floatingFilter on the gridOptions is deprecated. Please use floatingFilter on the colDef instead."),e.defaultColDef||(e.defaultColDef={}),null==e.defaultColDef.floatingFilter&&(e.defaultColDef.floatingFilter=!0)),e.rowDeselection&&console.warn("ag-Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected.");var t=function(t,o,n){null!=e[t]&&(console.warn("ag-grid: since version "+n+", '"+t+"' is deprecated / renamed, please use the new property name '"+o+"' instead."),null==e[o]&&(e[o]=e[t]))};if(t("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),t("deltaRowDataMode","immutableData","23.1.x"),(e.immutableColumns||e.deltaColumnMode)&&console.warn("ag-Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),t("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),e.groupRowInnerRenderer||e.groupRowInnerRendererParams||e.groupRowInnerRendererFramework){console.warn("ag-Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),e.groupRowRendererParams||(e.groupRowRendererParams={});var o=e.groupRowRendererParams;e.groupRowInnerRenderer&&(o.innerRenderer=e.groupRowInnerRenderer),e.groupRowInnerRendererParams&&(o.innerRendererParams=e.groupRowInnerRendererParams),e.groupRowInnerRendererFramework&&(o.innerRendererFramework=e.groupRowInnerRendererFramework)}e.rememberGroupStateWhenNewData&&console.warn("ag-Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),e.detailCellRendererParams&&e.detailCellRendererParams.autoHeight&&(console.warn("ag-Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),e.detailRowAutoHeight=!0),e.suppressKeyboardEvent&&console.warn("ag-Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in\n                 future versions of ag-Grid. If you need this to be set for every column use the defaultColDef property.")},e.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},e.prototype.treeDataViolations=function(){this.isRowModelDefault()&&T(this.getDataPathFunc())&&console.warn("ag-Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(T(this.getIsServerSideGroupFunc())&&console.warn("ag-Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),T(this.getServerSideGroupKeyFunc())&&console.warn("ag-Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},e.prototype.getLocaleTextFunc=function(){if(this.gridOptions.localeTextFunc)return this.gridOptions.localeTextFunc;var e=this.gridOptions.localeText;return function(t,o){return e&&e[t]?e[t]:o}},e.prototype.globalEventHandler=function(e,t){if(!this.destroyed){var o=co.getCallbackForEvent(e);"function"==typeof this.gridOptions[o]&&this.gridOptions[o](t)}},e.prototype.getRowHeightAsNumber=function(){return!this.gridOptions.rowHeight||T(this.gridOptions.rowHeight)?this.getDefaultRowHeight():this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:(console.warn("ag-Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},e.prototype.getRowHeightForNode=function(e,t){if(void 0===t&&(t=!1),"function"==typeof this.gridOptions.getRowHeight){if(t)return{height:this.getDefaultRowHeight(),estimated:!0};var o=this.gridOptions.getRowHeight({node:e,data:e.data,api:this.gridOptions.api,context:this.gridOptions.context});if(this.isNumeric(o))return{height:o,estimated:!1}}if(e.detail&&this.isMasterDetail())return this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1};var n=this.getDefaultRowHeight(),i=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:n,r=Math.min(n,i);if(this.columnController.isAutoRowHeightActive()){if(t)return{height:i,estimated:!0};var s=this.autoHeightCalculator.getPreferredHeightForRow(e);return{height:Math.max(s,r),estimated:!1}}return{height:i,estimated:!1}},e.prototype.isDynamicRowHeight=function(){return"function"==typeof this.gridOptions.getRowHeight},e.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},e.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},e.prototype.isNumeric=function(e){return!isNaN(e)&&"number"==typeof e&&isFinite(e)},e.prototype.getFromTheme=function(e,t){var o=this.environment.getTheme().theme;return o&&0===o.indexOf("ag-theme")?this.environment.getSassVariable(o,t):e},e.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},e.MIN_COL_WIDTH=10,e.PROP_HEADER_HEIGHT="headerHeight",e.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",e.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",e.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",e.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",e.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",e.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",e.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",e.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",e.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",e.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",e.PROP_POPUP_PARENT="popupParent",e.PROP_DOM_LAYOUT="domLayout",e.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",As([Qe("gridOptions")],e.prototype,"gridOptions",void 0),As([Qe("columnController")],e.prototype,"columnController",void 0),As([Qe("eventService")],e.prototype,"eventService",void 0),As([Qe("environment")],e.prototype,"environment",void 0),As([Qe("autoHeightCalculator")],e.prototype,"autoHeightCalculator",void 0),As([Fs(0,Je("gridApi")),Fs(1,Je("columnApi"))],e.prototype,"agWire",null),As([qe],e.prototype,"destroy",null),As([Ye],e.prototype,"init",null),t=As([$e("gridOptionsWrapper")],e)}(),Gs=function(){function e(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}return e.prototype.setInactive=function(){this.active=!1},e.prototype.isActive=function(){return this.active},e.prototype.depthFirstSearchChangedPath=function(e,t){if(e.children)for(var o=0;o<e.children.length;o++)this.depthFirstSearchChangedPath(e.children[o],t);t(e.rowNode)},e.prototype.depthFirstSearchEverything=function(e,t,o){if(e.childrenAfterGroup)for(var n=0;n<e.childrenAfterGroup.length;n++){var i=e.childrenAfterGroup[n];i.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[n],t,o):o&&t(i)}t(e)},e.prototype.forEachChangedNodeDepthFirst=function(e,t){void 0===t&&(t=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)},e.prototype.executeFromRootNode=function(e){e(this.pathRoot.rowNode)},e.prototype.createPathItems=function(e){for(var t=e,o=0;!this.mapToItems[t.id];)this.mapToItems[t.id]={rowNode:t,children:null},o++,t=t.parent;return o},e.prototype.populateColumnsMap=function(e,t){var o=this;if(this.keepingColumns&&t)for(var n=e;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach(function(e){return o.nodeIdsToColumns[n.id][e.getId()]=!0}),n=n.parent},e.prototype.linkPathItems=function(e,t){for(var o=e,n=0;n<t;n++){var i=this.mapToItems[o.id],r=this.mapToItems[o.parent.id];r.children||(r.children=[]),r.children.push(i),o=o.parent}},e.prototype.addParentNode=function(e,t){if(e&&!e.isRowPinned()){var o=this.createPathItems(e);this.linkPathItems(e,o),this.populateColumnsMap(e,t)}},e.prototype.canSkip=function(e){return this.active&&!this.mapToItems[e.id]},e.prototype.getValueColumnsForNode=function(e,t){if(!this.keepingColumns)return t;var o=this.nodeIdsToColumns[e.id];return t.filter(function(e){return o[e.getId()]})},e.prototype.getNotValueColumnsForNode=function(e,t){if(!this.keepingColumns)return null;var o=this.nodeIdsToColumns[e.id];return t.filter(function(e){return!o[e.getId()]})},e}(),ks=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Vs=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Hs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ks(t,e),t.prototype.setBeans=function(e){this.logger=e.create("SelectionController"),this.reset(),this.gridOptionsWrapper.isRowModelDefault()&&this.addManagedListener(this.eventService,xt.EVENT_ROW_DATA_CHANGED,this.reset.bind(this))},t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,xt.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},t.prototype.setLastSelectedNode=function(e){this.lastSelectedNode=e},t.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},t.prototype.getSelectedNodes=function(){var e=[];return fe(this.selectedNodes,function(t,o){o&&e.push(o)}),e},t.prototype.getSelectedRows=function(){var e=[];return fe(this.selectedNodes,function(t,o){o&&o.data&&e.push(o.data)}),e},t.prototype.removeGroupsFromSelection=function(){var e=this;fe(this.selectedNodes,function(t,o){o&&o.group&&(e.selectedNodes[o.id]=void 0)})},t.prototype.updateGroupsFromChildrenSelections=function(e){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===rt.ROW_MODEL_TYPE_CLIENT_SIDE){var t=this.rowModel.getRootNode();e||(e=new Gs(!0,t)).setInactive(),e.forEachChangedNodeDepthFirst(function(e){e!==t&&e.calculateSelectedFromChildren()})}},t.prototype.getNodeForIdIfSelected=function(e){return this.selectedNodes[e]},t.prototype.clearOtherNodes=function(e){var t=this,o={},n=0;return fe(this.selectedNodes,function(i,r){r&&r.id!==e.id&&(n+=t.selectedNodes[r.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),t.groupSelectsChildren&&r.parent&&(o[r.parent.id]=r.parent))}),fe(o,function(e,t){t.calculateSelectedFromChildren()}),n},t.prototype.onRowSelected=function(e){var t=e.node;this.groupSelectsChildren&&t.group||(this.selectedNodes[t.id]=t.isSelected()?t:void 0)},t.prototype.syncInRowNode=function(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)},t.prototype.syncInOldRowNode=function(e,t){P(t)&&e.id!==t.id&&P(this.selectedNodes[t.id])&&(this.selectedNodes[t.id]=t)},t.prototype.syncInNewRowNode=function(e){P(this.selectedNodes[e.id])?(e.setSelectedInitialValue(!0),this.selectedNodes[e.id]=e):e.setSelectedInitialValue(!1)},t.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},t.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===rt.ROW_MODEL_TYPE_CLIENT_SIDE){var e=this.rowModel.getTopLevelNodes();if(null!==e){var t=[];return function e(o){for(var n=0,i=o.length;n<i;n++){var r=o[n];r.isSelected()?t.push(r):r.group&&r.children&&e(r.children)}}(e),t}console.warn("selectAll not available doing rowModel=virtual")}else console.warn("getBestCostNodeSelection is only available when using normal row model")},t.prototype.setRowModel=function(e){this.rowModel=e},t.prototype.isEmpty=function(){var e=0;return fe(this.selectedNodes,function(t,o){o&&e++}),0===e},t.prototype.deselectAllRowNodes=function(e){void 0===e&&(e=!1);var t=function(e){return e.selectThisNode(!1)},o=this.rowModel.getType()===rt.ROW_MODEL_TYPE_CLIENT_SIDE;if(e){if(!o)return void console.error("ag-Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(t)}else fe(this.selectedNodes,function(e,o){o&&t(o)}),this.reset();o&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:xt.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.selectAllRowNodes=function(e){if(void 0===e&&(e=!1),this.rowModel.getType()!==rt.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var t=this.rowModel,o=function(e){return e.selectThisNode(!0)};e?t.forEachNodeAfterFilter(o):t.forEachNode(o),this.rowModel.getType()===rt.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:xt.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.selectNode=function(e,t){e&&e.setSelectedParams({newValue:!0,clearSelection:!t})},t.prototype.deselectIndex=function(e){var t=this.rowModel.getRow(e);this.deselectNode(t)},t.prototype.deselectNode=function(e){e&&e.setSelectedParams({newValue:!1,clearSelection:!1})},t.prototype.selectIndex=function(e,t){var o=this.rowModel.getRow(e);this.selectNode(o,t)},Vs([Qe("rowModel")],t.prototype,"rowModel",void 0),Vs([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Vs([Qe("columnApi")],t.prototype,"columnApi",void 0),Vs([Qe("gridApi")],t.prototype,"gridApi",void 0),Vs([(0,o=Je("loggerFactory"),function(e,t){o(e,t,0)})],t.prototype,"setBeans",null),Vs([Ye],t.prototype,"init",null),Vs([$e("selectionController")],t);var o}(Tt),Ws=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Bs=function(){function e(){}return e.prototype.sizeColumnsToFit=function(e){void 0===e&&console.error("ag-Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnController.sizeColumnsToFit(e,"api")},e.prototype.setColumnGroupOpened=function(e,t){this.columnController.setColumnGroupOpened(e,t,"api")},e.prototype.getColumnGroup=function(e,t){return this.columnController.getColumnGroup(e,t)},e.prototype.getOriginalColumnGroup=function(e){return this.columnController.getOriginalColumnGroup(e)},e.prototype.getDisplayNameForColumn=function(e,t){return this.columnController.getDisplayNameForColumn(e,t)||""},e.prototype.getDisplayNameForColumnGroup=function(e,t){return this.columnController.getDisplayNameForColumnGroup(e,t)||""},e.prototype.getColumn=function(e){return this.columnController.getPrimaryColumn(e)},e.prototype.applyColumnState=function(e){return this.columnController.applyColumnState(e,"api")},e.prototype.getColumnState=function(){return this.columnController.getColumnState()},e.prototype.resetColumnState=function(){this.columnController.resetColumnState(!1,"api")},e.prototype.getColumnGroupState=function(){return this.columnController.getColumnGroupState()},e.prototype.setColumnGroupState=function(e){this.columnController.setColumnGroupState(e,"api")},e.prototype.resetColumnGroupState=function(){this.columnController.resetColumnGroupState("api")},e.prototype.isPinning=function(){return this.columnController.isPinningLeft()||this.columnController.isPinningRight()},e.prototype.isPinningLeft=function(){return this.columnController.isPinningLeft()},e.prototype.isPinningRight=function(){return this.columnController.isPinningRight()},e.prototype.getDisplayedColAfter=function(e){return this.columnController.getDisplayedColAfter(e)},e.prototype.getDisplayedColBefore=function(e){return this.columnController.getDisplayedColBefore(e)},e.prototype.setColumnVisible=function(e,t){this.columnController.setColumnVisible(e,t,"api")},e.prototype.setColumnsVisible=function(e,t){this.columnController.setColumnsVisible(e,t,"api")},e.prototype.setColumnPinned=function(e,t){this.columnController.setColumnPinned(e,t,"api")},e.prototype.setColumnsPinned=function(e,t){this.columnController.setColumnsPinned(e,t,"api")},e.prototype.getAllColumns=function(){return this.columnController.getAllPrimaryColumns()},e.prototype.getAllGridColumns=function(){return this.columnController.getAllGridColumns()},e.prototype.getDisplayedLeftColumns=function(){return this.columnController.getDisplayedLeftColumns()},e.prototype.getDisplayedCenterColumns=function(){return this.columnController.getDisplayedCenterColumns()},e.prototype.getDisplayedRightColumns=function(){return this.columnController.getDisplayedRightColumns()},e.prototype.getAllDisplayedColumns=function(){return this.columnController.getAllDisplayedColumns()},e.prototype.getAllDisplayedVirtualColumns=function(){return this.columnController.getAllDisplayedVirtualColumns()},e.prototype.moveColumn=function(e,t){"number"==typeof e?(console.warn("ag-Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnController.moveColumnByIndex(e,t,"api")):this.columnController.moveColumn(e,t,"api")},e.prototype.moveColumnByIndex=function(e,t){this.columnController.moveColumnByIndex(e,t,"api")},e.prototype.moveColumns=function(e,t){this.columnController.moveColumns(e,t,"api")},e.prototype.moveRowGroupColumn=function(e,t){this.columnController.moveRowGroupColumn(e,t)},e.prototype.setColumnAggFunc=function(e,t){this.columnController.setColumnAggFunc(e,t)},e.prototype.setColumnWidth=function(e,t,o){void 0===o&&(o=!0),this.columnController.setColumnWidths([{key:e,newWidth:t}],!1,o)},e.prototype.setColumnWidths=function(e,t){void 0===t&&(t=!0),this.columnController.setColumnWidths(e,!1,t)},e.prototype.setPivotMode=function(e){this.columnController.setPivotMode(e)},e.prototype.isPivotMode=function(){return this.columnController.isPivotMode()},e.prototype.getSecondaryPivotColumn=function(e,t){return this.columnController.getSecondaryPivotColumn(e,t)},e.prototype.setValueColumns=function(e){this.columnController.setValueColumns(e,"api")},e.prototype.getValueColumns=function(){return this.columnController.getValueColumns()},e.prototype.removeValueColumn=function(e){this.columnController.removeValueColumn(e,"api")},e.prototype.removeValueColumns=function(e){this.columnController.removeValueColumns(e,"api")},e.prototype.addValueColumn=function(e){this.columnController.addValueColumn(e,"api")},e.prototype.addValueColumns=function(e){this.columnController.addValueColumns(e,"api")},e.prototype.setRowGroupColumns=function(e){this.columnController.setRowGroupColumns(e,"api")},e.prototype.removeRowGroupColumn=function(e){this.columnController.removeRowGroupColumn(e,"api")},e.prototype.removeRowGroupColumns=function(e){this.columnController.removeRowGroupColumns(e,"api")},e.prototype.addRowGroupColumn=function(e){this.columnController.addRowGroupColumn(e,"api")},e.prototype.addRowGroupColumns=function(e){this.columnController.addRowGroupColumns(e,"api")},e.prototype.getRowGroupColumns=function(){return this.columnController.getRowGroupColumns()},e.prototype.setPivotColumns=function(e){this.columnController.setPivotColumns(e,"api")},e.prototype.removePivotColumn=function(e){this.columnController.removePivotColumn(e,"api")},e.prototype.removePivotColumns=function(e){this.columnController.removePivotColumns(e,"api")},e.prototype.addPivotColumn=function(e){this.columnController.addPivotColumn(e,"api")},e.prototype.addPivotColumns=function(e){this.columnController.addPivotColumns(e,"api")},e.prototype.getPivotColumns=function(){return this.columnController.getPivotColumns()},e.prototype.getLeftDisplayedColumnGroups=function(){return this.columnController.getLeftDisplayedColumnGroups()},e.prototype.getCenterDisplayedColumnGroups=function(){return this.columnController.getCenterDisplayedColumnGroups()},e.prototype.getRightDisplayedColumnGroups=function(){return this.columnController.getRightDisplayedColumnGroups()},e.prototype.getAllDisplayedColumnGroups=function(){return this.columnController.getAllDisplayedColumnGroups()},e.prototype.autoSizeColumn=function(e,t){return this.columnController.autoSizeColumn(e,t,"api")},e.prototype.autoSizeColumns=function(e,t){return this.columnController.autoSizeColumns(e,t,"api")},e.prototype.autoSizeAllColumns=function(e){this.columnController.autoSizeAllColumns(e,"api")},e.prototype.setSecondaryColumns=function(e){this.columnController.setSecondaryColumns(e,"api")},e.prototype.getSecondaryColumns=function(){return this.columnController.getSecondaryColumns()},e.prototype.getPrimaryColumns=function(){return this.columnController.getAllPrimaryColumns()},e.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Oi.removeAllReferences.bind(window,this,"Column API"),100)},e.prototype.columnGroupOpened=function(e,t){console.error("ag-Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(e,t)},e.prototype.hideColumns=function(e,t){console.error("ag-Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnController.setColumnsVisible(e,!t,"api")},e.prototype.hideColumn=function(e,t){console.error("ag-Grid: hideColumn is deprecated, use setColumnVisible"),this.columnController.setColumnVisible(e,!t,"api")},e.prototype.setState=function(e){return console.error("ag-Grid: setState is deprecated, use setColumnState"),this.setColumnState(e)},e.prototype.getState=function(){return console.error("ag-Grid: getState is deprecated, use getColumnState"),this.getColumnState()},e.prototype.resetState=function(){console.error("ag-Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},e.prototype.getAggregationColumns=function(){return console.error("ag-Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnController.getValueColumns()},e.prototype.removeAggregationColumn=function(e){console.error("ag-Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnController.removeValueColumn(e,"api")},e.prototype.removeAggregationColumns=function(e){console.error("ag-Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnController.removeValueColumns(e,"api")},e.prototype.addAggregationColumn=function(e){console.error("ag-Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnController.addValueColumn(e,"api")},e.prototype.addAggregationColumns=function(e){console.error("ag-Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnController.addValueColumns(e,"api")},e.prototype.setColumnAggFunction=function(e,t){console.error("ag-Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnController.setColumnAggFunc(e,t,"api")},e.prototype.getDisplayNameForCol=function(e){return console.error("ag-Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(e,null)},e.prototype.setColumnState=function(e){return this.columnController.applyColumnState({state:e,applyOrder:!0},"api")},Ws([Qe("columnController")],e.prototype,"columnController",void 0),Ws([qe],e.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Ws([$e("columnApi")],e)}();!function(e){e[e.FILL=0]="FILL",e[e.RANGE=1]="RANGE"}(Is||(Is={})),function(e){e[e.VALUE=0]="VALUE",e[e.DIMENSION=1]="DIMENSION"}(Ms||(Ms={}));var js,Us,zs,Ks=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ys=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.ToolPanel=0]="ToolPanel",e[e.HeaderCell=1]="HeaderCell",e[e.RowDrag=2]="RowDrag",e[e.ChartPanel=3]="ChartPanel"}(js||(js={})),function(e){e[e.Up=0]="Up",e[e.Down=1]="Down"}(Us||(Us={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(zs||(zs={}));var qs,$s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dragSourceAndParamsList=[],t.dropTargets=[],t}var o;return Ks(t,e),o=t,t.prototype.init=function(){this.ePinnedIcon=pi("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=pi("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=pi("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=pi("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=pi("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=pi("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=pi("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=pi("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=pi("dropNotAllowed",this.gridOptionsWrapper,null)},t.prototype.addDragSource=function(e,t){void 0===t&&(t=!1);var o={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:o,dragSource:e}),this.dragService.addDragSource(o,t)},t.prototype.removeDragSource=function(e){var t=k(this.dragSourceAndParamsList,function(t){return t.dragSource===e});t&&(this.dragService.removeDragSource(t.params),Q(this.dragSourceAndParamsList,t))},t.prototype.clearDragSourceParamsList=function(){var e=this;this.dragSourceAndParamsList.forEach(function(t){return e.dragService.removeDragSource(t.params)}),this.dragSourceAndParamsList.length=0},t.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},t.prototype.onDragStart=function(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},t.prototype.onDragStop=function(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},t.prototype.onDragging=function(e,t){var o=this.getHorizontalDirection(e),n=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);var i=k(this.dropTargets,this.isMouseOnDropTarget.bind(this,e));if(i!==this.lastDropTarget)this.leaveLastTargetIfExists(e,o,n,t),this.enterDragTargetIfExists(i,e,o,n,t),this.lastDropTarget=i;else if(i&&i.onDragging){var r=this.createDropTargetEvent(i,e,o,n,t);i.onDragging(r)}},t.prototype.enterDragTargetIfExists=function(e,t,o,n,i){if(e){if(e.onDragEnter){var r=this.createDropTargetEvent(e,t,o,n,i);e.onDragEnter(r)}this.setGhostIcon(e.getIconName?e.getIconName():null)}},t.prototype.leaveLastTargetIfExists=function(e,t,o,n){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var i=this.createDropTargetEvent(this.lastDropTarget,e,t,o,n);this.lastDropTarget.onDragLeave(i)}this.setGhostIcon(null)}},t.prototype.getAllContainersFromDropTarget=function(e){var t=[e.getContainer()],o=e.getSecondaryContainers?e.getSecondaryContainers():null;return o&&(t=t.concat(o)),t},t.prototype.isMouseOnDropTarget=function(e,t){var o=!1;return this.getAllContainersFromDropTarget(t).filter(function(e){return e}).forEach(function(t){var n=t.getBoundingClientRect();0!==n.width&&0!==n.height&&e.clientX>=n.left&&e.clientX<=n.right&&e.clientY>=n.top&&e.clientY<=n.bottom&&(o=!0)}),o&&t.isInterestedIn(this.dragSource.type)},t.prototype.addDropTarget=function(e){this.dropTargets.push(e)},t.prototype.removeDropTarget=function(e){this.dropTargets=this.dropTargets.filter(function(t){return t.getContainer()!==e.getContainer()})},t.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(e){return e.external})},t.prototype.findExternalZone=function(e){return k(this.dropTargets.filter(function(e){return e.external}),function(t){return t.getContainer()===e.getContainer()})},t.prototype.getHorizontalDirection=function(e){var t=this.eventLastTime.clientX,o=e.clientX;return t===o?null:t>o?zs.Left:zs.Right},t.prototype.getVerticalDirection=function(e){var t=this.eventLastTime.clientY,o=e.clientY;return t===o?null:t>o?Us.Up:Us.Down},t.prototype.createDropTargetEvent=function(e,t,o,n,i){var r=e.getContainer(),s=r.getBoundingClientRect();return{event:t,x:t.clientX-s.left,y:t.clientY-s.top,vDirection:n,hDirection:o,dragSource:this.dragSource,fromNudge:i,dragItem:this.dragItem,api:this.gridApi,columnApi:this.columnApi,dropZoneTarget:r}},t.prototype.positionGhost=function(e){var t=this.eGhost,o=t.getBoundingClientRect().height,n=No()-2,i=xo()-2,r=e.pageY-o/2,s=e.pageX-10,a=this.gridOptionsWrapper.getDocument(),l=window.pageYOffset||a.documentElement.scrollTop,u=window.pageXOffset||a.documentElement.scrollLeft;n>0&&s+t.clientWidth>n+u&&(s=n+u-t.clientWidth),s<0&&(s=0),i>0&&r+t.clientHeight>i+l&&(r=i+l-t.clientHeight),r<0&&(r=0),t.style.left=s+"px",t.style.top=r+"px"},t.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},t.prototype.createGhost=function(){this.eGhost=tn(o.GHOST_TEMPLATE);var e=this.environment.getTheme().theme;e&&Io(this.eGhost,e),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var t=this.eGhost.querySelector(".ag-dnd-ghost-label"),n=this.dragSource.dragItemName;ke(n)&&(n=n()),t.innerHTML=Wt(n),this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var i=this.gridOptionsWrapper.getDocument();this.eGhostParent=i.querySelector("body"),this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("ag-Grid: could not find document body, it is needed for dragging columns")},t.prototype.setGhostIcon=function(e,t){var n;switch(void 0===t&&(t=!1),Xo(this.eGhostIcon),e||(e=this.dragSource.defaultIconName||o.ICON_NOT_ALLOWED),e){case o.ICON_PINNED:n=this.ePinnedIcon;break;case o.ICON_MOVE:n=this.eMoveIcon;break;case o.ICON_LEFT:n=this.eLeftIcon;break;case o.ICON_RIGHT:n=this.eRightIcon;break;case o.ICON_GROUP:n=this.eGroupIcon;break;case o.ICON_AGGREGATE:n=this.eAggregateIcon;break;case o.ICON_PIVOT:n=this.ePivotIcon;break;case o.ICON_NOT_ALLOWED:n=this.eDropNotAllowedIcon;break;case o.ICON_HIDE:n=this.eHideIcon}Lo(this.eGhostIcon,"ag-shake-left-to-right",t),n===this.eHideIcon&&this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()||n&&this.eGhostIcon.appendChild(n)},t.ICON_PINNED="pinned",t.ICON_MOVE="move",t.ICON_LEFT="left",t.ICON_RIGHT="right",t.ICON_GROUP="group",t.ICON_AGGREGATE="aggregate",t.ICON_PIVOT="pivot",t.ICON_NOT_ALLOWED="notAllowed",t.ICON_HIDE="hide",t.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',Ys([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ys([Qe("dragService")],t.prototype,"dragService",void 0),Ys([Qe("environment")],t.prototype,"environment",void 0),Ys([Qe("columnApi")],t.prototype,"columnApi",void 0),Ys([Qe("gridApi")],t.prototype,"gridApi",void 0),Ys([Ye],t.prototype,"init",null),Ys([qe],t.prototype,"clearDragSourceParamsList",null),o=Ys([$e("dragAndDropService")],t)}(Tt),Qs=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Xs=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Zs=function(e){function t(t,o,n,i){var r=e.call(this,'<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>')||this;return r.rowNode=t,r.column=o,r.cellValueFn=n,r.beans=i,r}return Qs(t,e),t.prototype.postConstruct=function(){this.getGui().appendChild(di("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource(),this.checkCompatibility();var e=this.beans.gridOptionsWrapper.isRowDragManaged()?new ta(this,this.beans,this.rowNode,this.column):new ea(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)},t.prototype.getSelectedCount=function(){if(!this.beans.gridOptionsWrapper.isEnableMultiRowDragging())return 1;var e=this.beans.selectionController.getSelectedNodes();return-1!==e.indexOf(this.rowNode)?e.length:1},t.prototype.checkCompatibility=function(){var e=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&e&&Me(function(){return console.warn("ag-Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},t.prototype.addDragSource=function(){var e=this,t={rowNode:this.rowNode,columns:[this.column],defaultTextValue:this.cellValueFn()},o=this.column.getColDef().rowDragText,n={type:js.RowDrag,eElement:this.getGui(),dragItemName:function(){var n=e.getSelectedCount();return o?o(t,n):1===n?e.cellValueFn():n+" rows"},getDragItem:function(){return t},dragStartPixels:0,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()};this.beans.dragAndDropService.addDragSource(n,!0),this.addDestroyFunc(function(){return e.beans.dragAndDropService.removeDragSource(n)})},Xs([Ye],t.prototype,"postConstruct",null),t}(Ni),Js=function(e){function t(t,o,n){var i=e.call(this)||this;return i.parent=t,i.column=n,i.rowNode=o,i}return Qs(t,e),t.prototype.setDisplayedOrVisible=function(e){if(e)this.parent.setDisplayed(!1);else{var t=this.column.isRowDrag(this.rowNode);ke(this.column.getColDef().rowDrag)?(this.parent.setDisplayed(!0),this.parent.setVisible(t)):this.parent.setDisplayed(t)}},t}(Tt),ea=function(e){function t(t,o,n,i){var r=e.call(this,t,n,i)||this;return r.beans=o,r}return Qs(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,hr.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,hr.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(e)},Xs([Ye],t.prototype,"postConstruct",null),t}(Js),ta=function(e){function t(t,o,n,i){var r=e.call(this,t,n,i)||this;return r.beans=o,r}return Qs(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,xt.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,xt.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,xt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,hr.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,hr.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.gridPanel.getRowDragFeature(),t=e&&e.shouldPreventRowMove(),o=this.beans.gridOptionsWrapper.isSuppressRowDrag(),n=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(t&&!n||o)},Xs([Ye],t.prototype,"postConstruct",null),t}(Js),oa=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),na=function(e){function t(t){var o=e.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return o.getGuiCalledOnChild=!1,o.cellEditor=t,o}return oa(t,e),t.prototype.onKeyDown=function(e){gi(this.gridOptionsWrapper,e,this.params.node,this.params.column,!0)||this.params.onKeyDown(e)},t.prototype.getGui=function(){return this.getGuiCalledOnChild||(this.appendChild(this.cellEditor.getGui()),this.getGuiCalledOnChild=!0),e.prototype.getGui.call(this)},t.prototype.init=function(o){var n=this;this.params=o,this.gridOptionsWrapper.setDomData(this.getGui(),t.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addDestroyFunc(function(){return n.destroyBean(n.cellEditor)}),this.addManagedListener(e.prototype.getGui.call(this),"keydown",this.onKeyDown.bind(this))},t.prototype.afterGuiAttached=function(){this.cellEditor.afterGuiAttached&&this.cellEditor.afterGuiAttached()},t.prototype.getValue=function(){return this.cellEditor.getValue()},t.prototype.isCancelBeforeStart=function(){if(this.cellEditor.isCancelBeforeStart)return this.cellEditor.isCancelBeforeStart()},t.prototype.isCancelAfterEnd=function(){if(this.cellEditor.isCancelAfterEnd)return this.cellEditor.isCancelAfterEnd()},t.prototype.getPopupPosition=function(){if(this.cellEditor.getPopupPosition)return this.cellEditor.getPopupPosition()},t.prototype.focusIn=function(){this.cellEditor.focusIn&&this.cellEditor.focusIn()},t.prototype.focusOut=function(){this.cellEditor.focusOut&&this.cellEditor.focusOut()},t.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(Ii),ia=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ra=function(e){function t(t,o,n,i,r){var s=e.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return s.rowNode=t,s.column=o,s.cellValue=n,s.beans=i,s.eCell=r,s}return ia(t,e),t.prototype.postConstruct=function(){this.getGui().appendChild(di("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",function(e){e.stopPropagation()}),this.addDragSource(),this.checkVisibility()},t.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},t.prototype.onDragStart=function(e){var t=this,o=this.column.getColDef().dndSourceOnRowDrag,n=Eo();n||e.dataTransfer.setDragImage(this.eCell,0,0),o?o({rowNode:this.rowNode,dragEvent:e}):function(){try{var o=JSON.stringify(t.rowNode.data);n?e.dataTransfer.setData("text",o):(e.dataTransfer.setData("application/json",o),e.dataTransfer.setData("text/plain",o))}catch(i){}}()},t.prototype.checkVisibility=function(){var e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)},function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([Ye],t.prototype,"postConstruct",null),t}(Ni),sa=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),aa=function(){return(aa=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},la=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.NOTHING=0]="NOTHING",e[e.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",e[e.SHOWING=2]="SHOWING"}(qs||(qs={}));var ua,ca=function(e){function t(t){var o=e.call(this)||this;return o.DEFAULT_HIDE_TOOLTIP_TIMEOUT=1e4,o.SHOW_QUICK_TOOLTIP_DIFF=1e3,o.FADE_OUT_TOOLTIP_TIMEOUT=1e3,o.state=qs.NOTHING,o.tooltipInstanceCount=0,o.tooltipMouseTrack=!1,o.parentComp=t,o}return sa(t,e),t.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipShowDelay()||2e3,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var e=this.parentComp.getGui();this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this))},t.prototype.destroy=function(){this.setToDoNothing(),e.prototype.destroy.call(this)},t.prototype.onMouseEnter=function(e){if(this.state==qs.NOTHING){var t=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.lastMouseEvent=e,this.state=qs.WAITING_TO_SHOW}},t.prototype.onMouseLeave=function(){this.setToDoNothing()},t.prototype.onKeyDown=function(){this.setToDoNothing()},t.prototype.setToDoNothing=function(){this.state===qs.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=qs.NOTHING},t.prototype.onMouseMove=function(e){this.lastMouseEvent=e,this.tooltipMouseTrack&&this.state===qs.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},t.prototype.onMouseDown=function(){this.setToDoNothing()},t.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),t.lastTooltipHideTime=(new Date).getTime()),this.state=qs.NOTHING},t.prototype.destroyTooltipComp=function(){var e=this;Io(this.tooltipComp.getGui(),"ag-tooltip-hiding");var t=this.tooltipPopupDestroyFunc,o=this.tooltipComp;window.setTimeout(function(){t(),e.getContext().destroyBean(o)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},t.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-t.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},t.prototype.showTooltip=function(){var e=aa({api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()},this.parentComp.getTooltipParams());if(P(e.value)){this.state=qs.SHOWING,this.tooltipInstanceCount++;var t=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.newTooltipComponent(e).then(t)}else this.setToDoNothing()},t.prototype.newTooltipComponentCallback=function(e,t){if(this.state!==qs.SHOWING||this.tooltipInstanceCount!==e)this.getContext().destroyBean(t);else{var o=t.getGui();this.tooltipComp=t,ko(o,"ag-tooltip")||Io(o,"ag-tooltip-custom"),this.tooltipPopupDestroyFunc=this.popupService.addPopup({eChild:o}),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.DEFAULT_HIDE_TOOLTIP_TIMEOUT)}},t.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18})},t.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},la([Qe("popupService")],t.prototype,"popupService",void 0),la([Qe("userComponentFactory")],t.prototype,"userComponentFactory",void 0),la([Qe("columnApi")],t.prototype,"columnApi",void 0),la([Qe("gridApi")],t.prototype,"gridApi",void 0),la([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),la([Ye],t.prototype,"postConstruct",null),t}(Tt),pa=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),da=function(){return(da=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},ha=function(e){function t(t,o,n,i,r,s,a){var l=e.call(this)||this;return l.hasChartRange=!1,l.editingCell=!1,l.suppressRefreshCell=!1,l.tooltipFeatureEnabled=!1,l.scope=null,l.cellEditorVersion=0,l.cellRendererVersion=0,l.scope=t,l.beans=o,l.column=n,l.rowNode=i,l.rowComp=r,l.autoHeightCell=s,l.printLayout=a,l.createGridCellVo(),l.rangeSelectionEnabled=l.beans.rangeController&&o.gridOptionsWrapper.isEnableRangeSelection(),l.cellFocused=l.beans.focusController.isCellFocused(l.cellPosition),l.firstRightPinned=l.column.isFirstRightPinned(),l.lastLeftPinned=l.column.isLastLeftPinned(),l.rangeSelectionEnabled&&l.beans.rangeController&&(l.rangeCount=l.beans.rangeController.getCellRangeCount(l.cellPosition),l.hasChartRange=l.getHasChartRange()),l.getValueAndFormat(),l.setUsingWrapper(),l.chooseCellRenderer(),l.setupColSpan(),l.rowSpan=l.column.getRowSpan(l.rowNode),l}return pa(t,e),t.prototype.getCreateTemplate=function(){var e=this.beans.gridOptionsWrapper.isEnableCellTextSelection()?"":'unselectable="on"',t=[],o=this.column,n=this.getCellWidth(),i=this.modifyLeftForPrintLayout(this.getCellLeft()),r=this.getInitialValueToRender(),s=Oe(this.column,"colDef.template",null)?r:Wt(r);this.tooltip=this.getToolTip();var a=Wt(this.tooltip),l=Wt(o.getId()),u="",c="",p=this.preProcessStylesFromColDef(),d=this.getInitialCssClasses(),h=this.getStylesForRowSpanning(),f=Wt(this.beans.columnController.getAriaColumnIndex(this.column).toString());return t.push("<div"),t.push(' tabindex="-1"'),t.push(" "+e),t.push(' role="gridcell"'),t.push(' aria-colindex="'+f+'"'),t.push(' comp-id="'+this.getCompId()+'" '),t.push(' col-id="'+l+'"'),t.push(' class="'+Wt(d.join(" "))+'"'),this.beans.gridOptionsWrapper.isEnableBrowserTooltips()&&P(a)&&t.push(' title="'+a+'"'),this.rangeSelectionEnabled&&t.push(' aria-selected="'+(this.rangeCount?"true":"false")+'"'),this.usingWrapper&&(u='<div ref="eCellWrapper" class="ag-cell-wrapper" role="presentation">\n                    <span ref="eCellValue" role="presentation" class="ag-cell-value" '+e+">",c="</span></div>"),t.push(' style="width: '+Number(n)+"px; left: "+Number(i)+"px; "+Wt(p)+" "+Wt(h)+'">'),t.push(u),P(s,!0)&&t.push(s),t.push(c),t.push("</div>"),t.join("")},t.prototype.getStylesForRowSpanning=function(){return 1===this.rowSpan?"":"height: "+this.beans.gridOptionsWrapper.getRowHeightAsNumber()*this.rowSpan+"px; z-index: 1;"},t.prototype.afterAttached=function(){var e='[comp-id="'+this.getCompId()+'"]',t=this.eParentRow.querySelector(e);this.setGui(t),this.addDomData(),this.populateTemplate(),this.createCellRendererInstance(!0),this.angular1Compile(),this.refreshHandle(),P(this.tooltip)&&this.createTooltipFeatureIfNeeded()},t.prototype.createTooltipFeatureIfNeeded=function(){this.beans.gridOptionsWrapper.isEnableBrowserTooltips()||this.tooltipFeatureEnabled||(this.createManagedBean(new ca(this),this.beans.context),this.tooltipFeatureEnabled=!0)},t.prototype.onColumnHover=function(){var e=this.beans.columnHoverService.isHovered(this.column);this.addOrRemoveCssClass("ag-column-hover",e)},t.prototype.onCellChanged=function(e){e.column===this.column&&this.refreshCell({})},t.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?U(this.colsSpanning):this.column).getLeft()},t.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(e,t){return e+t.getActualWidth()},0):this.column.getActualWidth()},t.prototype.onFlashCells=function(e){var t=this.beans.cellPositionUtils.createId(this.cellPosition);e.cells[t]&&this.animateCell("highlight")},t.prototype.setupColSpan=function(){T(this.getComponentHolder().colSpan)||(this.addManagedListener(this.beans.eventService,xt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,xt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)),this.colsSpanning=this.getColSpanningList())},t.prototype.getColSpanningList=function(){var e=this.column.getColSpan(this.rowNode),t=[];if(1===e)t.push(this.column);else for(var o=this.column,n=this.column.getPinned(),i=0;o&&i<e&&(t.push(o),(o=this.beans.columnController.getDisplayedColAfter(o))&&!T(o))&&n===o.getPinned();i++);return t},t.prototype.onDisplayColumnsChanged=function(){var e=this.getColSpanningList();z(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())},t.prototype.refreshAriaIndex=function(){var e=this.beans.columnController.getAriaColumnIndex(this.column);Xn(this.getGui(),e)},t.prototype.getInitialCssClasses=function(){var e=["ag-cell","ag-cell-not-inline-editing"];return this.autoHeightCell||e.push("ag-cell-auto-height"),!this.beans.gridOptionsWrapper.isSuppressCellSelection()&&this.cellFocused&&e.push("ag-cell-focus"),this.firstRightPinned&&e.push("ag-cell-first-right-pinned"),this.lastLeftPinned&&e.push("ag-cell-last-left-pinned"),this.beans.columnHoverService.isHovered(this.column)&&e.push("ag-column-hover"),ne(e,this.preProcessClassesFromColDef()),ne(e,this.preProcessCellClassRules()),ne(e,this.getInitialRangeClasses()),this.usingWrapper||e.push("ag-cell-value"),this.column.getColDef().wrapText&&e.push("ag-cell-wrap-text"),e},t.prototype.getInitialValueToRender=function(){if(this.usingCellRenderer)return"string"==typeof this.cellRendererGui?this.cellRendererGui:"";var e=this.getComponentHolder();return e.template?e.template:e.templateUrl?this.beans.templateService.getTemplate(e.templateUrl,this.refreshCell.bind(this,!0))||"":this.getValueToUse()},t.prototype.getRenderedRow=function(){return this.rowComp},t.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},t.prototype.getCellRenderer=function(){return this.cellRenderer},t.prototype.getCellEditor=function(){return this.cellEditor},t.prototype.refreshCell=function(e){if(!this.suppressRefreshCell&&!this.editingCell){var t=this.getComponentHolder(),o=e&&e.newData,n=e&&e.suppressFlash||t.suppressCellFlash,i=e&&e.forceRefresh,r=this.value;this.value=this.getValue();var s=!this.valuesAreEqual(r,this.value);if(i||s){this.valueFormatted=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,this.value),!o&&this.attemptCellRendererRefresh()||this.replaceContentsAfterRefresh();var a=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!n&&!a&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||t.enableCellChangeFlash)&&this.flashCell(),this.postProcessStylesFromColDef(),this.postProcessClassesFromColDef()}this.updateAngular1ScopeAndCompile(),this.refreshToolTip(),this.postProcessCellClassRules()}},t.prototype.flashCell=function(e){this.animateCell("data-changed",e&&e.flashDelay,e&&e.fadeDelay)},t.prototype.animateCell=function(e,t,o){var n=this,i="ag-cell-"+e,r="ag-cell-"+e+"-animation",s=this.getGui(),a=this.beans.gridOptionsWrapper;t||(t=a.getCellFlashDelay()),o||(o=a.getCellFadeDelay()),this.addCssClass(i),this.removeCssClass(r),window.setTimeout(function(){n.removeCssClass(i),n.addCssClass(r),s.style.transition="background-color "+o+"ms",window.setTimeout(function(){n.removeCssClass(r),s.style.transition=null},o)},t)},t.prototype.replaceContentsAfterRefresh=function(){Xo(this.eCellValue),this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),this.cellRendererGui=null,this.putDataIntoCellAfterRefresh(),this.updateAngular1ScopeAndCompile()},t.prototype.updateAngular1ScopeAndCompile=function(){this.beans.gridOptionsWrapper.isAngularCompileRows()&&this.scope&&(this.scope.data=da({},this.rowNode.data),this.angular1Compile())},t.prototype.angular1Compile=function(){if(this.beans.gridOptionsWrapper.isAngularCompileRows()){var e=this.getGui();if(!e.classList.contains("ng-scope")||0===e.childElementCount){var t=this.beans.$compile(e)(this.scope);this.addDestroyFunc(function(){return t.remove()})}}},t.prototype.postProcessStylesFromColDef=function(){var e=this.processStylesFromColDef();e&&pn(this.getGui(),e)},t.prototype.preProcessStylesFromColDef=function(){return Tn(this.processStylesFromColDef())},t.prototype.processStylesFromColDef=function(){var e=this.getComponentHolder();if(e.cellStyle){var t=void 0;if("function"==typeof e.cellStyle){var o={value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi()};t=(0,e.cellStyle)(o)}else t=e.cellStyle;return t}},t.prototype.postProcessClassesFromColDef=function(){var e=this;this.processClassesFromColDef(function(t){return e.addCssClass(t)})},t.prototype.preProcessClassesFromColDef=function(){var e=[];return this.processClassesFromColDef(function(t){return e.push(t)}),e},t.prototype.processClassesFromColDef=function(e){var t=this.getComponentHolder();this.beans.stylingService.processStaticCellClasses(t,{value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:t,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},e)},t.prototype.putDataIntoCellAfterRefresh=function(){var e=this.getComponentHolder();if(e.template)this.eCellValue.innerHTML=e.template;else if(e.templateUrl){var t=this.beans.templateService.getTemplate(e.templateUrl,this.refreshCell.bind(this,!0));t&&(this.eCellValue.innerHTML=t)}else if(this.chooseCellRenderer(),this.usingCellRenderer)this.createCellRendererInstance();else{var o=this.getValueToUse();null!=o&&(this.eCellValue.innerHTML=Wt(o))}},t.prototype.attemptCellRendererRefresh=function(){if(T(this.cellRenderer)||!this.cellRenderer||T(this.cellRenderer.refresh))return!1;var e=this.createCellRendererParams(),t=this.beans.userComponentFactory.createFinalParams(this.getComponentHolder(),this.cellRendererType,e),o=this.cellRenderer.refresh(t);return!0===o||void 0===o},t.prototype.refreshToolTip=function(){var e=this.getToolTip();if(this.tooltip!==e){this.createTooltipFeatureIfNeeded();var t=P(e);t&&this.tooltip===e.toString()||(this.tooltip=e,this.beans.gridOptionsWrapper.isEnableBrowserTooltips()&&(t?this.eCellValue.setAttribute("title",this.tooltip):this.eCellValue.removeAttribute("title")))}},t.prototype.valuesAreEqual=function(e,t){var o=this.getComponentHolder(),n=o?o.equals:null;return n?n(e,t):e===t},t.prototype.getToolTip=function(){var e=this.getComponentHolder(),t=this.rowNode.data;if(e.tooltipField&&P(t))return Te(t,e.tooltipField,this.column.isTooltipFieldContainsDots());var o=e.tooltipValueGetter;return o?o(da(da({api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},this.getTooltipParams()),{value:this.value})):null},t.prototype.getTooltipParams=function(){return{location:"cell",colDef:this.getComponentHolder(),column:this.getColumn(),rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.getTooltipText(),valueFormatted:this.valueFormatted}},t.prototype.getTooltipText=function(e){return void 0===e&&(e=!0),e?Wt(this.tooltip):this.tooltip},t.prototype.processCellClassRules=function(e,t){var o=this.getComponentHolder();this.beans.stylingService.processClassRules(o.cellClassRules,{value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:o,rowIndex:this.cellPosition.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext()},e,t)},t.prototype.postProcessCellClassRules=function(){var e=this;this.processCellClassRules(function(t){return e.addCssClass(t)},function(t){return e.removeCssClass(t)})},t.prototype.preProcessCellClassRules=function(){var e=[];return this.processCellClassRules(function(t){return e.push(t)},function(e){}),e},t.prototype.setUsingWrapper=function(){var e=this.getComponentHolder();if(this.rowNode.rowPinned)return this.usingWrapper=!1,this.includeSelectionComponent=!1,this.includeRowDraggingComponent=!1,void(this.includeDndSourceComponent=!1);var t="function"==typeof e.rowDrag,o="function"==typeof e.dndSource;this.includeSelectionComponent="function"==typeof e.checkboxSelection||!0===e.checkboxSelection,this.includeRowDraggingComponent=t||!0===e.rowDrag,this.includeDndSourceComponent=o||!0===e.dndSource;var n=this.beans.gridOptionsWrapper.isEnableCellTextSelection();this.usingWrapper=n||this.includeRowDraggingComponent||this.includeSelectionComponent||this.includeDndSourceComponent},t.prototype.chooseCellRenderer=function(){var e=this.getComponentHolder();if(e.template||e.templateUrl)this.usingCellRenderer=!1;else{var o=this.createCellRendererParams();this.rowNode.rowPinned&&this.beans.userComponentFactory.lookupComponentClassDef(e,"pinnedRowCellRenderer",o)?(this.cellRendererType=t.CELL_RENDERER_TYPE_PINNED,this.usingCellRenderer=!0):this.beans.userComponentFactory.lookupComponentClassDef(e,"cellRenderer",o)?(this.cellRendererType=t.CELL_RENDERER_TYPE_NORMAL,this.usingCellRenderer=!0):this.usingCellRenderer=!1}},t.prototype.createCellRendererInstance=function(e){var o=this;if(void 0===e&&(e=!1),this.usingCellRenderer){var n=this.beans.gridOptionsWrapper.isAngularCompileRows(),i=this.beans.gridOptionsWrapper.isSuppressAnimationFrame();(n||i||this.autoHeightCell)&&(e=!1);var r=this.createCellRendererParams();this.cellRendererVersion++;var s=this.afterCellRendererCreated.bind(this,this.cellRendererVersion),a=this.cellRendererType===t.CELL_RENDERER_TYPE_NORMAL;this.createCellRendererFunc=function(){o.createCellRendererFunc=null;var e=o.beans.userComponentFactory.newCellRenderer(o.getComponentHolder(),r,!a);e&&e.then(s)},e?this.beans.taskQueue.createTask(this.createCellRendererFunc,this.rowNode.rowIndex,"createTasksP2"):this.createCellRendererFunc()}},t.prototype.afterCellRendererCreated=function(e,t){this.isAlive()&&e===this.cellRendererVersion?(this.cellRenderer=t,this.cellRendererGui=this.cellRenderer.getGui(),T(this.cellRendererGui)||this.editingCell||this.eCellValue.appendChild(this.cellRendererGui)):this.beans.context.destroyBean(t)},t.prototype.createCellRendererParams=function(){var e=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValue.bind(this),setValue:function(t){return e.beans.valueService.setValue(e.rowNode,e.column,t)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,colDef:this.getComponentHolder(),column:this.column,$scope:this.scope,rowIndex:this.cellPosition.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.eCellValue,addRowCompListener:this.rowComp?this.rowComp.addEventListener.bind(this.rowComp):null,addRenderedRowListener:function(t,o){console.warn("ag-Grid: since ag-Grid .v11, params.addRenderedRowListener() is now params.addRowCompListener()"),e.rowComp&&e.rowComp.addEventListener(t,o)}}},t.prototype.formatValue=function(e){var t=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,e);return null!=t?t:e},t.prototype.getValueToUse=function(){return null!=this.valueFormatted?this.valueFormatted:this.value},t.prototype.getValueAndFormat=function(){this.value=this.getValue(),this.valueFormatted=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,this.value)},t.prototype.getValue=function(){var e=this.rowNode.leafGroup&&this.beans.columnController.isPivotMode(),t=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!e,o=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),n=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.beans.valueService.getValue(this.column,this.rowNode,!1,t&&o&&!n)},t.prototype.onMouseEvent=function(e,t){if(!mt(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t)}},t.prototype.dispatchCellContextMenuEvent=function(e){var t=this.getComponentHolder(),o=this.createEvent(e,xt.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(o),t.onCellContextMenu&&window.setTimeout(function(){return t.onCellContextMenu(o)},0)},t.prototype.createEvent=function(e,t){var o={node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.getComponentHolder(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:e,type:t,rowIndex:this.rowNode.rowIndex};return this.scope&&(o.$scope=this.scope),o},t.prototype.onMouseOut=function(e){var t=this.createEvent(e,xt.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.clearMouseOver()},t.prototype.onMouseOver=function(e){var t=this.createEvent(e,xt.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.setMouseOver([this.column])},t.prototype.onCellDoubleClicked=function(e){var t=this.getComponentHolder(),o=this.createEvent(e,xt.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(o),"function"==typeof t.onCellDoubleClicked&&window.setTimeout(function(){return t.onCellDoubleClicked(o)},0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.startRowOrCellEdit()},t.prototype.startRowOrCellEdit=function(e,t){this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowComp.startRowEditing(e,t,this):this.startEditingIfEnabled(e,t,!0)},t.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},t.prototype.startEditingIfEnabled=function(e,t,o){if(void 0===e&&(e=null),void 0===t&&(t=null),void 0===o&&(o=!1),this.isCellEditable()&&!this.editingCell){this.editingCell=!0,this.cellEditorVersion++;var n=this.afterCellEditorCreated.bind(this,this.cellEditorVersion),i=this.createCellEditorParams(e,t,o);this.createCellEditor(i).then(n),T(this.cellEditor)&&o&&this.focusCell(!0)}},t.prototype.createCellEditor=function(e){var t=this;return this.beans.userComponentFactory.newCellEditor(this.column.getColDef(),e).then(function(o){if(!o.isPopup||!o.isPopup())return o;t.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("ag-Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var n=new na(o);return t.beans.context.createBean(n),n.init(e),n})},t.prototype.afterCellEditorCreated=function(e,t){if(e===this.cellEditorVersion&&this.editingCell){if(t.isCancelBeforeStart&&t.isCancelBeforeStart())return this.beans.context.destroyBean(t),void(this.editingCell=!1);if(!t.getGui)return console.warn("ag-Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),t.render&&console.warn("ag-Grid: we found 'render' on the component, are you trying to set a React renderer but added it as colDef.cellEditor instead of colDef.cellEditorFmk?"),this.beans.context.destroyBean(t),void(this.editingCell=!1);this.cellEditor=t,this.cellEditorInPopup=void 0!==t.isPopup&&t.isPopup(),this.setInlineEditingClass(),this.cellEditorInPopup?this.addPopupCellEditor():this.addInCellEditor(),t.afterGuiAttached&&t.afterGuiAttached();var o=this.createEvent(null,xt.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(o)}else this.beans.context.destroyBean(t)},t.prototype.addInCellEditor=function(){Xo(this.getGui()),this.cellEditor&&this.getGui().appendChild(this.cellEditor.getGui()),this.angular1Compile()},t.prototype.addPopupCellEditor=function(){var e=this,t=this.cellEditor?this.cellEditor.getGui():null,o=this.beans.gridOptionsWrapper.isStopEditingWhenGridLosesFocus();this.hideEditorPopup=this.beans.popupService.addPopup({modal:o,eChild:t,closeOnEsc:!0,closedCallback:function(){e.onPopupEditorClosed()}});var n={column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:t,keepWithinBounds:!0};"under"===(this.cellEditor&&this.cellEditor.getPopupPosition?this.cellEditor.getPopupPosition():"over")?this.beans.popupService.positionPopupUnderComponent(n):this.beans.popupService.positionPopupOverComponent(n),this.angular1Compile()},t.prototype.onPopupEditorClosed=function(){this.editingCell&&(this.stopRowOrCellEdit(),this.beans.focusController.isCellFocused(this.cellPosition)&&this.focusCell(!0))},t.prototype.setInlineEditingClass=function(){if(this.isAlive()){var e=this.editingCell&&!this.cellEditorInPopup,t=this.editingCell&&this.cellEditorInPopup;this.addOrRemoveCssClass("ag-cell-inline-editing",e),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e),this.addOrRemoveCssClass("ag-cell-popup-editing",t),Lo(this.getGui().parentNode,"ag-row-inline-editing",e),Lo(this.getGui().parentNode,"ag-row-not-inline-editing",!e)}},t.prototype.createCellEditorParams=function(e,t,o){return{value:this.getValue(),keyPress:e,charPress:t,column:this.column,colDef:this.column.getColDef(),rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:o,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),$scope:this.scope,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},t.prototype.stopEditingAndFocus=function(e){void 0===e&&(e=!1),this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit()},t.prototype.parseValue=function(e){var t=this.getComponentHolder(),o={node:this.rowNode,data:this.rowNode.data,oldValue:this.value,newValue:e,colDef:t,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},n=t.valueParser;return P(n)?this.beans.expressionService.evaluate(n,o):e},t.prototype.focusCell=function(e){void 0===e&&(e=!1),this.beans.focusController.setFocusedCell(this.cellPosition.rowIndex,this.column,this.rowNode.rowPinned,e)},t.prototype.setFocusInOnEditor=function(){this.editingCell&&(this.cellEditor&&this.cellEditor.focusIn?this.cellEditor.focusIn():this.focusCell(!0))},t.prototype.isEditing=function(){return this.editingCell},t.prototype.onKeyDown=function(e){var t=e.which||e.keyCode;switch(t){case ki.ENTER:this.onEnterKeyDown(e);break;case ki.F2:this.onF2KeyDown();break;case ki.ESCAPE:this.onEscapeKeyDown();break;case ki.TAB:this.onTabKeyDown(e);break;case ki.BACKSPACE:case ki.DELETE:this.onBackspaceOrDeleteKeyPressed(t);break;case ki.DOWN:case ki.UP:case ki.RIGHT:case ki.LEFT:this.onNavigationKeyPressed(e,t)}},t.prototype.setFocusOutOnEditor=function(){this.editingCell&&this.cellEditor&&this.cellEditor.focusOut&&this.cellEditor.focusOut()},t.prototype.onNavigationKeyPressed=function(e,t){this.editingCell||(e.shiftKey&&this.rangeSelectionEnabled?this.onShiftRangeSelect(t):this.beans.rowRenderer.navigateToNextCell(e,t,this.cellPosition,!0),e.preventDefault())},t.prototype.onShiftRangeSelect=function(e){if(this.beans.rangeController){var t=this.beans.rangeController.extendLatestRangeInDirection(e);t&&this.beans.rowRenderer.ensureCellVisible(t)}},t.prototype.onTabKeyDown=function(e){this.beans.rowRenderer.onTabKeyDown(this,e)},t.prototype.onBackspaceOrDeleteKeyPressed=function(e){this.editingCell||this.startRowOrCellEdit(e)},t.prototype.onEnterKeyDown=function(e){this.editingCell||this.rowComp.isEditing()?this.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.rowRenderer.navigateToNextCell(null,ki.DOWN,this.cellPosition,!1):(this.startRowOrCellEdit(ki.ENTER),this.editingCell&&e.preventDefault())},t.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.rowRenderer.navigateToNextCell(null,ki.DOWN,this.cellPosition,!1)},t.prototype.onF2KeyDown=function(){this.editingCell||this.startRowOrCellEdit(ki.F2)},t.prototype.onEscapeKeyDown=function(){this.editingCell&&(this.stopRowOrCellEdit(!0),this.focusCell(!0))},t.prototype.onKeyPress=function(e){if(wt(e)===this.getGui()&&!this.editingCell){var t=String.fromCharCode(e.charCode);" "===t?this.onSpaceKeyPressed(e):fi(e)&&(this.startRowOrCellEdit(null,t),e.preventDefault())}},t.prototype.onSpaceKeyPressed=function(e){var t=this.beans.gridOptionsWrapper;if(!this.editingCell&&t.isRowSelection()){var o=this.rowNode.isSelected(),n=!o;if(n||!t.isSuppressRowDeselection()){var i=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),r=this.rowNode.setSelectedParams({newValue:n,rangeSelect:e.shiftKey,groupSelectsFiltered:i});void 0===o&&0===r&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:i})}}e.preventDefault()},t.prototype.onMouseDown=function(e){var t=e.ctrlKey,o=e.metaKey,n=e.shiftKey,i=e.target,r=this.beans,s=r.eventService,a=r.rangeController;if(!this.isRightClickInExistingRange(e)){if(!n||a&&!a.getCellRanges().length){var l=(Eo()||Ro())&&!this.editingCell;this.focusCell(l)}else a&&e.preventDefault();if(!this.containsWidget(i)){if(a){var u=this.cellPosition;n?a.extendLatestRangeToCell(u):a.setRangeToCell(u,t||o)}s.dispatchEvent(this.createEvent(e,xt.EVENT_CELL_MOUSE_DOWN))}}},t.prototype.isRightClickInExistingRange=function(e){var t=this.beans.rangeController;return!(!t||!t.isCellInAnyRange(this.getCellPosition())||2!==e.button)},t.prototype.containsWidget=function(e){return Bo(e,"ag-selection-checkbox",3)},t.prototype.isDoubleClickOnIPad=function(){if(!Do()||vt("dblclick"))return!1;var e=(new Date).getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t},t.prototype.onCellClicked=function(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();var t=this.beans,o=t.eventService,n=t.gridOptionsWrapper,i=this.createEvent(e,xt.EVENT_CELL_CLICKED);o.dispatchEvent(i);var r=this.getComponentHolder();r.onCellClicked&&window.setTimeout(function(){return r.onCellClicked(i)},0),(n.isSingleClickEdit()||r.singleClickEdit)&&!n.isSuppressClickEdit()&&this.startRowOrCellEdit()},t.prototype.createGridCellVo=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,column:this.column}},t.prototype.getCellPosition=function(){return this.cellPosition},t.prototype.getParentRow=function(){return this.eParentRow},t.prototype.setParentRow=function(e){this.eParentRow=e},t.prototype.getColumn=function(){return this.column},t.prototype.getComponentHolder=function(){return this.column.getColDef()},t.prototype.detach=function(){this.eParentRow.removeChild(this.getGui())},t.prototype.destroy=function(){this.createCellRendererFunc&&this.beans.taskQueue.cancelTask(this.createCellRendererFunc),this.stopEditing(),this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),this.beans.context.destroyBean(this.selectionHandle),e.prototype.destroy.call(this)},t.prototype.onLeftChanged=function(){var e=this.modifyLeftForPrintLayout(this.getCellLeft());this.getGui().style.left=e+"px",this.refreshAriaIndex()},t.prototype.modifyLeftForPrintLayout=function(e){return this.printLayout&&this.column.getPinned()!==rt.PINNED_LEFT?this.column.getPinned()===rt.PINNED_RIGHT?this.beans.columnController.getPinnedLeftContainerWidth()+this.beans.columnController.getBodyContainerWidth()+e:this.beans.columnController.getPinnedLeftContainerWidth()+e:e},t.prototype.onWidthChanged=function(){var e=this.getCellWidth();this.getGui().style.width=e+"px"},t.prototype.getRangeBorders=function(){var e,t,o=this,n=this.beans.gridOptionsWrapper.isEnableRtl(),i=!1,r=!1,s=!1,a=!1,l=this.cellPosition.column,u=this.beans,c=u.rangeController,p=u.columnController;n?(e=p.getDisplayedColAfter(l),t=p.getDisplayedColBefore(l)):(e=p.getDisplayedColBefore(l),t=p.getDisplayedColAfter(l));var d=c.getCellRanges().filter(function(e){return c.isCellInSpecificRange(o.cellPosition,e)});e||(a=!0),t||(r=!0);for(var h=0;h<d.length&&!(i&&r&&s&&a);h++){var f=d[h],g=c.getRangeStartRow(f),m=c.getRangeEndRow(f);!i&&this.beans.rowPositionUtils.sameRow(g,this.cellPosition)&&(i=!0),!s&&this.beans.rowPositionUtils.sameRow(m,this.cellPosition)&&(s=!0),!a&&f.columns.indexOf(e)<0&&(a=!0),!r&&f.columns.indexOf(t)<0&&(r=!0)}return{top:i,right:r,bottom:s,left:a}},t.prototype.getInitialRangeClasses=function(){var e=[];if(!this.rangeSelectionEnabled||!this.rangeCount)return e;e.push("ag-cell-range-selected"),this.hasChartRange&&e.push("ag-cell-range-chart");var t=Math.min(this.rangeCount,4);if(e.push("ag-cell-range-selected-"+t),this.isSingleCell()&&e.push("ag-cell-range-single-cell"),this.rangeCount>0){var o=this.getRangeBorders();o.top&&e.push("ag-cell-range-top"),o.right&&e.push("ag-cell-range-right"),o.bottom&&e.push("ag-cell-range-bottom"),o.left&&e.push("ag-cell-range-left")}return this.selectionHandle&&e.push("ag-cell-range-handle"),e},t.prototype.onRowIndexChanged=function(){this.createGridCellVo(),this.onCellFocused(),this.onRangeSelectionChanged()},t.prototype.onRangeSelectionChanged=function(){var e=this.beans.rangeController;if(e){var t=this.rangeCount,o=e.getCellRangeCount(this.cellPosition),n=this.getGui();t!==o&&(this.addOrRemoveCssClass("ag-cell-range-selected",0!==o),this.addOrRemoveCssClass("ag-cell-range-selected-1",1===o),this.addOrRemoveCssClass("ag-cell-range-selected-2",2===o),this.addOrRemoveCssClass("ag-cell-range-selected-3",3===o),this.addOrRemoveCssClass("ag-cell-range-selected-4",o>=4),this.rangeCount=o),ti(n,this.rangeCount>0);var i=this.getHasChartRange();i!==this.hasChartRange&&(this.hasChartRange=i,this.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange)),this.updateRangeBorders(),this.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.refreshHandle()}},t.prototype.getHasChartRange=function(){var e=this.beans.rangeController;if(!this.rangeCount||!e)return!1;var t=e.getCellRanges();return t.length>0&&t.every(function(e){return te([Ms.DIMENSION,Ms.VALUE],e.type)})},t.prototype.shouldHaveSelectionHandle=function(){var e=this.beans,t=e.gridOptionsWrapper,o=e.rangeController,n=o.getCellRanges(),i=n.length;if(this.rangeCount<1||i<1)return!1;var r=U(n),s=this.getCellPosition(),a=1===i&&(t.isEnableFillHandle()||t.isEnableRangeHandle())&&!this.editingCell;if(this.hasChartRange){var l=n[0].type===Ms.DIMENSION&&o.isCellInSpecificRange(s,n[0]);this.addOrRemoveCssClass("ag-cell-range-chart-category",l),a=r.type===Ms.VALUE}return a&&null!=r.endRow&&o.isContiguousRange(r)&&o.isBottomRightCell(r,s)},t.prototype.addSelectionHandle=function(){var e=this.beans,t=e.gridOptionsWrapper,o=U(e.rangeController.getCellRanges()).type,n=t.isEnableFillHandle()&&T(o)?Is.FILL:Is.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==n&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(n)),this.selectionHandle.refresh(this)},t.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},t.prototype.refreshHandle=function(){if(this.beans.rangeController){var e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},t.prototype.updateRangeBorders=function(){var e=this.getRangeBorders(),t=this.isSingleCell(),o=!t&&e.right,n=!t&&e.bottom,i=!t&&e.left;this.addOrRemoveCssClass("ag-cell-range-top",!t&&e.top),this.addOrRemoveCssClass("ag-cell-range-right",o),this.addOrRemoveCssClass("ag-cell-range-bottom",n),this.addOrRemoveCssClass("ag-cell-range-left",i)},t.prototype.onFirstRightPinnedChanged=function(){var e=this.column.isFirstRightPinned();this.firstRightPinned!==e&&(this.firstRightPinned=e,this.addOrRemoveCssClass("ag-cell-first-right-pinned",e))},t.prototype.onLastLeftPinnedChanged=function(){var e=this.column.isLastLeftPinned();this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.addOrRemoveCssClass("ag-cell-last-left-pinned",e))},t.prototype.populateTemplate=function(){this.usingWrapper?(this.eCellValue=this.getRefElement("eCellValue"),this.eCellWrapper=this.getRefElement("eCellWrapper"),this.includeRowDraggingComponent&&this.addRowDragging(),this.includeDndSourceComponent&&this.addDndSource(),this.includeSelectionComponent&&this.addSelectionCheckbox()):this.eCellValue=this.getGui()},t.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},t.prototype.addRowDragging=function(){var e=this,t=this.beans.gridOptionsWrapper.isPagination(),o=this.beans.gridOptionsWrapper.isRowDragManaged(),n=this.beans.gridOptionsWrapper.isRowModelDefault();if(o){if(!n)return void Me(function(){return console.warn("ag-Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");if(t)return void Me(function(){return console.warn("ag-Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging")}var i=new Zs(this.rowNode,this.column,function(){return e.value},this.beans);this.createManagedBean(i,this.beans.context),this.eCellWrapper.insertBefore(i.getGui(),this.eCellValue)},t.prototype.addDndSource=function(){var e=new ra(this.rowNode,this.column,this.getValueToUse(),this.beans,this.getGui());this.createManagedBean(e,this.beans.context),this.eCellWrapper.insertBefore(e.getGui(),this.eCellValue)},t.prototype.addSelectionCheckbox=function(){var e=this,t=new mr;this.beans.context.createBean(t);var o=this.getComponentHolder().checkboxSelection;t.init({rowNode:this.rowNode,column:this.column,visibleFunc:o="function"==typeof o?o:null}),this.addDestroyFunc(function(){return e.beans.context.destroyBean(t)}),this.eCellWrapper.insertBefore(t.getGui(),this.eCellValue)},t.prototype.addDomData=function(){var e=this,o=this.getGui();this.beans.gridOptionsWrapper.setDomData(o,t.DOM_DATA_KEY_CELL_COMP,this),this.addDestroyFunc(function(){return e.beans.gridOptionsWrapper.setDomData(o,t.DOM_DATA_KEY_CELL_COMP,null)})},t.prototype.isSingleCell=function(){var e=this.beans.rangeController;return 1===this.rangeCount&&e&&!e.isMoreThanOneCell()},t.prototype.onCellFocused=function(e){var t=this.beans.focusController.isCellFocused(this.cellPosition);if(t!==this.cellFocused&&(!this.beans.gridOptionsWrapper.isSuppressCellSelection()&&this.addOrRemoveCssClass("ag-cell-focus",t),this.cellFocused=t),t&&e&&e.forceBrowserFocus){var o=this.getFocusableElement();o.focus(),document.activeElement&&document.activeElement!==document.body||o.focus()}var n=this.beans.gridOptionsWrapper.isFullRowEdit();t||n||!this.editingCell||this.stopRowOrCellEdit()},t.prototype.stopRowOrCellEdit=function(e){void 0===e&&(e=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowComp.stopRowEditing(e):this.stopEditing(e)},t.prototype.stopEditing=function(e){if(void 0===e&&(e=!1),this.editingCell)if(this.cellEditor){var t,o=this.getValue(),n=!1;if(e||this.cellEditor.isCancelAfterEnd&&this.cellEditor.isCancelAfterEnd()||(t=this.cellEditor.getValue(),n=!0),this.editingCell=!1,this.cellEditor=this.beans.context.destroyBean(this.cellEditor),this.cellEditor=null,this.cellEditorInPopup&&this.hideEditorPopup)this.hideEditorPopup(),this.hideEditorPopup=null;else if(Xo(this.getGui()),this.usingWrapper)this.getGui().appendChild(this.eCellWrapper);else if(this.cellRenderer){var i=this.cellRendererGui;i&&this.getGui().appendChild(i)}this.setInlineEditingClass(),this.refreshHandle(),n&&t!==o&&(this.suppressRefreshCell=!0,this.rowNode.setDataValue(this.column,t),this.suppressRefreshCell=!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0});var r=da(da({},this.createEvent(null,xt.EVENT_CELL_EDITING_STOPPED)),{oldValue:o,newValue:t});this.beans.eventService.dispatchEvent(r)}else this.editingCell=!1},t.DOM_DATA_KEY_CELL_COMP="cellComp",t.CELL_RENDERER_TYPE_NORMAL="cellRenderer",t.CELL_RENDERER_TYPE_PINNED="pinnedRowCellRenderer",t}(Ni),fa=function(){return(fa=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},ga=function(){function e(){}return e.createChildScopeOrNull=function(e,t,o){if(!o.isAngularCompileRows())return null;var n=t.$new();return n.data=fa({},e.data),n.rowNode=e,n.context=o.getContext(),{scope:n,scopeDestroyFunc:function(){n.$destroy(),n.data=null,n.rowNode=null,n.context=null}}},e}(),ma=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ya=function(e){function t(t,o,n,i,r,s,a,l,u,c,p){var d=e.call(this)||this;return d.eAllRowContainers=[],d.fullWidthRowDestroyFuncs=[],d.active=!0,d.rowContainerReadyCount=0,d.refreshNeeded=!1,d.columnRefreshPending=!1,d.cellComps={},d.createSecondPassFuncs=[],d.removeFirstPassFuncs=[],d.removeSecondPassFuncs=[],d.initialised=!1,d.elementOrderChanged=!1,d.lastMouseDownOnDragger=!1,d.parentScope=t,d.beans=a,d.bodyContainerComp=o,d.pinnedLeftContainerComp=n,d.pinnedRightContainerComp=i,d.fullWidthContainerComp=r,d.rowNode=s,d.rowIsEven=d.rowNode.rowIndex%2==0,d.paginationPage=d.beans.paginationProxy.getCurrentPage(),d.useAnimationFrameForCreate=u,d.printLayout=c,d.embedFullWidth=p,d.setAnimateFlags(l),d}return ma(t,e),t.prototype.init=function(){var e=this;this.rowFocused=this.beans.focusController.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.setupAngular1Scope(),this.rowLevel=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setupRowContainers(),this.addListeners(),this.slideRowIn&&this.createSecondPassFuncs.push(function(){e.onTopChanged()}),this.fadeRowIn&&this.createSecondPassFuncs.push(function(){e.eAllRowContainers.forEach(function(e){return Mo(e,"ag-opacity-zero")})})},t.prototype.setupAngular1Scope=function(){var e=ga.createChildScopeOrNull(this.rowNode,this.parentScope,this.beans.gridOptionsWrapper);e&&(this.scope=e.scope,this.addDestroyFunc(e.scopeDestroyFunc))},t.prototype.createTemplate=function(e,t){void 0===t&&(t=null);var o=[],n=this.rowNode.rowHeight,i=this.getInitialRowClasses(t).join(" "),r=Wt(this.rowNode.id),s=this.preProcessStylesFromGridOptions(),a=this.getRowBusinessKey(),l=Wt(a),u=this.getInitialRowTopStyle(),c=this.rowNode.getRowIndexString(),p=this.beans.headerNavigationService.getHeaderRowCount();return o.push("<div"),o.push(' role="row"'),o.push(' row-index="'+c+'" aria-rowindex="'+(p+this.rowNode.rowIndex+1)+'"'),o.push(r?' row-id="'+r+'"':""),o.push(a?' row-business-key="'+l+'"':""),o.push(' comp-id="'+this.getCompId()+'"'),o.push(' class="'+i+'"'),this.beans.gridOptionsWrapper.isRowSelection()&&o.push(' aria-selected="'+(this.rowNode.isSelected()?"true":"false")+'"'),this.rowNode.group&&o.push(" aria-expanded="+(this.rowNode.expanded?"true":"false")),o.push(' style="height: '+n+"px; "+u+" "+s+'">'),o.push(e),o.push("</div>"),o.join("")},t.prototype.getCellForCol=function(e){var t=this.cellComps[e.getColId()];return t?t.getGui():null},t.prototype.afterFlush=function(){this.initialised||(this.initialised=!0,this.executeProcessRowPostCreateFunc())},t.prototype.executeProcessRowPostCreateFunc=function(){var e=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();e&&e({eRow:this.eBodyRow,ePinnedLeftRow:this.ePinnedLeftRow,ePinnedRightRow:this.ePinnedRightRow,node:this.rowNode,api:this.beans.gridOptionsWrapper.getApi(),rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()})},t.prototype.getInitialRowTopStyle=function(){if(this.printLayout)return"";var e=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,t=this.applyPaginationOffset(e),o=this.rowNode.isRowPinned()?t:this.beans.maxDivHeightScaler.getRealPixelPosition(t);return this.beans.gridOptionsWrapper.isSuppressRowTransform()?"top: "+o+"px; ":"transform: translateY("+o+"px);"},t.prototype.getRowBusinessKey=function(){var e=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"==typeof e)return e(this.rowNode)},t.prototype.areAllContainersReady=function(){return 3===this.rowContainerReadyCount},t.prototype.lazyCreateCells=function(e,t){if(this.active){var o=this.createCells(e);t.innerHTML=o.template,this.callAfterRowAttachedOnCells(o.cellComps,t),this.rowContainerReadyCount++,this.areAllContainersReady()&&this.refreshNeeded&&this.refreshCells()}},t.prototype.createRowContainer=function(e,t,o){var n=this,i=this.useAnimationFrameForCreate,r=i?{cellComps:[],template:""}:this.createCells(t),s=this.createTemplate(r.template);e.appendRowTemplate(s,function(){var s=e.getRowElement(n.getCompId());n.refreshAriaLabel(s,n.rowNode.isSelected()),n.afterRowAttached(e,s),o(s),i?n.beans.taskQueue.createTask(n.lazyCreateCells.bind(n,t,s),n.rowNode.rowIndex,"createTasksP1"):(n.callAfterRowAttachedOnCells(r.cellComps,s),n.rowContainerReadyCount=3)})},t.prototype.setupRowContainers=function(){var e=this.rowNode.isFullWidthCell(),o=this.beans.doingMasterDetail&&this.rowNode.detail,n=this.beans.columnController.isPivotMode(),i=this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(n);this.rowNode.stub?this.createFullWidthRows(t.LOADING_CELL_RENDERER,t.LOADING_CELL_RENDERER_COMP_NAME,!1):o?this.createFullWidthRows(t.DETAIL_CELL_RENDERER,t.DETAIL_CELL_RENDERER_COMP_NAME,!0):e?this.createFullWidthRows(t.FULL_WIDTH_CELL_RENDERER,null,!1):i?this.createFullWidthRows(t.GROUP_ROW_RENDERER,t.GROUP_ROW_RENDERER_COMP_NAME,!1):this.setupNormalRowContainers()},t.prototype.setupNormalRowContainers=function(){var e,t=this,o=[],n=[];this.printLayout?e=this.beans.columnController.getAllDisplayedColumns():(e=this.beans.columnController.getAllDisplayedCenterVirtualColumnsForRow(this.rowNode),o=this.beans.columnController.getDisplayedLeftColumnsForRow(this.rowNode),n=this.beans.columnController.getDisplayedRightColumnsForRow(this.rowNode)),this.createRowContainer(this.bodyContainerComp,e,function(e){return t.eBodyRow=e}),this.createRowContainer(this.pinnedRightContainerComp,n,function(e){return t.ePinnedRightRow=e}),this.createRowContainer(this.pinnedLeftContainerComp,o,function(e){return t.ePinnedLeftRow=e})},t.prototype.createFullWidthRows=function(e,t,o){var n=this;if(this.fullWidthRow=!0,this.embedFullWidth){if(this.createFullWidthRowContainer(this.bodyContainerComp,null,null,e,t,function(e){n.eFullWidthRowBody=e},function(e){n.fullWidthRowComponentBody=e},o),this.printLayout)return;this.createFullWidthRowContainer(this.pinnedLeftContainerComp,rt.PINNED_LEFT,"ag-cell-last-left-pinned",e,t,function(e){n.eFullWidthRowLeft=e},function(e){n.fullWidthRowComponentLeft=e},o),this.createFullWidthRowContainer(this.pinnedRightContainerComp,rt.PINNED_RIGHT,"ag-cell-first-right-pinned",e,t,function(e){n.eFullWidthRowRight=e},function(e){n.fullWidthRowComponentRight=e},o)}else this.createFullWidthRowContainer(this.fullWidthContainerComp,null,null,e,t,function(e){n.eFullWidthRow=e},function(e){n.fullWidthRowComponent=e},o)},t.prototype.setAnimateFlags=function(e){if(e){var t=P(this.rowNode.oldRowTop);this.slideRowIn=t,this.fadeRowIn=!t}else this.slideRowIn=!1,this.fadeRowIn=!1},t.prototype.isEditing=function(){return this.editingRow},t.prototype.stopRowEditing=function(e){this.stopEditing(e)},t.prototype.isFullWidth=function(){return this.fullWidthRow},t.prototype.refreshFullWidth=function(){var e=this,t=function(t,o,n){if(!t||!o)return!0;if(!o.refresh)return!1;var i=e.createFullWidthParams(t,n);return o.refresh(i)},o=t(this.eFullWidthRow,this.fullWidthRowComponent,null),n=t(this.eFullWidthRowBody,this.fullWidthRowComponentBody,null),i=t(this.eFullWidthRowLeft,this.fullWidthRowComponentLeft,rt.PINNED_LEFT),r=t(this.eFullWidthRowRight,this.fullWidthRowComponentRight,rt.PINNED_RIGHT);return o&&n&&i&&r},t.prototype.addListeners=function(){this.addManagedListener(this.rowNode,hr.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,hr.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,hr.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,hr.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,hr.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,hr.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,hr.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,hr.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,hr.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,hr.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,hr.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var e=this.beans.eventService;this.addManagedListener(e,xt.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(e,xt.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,xt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,xt.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,xt.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(e,xt.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,xt.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,xt.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(e,xt.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},t.prototype.addListenersForCellComps=function(){var e=this;this.addManagedListener(this.rowNode,hr.EVENT_ROW_INDEX_CHANGED,function(){e.forEachCellComp(function(e){return e.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,hr.EVENT_CELL_CHANGED,function(t){e.forEachCellComp(function(e){return e.onCellChanged(t)})})},t.prototype.onRowNodeDataChanged=function(e){this.forEachCellComp(function(t){return t.refreshCell({suppressFlash:!e.update,newData:!e.update})}),this.onRowSelected(),this.postProcessCss()},t.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},t.prototype.postProcessCss=function(){this.postProcessStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},t.prototype.onRowNodeHighlightChanged=function(){var e=this.rowNode.highlighted;this.eAllRowContainers.forEach(function(t){Mo(t,"ag-row-highlight-above"),Mo(t,"ag-row-highlight-below"),e&&Io(t,"ag-row-highlight-"+e)})},t.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},t.prototype.postProcessRowDragging=function(){var e=this.rowNode.dragging;this.eAllRowContainers.forEach(function(t){return Lo(t,"ag-row-dragging",e)})},t.prototype.updateExpandedCss=function(){var e=this.rowNode.isExpandable(),t=1==this.rowNode.expanded;this.eAllRowContainers.forEach(function(o){Lo(o,"ag-row-group",e),Lo(o,"ag-row-group-expanded",e&&t),Lo(o,"ag-row-group-contracted",e&&!t),jn(o,e&&t)})},t.prototype.onDisplayedColumnsChanged=function(){this.fullWidthRow||this.refreshCells()},t.prototype.destroyFullWidthComponents=function(){this.fullWidthRowDestroyFuncs.forEach(function(e){return e()}),this.fullWidthRowDestroyFuncs=[],this.fullWidthRowComponent&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,null,this.fullWidthRowComponent),this.fullWidthRowComponent=null),this.fullWidthRowComponentBody&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,null,this.fullWidthRowComponentBody),this.fullWidthRowComponentBody=null),this.fullWidthRowComponentLeft&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,rt.PINNED_LEFT,this.fullWidthRowComponentLeft),this.fullWidthRowComponentLeft=null),this.fullWidthRowComponentRight&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,rt.PINNED_RIGHT,this.fullWidthRowComponentRight),this.fullWidthRowComponentRight=null)},t.prototype.getContainerForCell=function(e){switch(e){case rt.PINNED_LEFT:return this.ePinnedLeftRow;case rt.PINNED_RIGHT:return this.ePinnedRightRow;default:return this.eBodyRow}},t.prototype.onVirtualColumnsChanged=function(){this.fullWidthRow||this.refreshCells()},t.prototype.onColumnResized=function(){this.fullWidthRow||this.refreshCells()},t.prototype.refreshCells=function(){if(this.areAllContainersReady())if(this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout)this.refreshCellsInAnimationFrame();else{if(this.columnRefreshPending)return;this.beans.taskQueue.createTask(this.refreshCellsInAnimationFrame.bind(this),this.rowNode.rowIndex,"createTasksP1")}else this.refreshNeeded=!0},t.prototype.refreshCellsInAnimationFrame=function(){if(this.active){var e,t,o;this.columnRefreshPending=!1,this.printLayout?(e=this.beans.columnController.getAllDisplayedColumns(),t=[],o=[]):(e=this.beans.columnController.getAllDisplayedCenterVirtualColumnsForRow(this.rowNode),t=this.beans.columnController.getDisplayedLeftColumnsForRow(this.rowNode),o=this.beans.columnController.getDisplayedRightColumnsForRow(this.rowNode)),this.insertCellsIntoContainer(this.eBodyRow,e),this.insertCellsIntoContainer(this.ePinnedLeftRow,t),this.insertCellsIntoContainer(this.ePinnedRightRow,o),this.elementOrderChanged=!1;var n=Object.keys(this.cellComps);e.forEach(function(e){return Q(n,e.getId())}),t.forEach(function(e){return Q(n,e.getId())}),o.forEach(function(e){return Q(n,e.getId())});var i=n.filter(this.isCellEligibleToBeRemoved.bind(this));this.destroyCells(i)}},t.prototype.onColumnMoved=function(){this.elementOrderChanged=!0},t.prototype.destroyCells=function(e){var t=this;e.forEach(function(e){var o=t.cellComps[e];T(o)||(o.detach(),o.destroy(),t.cellComps[e]=null)})},t.prototype.isCellEligibleToBeRemoved=function(e){var t=this.beans.columnController.getAllDisplayedColumns(),o=this.cellComps[e];if(!o||this.isCellInWrongRow(o))return!0;var n=o.isEditing(),i=this.beans.focusController.isCellFocused(o.getCellPosition());if(n||i){var r=o.getColumn();return!(t.indexOf(r)>=0)}return!0},t.prototype.ensureCellInCorrectContainer=function(e){if(!this.printLayout){var t=e.getGui(),o=e.getColumn().getPinned(),n=this.getContainerForCell(o),i=e.getParentRow();i!==n&&(i&&i.removeChild(t),n.appendChild(t),e.setParentRow(n),this.elementOrderChanged=!0)}},t.prototype.isCellInWrongRow=function(e){var t=e.getColumn(),o=this.getContainerForCell(t.getPinned());return e.getParentRow()!==o},t.prototype.insertCellsIntoContainer=function(e,t){var o=this;if(e){var n=[],i=[];if(t.forEach(function(t){var r=t.getId(),s=o.cellComps[r];s&&s.getColumn()==t?o.ensureCellInCorrectContainer(s):(s&&o.destroyCells([r]),o.createNewCell(t,e,n,i))}),n.length>0&&(on(e,n.join("")),this.callAfterRowAttachedOnCells(i,e)),this.elementOrderChanged&&this.beans.gridOptionsWrapper.isEnsureDomOrder()){var r=t.map(function(e){return o.getCellForCol(e)});ln(e,r)}}},t.prototype.addDomData=function(e){var o=this.beans.gridOptionsWrapper;o.setDomData(e,t.DOM_DATA_KEY_RENDERED_ROW,this),this.addDestroyFunc(function(){o.setDomData(e,t.DOM_DATA_KEY_RENDERED_ROW,null)})},t.prototype.createNewCell=function(e,t,o,n){var i=new ha(this.scope,this.beans,e,this.rowNode,this,!1,this.printLayout),r=i.getCreateTemplate();o.push(r),n.push(i),this.cellComps[e.getId()]=i,i.setParentRow(t),this.elementOrderChanged=!0},t.prototype.onMouseEvent=function(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"mousedown":this.onRowMouseDown(t)}},t.prototype.createRowEvent=function(e,t){return{type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:t}},t.prototype.createRowEventWithSource=function(e,t){var o=this.createRowEvent(e,t);return o.source=this,o},t.prototype.onRowDblClick=function(e){if(!mt(e)){var t=this.createRowEventWithSource(xt.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(t)}},t.prototype.onRowMouseDown=function(e){this.lastMouseDownOnDragger=Bo(e.target,"ag-row-drag",3)},t.prototype.onRowClick=function(e){if(!mt(e)&&!this.lastMouseDownOnDragger){var t=this.createRowEventWithSource(xt.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(t);var o=e.ctrlKey||e.metaKey,n=e.shiftKey;if(!(this.beans.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var i=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),r=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();this.rowNode.isSelected()?i?this.rowNode.setSelectedParams({newValue:!1}):o?r&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!0}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!i&&!o,rangeSelect:n})}}},t.prototype.createFullWidthRowContainer=function(e,t,o,n,i,r,s,a){var l=this,u=this.createTemplate("",o);e.appendRowTemplate(u,function(){var o=e.getRowElement(l.getCompId()),u=l.createFullWidthParams(o,t),c=function(e){if(l.isAlive()){var t=e.getGui();o.appendChild(t),a&&l.setupDetailRowAutoHeight(t),s(e)}else l.beans.context.destroyBean(e)},p=l.beans.detailRowCompCache.get(l.rowNode,t);if(p)c(p);else{var d=l.beans.userComponentFactory.newFullWidthCellRenderer(u,n,i);if(!d){var h=st.isRegistered(tt.MasterDetailModule);return void("agDetailCellRenderer"!==i||h?console.error("ag-Grid: fullWidthCellRenderer "+i+" not found"):console.warn("ag-Grid: cell renderer agDetailCellRenderer (for master detail) not found. Did you forget to include the master detail module?"))}d.then(c)}l.afterRowAttached(e,o),r(o),l.angular1Compile(o)})},t.prototype.setupDetailRowAutoHeight=function(e){var t=this;if(this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var o=function(){var o=e.clientHeight;null!=o&&o>0&&t.beans.frameworkOverrides.setTimeout(function(){t.rowNode.setRowHeight(o),t.beans.clientSideRowModel?t.beans.clientSideRowModel.onRowHeightChanged():t.beans.serverSideRowModel&&t.beans.serverSideRowModel.onRowHeightChanged()},0)},n=this.beans.resizeObserverService.observeResize(e,o);this.fullWidthRowDestroyFuncs.push(n),o()}},t.prototype.angular1Compile=function(e){this.scope&&this.beans.$compile(e)(this.scope)},t.prototype.createFullWidthParams=function(e,t){return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,$scope:this.scope?this.scope:this.parentScope,$compile:this.beans.$compile,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this)}},t.prototype.getInitialRowClasses=function(e){var t={rowNode:this.rowNode,extraCssClass:e,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowIsEven,rowLevel:this.rowLevel,fullWidthRow:this.fullWidthRow,firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),scope:this.scope};return this.beans.rowCssClassCalculator.getInitialRowClasses(t)},t.prototype.onUiLevelChanged=function(){var e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){var t="ag-row-level-"+e,o="ag-row-level-"+this.rowLevel;this.eAllRowContainers.forEach(function(e){Io(e,t),Mo(e,o)})}this.rowLevel=e},t.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},t.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},t.prototype.onModelUpdated=function(){var e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.eAllRowContainers.forEach(function(t){return Lo(t,"ag-row-first",e)})),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.eAllRowContainers.forEach(function(e){return Lo(e,"ag-row-last",t)}))},t.prototype.stopEditing=function(e){if(void 0===e&&(e=!1),this.forEachCellComp(function(t){t.stopEditing(e)}),this.editingRow){if(!e){var t=this.createRowEvent(xt.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(t)}this.setEditingRow(!1)}},t.prototype.setEditingRow=function(e){this.editingRow=e,this.eAllRowContainers.forEach(function(t){return Lo(t,"ag-row-editing",e)});var t=this.createRowEvent(e?xt.EVENT_ROW_EDITING_STARTED:xt.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(t)},t.prototype.startRowEditing=function(e,t,o){void 0===e&&(e=null),void 0===t&&(t=null),void 0===o&&(o=null),this.editingRow||(this.forEachCellComp(function(n){var i=n===o;i?n.startEditingIfEnabled(e,t,i):n.startEditingIfEnabled(null,null,i)}),this.setEditingRow(!0))},t.prototype.forEachCellComp=function(e){fe(this.cellComps,function(t,o){o&&e(o)})},t.prototype.postProcessClassesFromGridOptions=function(){var e=this,t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);t&&t.length&&t.forEach(function(t){e.eAllRowContainers.forEach(function(e){return Io(e,t)})})},t.prototype.postProcessRowClassRules=function(){var e=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,this.scope,function(t){e.eAllRowContainers.forEach(function(e){return Io(e,t)})},function(t){e.eAllRowContainers.forEach(function(e){return Mo(e,t)})})},t.prototype.preProcessStylesFromGridOptions=function(){return Tn(this.processStylesFromGridOptions())},t.prototype.postProcessStylesFromGridOptions=function(){var e=this.processStylesFromGridOptions();this.eAllRowContainers.forEach(function(t){return pn(t,e)})},t.prototype.processStylesFromGridOptions=function(){var e=this.beans.gridOptionsWrapper.getRowStyle();if(!e||"function"!=typeof e){var t,o=this.beans.gridOptionsWrapper.getRowStyleFunc();return o&&(t=o({data:this.rowNode.data,node:this.rowNode,api:this.beans.gridOptionsWrapper.getApi(),context:this.beans.gridOptionsWrapper.getContext(),$scope:this.scope})),_e({},e,t)}console.warn("ag-Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},t.prototype.createCells=function(e){var t=this,o=[],n=[];return e.forEach(function(e){var i=new ha(t.scope,t.beans,e,t.rowNode,t,!1,t.printLayout),r=i.getCreateTemplate();o.push(r),n.push(i),t.cellComps[e.getId()]=i}),{template:o.join(""),cellComps:n}},t.prototype.onRowSelected=function(){var e=this,t=this.rowNode.isSelected();this.eAllRowContainers.forEach(function(o){ti(o,t),Lo(o,"ag-row-selected",t),e.refreshAriaLabel(o,t)})},t.prototype.refreshAriaLabel=function(e,t){t&&this.beans.gridOptionsWrapper.isSuppressRowDeselection()?e.removeAttribute("aria-label"):kn(e,"Press SPACE to "+(t?"deselect":"select")+" this row.")},t.prototype.callAfterRowAttachedOnCells=function(e,t){var o=this;e.forEach(function(e){e.setParentRow(t),e.afterAttached(),o.editingRow&&e.startEditingIfEnabled()})},t.prototype.afterRowAttached=function(e,t){var o=this;this.addDomData(t),this.removeSecondPassFuncs.push(function(){e.removeRowElement(t)}),this.removeFirstPassFuncs.push(function(){if(P(o.rowNode.rowTop)){var e=o.roundRowTopToBounds(o.rowNode.rowTop);o.setRowTop(e)}else Io(t,"ag-opacity-zero")}),this.eAllRowContainers.push(t),this.useAnimationFrameForCreate?this.beans.taskQueue.createTask(this.addHoverFunctionality.bind(this,t),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t)},t.prototype.addHoverFunctionality=function(e){var t=this;this.active&&(this.addManagedListener(e,"mouseenter",function(){return t.rowNode.onMouseEnter()}),this.addManagedListener(e,"mouseleave",function(){return t.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,hr.EVENT_MOUSE_ENTER,function(){t.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||Io(e,"ag-row-hover")}),this.addManagedListener(this.rowNode,hr.EVENT_MOUSE_LEAVE,function(){Mo(e,"ag-row-hover")}))},t.prototype.roundRowTopToBounds=function(e){var t=this.beans.gridPanel.getVScrollPosition(),o=this.applyPaginationOffset(t.top,!0)-100,n=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(o,e),n)},t.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},t.prototype.onRowHeightChanged=function(){if(P(this.rowNode.rowHeight)){var e=this.rowNode.rowHeight+"px";this.eAllRowContainers.forEach(function(t){return t.style.height=e})}},t.prototype.addEventListener=function(t,o){"renderedRowRemoved"!==t&&"rowRemoved"!==t||(t=xt.EVENT_VIRTUAL_ROW_REMOVED,console.warn("ag-Grid: Since version 11, event renderedRowRemoved is now called "+xt.EVENT_VIRTUAL_ROW_REMOVED)),e.prototype.addEventListener.call(this,t,o)},t.prototype.removeEventListener=function(t,o){"renderedRowRemoved"!==t&&"rowRemoved"!==t||(t=xt.EVENT_VIRTUAL_ROW_REMOVED,console.warn("ag-Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+xt.EVENT_VIRTUAL_ROW_REMOVED)),e.prototype.removeEventListener.call(this,t,o)},t.prototype.destroy=function(t){void 0===t&&(t=!1),this.active=!1,this.destroyFullWidthComponents(),t?(this.removeFirstPassFuncs.forEach(function(e){return e()}),this.removeSecondPassFuncs.push(this.destroyContainingCells.bind(this))):(this.destroyContainingCells(),this.getAndClearDelayedDestroyFunctions().forEach(function(e){return e()}));var o=this.createRowEvent(xt.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(o),this.beans.eventService.dispatchEvent(o),e.prototype.destroy.call(this)},t.prototype.destroyContainingCells=function(){var e=Object.keys(this.cellComps);this.destroyCells(e)},t.prototype.getAndClearDelayedDestroyFunctions=function(){var e=this.removeSecondPassFuncs;return this.removeSecondPassFuncs=[],e},t.prototype.onCellFocusChanged=function(){var e=this.beans.focusController.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.eAllRowContainers.forEach(function(t){return Lo(t,"ag-row-focus",e)}),this.eAllRowContainers.forEach(function(t){return Lo(t,"ag-row-no-focus",!e)}),this.rowFocused=e),!e&&this.editingRow&&this.stopEditing(!1)},t.prototype.onPaginationChanged=function(){var e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged())},t.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},t.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},t.prototype.applyPaginationOffset=function(e,t){return void 0===t&&(t=!1),this.rowNode.isRowPinned()?e:e+this.beans.paginationProxy.getPixelOffset()*(t?1:-1)},t.prototype.setRowTop=function(e){if(!this.printLayout&&P(e)){var t=this.applyPaginationOffset(e),o=(this.rowNode.isRowPinned()?t:this.beans.maxDivHeightScaler.getRealPixelPosition(t))+"px";this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.eAllRowContainers.forEach(function(e){return e.style.top=o}):this.eAllRowContainers.forEach(function(e){return e.style.transform="translateY("+o+")"})}},t.prototype.getAndClearNextVMTurnFunctions=function(){var e=this.createSecondPassFuncs;return this.createSecondPassFuncs=[],e},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getRenderedCellForColumn=function(e){var t=this,o=this.cellComps[e.getColId()];if(o)return o;var n=Object.keys(this.cellComps).map(function(e){return t.cellComps[e]}).filter(function(t){return t&&-1!==t.getColSpanningList().indexOf(e)});return n.length?n[0]:void 0},t.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes())},t.prototype.updateRowIndexes=function(){var e=this,t=this.rowNode.getRowIndexString(),o=this.rowNode.rowIndex%2==0,n=this.rowIsEven!==o,i=this.beans.headerNavigationService.getHeaderRowCount();n&&(this.rowIsEven=o),this.eAllRowContainers.forEach(function(r){r.setAttribute("row-index",t),$n(r,i+e.rowNode.rowIndex+1),n&&(Lo(r,"ag-row-even",o),Lo(r,"ag-row-odd",!o))})},t.prototype.ensureDomOrder=function(){[{el:this.getBodyRowElement(),ct:this.bodyContainerComp},{el:this.getPinnedLeftRowElement(),ct:this.pinnedLeftContainerComp},{el:this.getPinnedRightRowElement(),ct:this.pinnedRightContainerComp},{el:this.getFullWidthRowElement(),ct:this.fullWidthContainerComp}].forEach(function(e){e.el&&e.ct.ensureDomOrder(e.el)})},t.prototype.getPinnedLeftRowElement=function(){return this.ePinnedLeftRow?this.ePinnedLeftRow:this.eFullWidthRowLeft},t.prototype.getPinnedRightRowElement=function(){return this.ePinnedRightRow?this.ePinnedRightRow:this.eFullWidthRowRight},t.prototype.getBodyRowElement=function(){return this.eBodyRow?this.eBodyRow:this.eFullWidthRowBody},t.prototype.getFullWidthRowElement=function(){return this.eFullWidthRow},t.DOM_DATA_KEY_RENDERED_ROW="renderedRow",t.FULL_WIDTH_CELL_RENDERER="fullWidthCellRenderer",t.GROUP_ROW_RENDERER="groupRowRenderer",t.GROUP_ROW_RENDERER_COMP_NAME="agGroupRowRenderer",t.LOADING_CELL_RENDERER="loadingCellRenderer",t.LOADING_CELL_RENDERER_COMP_NAME="agLoadingCellRenderer",t.DETAIL_CELL_RENDERER="detailCellRenderer",t.DETAIL_CELL_RENDERER_COMP_NAME="agDetailCellRenderer",t}(Ni),va=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ca=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ba=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.destroyFuncsForColumnListeners=[],t.rowCompsByIndex={},t.floatingTopRowComps=[],t.floatingBottomRowComps=[],t.refreshInProgress=!1,t}return va(t,e),t.prototype.registerGridCore=function(e){this.gridCore=e},t.prototype.getGridCore=function(){return this.gridCore},t.prototype.agWire=function(e){this.logger=e.create("RowRenderer")},t.prototype.registerGridComp=function(e){this.gridPanel=e,this.rowContainers=this.gridPanel.getRowContainers(),this.addManagedListener(this.eventService,xt.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ls.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.registerCellEventListeners(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===rt.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},t.prototype.registerCellEventListeners=function(){var e=this;this.addManagedListener(this.eventService,xt.EVENT_CELL_FOCUSED,function(t){e.forEachCellComp(function(e){return e.onCellFocused(t)})}),this.addManagedListener(this.eventService,xt.EVENT_FLASH_CELLS,function(t){e.forEachCellComp(function(e){return e.onFlashCells(t)})}),this.addManagedListener(this.eventService,xt.EVENT_COLUMN_HOVER_CHANGED,function(){e.forEachCellComp(function(e){return e.onColumnHover()})}),this.addManagedListener(this.eventService,xt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){e.printLayout&&e.forEachCellComp(function(e){return e.onLeftChanged()})}),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,xt.EVENT_RANGE_SELECTION_CHANGED,function(){e.forEachCellComp(function(e){return e.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,xt.EVENT_COLUMN_MOVED,function(){e.forEachCellComp(function(e){return e.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,xt.EVENT_COLUMN_PINNED,function(){e.forEachCellComp(function(e){return e.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,xt.EVENT_COLUMN_VISIBLE,function(){e.forEachCellComp(function(e){return e.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,xt.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},t.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(e){return e()}),this.destroyFuncsForColumnListeners.length=0},t.prototype.refreshListenersToColumnsForCellComps=function(){var e=this;this.removeGridColumnListeners();var t=this.columnController.getAllGridColumns();t&&t.forEach(function(t){var o=function(o){e.forEachCellComp(function(e){e.getColumn()===t&&o(e)})},n=function(){o(function(e){return e.onLeftChanged()})},i=function(){o(function(e){return e.onWidthChanged()})},r=function(){o(function(e){return e.onFirstRightPinnedChanged()})},s=function(){o(function(e){return e.onLastLeftPinnedChanged()})};t.addEventListener(lt.EVENT_LEFT_CHANGED,n),t.addEventListener(lt.EVENT_WIDTH_CHANGED,i),t.addEventListener(lt.EVENT_FIRST_RIGHT_PINNED_CHANGED,r),t.addEventListener(lt.EVENT_LAST_LEFT_PINNED_CHANGED,s),e.destroyFuncsForColumnListeners.push(function(){t.removeEventListener(lt.EVENT_LEFT_CHANGED,n),t.removeEventListener(lt.EVENT_WIDTH_CHANGED,i),t.removeEventListener(lt.EVENT_FIRST_RIGHT_PINNED_CHANGED,r),t.removeEventListener(lt.EVENT_LAST_LEFT_PINNED_CHANGED,s)})})},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsWrapper.getDomLayout()===rt.DOM_LAYOUT_PRINT,t=e||this.gridOptionsWrapper.isEmbedFullWidthRows(),o=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,o&&this.redrawAfterModelUpdate()},t.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var e=Object.keys(this.rowCompsByIndex);this.removeRowComps(e)},t.prototype.onPageLoaded=function(e){T(e)&&(e={type:xt.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1}),this.onModelUpdated(e)},t.prototype.getAllCellsForColumn=function(e){var t=[];function o(o,n){var i=n.getCellForCol(e);i&&t.push(i)}return fe(this.rowCompsByIndex,o),fe(this.floatingBottomRowComps,o),fe(this.floatingTopRowComps,o),t},t.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.floatingTopRowComps,this.pinnedRowModel.getPinnedTopRowData(),this.rowContainers.floatingTopPinnedLeft,this.rowContainers.floatingTopPinnedRight,this.rowContainers.floatingTop,this.rowContainers.floatingTopFullWidth),this.refreshFloatingRows(this.floatingBottomRowComps,this.pinnedRowModel.getPinnedBottomRowData(),this.rowContainers.floatingBottomPinnedLeft,this.rowContainers.floatingBottomPinnedRight,this.rowContainers.floatingBottom,this.rowContainers.floatingBottomFullWidth)},t.prototype.refreshFloatingRows=function(e,t,o,n,i,r){var s=this;e.forEach(function(e){e.destroy()}),e.length=0,t&&t.forEach(function(t){var a=new ya(s.$scope,i,o,n,r,t,s.beans,!1,!1,s.printLayout,s.embedFullWidthRows);a.init(),e.push(a)}),this.flushContainers(e)},t.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},t.prototype.onModelUpdated=function(e){this.redrawAfterModelUpdate({recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0})},t.prototype.getRenderedIndexesForRowNodes=function(e){var t=[];return T(e)||fe(this.rowCompsByIndex,function(o,n){var i=n.getRowNode();e.indexOf(i)>=0&&t.push(o)}),t},t.prototype.redrawRows=function(e){if(e&&0!=e.length){var t=this.getRenderedIndexesForRowNodes(e);this.removeRowComps(t),this.redrawAfterModelUpdate({recycleRows:!0})}},t.prototype.getCellToRestoreFocusToAfterRefresh=function(e){var t=e.suppressKeepFocus?null:this.focusController.getFocusCellToUseAfterRefresh();if(T(t))return null;var o=document.activeElement;return T(this.gridOptionsWrapper.getDomData(o,ha.DOM_DATA_KEY_CELL_COMP))?null:t},t.prototype.redrawAfterModelUpdate=function(e){void 0===e&&(e={}),this.getLockOnRefresh();var t=this.getCellToRestoreFocusToAfterRefresh(e);this.sizeContainerToPageHeight(),this.scrollToTopIfNewData(e);var o=!this.printLayout&&e.recycleRows,n=e.animate&&this.gridOptionsWrapper.isAnimateRows(),i=this.binRowComps(o),r=function(){if(null==t||null==i)return!1;var e=!1;return fe(i,function(o,n){var i=n.getRowNode();i.rowIndex==t.rowIndex&&i.rowPinned==t.rowPinned&&(e=!0)}),e}();this.redraw(i,n),e.onlyBody||this.refreshFloatingRowComps(),r||this.restoreFocusedCell(t),this.releaseLockOnRefresh()},t.prototype.scrollToTopIfNewData=function(e){var t=e.newData||e.newPage,o=this.gridOptionsWrapper.isSuppressScrollOnNewData();t&&!o&&this.gridPanel.scrollToTop()},t.prototype.sizeContainerToPageHeight=function(){var e=[this.rowContainers.body,this.rowContainers.fullWidth,this.rowContainers.pinnedLeft,this.rowContainers.pinnedRight];if(this.printLayout)e.forEach(function(e){return e.setHeight(null)});else{var t=this.paginationProxy.getCurrentPageHeight();0===t&&(t=1),this.maxDivHeightScaler.setModelHeight(t);var o=this.maxDivHeightScaler.getUiContainerHeight();e.forEach(function(e){return e.setHeight(o)})}},t.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("ag-Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.refreshView(), call setTimeout(function() { api.refreshView(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},t.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},t.prototype.restoreFocusedCell=function(e){e&&this.focusController.setFocusedCell(e.rowIndex,e.column,e.rowPinned,!0)},t.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.forEachRowComp(function(t,o){o.stopEditing(e)})},t.prototype.forEachCellComp=function(e){this.forEachRowComp(function(t,o){return o.forEachCellComp(e)})},t.prototype.forEachRowComp=function(e){fe(this.rowCompsByIndex,e),fe(this.floatingTopRowComps,e),fe(this.floatingBottomRowComps,e)},t.prototype.addRenderedRowListener=function(e,t,o){var n=this.rowCompsByIndex[t];n&&n.addEventListener(e,o)},t.prototype.flashCells=function(e){void 0===e&&(e={});var t=e.flashDelay,o=e.fadeDelay;this.forEachCellCompFiltered(e.rowNodes,e.columns,function(e){return e.flashCell({flashDelay:t,fadeDelay:o})})},t.prototype.refreshCells=function(e){void 0===e&&(e={});var t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.forEachCellCompFiltered(e.rowNodes,e.columns,function(e){return e.refreshCell(t)})},t.prototype.getCellRendererInstances=function(e){var t=[];return this.forEachCellCompFiltered(e.rowNodes,e.columns,function(e){var o=e.getCellRenderer();o&&t.push(o)}),t},t.prototype.getCellEditorInstances=function(e){var t=[];return this.forEachCellCompFiltered(e.rowNodes,e.columns,function(e){var o=e.getCellEditor();o&&t.push(o)}),t},t.prototype.getEditingCells=function(){var e=[];return this.forEachCellComp(function(t){if(t.isEditing()){var o=t.getCellPosition();e.push(o)}}),e},t.prototype.forEachCellCompFiltered=function(e,t,o){var n,i,r=this;P(e)&&(n={top:{},bottom:{},normal:{}},e.forEach(function(e){e.rowPinned===rt.PINNED_TOP?n.top[e.id]=!0:e.rowPinned===rt.PINNED_BOTTOM?n.bottom[e.id]=!0:n.normal[e.id]=!0})),P(t)&&(i={},t.forEach(function(e){var t=r.columnController.getGridColumn(e);P(t)&&(i[t.getId()]=!0)}));var s=function(e){var t=e.getRowNode(),r=t.id,s=t.rowPinned;if(P(n))if(s===rt.PINNED_BOTTOM){if(!n.bottom[r])return}else if(s===rt.PINNED_TOP){if(!n.top[r])return}else if(!n.normal[r])return;e.forEachCellComp(function(e){var t=e.getColumn().getId();i&&!i[t]||o(e)})};fe(this.rowCompsByIndex,function(e,t){s(t)}),this.floatingTopRowComps&&this.floatingTopRowComps.forEach(s),this.floatingBottomRowComps&&this.floatingBottomRowComps.forEach(s)},t.prototype.destroy=function(){var t=Object.keys(this.rowCompsByIndex);this.removeRowComps(t),e.prototype.destroy.call(this)},t.prototype.binRowComps=function(e){var t,o=this,n={};return e?(t=[],fe(this.rowCompsByIndex,function(e,i){var r=i.getRowNode();P(r.id)?(n[r.id]=i,delete o.rowCompsByIndex[e]):t.push(e)})):t=Object.keys(this.rowCompsByIndex),this.removeRowComps(t),n},t.prototype.removeRowComps=function(e){var t=this;e.forEach(function(e){t.rowCompsByIndex[e].destroy(),delete t.rowCompsByIndex[e]})},t.prototype.redrawAfterScroll=function(){this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh()},t.prototype.removeRowCompsNotToDraw=function(e){var t={};e.forEach(function(e){return t[e]=!0});var o=Object.keys(this.rowCompsByIndex).filter(function(e){return!t[e]});this.removeRowComps(o)},t.prototype.calculateIndexesToDraw=function(e){var t=this,o=qt(this.firstRenderedRow,this.lastRenderedRow),n=function(e,n){var i=Number(e);(i<t.firstRenderedRow||i>t.lastRenderedRow)&&t.doNotUnVirtualiseRow(n)&&o.push(i)};return fe(this.rowCompsByIndex,n),fe(e,n),o.sort(function(e,t){return e-t}),o},t.prototype.redraw=function(e,t,o){var n=this;void 0===t&&(t=!1),void 0===o&&(o=!1),this.maxDivHeightScaler.updateOffset(),this.workOutFirstAndLastRowsToRender();var i=this.calculateIndexesToDraw(e);this.removeRowCompsNotToDraw(i),this.printLayout&&(t=!1);var r=[],s=[];i.forEach(function(i){var a=n.createOrUpdateRowComp(i,e,t,o);P(a)&&(s.push(a),ne(r,a.getAndClearNextVMTurnFunctions()))}),this.flushContainers(s),He(r),!o||this.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout?this.destroyRowComps(e,t):this.beans.taskQueue.addDestroyTask(this.destroyRowComps.bind(this,e,t)),this.checkAngularCompile(),this.gridPanel.updateRowCount()},t.prototype.flushContainers=function(e){fe(this.rowContainers,function(e,t){t&&t.flushRowTemplates()}),e.forEach(function(e){return e.afterFlush()})},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnController.isPinningLeft(),t=this.columnController.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},t.prototype.redrawFullWidthEmbeddedRows=function(){var e=[];fe(this.rowCompsByIndex,function(t,o){if(o.isFullWidth()){var n=o.getRowNode().rowIndex;e.push(n.toString())}}),this.refreshFloatingRowComps(),this.removeRowComps(e),this.redrawAfterScroll()},t.prototype.refreshFullWidthRows=function(e){var t=[],o=!!e,n=o?{}:void 0;o&&e.forEach(function(e){return n[e.id]=!0}),fe(this.rowCompsByIndex,function(e,i){if(i.isFullWidth()){var r=i.getRowNode();if(o&&!n[r.id]&&!n[r.level>0&&r.parent?r.parent.id:void 0])return;if(!i.refreshFullWidth()){var s=i.getRowNode().rowIndex;t.push(s.toString())}}}),this.removeRowComps(t),this.redrawAfterScroll()},t.prototype.createOrUpdateRowComp=function(e,t,o,n){var i,r=this.rowCompsByIndex[e];if(r||P(i=this.paginationProxy.getRow(e))&&P(t)&&t[i.id]&&i.alreadyRendered&&(r=t[i.id],t[i.id]=null),r)r.ensureDomOrder();else{if(i||(i=this.paginationProxy.getRow(e)),!P(i))return;r=this.createRowComp(i,o,n)}return i&&(i.alreadyRendered=!0),this.rowCompsByIndex[e]=r,r},t.prototype.destroyRowComps=function(e,t){var o=[];fe(e,function(e,n){n&&(n.destroy(t),ne(o,n.getAndClearDelayedDestroyFunctions()))}),Ve(o)},t.prototype.checkAngularCompile=function(){var e=this;this.gridOptionsWrapper.isAngularCompileRows()&&window.setTimeout(function(){e.$scope.$apply()},0)},t.prototype.workOutFirstAndLastRowsToRender=function(){var e,t,o=this;if(this.paginationProxy.isRowsToRender())if(this.printLayout)e=this.paginationProxy.getPageFirstRow(),t=this.paginationProxy.getPageLastRow();else{var n=this.paginationProxy.getPixelOffset(),i=this.maxDivHeightScaler.getOffset(),r=this.gridPanel.getVScrollPosition(),s=r.top,a=r.bottom,l=this.gridOptionsWrapper.getRowBufferInPixels(),u=s+n+i-l,c=a+n+i+l;this.ensureAllRowsInRangeHaveHeightsCalculated(u,c);var p=this.paginationProxy.getRowIndexAtPixel(u),d=this.paginationProxy.getRowIndexAtPixel(c),h=this.paginationProxy.getPageFirstRow(),f=this.paginationProxy.getPageLastRow();p<h&&(p=h),d>f&&(d=f),e=p,t=d}else e=0,t=-1;var g=this.gridOptionsWrapper.getDomLayout()===rt.DOM_LAYOUT_NORMAL,m=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),y=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);if(g&&!m&&t-e>y&&(t=e+y),(e!==this.firstRenderedRow||t!==this.lastRenderedRow)&&(this.firstRenderedRow=e,this.lastRenderedRow=t,this.eventService.dispatchEvent({type:xt.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:t,api:this.gridApi,columnApi:this.columnApi})),this.paginationProxy.isRowsToRender()){var v={type:xt.EVENT_FIRST_DATA_RENDERED,firstRow:e,lastRow:t,api:this.gridApi,columnApi:this.columnApi};window.setTimeout(function(){return o.eventService.dispatchEventOnce(v)},50)}},t.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(e,t){this.paginationProxy.ensureRowHeightsValid(e,t,-1,-1)&&(this.sizeContainerToPageHeight(),this.maxDivHeightScaler.updateOffset())},t.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},t.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},t.prototype.doNotUnVirtualiseRow=function(e){var t=e.getRowNode(),o=this.focusController.isRowNodeFocused(t),n=e.isEditing();return!!(o||n||t.detail)&&!!this.paginationProxy.isRowPresent(t)},t.prototype.createRowComp=function(e,t,o){var n=this.gridOptionsWrapper.isSuppressAnimationFrame(),i=new ya(this.$scope,this.rowContainers.body,this.rowContainers.pinnedLeft,this.rowContainers.pinnedRight,this.rowContainers.fullWidth,e,this.beans,t,o&&!n&&!this.printLayout,this.printLayout,this.embedFullWidthRows);return i.init(),i},t.prototype.getRenderedNodes=function(){var e=this.rowCompsByIndex;return Object.keys(e).map(function(t){return e[t].getRowNode()})},t.prototype.navigateToNextCell=function(e,t,o,n){for(var i=o,r=!1;i&&(i===o||!this.isValidNavigateCell(i));)this.gridOptionsWrapper.isEnableRtl()?t===ki.LEFT&&(i=this.getLastCellOfColSpan(i)):t===ki.RIGHT&&(i=this.getLastCellOfColSpan(i)),r=T(i=this.cellNavigationService.getNextCellToFocus(t,i));if(r&&e&&e.keyCode===ki.UP&&(i={rowIndex:-1,rowPinned:null,column:o.column}),n){var s=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(P(s)){var a=s({key:t,previousCellPosition:o,nextCellPosition:i||null,event:e});P(a)?(a.floating&&(Me(function(){console.warn("ag-Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),a.rowPinned=a.floating),i={rowPinned:a.rowPinned,rowIndex:a.rowIndex,column:a.column}):i=null}}if(i)if(i.rowIndex<0){var l=this.beans.headerNavigationService.getHeaderRowCount();this.focusController.focusHeaderPosition({headerRowIndex:l+i.rowIndex,column:o.column})}else{this.ensureCellVisible(i);var u=this.getComponentForCell(i);u&&(i=u.getCellPosition(),this.ensureCellVisible(i),this.focusController.setFocusedCell(i.rowIndex,i.column,i.rowPinned,!0),this.rangeController&&this.rangeController.setRangeToCell(i))}},t.prototype.isValidNavigateCell=function(e){var t=this.rowPositionUtils.getRowNode(e);if(t.detail||t.isFullWidthCell())return!1;if(!t.group)return!0;var o=this.columnController.isPivotMode();return!this.gridOptionsWrapper.isGroupUseEntireRow(o)},t.prototype.getLastCellOfColSpan=function(e){var t=this.getComponentForCell(e);if(!t)return e;var o=t.getColSpanningList();return 1===o.length?e:{rowIndex:e.rowIndex,column:U(o),rowPinned:e.rowPinned}},t.prototype.ensureCellVisible=function(e){T(e.rowPinned)&&this.gridPanel.ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridPanel.ensureColumnVisible(e.column),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},t.prototype.startEditingCell=function(e,t,o){var n=this.getComponentForCell(e);n&&n.startRowOrCellEdit(t,o)},t.prototype.getComponentForCell=function(e){var t;switch(e.rowPinned){case rt.PINNED_TOP:t=this.floatingTopRowComps[e.rowIndex];break;case rt.PINNED_BOTTOM:t=this.floatingBottomRowComps[e.rowIndex];break;default:t=this.rowCompsByIndex[e.rowIndex]}return t?t.getRenderedCellForColumn(e.column):null},t.prototype.getRowNode=function(e){switch(e.rowPinned){case rt.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case rt.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.onTabKeyDown=function(e,t){var o=t.shiftKey;if(this.moveToCellAfter(e,o))t.preventDefault();else if(o){var n=e.getCellPosition(),i=n.rowIndex;if(n.rowPinned?0===i:i===this.paginationProxy.getPageFirstRow()){t.preventDefault();var r=this.beans.headerNavigationService.getHeaderRowCount()-1,s=U(this.columnController.getAllDisplayedColumns());this.focusController.focusHeaderPosition({headerRowIndex:r,column:s})}}else e.focusCell(!0),this.focusController.focusNextGridCoreContainer(!1)&&t.preventDefault()},t.prototype.tabToNextCell=function(e){var t=this.focusController.getFocusedCell();if(T(t))return!1;var o=this.getComponentForCell(t);return!T(o)&&this.moveToCellAfter(o,e)},t.prototype.moveToCellAfter=function(e,t){return(e.isEditing()?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(e,t):this.moveToNextEditingCell(e,t):this.moveToNextCellNotEditing(e,t))||!!this.focusController.getFocusedHeader()},t.prototype.moveToNextEditingCell=function(e,t){var o=e.getCellPosition();e.stopEditing();var n=this.findNextCellToFocusOn(o,t,!0),i=P(n);return i&&(n.startEditingIfEnabled(null,null,!0),n.focusCell(!1)),i},t.prototype.moveToNextEditingRow=function(e,t){var o=e.getCellPosition(),n=this.findNextCellToFocusOn(o,t,!0),i=P(n);return i&&this.moveEditToNextCellOrRow(e,n),i},t.prototype.moveToNextCellNotEditing=function(e,t){var o=e.getCellPosition(),n=this.findNextCellToFocusOn(o,t,!1),i=P(n);return i&&n.focusCell(!0),i},t.prototype.moveEditToNextCellOrRow=function(e,t){var o=e.getCellPosition(),n=t.getCellPosition();if(o.rowIndex===n.rowIndex&&o.rowPinned===n.rowPinned)e.setFocusOutOnEditor(),t.setFocusInOnEditor();else{var i=e.getRenderedRow(),r=t.getRenderedRow();e.setFocusOutOnEditor(),i.stopEditing(),r.startRowEditing(),t.setFocusInOnEditor()}t.focusCell()},t.prototype.findNextCellToFocusOn=function(e,t,o){for(var n=e;;){t||(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextTabbedCell(n,t);var i=this.gridOptionsWrapper.getTabToNextCellFunc();if(P(i)){var r=i({backwards:t,editing:o,previousCellPosition:e,nextCellPosition:n||null});P(r)?(r.floating&&(Me(function(){console.warn("ag-Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),r.rowPinned=r.floating),n={rowIndex:r.rowIndex,column:r.column,rowPinned:r.rowPinned}):n=null}if(!n)return null;if(n.rowIndex<0){var s=this.beans.headerNavigationService.getHeaderRowCount();return this.focusController.focusHeaderPosition({headerRowIndex:s+n.rowIndex,column:n.column}),null}if(o){var a=this.lookupRowNodeForCell(n);if(!n.column.isCellEditable(a))continue}T(n.rowPinned)&&this.gridPanel.ensureIndexVisible(n.rowIndex),n.column.isPinned()||this.gridPanel.ensureColumnVisible(n.column),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames();var l=this.getComponentForCell(n);if(!T(l)&&!l.isSuppressNavigable())return this.rangeController&&this.rangeController.setRangeToCell(n),l}},t.prototype.lookupRowNodeForCell=function(e){return e.rowPinned===rt.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned===rt.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)},Ca([Qe("paginationProxy")],t.prototype,"paginationProxy",void 0),Ca([Qe("columnController")],t.prototype,"columnController",void 0),Ca([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ca([Qe("$scope")],t.prototype,"$scope",void 0),Ca([Qe("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Ca([Qe("rowModel")],t.prototype,"rowModel",void 0),Ca([Qe("loggerFactory")],t.prototype,"loggerFactory",void 0),Ca([Qe("focusController")],t.prototype,"focusController",void 0),Ca([Qe("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Ca([Qe("columnApi")],t.prototype,"columnApi",void 0),Ca([Qe("gridApi")],t.prototype,"gridApi",void 0),Ca([Qe("beans")],t.prototype,"beans",void 0),Ca([Qe("maxDivHeightScaler")],t.prototype,"maxDivHeightScaler",void 0),Ca([Qe("animationFrameService")],t.prototype,"animationFrameService",void 0),Ca([Qe("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Ca([Xe("rangeController")],t.prototype,"rangeController",void 0),Ca([(0,o=Je("loggerFactory"),function(e,t){o(e,t,0)})],t.prototype,"agWire",null),Ca([$e("rowRenderer")],t);var o}(Tt),wa=function(){function e(){}return e.addHeaderClassesFromColDef=function(e,t,o,n,i){T(e)||this.addColumnClassesFromCollDef(e.headerClass,e,t,o,n,i)},e.addToolPanelClassesFromColDef=function(e,t,o,n,i){T(e)||this.addColumnClassesFromCollDef(e.toolPanelClass,e,t,o,n,i)},e.addColumnClassesFromCollDef=function(e,t,o,n,i,r){var s;T(e)||("string"==typeof(s="function"==typeof e?e({colDef:t,column:i,columnGroup:r,context:n.getContext(),api:n.getApi()}):e)?Io(o,s):Array.isArray(s)&&s.forEach(function(e){Io(o,e)}))},e}(),Ea=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ra=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},_a=function(e){function t(t,o){var n=e.call(this)||this;return n.columns=t,n.element=o,n}return Ea(t,e),t.prototype.postConstruct=function(){this.addMouseHoverListeners()},t.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},t.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},t.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},Ra([Qe("columnHoverService")],t.prototype,"columnHoverService",void 0),Ra([Ye],t.prototype,"postConstruct",null),t}(Tt),Sa=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Oa=function(e){function t(t,o,n,i){var r=e.call(this)||this;return r.columnOrGroup=t,r.eCell=o,r.ariaEl=r.eCell.querySelector("[role=columnheader]")||r.eCell,r.colsSpanning=i,r.beans=n,r.printLayout=n.gridOptionsWrapper.getDomLayout()===rt.DOM_LAYOUT_PRINT,r}return Sa(t,e),t.prototype.setColsSpanning=function(e){this.colsSpanning=e,this.onLeftChanged()},t.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?U(this.colsSpanning):this.columnOrGroup},t.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,lt.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime()},t.prototype.setLeftFirstTime=function(){var e=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),t=P(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()},t.prototype.animateInLeft=function(){var e=this,t=this.getColumnOrGroup().getLeft(),o=this.getColumnOrGroup().getOldLeft();this.setLeft(o),this.actualLeft=t,this.beans.columnAnimationService.executeNextVMTurn(function(){e.actualLeft===t&&e.setLeft(t)})},t.prototype.onLeftChanged=function(){var e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)},t.prototype.modifyLeftForPrintLayout=function(e,t){return this.printLayout?e.getPinned()===rt.PINNED_LEFT?t:e.getPinned()===rt.PINNED_RIGHT?this.beans.columnController.getPinnedLeftContainerWidth()+this.beans.columnController.getBodyContainerWidth()+t:this.beans.columnController.getPinnedLeftContainerWidth()+t:t},t.prototype.setLeft=function(e){var t;if(P(e)&&(this.eCell.style.left=e+"px"),this.columnOrGroup instanceof lt)t=this.columnOrGroup;else{var o=this.columnOrGroup.getLeafColumns();if(!o.length)return;o.length>1&&Zn(this.ariaEl,o.length),t=o[0]}var n=this.beans.columnController.getAriaColumnIndex(t);Xn(this.ariaEl,n)},function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([Ye],t.prototype,"postConstruct",null),t}(Tt),Da=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Pa=function(e){function t(t,o){var n=e.call(this,o)||this;return n.labelSeparator="",n.labelAlignment="left",n.label="",n.config=t||{},n}return Da(t,e),t.prototype.postConstruct=function(){Io(this.getGui(),"ag-labeled"),Io(this.eLabel,"ag-label");var e=this.config,t=e.labelSeparator,o=e.label,n=e.labelWidth,i=e.labelAlignment;null!=t&&this.setLabelSeparator(t),null!=o&&this.setLabel(o),null!=n&&this.setLabelWidth(n),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel()},t.prototype.refreshLabel=function(){Xo(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.eLabel.appendChild(this.label),Lo(this.eLabel,"ag-hidden",""===this.label)},t.prototype.setLabelSeparator=function(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this},t.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},t.prototype.getLabel=function(){return this.label},t.prototype.setLabel=function(e){return this.label===e||(this.label=e,this.refreshLabel()),this},t.prototype.setLabelAlignment=function(e){var t=this.getGui();return Lo(t,"ag-label-align-left","left"===e),Lo(t,"ag-label-align-right","right"===e),Lo(t,"ag-label-align-top","top"===e),this},t.prototype.setLabelWidth=function(e){return null==this.label||fn(this.eLabel,e),this},function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([Ye],t.prototype,"postConstruct",null),t}(Ni),Ta=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Aa=function(e){function t(t,o,n){var i=e.call(this,t,o)||this;return i.className=n,i.disabled=!1,i}return Ta(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),Io(this.getGui(),this.className)},t.prototype.onValueChange=function(e){var o=this;return this.addManagedListener(this,t.EVENT_CHANGED,function(){return e(o.getValue())}),this},t.prototype.getWidth=function(){return this.getGui().clientWidth},t.prototype.setWidth=function(e){return gn(this.getGui(),e),this},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e,o){return this.value===e||(this.value=e,o||this.dispatchEvent({type:t.EVENT_CHANGED})),this},t.prototype.setDisabled=function(e){e=!!e;var t=this.getGui();return Wo(t,e),Lo(t,"ag-disabled",e),this.disabled=e,this},t.prototype.isDisabled=function(){return!!this.disabled},t.EVENT_CHANGED="valueChange",t}(Pa),Fa=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Na=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},xa=function(e){function t(t,o,n,i){void 0===n&&(n="text"),void 0===i&&(i="input");var r=e.call(this,t,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+i+' ref="eInput" class="ag-input-field-input"></'+i+">\n                </div>\n            </div>",o)||this;return r.inputType=n,r.displayFieldTag=i,r}return Fa(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.setInputType(),Io(this.eLabel,this.className+"-label"),Io(this.eWrapper,this.className+"-input-wrapper"),Io(this.eInput,this.className+"-input"),Io(this.getGui(),"ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var t=this.config,o=t.width,n=t.value;null!=o&&this.setWidth(o),null!=n&&this.setValue(n),this.addInputListeners()},t.prototype.refreshLabel=function(){P(this.getLabel())?Vn(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),e.prototype.refreshLabel.call(this)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(t){return e.setValue(t.target.value)})},t.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},t.prototype.getInputElement=function(){return this.eInput},t.prototype.setInputWidth=function(e){return fn(this.eWrapper,e),this},t.prototype.setInputName=function(e){return this.getInputElement().setAttribute("name",e),this},t.prototype.getFocusableElement=function(){return this.eInput},t.prototype.setMaxLength=function(e){return this.eInput.maxLength=e,this},t.prototype.setInputPlaceholder=function(e){return Sn(this.eInput,"placeholder",e),this},t.prototype.setInputAriaLabel=function(e){return kn(this.eInput,e),this},t.prototype.setDisabled=function(t){return Wo(this.eInput,t),e.prototype.setDisabled.call(this,t)},Na([Mi("eLabel")],t.prototype,"eLabel",void 0),Na([Mi("eWrapper")],t.prototype,"eWrapper",void 0),Na([Mi("eInput")],t.prototype,"eInput",void 0),t}(Aa),Ia=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ma=function(e){function t(t,o,n){void 0===o&&(o="ag-checkbox"),void 0===n&&(n="checkbox");var i=e.call(this,t,o,n)||this;return i.labelAlignment="right",i.selected=!1,i.readOnly=!1,i.passive=!1,i}return Ia(t,e),t.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},t.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},t.prototype.setPassive=function(e){this.passive=e},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setReadOnly=function(e){Lo(this.eWrapper,"ag-disabled",e),this.eInput.disabled=e,this.readOnly=e},t.prototype.setDisabled=function(t){return Lo(this.eWrapper,"ag-disabled",t),e.prototype.setDisabled.call(this,t)},t.prototype.toggle=function(){var e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)},t.prototype.getValue=function(){return this.isSelected()},t.prototype.setValue=function(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this},t.prototype.setName=function(e){return this.getInputElement().name=e,this},t.prototype.isSelected=function(){return this.selected},t.prototype.setSelected=function(e,t){if(this.isSelected()!==e){var o=this.isSelected();e=this.selected="boolean"==typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,t||this.dispatchChange(this.selected,o)}},t.prototype.dispatchChange=function(e,o,n){this.dispatchEvent({type:t.EVENT_CHANGED,selected:e,previousValue:o,event:n});var i=this.getInputElement();this.eventService.dispatchEvent({type:xt.EVENT_CHECKBOX_CHANGED,id:i.id,name:i.name,selected:e,previousValue:o})},t.prototype.onCheckboxClick=function(e){if(!this.passive){var t=this.isSelected(),o=this.selected=e.target.checked;this.refreshSelectedClass(o),this.dispatchChange(o,t,e)}},t.prototype.refreshSelectedClass=function(e){Lo(this.eWrapper,"ag-checked",!0===e),Lo(this.eWrapper,"ag-indeterminate",null==e)},function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(xa),La=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ga=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ka=function(e){function t(t,o){var n=e.call(this)||this;n.cbSelectAllVisible=!1,n.processingEventFromCheckbox=!1,n.cbSelectAll=t,n.column=o;var i=o.getColDef();return n.filteredOnly=!!i&&!!i.headerCheckboxSelectionFilteredOnly,n}return La(t,e),t.prototype.postConstruct=function(){this.showOrHideSelectAll(),this.addManagedListener(this.eventService,xt.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,Ma.EVENT_CHANGED,this.onCbSelectAll.bind(this)),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},t.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox())},t.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.getNextCheckboxState=function(e){return(0!==e.selected||0!==e.notSelected)&&(e.selected>0&&e.notSelected>0?null:e.selected>0)},t.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var e=this.getSelectionCount(),t=this.getNextCheckboxState(e);this.cbSelectAll.setValue(t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},t.prototype.refreshSelectAllLabel=function(){var e=this.cbSelectAll.getValue();this.cbSelectAll.setInputAriaLabel("Press Space to toggle all rows selection ("+(e?"checked":"unchecked")+")")},t.prototype.getSelectionCount=function(){var e=this,t=0,o=0,n=function(n){e.gridOptionsWrapper.isGroupSelectsChildren()&&n.group||(n.isSelected()?t++:n.selectable&&o++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(n):this.gridApi.forEachNode(n),{notSelected:o,selected:t}},t.prototype.checkRightRowModelType=function(){var e=this.rowModel.getType();e===rt.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("ag-Grid: selectAllCheckbox is only available if using normal row model, you are using "+e)},t.prototype.onCbSelectAll=function(){this.processingEventFromCheckbox||this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionController.selectAllRowNodes(this.filteredOnly):this.selectionController.deselectAllRowNodes(this.filteredOnly))},t.prototype.isCheckboxSelection=function(){var e=this.column.getColDef().headerCheckboxSelection;return"function"==typeof e&&(e=e({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi})),!(!e||(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("headerCheckboxSelection is not supported for Server Side Row Model"),1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("headerCheckboxSelection is not supported for Infinite Row Model"),1):this.gridOptionsWrapper.isRowModelViewport()&&(console.warn("headerCheckboxSelection is not supported for Viewport Row Model"),1)))},Ga([Qe("gridApi")],t.prototype,"gridApi",void 0),Ga([Qe("columnApi")],t.prototype,"columnApi",void 0),Ga([Qe("rowModel")],t.prototype,"rowModel",void 0),Ga([Qe("selectionController")],t.prototype,"selectionController",void 0),Ga([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ga([Ye],t.prototype,"postConstruct",null),t}(Tt),Va=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ha=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Va(t,e),t.prototype.getColumn=function(){return this.column},t.prototype.getPinned=function(){return this.pinned},t}(Ki),Wa=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ba=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ja=function(e){function t(o,n){var i=e.call(this,t.TEMPLATE)||this;return i.headerCompVersion=0,i.refreshFunctions=[],i.column=o,i.pinned=n,i}return Wa(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.colDefVersion=this.columnController.getColDefVersion(),this.updateState(),this.appendHeaderComp(),this.setupWidth(),this.setupMovingCss(),this.setupTooltip(),this.setupResize(),this.setupMenuClass(),this.setupSortableClass(),this.addColumnHoverListener(),this.addActiveHeaderMouseListeners(),this.createManagedBean(new _a([this.column],this.getGui())),this.addManagedListener(this.column,lt.EVENT_FILTER_ACTIVE_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged(),this.createManagedBean(new ka(this.cbSelectAll,this.column)),this.createManagedBean(new Oa(this.column,this.getGui(),this.beans)),this.addAttributes(),wa.addHeaderClassesFromColDef(this.column.getColDef(),this.getGui(),this.gridOptionsWrapper,this.column,null),this.addManagedListener(this.eventService,xt.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this))},t.prototype.onColumnValueChanged=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},t.prototype.updateState=function(){var e=this.column.getColDef();this.sortable=e.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},t.prototype.calculateDisplayName=function(){return this.columnController.getDisplayNameForColumn(this.column,"header",!0)},t.prototype.onNewColumnsLoaded=function(){var e=this.columnController.getColDefVersion();e!=this.colDefVersion&&(this.colDefVersion=e,this.refresh())},t.prototype.refresh=function(){this.updateState();var e=this.column.getColDef();this.colDefHeaderComponent==e.headerComponent&&this.colDefHeaderComponentFramework==e.headerComponentFramework&&this.attemptHeaderCompRefresh()?(this.draggable&&!this.dragAndDropService||!this.draggable&&this.dragAndDropService)&&this.attachDraggingToHeaderComp():this.appendHeaderComp(),this.refreshFunctions.forEach(function(e){return e()})},t.prototype.destroyHeaderComp=function(){this.headerComp&&(this.getGui().removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0),this.removeMoveDragSource()},t.prototype.removeMoveDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},t.prototype.attemptHeaderCompRefresh=function(){if(!this.headerComp)return!0;if(!this.headerComp.refresh)return!1;var e=this.createParams(),t=this.userComponentFactory.createFinalParams(this.getComponentHolder(),"headerComponent",e);return this.headerComp.refresh(t)},t.prototype.addActiveHeaderMouseListeners=function(){var e=this,t=function(t){return e.setActiveHeader("mouseenter"===t.type)};this.addManagedListener(this.getGui(),"mouseenter",t),this.addManagedListener(this.getGui(),"mouseleave",t)},t.prototype.setActiveHeader=function(e){Lo(this.getGui(),"ag-header-active",e)},t.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var t=this.getParentComponent();this.focusController.setFocusedHeader(t.getRowIndex(),this.getColumn())}this.setActiveHeader(!0)},t.prototype.onFocusOut=function(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)},t.prototype.handleKeyDown=function(e){var t=this.headerComp;if(t){if(e.keyCode===ki.SPACE){var o=this.cbSelectAll;o.isDisplayed()&&!o.getGui().contains(document.activeElement)&&(e.preventDefault(),o.setValue(!o.getValue()))}e.keyCode===ki.ENTER&&(e.ctrlKey||e.metaKey?this.menuEnabled&&t.showMenu&&(e.preventDefault(),t.showMenu()):this.sortable&&this.sortController.progressSort(this.column,e.shiftKey,"uiColumnSorted"))}},t.prototype.onTabKeyDown=function(){},t.prototype.getComponentHolder=function(){return this.column.getColDef()},t.prototype.addColumnHoverListener=function(){this.addManagedListener(this.eventService,xt.EVENT_COLUMN_HOVER_CHANGED,this.onColumnHover.bind(this)),this.onColumnHover()},t.prototype.onColumnHover=function(){var e=this.columnHoverService.isHovered(this.column);Lo(this.getGui(),"ag-column-hover",e)},t.prototype.setupSortableClass=function(){var e=this,t=this.getGui(),o=function(){Lo(t,"ag-header-cell-sortable",e.sortable)},n=function(){e.sortable?Jn(t,Mn(e.column)):ei(t)};o(),n(),this.refreshFunctions.push(o),this.refreshFunctions.push(n),this.addManagedListener(this.column,lt.EVENT_SORT_CHANGED,n.bind(this))},t.prototype.onFilterChanged=function(){var e=this.column.isFilterActive();Lo(this.getGui(),"ag-header-cell-filtered",e)},t.prototype.appendHeaderComp=function(){this.headerCompVersion++;var e=this.column.getColDef();this.colDefHeaderComponent=e.headerComponent,this.colDefHeaderComponentFramework=e.headerComponentFramework;var t=this.createParams(),o=this.afterHeaderCompCreated.bind(this,this.headerCompVersion);this.userComponentFactory.newHeaderComponent(t).then(o)},t.prototype.createParams=function(){var e=this,t=this.column.getColDef();return this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!t.suppressMenu,{column:this.column,displayName:this.displayName,enableSorting:t.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(t){e.gridApi.showColumnMenuAfterButtonClick(e.column,t)},progressSort:function(t){e.sortController.progressSort(e.column,!!t,"uiColumnSorted")},setSort:function(t,o){e.sortController.setSortForColumn(e.column,t,!!o,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()}},t.prototype.afterHeaderCompCreated=function(e,t){e==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.getGui().appendChild(this.headerCompGui),this.attachDraggingToHeaderComp()):this.destroyBean(t)},t.prototype.onColumnMovingChanged=function(){this.column.isMoving()?Io(this.getGui(),"ag-header-cell-moving"):Mo(this.getGui(),"ag-header-cell-moving")},t.prototype.workOutDraggable=function(){var e=this.column.getColDef();return!this.gridOptionsWrapper.isSuppressMovableColumns()&&!e.suppressMovable&&!e.lockPosition||e.enableRowGroup||e.enablePivot},t.prototype.attachDraggingToHeaderComp=function(){var e=this;this.removeMoveDragSource(),this.draggable&&(this.moveDragSource={type:js.HeaderCell,eElement:this.headerCompGui,defaultIconName:$s.ICON_HIDE,getDragItem:function(){return e.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return e.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return e.column.setMoving(!1,"uiColumnMoved")}},this.dragAndDropService.addDragSource(this.moveDragSource,!0))},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.setupResize=function(){var e,t,o=this,n=this.getComponentHolder(),i=[],r=function(){i.forEach(function(e){return e()}),i.length=0},s=function(){var s=o.column.isResizable(),a=!o.gridOptionsWrapper.isSuppressAutoSize()&&!n.suppressAutoSize;(s!==e||a!==t)&&(e=s,t=a,r(),function(){if(Vo(o.eResize,e),e){var n=o.horizontalResizeService.addResizeBar({eResizeBar:o.eResize,onResizeStart:o.onResizeStart.bind(o),onResizing:o.onResizing.bind(o,!1),onResizeEnd:o.onResizing.bind(o,!0)});if(i.push(n),t){var r=o.gridOptionsWrapper.isSkipHeaderOnAutoSize(),s=function(){o.columnController.autoSizeColumn(o.column,r,"uiColumnResized")};o.eResize.addEventListener("dblclick",s);var a=new rr(o.eResize);a.addEventListener(rr.EVENT_DOUBLE_TAP,s),o.addDestroyFunc(function(){o.eResize.removeEventListener("dblclick",s),a.removeEventListener(rr.EVENT_DOUBLE_TAP,s),a.destroy()})}}}())};s(),this.addDestroyFunc(r),this.refreshFunctions.push(s)},t.prototype.onResizing=function(e,t){var o=this.normaliseResizeAmount(t);this.columnController.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+o}],this.resizeWithShiftKey,e,"uiColumnDragged"),e&&Mo(this.getGui(),"ag-column-resizing")},t.prototype.onResizeStart=function(e){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=e,Io(this.getGui(),"ag-column-resizing")},t.prototype.getTooltipParams=function(){return{location:"header",colDef:this.getComponentHolder(),column:this.getColumn(),value:this.getTooltipText()}},t.prototype.getTooltipText=function(){return this.getComponentHolder().headerTooltip},t.prototype.setupTooltip=function(){var e,t,o=this,n=this.gridOptionsWrapper.isEnableBrowserTooltips(),i=function(){n?o.getGui().removeAttribute("title"):e&&(e=o.destroyBean(e))},r=function(){var r=o.getTooltipText();t!=r&&(t&&i(),(t=r)&&(n?o.getGui().setAttribute("title",t):e=o.createBean(new ca(o))))};r(),this.addDestroyFunc(i),this.refreshFunctions.push(r)},t.prototype.setupMovingCss=function(){this.addManagedListener(this.column,lt.EVENT_MOVING_CHANGED,this.onColumnMovingChanged.bind(this)),this.onColumnMovingChanged()},t.prototype.addAttributes=function(){this.getGui().setAttribute("col-id",this.column.getColId())},t.prototype.setupWidth=function(){this.addManagedListener(this.column,lt.EVENT_WIDTH_CHANGED,this.onColumnWidthChanged.bind(this)),this.onColumnWidthChanged()},t.prototype.setupMenuClass=function(){this.addManagedListener(this.column,lt.EVENT_MENU_VISIBLE_CHANGED,this.onMenuVisible.bind(this))},t.prototype.onMenuVisible=function(){this.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())},t.prototype.onColumnWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},t.prototype.normaliseResizeAmount=function(e){var t=e;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==rt.PINNED_LEFT&&(t*=-1):this.pinned===rt.PINNED_RIGHT&&(t*=-1),t},t.TEMPLATE='<div class="ag-header-cell" role="columnheader" unselectable="on" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <ag-checkbox ref="cbSelectAll" class="ag-header-select-all" role="presentation"></ag-checkbox>\n        </div>',Ba([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ba([Qe("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Ba([Qe("columnController")],t.prototype,"columnController",void 0),Ba([Qe("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),Ba([Qe("menuFactory")],t.prototype,"menuFactory",void 0),Ba([Qe("gridApi")],t.prototype,"gridApi",void 0),Ba([Qe("columnApi")],t.prototype,"columnApi",void 0),Ba([Qe("sortController")],t.prototype,"sortController",void 0),Ba([Qe("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Ba([Qe("columnHoverService")],t.prototype,"columnHoverService",void 0),Ba([Qe("beans")],t.prototype,"beans",void 0),Ba([Mi("eResize")],t.prototype,"eResize",void 0),Ba([Mi("cbSelectAll")],t.prototype,"cbSelectAll",void 0),Ba([qe],t.prototype,"destroyHeaderComp",null),t}(Ha),Ua=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),za=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ka=function(e){function t(o,n){var i=e.call(this,t.TEMPLATE)||this;return i.removeChildListenersFuncs=[],i.column=o,i.pinned=n,i}return Ua(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),wa.addHeaderClassesFromColDef(this.getComponentHolder(),this.getGui(),this.gridOptionsWrapper,null,this.column);var t=this.columnController.getDisplayNameForColumnGroup(this.column,"header");this.appendHeaderGroupComp(t),this.setupResize(),this.addClasses(),this.setupWidth(),this.addAttributes(),this.setupMovingCss(),this.setupTooltip(),this.setupExpandable(),this.createManagedBean(new _a(this.column.getOriginalColumnGroup().getLeafColumns(),this.getGui())),this.createManagedBean(new Oa(this.column,this.getGui(),this.beans))},t.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var t=this.getParentComponent();this.beans.focusController.setFocusedHeader(t.getRowIndex(),this.getColumn())}},t.prototype.handleKeyDown=function(e){var t=document.activeElement,o=this.getGui();if(this.expandable&&t===o&&e.keyCode===ki.ENTER){var n=this.getColumn(),i=!n.isExpanded();this.columnController.setColumnGroupOpened(n.getOriginalColumnGroup(),i,"uiColumnExpanded")}},t.prototype.onTabKeyDown=function(){},t.prototype.setupExpandable=function(){var e=this.getColumn().getOriginalColumnGroup();this.refreshExpanded(),this.addManagedListener(e,ct.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,ct.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},t.prototype.refreshExpanded=function(){var e=this.getColumn(),t=this.getGui(),o=e.isExpandable(),n=e.isExpanded();this.expandable=o,o?jn(t,n):t.removeAttribute("aria-expanded")},t.prototype.setupMovingCss=function(){var e=this;this.column.getOriginalColumnGroup().getLeafColumns().forEach(function(t){e.addManagedListener(t,lt.EVENT_MOVING_CHANGED,e.onColumnMovingChanged.bind(e))}),this.onColumnMovingChanged()},t.prototype.getComponentHolder=function(){return this.column.getColGroupDef()},t.prototype.getTooltipText=function(){var e=this.getComponentHolder();return e&&e.headerTooltip},t.prototype.getTooltipParams=function(){return{location:"headerGroup",colDef:this.getComponentHolder(),column:this.getColumn(),value:this.getTooltipText()}},t.prototype.setupTooltip=function(){var e=this.getTooltipText();null!=e&&(this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",e):this.createManagedBean(new ca(this)))},t.prototype.onColumnMovingChanged=function(){Lo(this.getGui(),"ag-header-cell-moving",this.column.isMoving())},t.prototype.addAttributes=function(){this.getGui().setAttribute("col-id",this.column.getUniqueId())},t.prototype.appendHeaderGroupComp=function(e){var t=this,o={displayName:e,columnGroup:this.column,setExpanded:function(e){t.columnController.setColumnGroupOpened(t.column.getOriginalColumnGroup(),e,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!e){for(var n=this.column,i=n.getLeafColumns();n.getParent()&&n.getParent().getLeafColumns().length===i.length;)n=n.getParent();var r=n.getColGroupDef();r&&(e=r.headerName),e||(e=i?this.columnController.getDisplayNameForColumn(i[0],"header",!0):"")}var s=this.afterHeaderCompCreated.bind(this,e);this.userComponentFactory.newHeaderGroupComponent(o).then(s)},t.prototype.afterHeaderCompCreated=function(e,t){var o=this;this.getGui().appendChild(t.getGui()),this.addDestroyFunc(function(){o.getContext().destroyBean(t)}),this.setupMove(t.getGui(),e)},t.prototype.addClasses=function(){var e=this.column.isPadding()?"no":"with";this.addCssClass("ag-header-group-cell-"+e+"-group")},t.prototype.setupMove=function(e,t){var o=this;if(e&&!this.isSuppressMoving()){var n=this.column.getOriginalColumnGroup().getLeafColumns(),i={type:js.HeaderCell,eElement:e,defaultIconName:$s.ICON_HIDE,dragItemName:t,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return n.forEach(function(e){return e.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return n.forEach(function(e){return e.setMoving(!1,"uiColumnDragged")})}};this.dragAndDropService.addDragSource(i,!0),this.addDestroyFunc(function(){return o.dragAndDropService.removeDragSource(i)})}},t.prototype.getDragItemForGroup=function(){var e=this.column.getOriginalColumnGroup().getLeafColumns(),t={};e.forEach(function(e){return t[e.getId()]=e.isVisible()});var o=[];return this.columnController.getAllDisplayedColumns().forEach(function(t){e.indexOf(t)>=0&&(o.push(t),Q(e,t))}),e.forEach(function(e){return o.push(e)}),{columns:o,visibleState:t}},t.prototype.isSuppressMoving=function(){var e=!1;return this.column.getLeafColumns().forEach(function(t){(t.getColDef().suppressMovable||t.getColDef().lockPosition)&&(e=!0)}),e||this.gridOptionsWrapper.isSuppressMovableColumns()},t.prototype.setupWidth=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.column,ut.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},t.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},t.prototype.addListenersToChildrenColumns=function(){var e=this;this.removeListenersOnChildrenColumns();var t=this.onWidthChanged.bind(this);this.column.getLeafColumns().forEach(function(o){o.addEventListener(lt.EVENT_WIDTH_CHANGED,t),o.addEventListener(lt.EVENT_VISIBLE_CHANGED,t),e.removeChildListenersFuncs.push(function(){o.removeEventListener(lt.EVENT_WIDTH_CHANGED,t),o.removeEventListener(lt.EVENT_VISIBLE_CHANGED,t)})})},t.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(e){return e()}),this.removeChildListenersFuncs=[]},t.prototype.onWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},t.prototype.setupResize=function(){var e=this;if(this.eHeaderCellResize=this.getRefElement("agResize"),this.column.isResizable()){var t=this.horizontalResizeService.addResizeBar({eResizeBar:this.eHeaderCellResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(t),!this.gridOptionsWrapper.isSuppressAutoSize()){var o=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eHeaderCellResize.addEventListener("dblclick",function(t){var n=[];e.column.getDisplayedLeafColumns().forEach(function(e){e.getColDef().suppressAutoSize||n.push(e.getColId())}),n.length>0&&e.columnController.autoSizeColumns(n,o,"uiColumnResized")})}}else Jo(this.eHeaderCellResize)},t.prototype.onResizeStart=function(e){var t=this,o=this.column.getDisplayedLeafColumns();this.resizeCols=o.filter(function(e){return e.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(e){return t.resizeStartWidth+=e.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(e){return t.resizeRatios.push(e.getActualWidth()/t.resizeStartWidth)});var n=null;if(e&&(n=this.columnController.getDisplayedGroupAfter(this.column)),n){var i=n.getDisplayedLeafColumns();this.resizeTakeFromCols=i.filter(function(e){return e.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(e){return t.resizeTakeFromStartWidth+=e.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(e){return t.resizeTakeFromRatios.push(e.getActualWidth()/t.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;Io(this.getGui(),"ag-column-resizing")},t.prototype.onResizing=function(e,t){var o=[],n=this.normaliseDragChange(t);o.push({columns:this.resizeCols,ratios:this.resizeRatios,width:this.resizeStartWidth+n}),this.resizeTakeFromCols&&o.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-n}),this.columnController.resizeColumnSets(o,e,"uiColumnDragged"),e&&Mo(this.getGui(),"ag-column-resizing")},t.prototype.normaliseDragChange=function(e){var t=e;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==rt.PINNED_LEFT&&(t*=-1):this.pinned===rt.PINNED_RIGHT&&(t*=-1),t},t.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="agResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',za([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),za([Qe("columnController")],t.prototype,"columnController",void 0),za([Qe("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),za([Qe("dragAndDropService")],t.prototype,"dragAndDropService",void 0),za([Qe("userComponentFactory")],t.prototype,"userComponentFactory",void 0),za([Qe("beans")],t.prototype,"beans",void 0),za([Qe("gridApi")],t.prototype,"gridApi",void 0),za([Qe("columnApi")],t.prototype,"columnApi",void 0),t}(Ha),Ya=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),qa=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},$a=function(e){function t(){return e.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return Ya(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e;var t=this.columnController.getDisplayNameForColumn(e.column,"header",!0);this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(t+" Filter Input")},t.prototype.onParentModelChanged=function(e){var t=this;e?this.params.parentFilterInstance(function(o){if(o.getModelAsString){var n=o.getModelAsString(e);t.eFloatingFilterText.setValue(n)}}):this.eFloatingFilterText.setValue("")},qa([Mi("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),qa([Qe("columnController")],t.prototype,"columnController",void 0),t}(Ni),Qa=function(){function e(){}return e.getFloatingFilterType=function(e){return this.filterToFloatingFilterMapping[e]},e.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},e}(),Xa=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Za=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ja=function(e){function t(o,n){var i=e.call(this,t.TEMPLATE)||this;return i.column=o,i.pinned=n,i}return Xa(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.setupFloatingFilter(),this.setupWidth(),this.setupLeftPositioning(),this.setupColumnHover(),this.createManagedBean(new _a([this.column],this.getGui())),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},t.prototype.onTabKeyDown=function(e){var t=document.activeElement,o=this.getGui();if(t!==o){e.preventDefault();var n=this.focusController.findNextFocusableElement(o,null,e.shiftKey);n?n.focus():o.focus()}},t.prototype.handleKeyDown=function(e){var t=document.activeElement,o=this.getGui(),n=t===o;switch(e.keyCode){case ki.UP:case ki.DOWN:n||e.preventDefault();case ki.LEFT:case ki.RIGHT:if(n)return;e.stopPropagation();case ki.ENTER:n&&this.focusController.focusInto(o)&&e.preventDefault();break;case ki.ESCAPE:n||this.getGui().focus()}},t.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var t=this.getParentComponent();this.beans.focusController.setFocusedHeader(t.getRowIndex(),this.getColumn())}},t.prototype.setupFloatingFilter=function(){var e=this,t=this.column.getColDef();t.filter&&t.floatingFilter&&(this.floatingFilterCompPromise=this.getFloatingFilterInstance(),this.floatingFilterCompPromise&&this.floatingFilterCompPromise.then(function(t){t&&(e.setupWithFloatingFilter(t),e.setupSyncWithFilter())}))},t.prototype.setupLeftPositioning=function(){var e=new Oa(this.column,this.getGui(),this.beans);this.createManagedBean(e)},t.prototype.setupSyncWithFilter=function(){var e=this,t=function(t){e.onParentModelChanged(e.currentParentModel(),t)};this.addManagedListener(this.column,lt.EVENT_FILTER_CHANGED,t),this.filterManager.isFilterActive(this.column)&&t(null)},t.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"filterMenuTab",["filterMenuTab"])},t.prototype.setupColumnHover=function(){this.addManagedListener(this.eventService,xt.EVENT_COLUMN_HOVER_CHANGED,this.onColumnHover.bind(this)),this.onColumnHover()},t.prototype.onColumnHover=function(){Lo(this.getGui(),"ag-column-hover",this.columnHoverService.isHovered(this.column))},t.prototype.setupWidth=function(){this.addManagedListener(this.column,lt.EVENT_WIDTH_CHANGED,this.onColumnWidthChanged.bind(this)),this.onColumnWidthChanged()},t.prototype.onColumnWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},t.prototype.setupWithFloatingFilter=function(e){var t=this,o=function(){t.getContext().destroyBean(e)};if(this.isAlive()){this.addDestroyFunc(o);var n=e.getGui();Lo(this.eFloatingFilterBody,"ag-floating-filter-full-body",this.suppressFilterButton),Lo(this.eFloatingFilterBody,"ag-floating-filter-body",!this.suppressFilterButton),Vo(this.eButtonWrapper,!this.suppressFilterButton);var i=di("filter",this.gridOptionsWrapper,this.column);this.eButtonShowMainFilter.appendChild(i),this.eFloatingFilterBody.appendChild(n),e.afterGuiAttached&&e.afterGuiAttached()}else o()},t.prototype.parentFilterInstance=function(e){this.getFilterComponent().then(e)},t.prototype.getFilterComponent=function(e){return void 0===e&&(e=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",e)},t.getDefaultFloatingFilterType=function(e){if(null==e)return null;var t=null;return"string"==typeof e.filter?t=Qa.getFloatingFilterType(e.filter):e.filterFramework||!0===e.filter&&(t=st.isRegistered(tt.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"),t},t.prototype.getFloatingFilterInstance=function(){var e=this.column.getColDef(),o=t.getDefaultFloatingFilterType(e),n=this.filterManager.createFilterParams(this.column,e),i=this.userComponentFactory.createFinalParams(e,"filter",n),r={api:this.gridApi,column:this.column,filterParams:i,currentParentModel:this.currentParentModel.bind(this),parentFilterInstance:this.parentFilterInstance.bind(this),showParentFilter:this.showParentFilter.bind(this),onFloatingFilterChanged:this.onFloatingFilterChanged.bind(this),suppressFilterButton:!1};this.suppressFilterButton=!!e.floatingFilterComponentParams&&!!e.floatingFilterComponentParams.suppressFilterButton;var s=this.userComponentFactory.newFloatingFilterComponent(e,r,o);if(!s){var a=this.getFilterComponentPrototype(e);if(a&&a.prototype&&a.prototype.getModelAsString){var l=this.userComponentFactory.createUserComponentFromConcreteClass($a,r);s=Pi.resolve(l)}}return s},t.prototype.createDynamicParams=function(){return{column:this.column,colDef:this.column.getColDef(),api:this.gridApi,columnApi:this.columnApi}},t.prototype.getFilterComponentPrototype=function(e){var t=this.userComponentFactory.lookupComponentClassDef(e,"filter",this.createDynamicParams());return t?t.component:null},t.prototype.currentParentModel=function(){var e=this.getFilterComponent(!1);return e?e.resolveNow(null,function(e){return e.getModel()}):null},t.prototype.onParentModelChanged=function(e,t){this.floatingFilterCompPromise&&this.floatingFilterCompPromise.then(function(o){return o.onParentModelChanged(e,t)})},t.prototype.onFloatingFilterChanged=function(){console.warn("ag-Grid: since version 21.x, how floating filters are implemented has changed. Instead of calling params.onFloatingFilterChanged(), get a reference to the main filter via params.parentFilterInstance() and then set a value on the parent filter directly.")},t.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div class="ag-floating-filter-full-body" ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',Za([Qe("columnHoverService")],t.prototype,"columnHoverService",void 0),Za([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Za([Qe("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Za([Qe("gridApi")],t.prototype,"gridApi",void 0),Za([Qe("columnApi")],t.prototype,"columnApi",void 0),Za([Qe("filterManager")],t.prototype,"filterManager",void 0),Za([Qe("menuFactory")],t.prototype,"menuFactory",void 0),Za([Qe("beans")],t.prototype,"beans",void 0),Za([Mi("eFloatingFilterBody")],t.prototype,"eFloatingFilterBody",void 0),Za([Mi("eButtonWrapper")],t.prototype,"eButtonWrapper",void 0),Za([Mi("eButtonShowMainFilter")],t.prototype,"eButtonShowMainFilter",void 0),t}(Ha),el=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),tl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.COLUMN_GROUP=0]="COLUMN_GROUP",e[e.COLUMN=1]="COLUMN",e[e.FLOATING_FILTER=2]="FLOATING_FILTER"}(ua||(ua={}));var ol,nl=function(e){function t(t,o,n){var i=e.call(this,'<div class="ag-header-row" role="row"></div>')||this;i.headerComps={},i.setRowIndex(t),i.type=o,i.pinned=n;var r=ua[o].toLowerCase().replace(/_/g,"-");return i.addCssClass("ag-header-row-"+r),_o()&&(i.getGui().style.transform="translateZ(0)"),i}return el(t,e),t.prototype.forEachHeaderElement=function(e){var t=this;Object.keys(this.headerComps).forEach(function(o){e(t.headerComps[o])})},t.prototype.setRowIndex=function(e){this.dept=e,$n(this.getGui(),e+1)},t.prototype.getRowIndex=function(){return this.dept},t.prototype.getType=function(){return this.type},t.prototype.destroyAllChildComponents=function(){var e=Object.keys(this.headerComps);this.destroyChildComponents(e)},t.prototype.destroyChildComponents=function(e,t){var o=this;e.forEach(function(e){var n=o.headerComps[e];t&&!n.getColumn().isMoving()&&o.focusController.isHeaderWrapperFocused(n)||(o.getGui().removeChild(n.getGui()),o.destroyBean(n),delete o.headerComps[e])})},t.prototype.onRowHeightChanged=function(){var e,t,o=this.columnController.getHeaderRowCount(),n=[],i=0;this.columnController.isPivotMode()?(e=this.gridOptionsWrapper.getPivotGroupHeaderHeight(),t=this.gridOptionsWrapper.getPivotHeaderHeight()):(this.columnController.hasFloatingFilters()&&(o++,i=1),e=this.gridOptionsWrapper.getGroupHeaderHeight(),t=this.gridOptionsWrapper.getHeaderHeight());for(var r=o-(1+i),s=0;s<r;s++)n.push(e);for(n.push(t),s=0;s<i;s++)n.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var a=0;for(s=0;s<this.dept;s++)a+=n[s];this.getGui().style.top=a+"px",this.getGui().style.height=n[this.dept]+"px"},t.prototype.init=function(){this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addManagedListener(this.gridOptionsWrapper,Ls.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ls.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ls.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ls.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ls.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this))},t.prototype.onColumnResized=function(){this.setWidth()},t.prototype.setWidth=function(){var e=this.getWidthForRow();this.getGui().style.width=e+"px"},t.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===rt.DOM_LAYOUT_PRINT?T(this.pinned)?this.columnController.getContainerWidth(rt.PINNED_RIGHT)+this.columnController.getContainerWidth(rt.PINNED_LEFT)+this.columnController.getContainerWidth(null):0:this.columnController.getContainerWidth(this.pinned)},t.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth()},t.prototype.getItemsAtDepth=function(){var e=this;if(this.gridOptionsWrapper.getDomLayout()===rt.DOM_LAYOUT_PRINT){if(T(this.pinned)){var t=[];return[rt.PINNED_LEFT,null,rt.PINNED_RIGHT].forEach(function(o){var n=e.columnController.getVirtualHeaderGroupRow(o,e.type==ua.FLOATING_FILTER?e.dept-1:e.dept);t=t.concat(n)}),t}return[]}return this.columnController.getVirtualHeaderGroupRow(this.pinned,this.type==ua.FLOATING_FILTER?this.dept-1:this.dept)},t.prototype.onVirtualColumnsChanged=function(){var e=this,t=Object.keys(this.headerComps),o=[];if(this.getItemsAtDepth().forEach(function(n){if(!n.isEmptyGroup()){var i=n.getUniqueId(),r=e.getGui(),s=e.headerComps[i];if(s&&s.getColumn()!=n&&(e.destroyChildComponents([i]),Q(t,i),s=void 0),s)Q(t,i);else{var a=e.createHeaderComp(n);e.headerComps[i]=a,r.appendChild(a.getGui())}o.push(i)}}),this.destroyChildComponents(t,!0),this.gridOptionsWrapper.isEnsureDomOrder()){var n=o.map(function(t){return e.headerComps[t].getGui()});ln(this.getGui(),n)}},t.prototype.createHeaderComp=function(e){var t;switch(this.type){case ua.COLUMN:t=new ja(e,this.pinned);break;case ua.COLUMN_GROUP:t=new Ka(e,this.pinned);break;case ua.FLOATING_FILTER:t=new Ja(e,this.pinned)}return this.createBean(t),t.setParentComponent(this),t},t.prototype.getHeaderComps=function(){return this.headerComps},tl([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),tl([Qe("columnController")],t.prototype,"columnController",void 0),tl([Qe("focusController")],t.prototype,"focusController",void 0),tl([qe],t.prototype,"destroyAllChildComponents",null),tl([Ye],t.prototype,"init",null),t}(Ni),il=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},rl=function(){function e(e,t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=e,this.eContainer=t,this.centerContainer=!P(e)}return e.prototype.registerGridComp=function(e){this.gridPanel=e},e.prototype.init=function(){this.logger=this.loggerFactory.create("MoveColumnController")},e.prototype.getIconName=function(){return this.pinned?$s.ICON_PINNED:$s.ICON_MOVE},e.prototype.onDragEnter=function(e){var t=e.dragItem.columns;if(e.dragSource.type===js.ToolPanel)this.setColumnsVisible(t,!0,"uiColumnDragged");else{var o=e.dragItem.visibleState,n=t.filter(function(e){return o[e.getId()]});this.setColumnsVisible(n,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0)},e.prototype.onDragLeave=function(e){if(!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()&&!e.fromNudge){var t=e.dragSource.getDragItem();this.setColumnsVisible(t.columns,!1,"uiColumnDragged")}this.ensureIntervalCleared()},e.prototype.setColumnsVisible=function(e,t,o){if(void 0===o&&(o="api"),e){var n=e.filter(function(e){return!e.getColDef().lockVisible});this.columnController.setColumnsVisible(n,t,o)}},e.prototype.setColumnsPinned=function(e,t,o){if(void 0===o&&(o="api"),e){var n=e.filter(function(e){return!e.getColDef().lockPinned});this.columnController.setColumnsPinned(n,t,o)}},e.prototype.onDragStop=function(){this.ensureIntervalCleared()},e.prototype.normaliseX=function(e){return this.gridOptionsWrapper.isEnableRtl()&&(e=this.eContainer.clientWidth-e),this.centerContainer&&(e+=this.gridPanel.getCenterViewportScrollLeft()),e},e.prototype.checkCenterForScrolling=function(e){if(this.centerContainer){var t=this.gridPanel.getCenterViewportScrollLeft(),o=t+this.gridPanel.getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=e<t+50,this.needToMoveLeft=e>o-50):(this.needToMoveLeft=e<t+50,this.needToMoveRight=e>o-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},e.prototype.onDragging=function(e,t){var o=this;if(void 0===t&&(t=!1),this.lastDraggingEvent=e,!T(e.hDirection)){var n=this.normaliseX(e.x);t||this.checkCenterForScrolling(n);var i=this.normaliseDirection(e.hDirection),r=e.dragSource.type,s=e.dragSource.getDragItem().columns;s=s.filter(function(e){return!e.getColDef().lockPinned||e.getPinned()==o.pinned}),this.attemptMoveColumns(r,s,i,n,t)}},e.prototype.normaliseDirection=function(e){if(!this.gridOptionsWrapper.isEnableRtl())return e;switch(e){case zs.Left:return zs.Right;case zs.Right:return zs.Left;default:console.error("ag-Grid: Unknown direction "+e)}},e.prototype.calculateOldIndex=function(e){var t=this.columnController.getAllGridColumns(),o=q(e.map(function(e){return t.indexOf(e)})),n=o[0];return U(o)-n!=o.length-1?null:n},e.prototype.attemptMoveColumns=function(e,t,o,n,i){var r=o===zs.Left,s=o===zs.Right,a=t.slice();this.columnController.sortColumnsLikeGridColumns(a);var l=this.calculateValidMoves(a,s,n),u=this.calculateOldIndex(a);if(0!==l.length){var c=l[0],p=null!==u&&!i;if(e==js.HeaderCell&&(p=null!==u),p){if(r&&c>=u)return;if(s&&c<=u)return}for(var d=0;d<l.length;d++){var h=l[d];if(this.columnController.doesMovePassRules(a,h))return void this.columnController.moveColumns(a,h,"uiColumnDragged")}}},e.prototype.calculateValidMoves=function(e,t,o){if(this.gridOptionsWrapper.isSuppressMovableColumns()||e.some(function(e){return e.getColDef().suppressMovable}))return[];var n,i=this.columnController.getDisplayedColumns(this.pinned),r=this.columnController.getAllGridColumns(),s=i.filter(function(t){return te(e,t)}),a=i.filter(function(t){return!te(e,t)}),l=r.filter(function(t){return!te(e,t)}),u=0,c=o;if(t){var p=0;s.forEach(function(e){return p+=e.getActualWidth()}),c-=p}if(c>0){for(var d=0;d<a.length&&!((c-=a[d].getActualWidth())<0);d++)u++;t&&u++}u>0?n=l.indexOf(a[u-1])+1:-1===(n=l.indexOf(a[0]))&&(n=0);var h=[n],f=function(e,t){return e-t};if(t){for(var g=n+1,m=r.length-1;g<=m;)h.push(g),g++;h.sort(f)}else{m=r.length-1;for(var y=r[g=n];g<=m&&this.isColumnHidden(i,y);)g++,h.push(g),y=r[g];for(g=n-1;g>=0;)h.push(g),g--;h.sort(f).reverse()}return h},e.prototype.isColumnHidden=function(e,t){return e.indexOf(t)<0},e.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?$s.ICON_LEFT:$s.ICON_RIGHT,!0))},e.prototype.ensureIntervalCleared=function(){this.moveInterval&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon($s.ICON_MOVE))},e.prototype.moveInterval=function(){var e,t;if(this.intervalCount++,(e=10+5*this.intervalCount)>100&&(e=100),this.needToMoveLeft?t=this.gridPanel.scrollHorizontally(-e):this.needToMoveRight&&(t=this.gridPanel.scrollHorizontally(e)),0!==t)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var o=this.lastDraggingEvent.dragItem.columns.filter(function(e){return!e.getColDef().lockPinned});o.length>0&&(this.dragAndDropService.setGhostIcon($s.ICON_PINNED),this.failedMoveAttempts>7&&(this.setColumnsPinned(o,this.needToMoveLeft?rt.PINNED_LEFT:rt.PINNED_RIGHT,"uiColumnDragged"),this.dragAndDropService.nudge()))}},il([Qe("loggerFactory")],e.prototype,"loggerFactory",void 0),il([Qe("columnController")],e.prototype,"columnController",void 0),il([Qe("dragAndDropService")],e.prototype,"dragAndDropService",void 0),il([Qe("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),il([Ye],e.prototype,"init",null),e}(),sl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},al=function(){function e(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}return e.prototype.onDragEnter=function(e){var t=this;this.clearColumnsList(),this.gridOptionsWrapper.isFunctionsReadOnly()||e.dragItem.columns.forEach(function(e){e.isPrimary()&&(e.isAnyFunctionActive()||(e.isAllowValue()?t.columnsToAggregate.push(e):e.isAllowRowGroup()?t.columnsToGroup.push(e):e.isAllowPivot()&&t.columnsToPivot.push(e)))})},e.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?$s.ICON_PINNED:$s.ICON_MOVE:null},e.prototype.onDragLeave=function(e){this.clearColumnsList()},e.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},e.prototype.onDragging=function(e){},e.prototype.onDragStop=function(e){this.columnsToAggregate.length>0&&this.columnController.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnController.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnController.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},sl([Qe("columnController")],e.prototype,"columnController",void 0),sl([Qe("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(),ll=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ul=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.ColumnMove=0]="ColumnMove",e[e.Pivot=1]="Pivot"}(ol||(ol={}));var cl,pl=function(e){function t(t,o){var n=e.call(this)||this;return n.dropListeners={},n.pinned=t,n.eContainer=o,n}return ll(t,e),t.prototype.registerGridComp=function(e){switch(this.gridPanel=e,this.moveColumnController.registerGridComp(e),this.pinned){case rt.PINNED_LEFT:this.eSecondaryContainers=this.gridPanel.getDropTargetLeftContainers();break;case rt.PINNED_RIGHT:this.eSecondaryContainers=this.gridPanel.getDropTargetRightContainers();break;default:this.eSecondaryContainers=this.gridPanel.getDropTargetBodyContainers()}},t.prototype.isInterestedIn=function(e){return e===js.HeaderCell||e===js.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},t.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},t.prototype.getContainer=function(){return this.eContainer},t.prototype.init=function(){this.moveColumnController=this.createBean(new rl(this.pinned,this.eContainer));var e=new al(this.pinned);this.createBean(e),this.dropListeners[ol.ColumnMove]=this.moveColumnController,this.dropListeners[ol.Pivot]=e,this.dragAndDropService.addDropTarget(this)},t.prototype.getIconName=function(){return this.currentDropListener.getIconName()},t.prototype.getDropType=function(e){return this.columnController.isPivotMode()&&e.dragSource.type===js.ToolPanel?ol.Pivot:ol.ColumnMove},t.prototype.onDragEnter=function(e){var t=this.getDropType(e);this.currentDropListener=this.dropListeners[t],this.currentDropListener.onDragEnter(e)},t.prototype.onDragLeave=function(e){this.currentDropListener.onDragLeave(e)},t.prototype.onDragging=function(e){this.currentDropListener.onDragging(e)},t.prototype.onDragStop=function(e){this.currentDropListener.onDragStop(e)},ul([Qe("dragAndDropService")],t.prototype,"dragAndDropService",void 0),ul([Qe("columnController")],t.prototype,"columnController",void 0),ul([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ul([Ye],t.prototype,"init",null),t}(Tt),dl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),hl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},fl=function(e){function t(t,o,n){var i=e.call(this)||this;return i.groupsRowComps=[],i.eContainer=t,i.pinned=n,i.eViewport=o,i}return dl(t,e),t.prototype.forEachHeaderElement=function(e){this.groupsRowComps&&this.groupsRowComps.forEach(function(t){return t.forEachHeaderElement(e)}),this.columnsRowComp&&this.columnsRowComp.forEachHeaderElement(e),this.filtersRowComp&&this.columnsRowComp.forEachHeaderElement(e)},t.prototype.init=function(){this.addManagedListener(this.eventService,xt.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},t.prototype.onColumnResized=function(){this.setWidthOfPinnedContainer()},t.prototype.onDisplayedColumnsChanged=function(){this.setWidthOfPinnedContainer()},t.prototype.onScrollVisibilityChanged=function(){this.setWidthOfPinnedContainer()},t.prototype.onScrollbarWidthChanged=function(){this.setWidthOfPinnedContainer()},t.prototype.setWidthOfPinnedContainer=function(){var e=this.pinned===rt.PINNED_LEFT,t=this.pinned===rt.PINNED_RIGHT,o=this.columnController,n=this.gridOptionsWrapper.isEnableRtl(),i=this.gridOptionsWrapper.getScrollbarWidth();if(e||t){var r=o[e?"getPinnedLeftContainerWidth":"getPinnedRightContainerWidth"]();this.scrollVisibleService.isVerticalScrollShowing()&&(n&&e||!n&&t)&&(r+=i),gn(this.eContainer,r)}},t.prototype.getRowComps=function(){var e=[];return this.groupsRowComps&&(e=e.concat(this.groupsRowComps)),this.columnsRowComp&&e.push(this.columnsRowComp),this.filtersRowComp&&e.push(this.filtersRowComp),e},t.prototype.onGridColumnsChanged=function(){this.refresh(!0)},t.prototype.refresh=function(e){void 0===e&&(e=!1),this.refreshRowComps(e)},t.prototype.setupDragAndDrop=function(e){var t=new pl(this.pinned,this.eViewport?this.eViewport:this.eContainer);this.createManagedBean(t),t.registerGridComp(e)},t.prototype.destroyRowComps=function(e){void 0===e&&(e=!1),this.groupsRowComps.forEach(this.destroyRowComp.bind(this)),this.groupsRowComps=[],this.destroyRowComp(this.filtersRowComp),this.filtersRowComp=void 0,e||(this.destroyRowComp(this.columnsRowComp),this.columnsRowComp=void 0)},t.prototype.destroyRowComp=function(e){e&&(this.destroyBean(e),this.eContainer.removeChild(e.getGui()))},t.prototype.refreshRowComps=function(e){var t=this;void 0===e&&(e=!1);var o=new Di;!function(){var e=t.columnController.getHeaderRowCount()-1;t.groupsRowComps.forEach(t.destroyRowComp.bind(t)),t.groupsRowComps=[];for(var n=0;n<e;n++){var i=t.createBean(new nl(o.next(),ua.COLUMN_GROUP,t.pinned));t.groupsRowComps.push(i)}}(),function(){var n=o.next();if(t.columnsRowComp){var i=t.columnsRowComp.getRowIndex()!==n;e&&!i||(t.destroyRowComp(t.columnsRowComp),t.columnsRowComp=void 0)}t.columnsRowComp||(t.columnsRowComp=t.createBean(new nl(n,ua.COLUMN,t.pinned)))}(),t.destroyRowComp(t.filtersRowComp),t.filtersRowComp=void 0,!t.columnController.isPivotMode()&&t.columnController.hasFloatingFilters()&&(t.filtersRowComp=t.createBean(new nl(o.next(),ua.FLOATING_FILTER,t.pinned))),this.getRowComps().forEach(function(e){return t.eContainer.appendChild(e.getGui())})},hl([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),hl([Qe("columnController")],t.prototype,"columnController",void 0),hl([Qe("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),hl([Ye],t.prototype,"init",null),hl([qe],t.prototype,"destroyRowComps",null),t}(Tt),gl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ml=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"}(cl||(cl={}));var yl,vl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gl(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.registerHeaderRoot=function(e){this.headerRoot=e},t.prototype.getHeaderRowCount=function(){return 0===this.headerRoot.getHeaderContainers().size?0:this.getHeaderContainer().getRowComps().length},t.prototype.getHeaderRowType=function(e){if(this.getHeaderRowCount())return this.getHeaderContainer().getRowComps()[e].getType()},t.prototype.getHeaderContainer=function(e){return void 0===e&&(e="center"),null===e&&(e="center"),this.headerRoot.getHeaderContainers().get(e)},t.prototype.navigateVertically=function(e,t,o){if(t||(t=this.focusController.getFocusedHeader()),!t)return!1;var n,i=t.headerRowIndex,r=t.column,s=this.getHeaderRowCount(),a=e===cl.UP,l=a?i-1:i+1,u=!1;l<0&&(l=0,n=r,u=!0),l>=s&&(l=-1);var c=this.getHeaderRowType(i);if(!u){if(c===ua.COLUMN_GROUP){var p=r;n=a?r.getParent():p.getDisplayedChildren()[0]}else c===ua.FLOATING_FILTER?n=r:(p=r,n=a?p.getParent():p);if(!n)return!1}return this.focusController.focusHeaderPosition({headerRowIndex:l,column:n},void 0,!1,!0,o)},t.prototype.navigateHorizontally=function(e,t,o){void 0===t&&(t=!1);var n,i,r=this.focusController.getFocusedHeader(),s=e===cl.LEFT,a=this.gridOptionsWrapper.isEnableRtl();return(n=this.headerPositionUtils.findHeader(r,i=s!==a?"Before":"After"))?this.focusController.focusHeaderPosition(n,i,t,!0,o):!t||this.focusNextHeaderRow(r,i,o)},t.prototype.focusNextHeaderRow=function(e,t,o){var n,i=e.headerRowIndex;return"Before"===t?i>0&&(n=this.headerPositionUtils.findColAtEdgeForHeaderRow(i-1,"end")):n=this.headerPositionUtils.findColAtEdgeForHeaderRow(i+1,"start"),this.focusController.focusHeaderPosition(n,t,!0,!0,o)},t.prototype.scrollToColumn=function(e,t){if(void 0===t&&(t="After"),!e.getPinned()){var o;if(e instanceof ut){var n=e.getDisplayedLeafColumns();o="Before"===t?U(n):n[0]}else o=e;this.gridPanel.ensureColumnVisible(o),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()}},ml([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ml([Qe("focusController")],t.prototype,"focusController",void 0),ml([Qe("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),ml([Qe("animationFrameService")],t.prototype,"animationFrameService",void 0),ml([$e("headerNavigationService")],t)}(Tt),Cl=function(){function e(){}return e.BACKSPACE="Backspace",e.TAB="Tab",e.ENTER="Enter",e.SHIFT="Shift",e.ESCAPE="Escape",e.SPACE=" ",e.LEFT="ArrowLeft",e.UP="ArrowUp",e.RIGHT="ArrowRight",e.DOWN="ArrowDown",e.DELETE="Delete",e.NUM_PAD_DELETE="Del",e.A="a",e.C="c",e.V="v",e.D="d",e.Z="z",e.Y="y",e.F2="F2",e.PAGE_UP="PageUp",e.PAGE_DOWN="PageDown",e.PAGE_HOME="Home",e.PAGE_END="End",e}(),bl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),wl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},El=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.headerContainers=new Map,o}return bl(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this),this.printLayout=this.gridOptionsWrapper.getDomLayout()===rt.DOM_LAYOUT_PRINT,this.gridApi.registerHeaderRootComp(this),this.autoWidthCalculator.registerHeaderRootComp(this),this.registerHeaderContainer(new fl(this.eHeaderContainer,this.eHeaderViewport,null),"center"),this.registerHeaderContainer(new fl(this.ePinnedLeftHeader,null,rt.PINNED_LEFT),"left"),this.registerHeaderContainer(new fl(this.ePinnedRightHeader,null,rt.PINNED_RIGHT),"right"),this.headerContainers.forEach(function(e){return t.createManagedBean(e)}),this.headerNavigationService.registerHeaderRoot(this),this.addManagedListener(this.gridOptionsWrapper,Ls.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.addPreventHeaderScroll(),this.columnController.isReady()&&this.refreshHeader()},t.prototype.registerGridComp=function(e){this.gridPanel=e,this.headerContainers.forEach(function(t){return t.setupDragAndDrop(e)})},t.prototype.registerHeaderContainer=function(e,t){this.headerContainers.set(t,e)},t.prototype.onTabKeyDown=function(e){var t=this.gridOptionsWrapper.isEnableRtl(),o=e.shiftKey!==t?cl.LEFT:cl.RIGHT,n=this.focusController.getFocusedHeader();mi(this.gridOptionsWrapper,e,n.headerRowIndex,n.column)||(this.headerNavigationService.navigateHorizontally(o,!0,e)||this.focusController.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()},t.prototype.handleKeyDown=function(e){var t,o=this.focusController.getFocusedHeader();if(!mi(this.gridOptionsWrapper,e,o.headerRowIndex,o.column))switch(e.key){case Cl.LEFT:t=cl.LEFT;case Cl.RIGHT:P(t)||(t=cl.RIGHT),this.headerNavigationService.navigateHorizontally(t,!1,e);break;case Cl.UP:t=cl.UP;case Cl.DOWN:P(t)||(t=cl.DOWN),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break;default:return}},t.prototype.onFocusOut=function(e){var t=e.relatedTarget,o=this.getGui();!t&&o.contains(document.activeElement)||o.contains(t)||this.focusController.clearFocusedHeader()},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsWrapper.getDomLayout()===rt.DOM_LAYOUT_PRINT;this.printLayout!==e&&(this.printLayout=e,this.refreshHeader())},t.prototype.setHorizontalScroll=function(e){this.eHeaderContainer.style.transform="translateX("+e+"px)"},t.prototype.forEachHeaderElement=function(e){this.headerContainers.forEach(function(t){return t.forEachHeaderElement(e)})},t.prototype.refreshHeader=function(){this.headerContainers.forEach(function(e){return e.refresh()})},t.prototype.onPivotModeChanged=function(){var e=this.columnController.isPivotMode();Lo(this.getGui(),"ag-pivot-on",e),Lo(this.getGui(),"ag-pivot-off",!e)},t.prototype.setHeight=function(e){var t=e+1+"px";this.getGui().style.height=t,this.getGui().style.minHeight=t},t.prototype.addPreventHeaderScroll=function(){var e=this;this.addManagedListener(this.eHeaderViewport,"scroll",function(){var t=e.eHeaderViewport.scrollLeft;0!==t&&(e.gridPanel.scrollHorizontally(t),e.eHeaderViewport.scrollLeft=0)})},t.prototype.getHeaderContainers=function(){return this.headerContainers},t.prototype.setHeaderContainerWidth=function(e){this.eHeaderContainer.style.width=e+"px"},t.prototype.setLeftVisible=function(e){Vo(this.ePinnedLeftHeader,e)},t.prototype.setRightVisible=function(e){Vo(this.ePinnedRightHeader,e)},t.TEMPLATE='<div class="ag-header" role="presentation">\n            <div class="ag-pinned-left-header" ref="ePinnedLeftHeader" role="presentation"></div>\n            <div class="ag-header-viewport" ref="eHeaderViewport" role="presentation">\n                <div class="ag-header-container" ref="eHeaderContainer" role="rowgroup"></div>\n            </div>\n            <div class="ag-pinned-right-header" ref="ePinnedRightHeader" role="presentation"></div>\n        </div>',wl([Mi("ePinnedLeftHeader")],t.prototype,"ePinnedLeftHeader",void 0),wl([Mi("ePinnedRightHeader")],t.prototype,"ePinnedRightHeader",void 0),wl([Mi("eHeaderContainer")],t.prototype,"eHeaderContainer",void 0),wl([Mi("eHeaderViewport")],t.prototype,"eHeaderViewport",void 0),wl([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),wl([Qe("columnController")],t.prototype,"columnController",void 0),wl([Qe("gridApi")],t.prototype,"gridApi",void 0),wl([Qe("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),wl([Qe("headerNavigationService")],t.prototype,"headerNavigationService",void 0),t}(Ki),Rl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),_l=function(){return(_l=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Sl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ol=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allAdvancedFilters=new Map,t.activeAdvancedFilters=[],t.quickFilter=null,t.quickFilterParts=null,t.processingFilterChange=!1,t}var o;return Rl(t,e),o=t,t.prototype.init=function(){this.addManagedListener(this.eventService,xt.EVENT_ROW_DATA_CHANGED,this.onNewRowsLoaded.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter(),this.checkExternalFilter()},t.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},t.prototype.setFilterModel=function(e){var t=this,o=[];if(e){var n=Ri(Object.keys(e));this.allAdvancedFilters.forEach(function(i,r){o.push(t.setModelOnFilterWrapper(i.filterPromise,e[r])),n.delete(r)}),n.forEach(function(n){var i=t.columnController.getPrimaryColumn(n);if(i){var r=t.getOrCreateFilterWrapper(i,"NO_UI");o.push(t.setModelOnFilterWrapper(r.filterPromise,e[n]))}else console.warn("Warning ag-grid setFilterModel - no column found for colId "+n)})}else this.allAdvancedFilters.forEach(function(e){o.push(t.setModelOnFilterWrapper(e.filterPromise,null))});Pi.all(o).then(function(){return t.onFilterChanged()})},t.prototype.setModelOnFilterWrapper=function(e,t){return new Pi(function(o){e.then(function(e){"function"!=typeof e.setModel&&(console.warn("Warning ag-grid - filter missing setModel method, which is needed for setFilterModel"),o()),(e.setModel(t)||Pi.resolve()).then(function(){return o()})})})},t.prototype.getFilterModel=function(){var e={};return this.allAdvancedFilters.forEach(function(t,o){var n=t.filterPromise.resolveNow(null,function(e){return e});if(null==n)return null;if("function"==typeof n.getModel){var i=n.getModel();P(i)&&(e[o]=i)}else console.warn("Warning ag-grid - filter API missing getModel method, which is needed for getFilterModel")}),e},t.prototype.isAdvancedFilterPresent=function(){return this.activeAdvancedFilters.length>0},t.prototype.updateActiveFilters=function(){var e=this;this.activeAdvancedFilters.length=0,this.allAdvancedFilters.forEach(function(t){t.filterPromise.resolveNow(!1,function(e){return e.isFilterActive()})&&e.activeAdvancedFilters.push(t.filterPromise.resolveNow(null,function(e){return e}))})},t.prototype.updateFilterFlagInColumns=function(e,t){this.allAdvancedFilters.forEach(function(o){var n=o.filterPromise.resolveNow(!1,function(e){return e.isFilterActive()});o.column.setFilterActive(n,e,t)})},t.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isAdvancedFilterPresent()||this.externalFilterPresent},t.prototype.doAdvancedFiltersPass=function(e,t){for(var o=e.data,n=0;n<this.activeAdvancedFilters.length;n++){var i=this.activeAdvancedFilters[n];if(null!=i&&i!==t){if("function"!=typeof i.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!i.doesFilterPass({node:e,data:o}))return!1}}return!0},t.prototype.parseQuickFilter=function(e){return P(e)?this.gridOptionsWrapper.isRowModelDefault()?e.toUpperCase():(console.warn("ag-grid: quick filtering only works with the Client-Side Row Model"),null):null},t.prototype.setQuickFilter=function(e){var t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.onFilterChanged())},t.prototype.checkExternalFilter=function(){this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent()},t.prototype.onFilterChanged=function(e,t){this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",t),this.checkExternalFilter(),this.allAdvancedFilters.forEach(function(t){t.filterPromise.then(function(t){t!==e&&t.onAnyFilterChanged&&t.onAnyFilterChanged()})});var o={type:xt.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi};t&&Re(o,t),this.processingFilterChange=!0,this.eventService.dispatchEvent(o),this.processingFilterChange=!1},t.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},t.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},t.prototype.doesRowPassOtherFilters=function(e,t){return this.doesRowPassFilter(t,e)},t.prototype.doesRowPassQuickFilterNoCache=function(e,t){var o=this;return ae(this.columnController.getAllColumnsForQuickFilter(),function(n){var i=o.getQuickFilterTextForColumn(n,e);return P(i)&&i.indexOf(t)>=0})},t.prototype.doesRowPassQuickFilterCache=function(e,t){return e.quickFilterAggregateText||this.aggregateRowForQuickFilter(e),e.quickFilterAggregateText.indexOf(t)>=0},t.prototype.doesRowPassQuickFilter=function(e){var t=this,o=this.gridOptionsWrapper.isCacheQuickFilter();return se(this.quickFilterParts,function(n){return o?t.doesRowPassQuickFilterCache(e,n):t.doesRowPassQuickFilterNoCache(e,n)})},t.prototype.doesRowPassFilter=function(e,t){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(e)||this.externalFilterPresent&&!this.gridOptionsWrapper.doesExternalFilterPass(e)||this.isAdvancedFilterPresent()&&!this.doAdvancedFiltersPass(e,t))},t.prototype.getQuickFilterTextForColumn=function(e,t){var o=this.valueService.getValue(e,t,!0),n=e.getColDef();if(n.getQuickFilterText){var i={value:o,node:t,data:t.data,column:e,colDef:n,context:this.gridOptionsWrapper.getContext()};o=n.getQuickFilterText(i)}return P(o)?o.toString().toUpperCase():null},t.prototype.aggregateRowForQuickFilter=function(e){var t=this,n=[];le(this.columnController.getAllColumnsForQuickFilter(),function(o){var i=t.getQuickFilterTextForColumn(o,e);P(i)&&n.push(i)}),e.quickFilterAggregateText=n.join(o.QUICK_FILTER_SEPARATOR)},t.prototype.onNewRowsLoaded=function(e){this.allAdvancedFilters.forEach(function(e){e.filterPromise.then(function(e){e.onNewRowsLoaded&&e.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(e),this.updateActiveFilters()},t.prototype.createValueGetter=function(e){var t=this;return function(o){return t.valueService.getValue(e,o,!0)}},t.prototype.getFilterComponent=function(e,t,o){if(void 0===o&&(o=!0),o)return this.getOrCreateFilterWrapper(e,t).filterPromise;var n=this.cachedFilter(e);return n?n.filterPromise:null},t.prototype.isFilterActive=function(e){var t=this.cachedFilter(e);return t&&t.filterPromise.resolveNow(!1,function(e){return e.isFilterActive()})},t.prototype.getOrCreateFilterWrapper=function(e,t){var o=this.cachedFilter(e);return o?"NO_UI"!==t&&this.putIntoGui(o,t):(o=this.createFilterWrapper(e,t),this.allAdvancedFilters.set(e.getColId(),o)),o},t.prototype.cachedFilter=function(e){return this.allAdvancedFilters.get(e.getColId())},t.prototype.createFilterInstance=function(e,t){var o,n=this,i=st.isRegistered(tt.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",r=e.getColDef(),s=_l(_l({},this.createFilterParams(e,r,t)),{filterModifiedCallback:function(){n.eventService.dispatchEvent({type:xt.EVENT_FILTER_MODIFIED,api:n.gridApi,columnApi:n.columnApi,column:e,filterInstance:o})},filterChangedCallback:function(e){return n.onFilterChanged(o,e)},doesRowPassOtherFilter:function(e){return n.doesRowPassOtherFilters(o,e)}}),a=this.userComponentFactory.newFilterComponent(r,s,i);return a&&a.then(function(e){return o=e}),a},t.prototype.createFilterParams=function(e,t,o){void 0===o&&(o=null);var n={api:this.gridOptionsWrapper.getApi(),column:e,colDef:ge(t),rowModel:this.rowModel,filterChangedCallback:null,filterModifiedCallback:null,valueGetter:this.createValueGetter(e),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:null};return o&&(n.$scope=o),n},t.prototype.createFilterWrapper=function(e,t){var o={column:e,filterPromise:null,scope:null,compiledElement:null,guiPromise:Pi.resolve(null)};return o.scope=this.gridOptionsWrapper.isAngularCompileFilters()?this.$scope.$new():null,o.filterPromise=this.createFilterInstance(e,o.scope),o.filterPromise&&this.putIntoGui(o,t),o},t.prototype.putIntoGui=function(e,t){var o=this,n=document.createElement("div");n.className="ag-filter",e.guiPromise=new Pi(function(i){e.filterPromise.then(function(r){var s=r.getGui();if(P(s)||console.warn("getGui method from filter returned "+s+", it should be a DOM element or an HTML template string."),"string"==typeof s&&(s=tn(s)),n.appendChild(s),e.scope){var a=o.$compile(n)(e.scope);e.compiledElement=a,window.setTimeout(function(){return e.scope.$apply()},0)}i(n),o.eventService.dispatchEvent({type:xt.EVENT_FILTER_OPENED,column:e.column,source:t,eGui:n,api:o.gridApi,columnApi:o.columnApi})})})},t.prototype.onNewColumnsLoaded=function(){var e=this,t=!1;this.allAdvancedFilters.forEach(function(o){!e.columnController.getPrimaryColumn(o.column)&&(t=!0,e.disposeFilterWrapper(o,"filterDestroyed"))}),t&&this.onFilterChanged()},t.prototype.destroyFilter=function(e,t){void 0===t&&(t="api");var o=this.allAdvancedFilters.get(e.getColId());o&&(this.disposeFilterWrapper(o,t),this.onFilterChanged())},t.prototype.disposeFilterWrapper=function(e,t){var o=this;e.filterPromise.then(function(n){(n.setModel(null)||Pi.resolve()).then(function(){o.getContext().destroyBean(n),e.column.setFilterActive(!1,t),e.scope&&(e.compiledElement&&e.compiledElement.remove(),e.scope.$destroy()),o.allAdvancedFilters.delete(e.column.getColId())})})},t.prototype.destroy=function(){var t=this;e.prototype.destroy.call(this),this.allAdvancedFilters.forEach(function(e){return t.disposeFilterWrapper(e,"filterDestroyed")})},t.QUICK_FILTER_SEPARATOR="\n",Sl([Qe("$compile")],t.prototype,"$compile",void 0),Sl([Qe("$scope")],t.prototype,"$scope",void 0),Sl([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Sl([Qe("valueService")],t.prototype,"valueService",void 0),Sl([Qe("columnController")],t.prototype,"columnController",void 0),Sl([Qe("rowModel")],t.prototype,"rowModel",void 0),Sl([Qe("columnApi")],t.prototype,"columnApi",void 0),Sl([Qe("gridApi")],t.prototype,"gridApi",void 0),Sl([Qe("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Sl([Ye],t.prototype,"init",null),Sl([qe],t.prototype,"destroy",null),o=Sl([$e("filterManager")],t)}(Tt),Dl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Pl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Tl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.initialised=!1,t}return Dl(t,e),t.prototype.init=function(){this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0},t.prototype.getValue=function(e,t,o,n){if(void 0===o&&(o=!1),void 0===n&&(n=!1),this.initialised||this.init(),t){var i,r=e.getColDef(),s=r.field,a=e.getId(),l=t.data,u=t.groupData&&void 0!==t.groupData[a],c=!n&&t.aggData&&void 0!==t.aggData[a];if(o&&r.filterValueGetter?i=this.executeFilterValueGetter(r.filterValueGetter,l,e,t):this.gridOptionsWrapper.isTreeData()&&c?i=t.aggData[a]:this.gridOptionsWrapper.isTreeData()&&r.valueGetter?i=this.executeValueGetter(r.valueGetter,l,e,t):this.gridOptionsWrapper.isTreeData()&&s&&l?i=Te(l,s,e.isFieldContainsDots()):u?i=t.groupData[a]:c?i=t.aggData[a]:r.valueGetter?i=this.executeValueGetter(r.valueGetter,l,e,t):s&&l&&(i=Te(l,s,e.isFieldContainsDots())),this.cellExpressions&&"string"==typeof i&&0===i.indexOf("=")){var p=i.substring(1);i=this.executeValueGetter(p,l,e,t)}return i}},t.prototype.setValue=function(e,t,o,n){var i=this.columnController.getPrimaryColumn(t);if(e&&i){T(e.data)&&(e.data={});var r=i.getColDef(),s=r.field,a=r.newValueHandler,l=r.valueSetter;if(T(s)&&T(a)&&T(l))console.warn("ag-Grid: you need either field or valueSetter set on colDef for editing to work");else{var u,c={node:e,data:e.data,oldValue:this.getValue(i,e),newValue:o,colDef:i.getColDef(),column:i,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};if(c.newValue=o,void 0===(u=a&&P(a)?a(c):P(l)?this.expressionService.evaluate(l,c):this.setValueUsingField(e.data,s,o,i.isFieldContainsDots()))&&(u=!0),u){e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),c.newValue=this.getValue(i,e);var p=i.getColDef().onCellValueChanged;"function"==typeof p&&setTimeout(function(){return p(c)},0),this.eventService.dispatchEvent({type:xt.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:c.column,api:c.api,colDef:c.colDef,columnApi:c.columnApi,context:c.context,data:e.data,node:e,oldValue:c.oldValue,newValue:c.newValue,value:c.newValue,source:n})}}}},t.prototype.setValueUsingField=function(e,t,o,n){if(!t)return!1;if(n)for(var i=t.split("."),r=e;i.length>0&&r;){var s=i.shift();0===i.length?r[s]=o:r=r[s]}else e[t]=o;return!0},t.prototype.executeFilterValueGetter=function(e,t,o,n){var i={data:t,node:n,column:o,colDef:o.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,n)};return this.expressionService.evaluate(e,i)},t.prototype.executeValueGetter=function(e,t,o,n){var i=o.getId(),r=this.valueCache.getValue(n,i);if(void 0!==r)return r;var s={data:t,node:n,column:o,colDef:o.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,n)},a=this.expressionService.evaluate(e,s);return this.valueCache.setValue(n,i,a),a},t.prototype.getValueCallback=function(e,t){var o=this.columnController.getPrimaryColumn(t);return o?this.getValue(o,e):null},t.prototype.getKeyForNode=function(e,t){var o=this.getValue(e,t),n=e.getColDef().keyCreator,i=n?n({value:o}):o;return"string"==typeof i||null==i||"[object Object]"===(i=String(i))&&Me(function(){console.warn("ag-Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se ag-Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]"),i},Pl([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Pl([Qe("expressionService")],t.prototype,"expressionService",void 0),Pl([Qe("columnController")],t.prototype,"columnController",void 0),Pl([Qe("valueCache")],t.prototype,"valueCache",void 0),Pl([Ye],t.prototype,"init",null),Pl([$e("valueService")],t)}(Tt),Al=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Fl=function(){function e(e){this.childCount=0,this.rowTemplatesToAdd=[],this.afterGuiAttachedCallbacks=[],this.lastMadeVisibleTime=0,this.eContainer=e.eContainer,this.eViewport=e.eViewport,e.eWrapper&&(this.eWrapper=e.eWrapper),this.hideWhenNoChildren=e.hideWhenNoChildren}return e.prototype.setVerticalScrollPosition=function(e){this.scrollTop=e},e.prototype.postConstruct=function(){this.checkDomOrder(),this.checkVisibility(),this.gridOptionsWrapper.addEventListener(Ls.PROP_DOM_LAYOUT,this.checkDomOrder.bind(this))},e.prototype.checkDomOrder=function(){this.domOrder=this.gridOptionsWrapper.isEnsureDomOrder()},e.prototype.getRowElement=function(e){return this.eContainer.querySelector('[comp-id="'+e+'"]')},e.prototype.setHeight=function(e){null!=e?(this.eContainer.style.height=e+"px",this.eWrapper&&(this.eWrapper.style.height=e+"px")):this.eContainer.style.height=""},e.prototype.flushRowTemplates=function(){if(0!==this.rowTemplatesToAdd.length){var e=this.rowTemplatesToAdd.join("");on(this.eContainer,e),this.rowTemplatesToAdd.length=0}this.afterGuiAttachedCallbacks.forEach(function(e){return e()}),this.afterGuiAttachedCallbacks.length=0,this.lastPlacedElement=null},e.prototype.appendRowTemplate=function(e,t){this.domOrder?this.lastPlacedElement=un(this.eContainer,e,this.lastPlacedElement):this.rowTemplatesToAdd.push(e),this.afterGuiAttachedCallbacks.push(t),this.childCount++,this.checkVisibility()},e.prototype.ensureDomOrder=function(e){this.domOrder&&(an(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)},e.prototype.removeRowElement=function(e){this.eContainer.removeChild(e),this.childCount--,this.checkVisibility()},e.prototype.checkVisibility=function(){if(this.hideWhenNoChildren){var e=this.eViewport?this.eViewport:this.eContainer,t=this.childCount>0;this.visible!==t&&(this.visible=t,this.lastMadeVisibleTime=(new Date).getTime(),Vo(e,t),t&&this.eViewport&&(this.eViewport.scrollTop=this.scrollTop))}},e.prototype.isMadeVisibleRecently=function(){return(new Date).getTime()-this.lastMadeVisibleTime<500},Al([Qe("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Al([Ye],e.prototype,"postConstruct",null),e}(),Nl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),xl=function(){return(xl=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Il=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ml=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,i++)n[i]=r[s];return n},Ll=function(e){function t(t,o){var n=e.call(this)||this;return n.isMultiRowDrag=!1,n.isGridSorted=!1,n.isGridFiltered=!1,n.isRowGroupActive=!1,n.eContainer=t,n.gridPanel=o,n}return Nl(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,xt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.onSortChanged(),this.onFilterChanged(),this.onRowGroupChanged()},t.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},t.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},t.prototype.onRowGroupChanged=function(){var e=this.columnController.getRowGroupColumns();this.isRowGroupActive=!A(e)},t.prototype.getContainer=function(){return this.eContainer},t.prototype.isInterestedIn=function(e){return e===js.RowDrag},t.prototype.getIconName=function(){return this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()?$s.ICON_NOT_ALLOWED:$s.ICON_MOVE},t.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},t.prototype.getRowNodes=function(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes;var t=this.gridOptionsWrapper.isEnableMultiRowDragging(),o=this.selectionController.getSelectedNodes(),n=e.dragItem.rowNode;return t&&-1!==o.indexOf(n)?(this.isMultiRowDrag=!0,Ml(o)):(this.isMultiRowDrag=!1,[n])},t.prototype.onDragEnter=function(e){this.dispatchGridEvent(xt.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(function(e){e.setDragging(!0)}),this.onEnterOrDragging(e)},t.prototype.onDragging=function(e){this.onEnterOrDragging(e)},t.prototype.isFromThisGrid=function(e){return e.dragSource.dragSourceDomDataKey===this.gridOptionsWrapper.getDomDataKey()},t.prototype.isDropZoneWithinThisGrid=function(e){return!this.gridPanel.getGui().contains(e.dropZoneTarget)},t.prototype.onEnterOrDragging=function(e){this.dispatchGridEvent(xt.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;var t=this.mouseEventService.getNormalisedPosition(e).y;this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(e,t),this.checkCenterForScrolling(t)},t.prototype.doManagedDrag=function(e,t){var o,n=this,i=this.isFromThisGrid(e);i?(o=[e.dragItem.rowNode],this.isMultiRowDrag&&(o=Ml(this.selectionController.getSelectedNodes()).sort(function(e,t){return n.getRowIndexNumber(e)-n.getRowIndexNumber(t)})),e.dragItem.rowNodes=o):o=e.dragItem.rowNodes,this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!i?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(o[0],t):this.moveRows(o,t))},t.prototype.getRowIndexNumber=function(e){return parseInt(U(e.getRowIndexString().split("-")),10)},t.prototype.moveRowAndClearHighlight=function(e){var t=this,o=this.clientSideRowModel.getLastHighlightedRowNode(),n=o&&"below"===o.highlighted,i=this.mouseEventService.getNormalisedPosition(e).y,r=e.dragItem.rowNodes,s=n?1:0;if(this.isFromThisGrid(e))r.forEach(function(e){e.rowTop<i&&(s-=1)}),this.moveRows(r,i,s);else{var a=this.gridOptionsWrapper.getRowNodeIdFunc(),l=this.clientSideRowModel.getRowIndexAtPixel(i)+1;"above"===this.clientSideRowModel.getHighlightPosition(i)&&l--,this.clientSideRowModel.updateRowData({add:r.map(function(e){return e.data}).filter(function(e){return!t.clientSideRowModel.getRowNode(a?a(e):e.id)}),addIndex:l})}this.clearRowHighlight()},t.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},t.prototype.moveRows=function(e,t,o){void 0===o&&(o=0),this.clientSideRowModel.ensureRowsAtPixel(e,t,o)&&(this.focusController.clearFocusedCell(),this.rangeController&&this.rangeController.removeAllCellRanges())},t.prototype.checkCenterForScrolling=function(e){var t=this.gridPanel.getVScrollPosition();this.needToMoveUp=e<t.top+50,this.needToMoveDown=e>t.bottom-50,this.needToMoveUp||this.needToMoveDown?this.ensureIntervalStarted():this.ensureIntervalCleared()},t.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100))},t.prototype.ensureIntervalCleared=function(){this.moveInterval&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null)},t.prototype.moveInterval=function(){var e,t;this.intervalCount++,(e=10+5*this.intervalCount)>100&&(e=100),this.needToMoveDown?t=this.gridPanel.scrollVertically(e):this.needToMoveUp&&(t=this.gridPanel.scrollVertically(-e)),0!==t&&this.onDragging(this.lastDraggingEvent)},t.prototype.addRowDropZone=function(e){var t=this;if(e.getContainer())if(this.dragAndDropService.findExternalZone(e))console.warn("ag-Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var o={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,o=e):(e.onDragEnter&&(o.onDragEnter=function(o){e.onDragEnter(t.draggingToRowDragEvent(xt.EVENT_ROW_DRAG_ENTER,o))}),e.onDragLeave&&(o.onDragLeave=function(o){e.onDragLeave(t.draggingToRowDragEvent(xt.EVENT_ROW_DRAG_LEAVE,o))}),e.onDragging&&(o.onDragging=function(o){e.onDragging(t.draggingToRowDragEvent(xt.EVENT_ROW_DRAG_MOVE,o))}),e.onDragStop&&(o.onDragStop=function(o){e.onDragStop(t.draggingToRowDragEvent(xt.EVENT_ROW_DRAG_END,o))})),this.dragAndDropService.addDropTarget(xl({isInterestedIn:function(e){return e===js.RowDrag},getIconName:function(){return $s.ICON_MOVE},external:!0},o))}else Me(function(){return console.warn("ag-Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target")},t.prototype.getRowDropZone=function(e){var t=this,o=this.getContainer.bind(this),n=this.onDragEnter.bind(this),i=this.onDragLeave.bind(this),r=this.onDragging.bind(this),s=this.onDragStop.bind(this);return e?{getContainer:o,onDragEnter:e.onDragEnter?function(o){n(o),e.onDragEnter(t.draggingToRowDragEvent(xt.EVENT_ROW_DRAG_ENTER,o))}:n,onDragLeave:e.onDragLeave?function(o){i(o),e.onDragLeave(t.draggingToRowDragEvent(xt.EVENT_ROW_DRAG_LEAVE,o))}:i,onDragging:e.onDragging?function(o){r(o),e.onDragging(t.draggingToRowDragEvent(xt.EVENT_ROW_DRAG_MOVE,o))}:r,onDragStop:e.onDragStop?function(o){s(o),e.onDragStop(t.draggingToRowDragEvent(xt.EVENT_ROW_DRAG_END,o))}:s,fromGrid:!0}:{getContainer:o,onDragEnter:n,onDragLeave:i,onDragging:r,onDragStop:s,fromGrid:!0}},t.prototype.draggingToRowDragEvent=function(e,t){var o,n=this.mouseEventService.getNormalisedPosition(t).y,i=-1,r=null;switch(n>this.rowModel.getCurrentPageHeight()||(i=this.rowModel.getRowIndexAtPixel(n),r=this.rowModel.getRow(i)),t.vDirection){case Us.Down:o="down";break;case Us.Up:o="up";break;default:o=null}return{type:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:i,overNode:r,y:n,vDirection:o}},t.prototype.dispatchGridEvent=function(e,t){var o=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(o)},t.prototype.onDragLeave=function(e){this.dispatchGridEvent(xt.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)},t.prototype.onDragStop=function(e){this.dispatchGridEvent(xt.EVENT_ROW_DRAG_END,e),this.stopDragging(e),!this.gridOptionsWrapper.isRowDragManaged()||!this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()&&this.isFromThisGrid(e)||this.isDropZoneWithinThisGrid(e)||this.moveRowAndClearHighlight(e)},t.prototype.stopDragging=function(e){this.ensureIntervalCleared(),this.getRowNodes(e).forEach(function(e){e.setDragging(!1)})},Il([Qe("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Il([Qe("rowModel")],t.prototype,"rowModel",void 0),Il([Qe("columnController")],t.prototype,"columnController",void 0),Il([Qe("focusController")],t.prototype,"focusController",void 0),Il([Qe("sortController")],t.prototype,"sortController",void 0),Il([Qe("filterManager")],t.prototype,"filterManager",void 0),Il([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Il([Qe("selectionController")],t.prototype,"selectionController",void 0),Il([Xe("rangeController")],t.prototype,"rangeController",void 0),Il([Qe("mouseEventService")],t.prototype,"mouseEventService",void 0),Il([Ye],t.prototype,"postConstruct",null),t}(Tt),Gl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),kl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Vl=function(e){function t(){var t=e.call(this,'<div class="ag-root ag-unselectable" role="grid" unselectable="on">\n        <ag-header-root ref="headerRoot" unselectable="on"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation" unselectable="on">\n            <div class="ag-pinned-left-floating-top" ref="eLeftTop" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-top-viewport" ref="eTopViewport" role="presentation" unselectable="on">\n                <div class="ag-floating-top-container" ref="eTopContainer" role="presentation" unselectable="on"></div>\n            </div>\n            <div class="ag-pinned-right-floating-top" ref="eRightTop" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-top-full-width-container" ref="eTopFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n            <div class="ag-pinned-left-cols-container" ref="eLeftContainer" role="presentation" unselectable="on"></div>\n            <div class="ag-center-cols-clipper" ref="eCenterColsClipper" role="presentation" unselectable="on">\n                <div class="ag-center-cols-viewport" ref="eCenterViewport" role="presentation">\n                    <div class="ag-center-cols-container" ref="eCenterContainer" role="rowgroup" unselectable="on"></div>\n                </div>\n            </div>\n            <div class="ag-pinned-right-cols-container" ref="eRightContainer" role="presentation" unselectable="on"></div>\n            <div class="ag-full-width-container" ref="eFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation" unselectable="on">\n            <div class="ag-pinned-left-floating-bottom" ref="eLeftBottom" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-bottom-viewport" ref="eBottomViewport" role="presentation" unselectable="on">\n                <div class="ag-floating-bottom-container" ref="eBottomContainer" role="presentation" unselectable="on"></div>\n            </div>\n            <div class="ag-pinned-right-floating-bottom" ref="eRightBottom" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-bottom-full-width-container" ref="eBottomFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-body-horizontal-scroll" ref="eHorizontalScrollBody" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eHorizontalLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eBodyHorizontalScrollViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eBodyHorizontalScrollContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eHorizontalRightSpacer"></div>\n        </div>\n        <ag-overlay-wrapper ref="overlayWrapper"></ag-overlay-wrapper>\n    </div>')||this;return t.scrollLeft=-1,t.scrollTop=-1,t.resetLastHorizontalScrollElementDebounced=Be(t.resetLastHorizontalScrollElement.bind(t),500),t}return Gl(t,e),t.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},t.prototype.getHScrollPosition=function(){return{left:this.eCenterViewport.scrollLeft,right:this.eCenterViewport.scrollLeft+this.eCenterViewport.offsetWidth}},t.prototype.onRowDataChanged=function(){this.showOrHideOverlay()},t.prototype.showOrHideOverlay=function(){var e=this.paginationProxy.isEmpty(),t=this.gridOptionsWrapper.isSuppressNoRowsOverlay();this[e&&!t?"showNoRowsOverlay":"hideOverlay"]()},t.prototype.onNewColumnsLoaded=function(){this.columnController.isReady()&&!this.paginationProxy.isEmpty()&&this.hideOverlay()},t.prototype.init=function(){var e=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===rt.DOM_LAYOUT_PRINT,this.gridOptionsWrapper.addLayoutElement(this.getGui()),this.gridOptionsWrapper.addLayoutElement(this.eBodyViewport),this.suppressScrollOnFloatingRow(),this.setupRowAnimationCssClass(),this.buildRowContainerComponents(),this.addEventListeners(),this.addDragListeners(),this.addScrollListener(),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.setPinnedContainerSize(),this.setHeaderAndFloatingHeights(),this.disableBrowserDragging(),this.addMouseListeners(),this.addPreventScrollWhileDragging(),this.addKeyboardEvents(),this.addBodyViewportListener(),this.addStopEditingWhenGridLosesFocus(),this.mockContextMenuForIPad(),this.addRowDragListener(),this.$scope&&this.addAngularApplyCheck(),this.onDisplayedColumnsWidthChanged(),this.gridApi.registerGridComp(this),this.alignedGridsService.registerGridComp(this),this.headerRootComp.registerGridComp(this),this.navigationService.registerGridComp(this),this.headerNavigationService.registerGridComp(this),this.heightScaler.registerGridComp(this),this.autoHeightCalculator.registerGridComp(this),this.columnAnimationService.registerGridComp(this),this.autoWidthCalculator.registerGridComp(this),this.paginationAutoPageSizeService.registerGridComp(this),this.mouseEventService.registerGridComp(this),this.beans.registerGridComp(this),this.rowRenderer.registerGridComp(this),this.contextMenuFactory&&this.contextMenuFactory.registerGridComp(this),this.menuFactory&&this.menuFactory.registerGridComp(this),(this.rangeController||this.gridOptionsWrapper.isRowSelectionMulti())&&(Yn(this.getGui(),!0),this.rangeController&&this.rangeController.registerGridComp(this)),[this.eCenterViewport,this.eBodyViewport].forEach(function(t){var o=e.resizeObserverService.observeResize(t,e.onCenterViewportResized.bind(e));e.addDestroyFunc(function(){return o()})}),[this.eTop,this.eBodyViewport,this.eBottom].forEach(function(t){e.addManagedListener(t,"focusin",function(){Io(t,"ag-has-focus")}),e.addManagedListener(t,"focusout",function(e){t.contains(e.relatedTarget)||Mo(t,"ag-has-focus")})})},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsWrapper.getDomLayout()===rt.DOM_LAYOUT_PRINT;this.printLayout!==e&&(this.printLayout=e,this.setWidthsOfContainers(),this.setPinnedContainerSize())},t.prototype.onCenterViewportResized=function(){if(en(this.eCenterViewport)){this.checkViewportAndScrolls();var e=this.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnController.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},t.prototype.setColumnMovingCss=function(e){this.addOrRemoveCssClass("ag-column-moving",e)},t.prototype.setCellTextSelection=function(e){void 0===e&&(e=!1),[this.eTop,this.eBodyViewport,this.eBottom].forEach(function(t){return Lo(t,"ag-selectable",e)})},t.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new Ll(this.eBodyViewport,this)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},t.prototype.getRowDragFeature=function(){return this.rowDragFeature},t.prototype.addStopEditingWhenGridLosesFocus=function(){var e=this;if(this.gridOptionsWrapper.isStopEditingWhenGridLosesFocus()){var t=[this.eBodyViewport,this.eBottom,this.eTop],o=function(o){var n=o.relatedTarget;if(null!==Po(n)){var i=t.some(function(e){return e.contains(n)});if(!i){var r=e.popupService;i=r.getActivePopups().some(function(e){return e.contains(n)})||r.isElementWithinCustomPopup(n)}i||e.rowRenderer.stopEditing()}else e.rowRenderer.stopEditing()};t.forEach(function(t){return e.addManagedListener(t,"focusout",o)})}},t.prototype.addAngularApplyCheck=function(){var e=this,t=!1,o=function(){t||(t=!0,window.setTimeout(function(){t=!1,e.$scope.$apply()},0))};this.addManagedListener(this.eventService,xt.EVENT_DISPLAYED_COLUMNS_CHANGED,o),this.addManagedListener(this.eventService,xt.EVENT_VIRTUAL_COLUMNS_CHANGED,o)},t.prototype.disableBrowserDragging=function(){this.addGuiEventListener("dragstart",function(e){if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,xt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_PINNED_ROW_DATA_CHANGED,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_ROW_DATA_UPDATED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ls.PROP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ls.PROP_PIVOT_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ls.PROP_GROUP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ls.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ls.PROP_FLOATING_FILTERS_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ls.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this))},t.prototype.addDragListeners=function(){var e=this;this.gridOptionsWrapper.isEnableRangeSelection()&&!T(this.rangeController)&&[this.eLeftContainer,this.eRightContainer,this.eCenterContainer,this.eTop,this.eBottom].forEach(function(t){var o={eElement:t,onDragStart:e.rangeController.onDragStart.bind(e.rangeController),onDragStop:e.rangeController.onDragStop.bind(e.rangeController),onDragging:e.rangeController.onDragging.bind(e.rangeController)};e.dragService.addDragSource(o),e.addDestroyFunc(function(){return e.dragService.removeDragSource(o)})})},t.prototype.addMouseListeners=function(){var e=this;["dblclick","contextmenu","mouseover","mouseout","click","mousedown"].forEach(function(t){var o=e.processMouseEvent.bind(e,t);e.eAllCellContainers.forEach(function(n){return e.addManagedListener(n,t,o)})})},t.prototype.addPreventScrollWhileDragging=function(){var e=this,t=function(t){e.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eAllCellContainers.forEach(function(e){e.addEventListener("touchmove",t,{passive:!1})}),this.addDestroyFunc(function(){e.eAllCellContainers.forEach(function(e){e.removeEventListener("touchmove",t)})})},t.prototype.addKeyboardEvents=function(){var e=this;["keydown","keypress"].forEach(function(t){var o=e.processKeyboardEvent.bind(e,t);e.eAllCellContainers.forEach(function(n){e.addManagedListener(n,t,o)})})},t.prototype.addBodyViewportListener=function(){var e=this;this.addManagedListener(this.eBodyViewport,"contextmenu",function(t){var o=wt(t);o!==e.eBodyViewport&&o!==e.eCenterViewport||(e.onContextMenu(t,null,null,null,null),e.preventDefaultOnContextMenu(t))})},t.prototype.getBodyClientRect=function(){if(this.eBodyViewport)return this.eBodyViewport.getBoundingClientRect()},t.prototype.getRowForEvent=function(e){for(var t=wt(e);t;){var o=this.gridOptionsWrapper.getDomData(t,ya.DOM_DATA_KEY_RENDERED_ROW);if(o)return o;t=t.parentElement}return null},t.prototype.processKeyboardEvent=function(e,t){var o=Ct(this.gridOptionsWrapper,t);if(o&&!t.defaultPrevented){var n=o.getRenderedRow().getRowNode(),i=o.getColumn(),r=o.isEditing();if(!gi(this.gridOptionsWrapper,t,n,i,r))switch(e){case"keydown":!r&&this.navigationService.handlePageScrollingKey(t)||o.onKeyDown(t),this.doGridOperations(t,o);break;case"keypress":o.onKeyPress(t)}if("keydown"===e){var s=o.createEvent(t,xt.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(s)}if("keypress"===e){var a=o.createEvent(t,xt.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(a)}}},t.prototype.doGridOperations=function(e,t){if((e.ctrlKey||e.metaKey)&&!t.isEditing()&&this.mouseEventService.isEventFromThisGrid(e))switch(e.which){case ki.A:return this.onCtrlAndA(e);case ki.C:return this.onCtrlAndC(e);case ki.V:return this.onCtrlAndV();case ki.D:return this.onCtrlAndD(e);case ki.Z:return e.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo();case ki.Y:return this.undoRedoService.redo()}},t.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},t.prototype.processMouseEvent=function(e,t){if(this.mouseEventService.isEventFromThisGrid(t)&&!mt(t)){var o=this.getRowForEvent(t),n=this.mouseEventService.getRenderedCellForEvent(t);"contextmenu"===e?(this.preventDefaultOnContextMenu(t),this.handleContextMenuMouseEvent(t,null,o,n)):(n&&n.onMouseEvent(e,t),o&&o.onMouseEvent(e,t))}},t.prototype.mockContextMenuForIPad=function(){var e=this;Do()&&this.eAllCellContainers.forEach(function(t){var o=new rr(t);e.addManagedListener(o,rr.EVENT_LONG_TAP,function(t){var o=e.getRowForEvent(t.touchEvent),n=e.mouseEventService.getRenderedCellForEvent(t.touchEvent);e.handleContextMenuMouseEvent(null,t.touchEvent,o,n)}),e.addDestroyFunc(function(){return o.destroy()})})},t.prototype.handleContextMenuMouseEvent=function(e,t,o,n){var i=o?o.getRowNode():null,r=n?n.getColumn():null,s=null;r&&(n.dispatchCellContextMenuEvent(e||t),s=this.valueService.getValue(r,i)),this.onContextMenu(e,t,i,r,s)},t.prototype.onContextMenu=function(e,t,o,n,i){!this.gridOptionsWrapper.isAllowContextMenuWithControlKey()&&e&&(e.ctrlKey||e.metaKey)||this.contextMenuFactory&&!this.gridOptionsWrapper.isSuppressContextMenu()&&this.contextMenuFactory.showMenu(o,n,i,e||t.touches[0])&&(e||t).preventDefault()},t.prototype.preventDefaultOnContextMenu=function(e){var t=this.gridOptionsWrapper,o=e.which;(t.isPreventDefaultOnContextMenu()||t.isSuppressMiddleClickScrolls()&&2===o)&&e.preventDefault()},t.prototype.onCtrlAndA=function(e){var t=this.pinnedRowModel,o=this.rangeController,n=rt.PINNED_BOTTOM,i=rt.PINNED_TOP;if(o&&this.paginationProxy.isRowsToRender()){var r=[t.isEmpty(i),t.isEmpty(n)],s=r[0]?null:i,a=void 0,l=void 0;r[1]?(a=null,l=this.paginationProxy.getRowCount()-1):(a=n,l=t.getPinnedBottomRowData().length-1);var u=this.columnController.getAllDisplayedColumns();if(A(u))return;o.setCellRange({rowStartIndex:0,rowStartPinned:s,rowEndIndex:l,rowEndPinned:a,columnStart:u[0],columnEnd:U(u)})}e.preventDefault()},t.prototype.onCtrlAndC=function(e){this.clipboardService&&!this.gridOptionsWrapper.isEnableCellTextSelection()&&(this.clipboardService.copyToClipboard(),e.preventDefault())},t.prototype.onCtrlAndV=function(){st.isRegistered(tt.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},t.prototype.onCtrlAndD=function(e){st.isRegistered(tt.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),e.preventDefault()},t.prototype.ensureIndexVisible=function(e,t){if(!this.printLayout){var o=this.paginationProxy.getRowCount();if("number"!=typeof e||e<0||e>=o)console.warn("invalid row index for ensureIndexVisible: "+e);else{this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()||this.paginationProxy.goToPageWithIndex(e);var n,i=this.paginationProxy.getRow(e);do{var r=i.rowTop,s=i.rowHeight,a=this.paginationProxy.getPixelOffset(),l=i.rowTop-a,u=l+i.rowHeight,c=this.getVScrollPosition(),p=this.heightScaler.getOffset(),d=c.top+p,h=c.bottom+p,f=h-d,g=this.heightScaler.getScrollPositionForPixel(l),m=this.heightScaler.getScrollPositionForPixel(u-f),y=Math.min((g+m)/2,l),v=null;"top"===t?v=g:"bottom"===t?v=m:"middle"===t?v=y:d>l?v=g:h<u&&(v=m),null!==v&&(this.eBodyViewport.scrollTop=v,this.rowRenderer.redrawAfterScroll()),n=r!==i.rowTop||s!==i.rowHeight}while(n);this.animationFrameService.flushAllFrames()}}},t.prototype.getCenterWidth=function(){return this.eCenterViewport.clientWidth},t.prototype.isVerticalScrollShowing=function(){var e=this.gridOptionsWrapper.isAlwaysShowVerticalScroll();return Lo(this.eBodyViewport,"ag-force-vertical-scroll",e),e||hn(this.eBodyViewport)},t.prototype.isHorizontalScrollShowing=function(){return dn(this.eCenterViewport)},t.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},t.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.setPinnedContainerSize(),this.scrollLeft!==this.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.eCenterViewport)},t.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},t.prototype.updateScrollVisibleServiceImpl=function(){var e={horizontalScrollShowing:!1,verticalScrollShowing:!1};e.verticalScrollShowing=this.isVerticalScrollShowing(),e.horizontalScrollShowing=this.isHorizontalScrollShowing(),this.scrollVisibleService.setScrollsVisible(e),this.setHorizontalScrollVisible(e.horizontalScrollShowing),this.setVerticalScrollPaddingVisible(e.verticalScrollShowing)},t.prototype.setHorizontalScrollVisible=function(e){var t=this.gridOptionsWrapper.isSuppressHorizontalScroll(),o=e&&this.gridOptionsWrapper.getScrollbarWidth()||0,n=t?0:o,i=Eo()&&e;this.eCenterViewport.style.height="calc(100% + "+o+"px)",yn(this.eHorizontalScrollBody,n),yn(this.eBodyHorizontalScrollViewport,n+(i?1:0)),yn(this.eBodyHorizontalScrollContainer,n)},t.prototype.setVerticalScrollPaddingVisible=function(e){this.eTop.style.overflowY=this.eBottom.style.overflowY=e?"scroll":"hidden",this.setFakeHScrollSpacerWidths()},t.prototype.updateRowCount=function(){var e=this.headerNavigationService.getHeaderRowCount(),t=this.paginationProxy.getType(),o=-1;t===rt.ROW_MODEL_TYPE_CLIENT_SIDE&&(o=0,this.paginationProxy.forEachNode(function(e){e.group||o++}));var n=-1===o?-1:e+o;qn(this.getGui(),n)},t.prototype.updateColumnCount=function(){var e=this.columnController.getAllGridColumns();Qn(this.getGui(),e.length)},t.prototype.ensureColumnVisible=function(e){var t=this.columnController.getGridColumn(e);if(t)if(t.isPinned())console.warn("calling ensureIndexVisible on a "+t.getPinned()+" pinned column doesn't make sense for column "+t.getColId());else if(this.columnController.isColumnDisplayed(t)){var o,n,i=t.getLeft(),r=i+t.getActualWidth(),s=this.eCenterViewport.clientWidth,a=this.getCenterViewportScrollLeft(),l=this.columnController.getBodyContainerWidth();this.enableRtl?(o=l-a-s,n=l-a):(o=a,n=s+a);var u=o>i,c=n<r,p=s<t.getActualWidth(),d=u||p,h=c;this.getCenterViewportScrollLeft(),(d||h)&&this.setCenterViewportScrollLeft(this.enableRtl?d?l-s-i:l-r:d?i:r-s),this.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}else console.warn("column is not currently visible")},t.prototype.showLoadingOverlay=function(){this.gridOptionsWrapper.isSuppressLoadingOverlay()||this.overlayWrapper.showLoadingOverlay()},t.prototype.showNoRowsOverlay=function(){this.gridOptionsWrapper.isSuppressNoRowsOverlay()||this.overlayWrapper.showNoRowsOverlay()},t.prototype.hideOverlay=function(){this.overlayWrapper.hideOverlay()},t.prototype.sizeColumnsToFit=function(e){var t=this,o=this.eBodyViewport.clientWidth;o>0?this.columnController.sizeColumnsToFit(o,"sizeColumnsToFit"):void 0===e?window.setTimeout(function(){t.sizeColumnsToFit(100)},0):100===e?window.setTimeout(function(){t.sizeColumnsToFit(500)},100):500===e?window.setTimeout(function(){t.sizeColumnsToFit(-1)},500):console.warn("ag-Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},t.prototype.getCenterContainer=function(){return this.eCenterContainer},t.prototype.getDropTargetBodyContainers=function(){return[this.eBodyViewport,this.eTopViewport,this.eBottomViewport]},t.prototype.getDropTargetLeftContainers=function(){return[this.eLeftContainer,this.eLeftBottom,this.eLeftTop]},t.prototype.getDropTargetRightContainers=function(){return[this.eRightContainer,this.eRightBottom,this.eRightTop]},t.prototype.buildRowContainerComponents=function(){var e=this;this.eAllCellContainers=[this.eLeftContainer,this.eRightContainer,this.eCenterContainer,this.eTop,this.eBottom,this.eFullWidthContainer],this.rowContainerComponents={body:new Fl({eContainer:this.eCenterContainer,eWrapper:this.eCenterColsClipper,eViewport:this.eBodyViewport}),fullWidth:new Fl({eContainer:this.eFullWidthContainer}),pinnedLeft:new Fl({eContainer:this.eLeftContainer}),pinnedRight:new Fl({eContainer:this.eRightContainer}),floatingTop:new Fl({eContainer:this.eTopContainer}),floatingTopPinnedLeft:new Fl({eContainer:this.eLeftTop}),floatingTopPinnedRight:new Fl({eContainer:this.eRightTop}),floatingTopFullWidth:new Fl({eContainer:this.eTopFullWidthContainer,hideWhenNoChildren:!0}),floatingBottom:new Fl({eContainer:this.eBottomContainer}),floatingBottomPinnedLeft:new Fl({eContainer:this.eLeftBottom}),floatingBottomPinnedRight:new Fl({eContainer:this.eRightBottom}),floatingBottomFullWidth:new Fl({eContainer:this.eBottomFullWidthContainer,hideWhenNoChildren:!0})},fe(this.rowContainerComponents,function(t,o){o&&e.getContext().createBean(o)})},t.prototype.setupRowAnimationCssClass=function(){var e=this,t=function(){var t=e.gridOptionsWrapper.isAnimateRows()&&!e.heightScaler.isScaling();Lo(e.eBodyViewport,"ag-row-animation",t),Lo(e.eBodyViewport,"ag-row-no-animation",!t)};t(),this.addManagedListener(this.eventService,xt.EVENT_HEIGHT_SCALE_CHANGED,t)},t.prototype.suppressScrollOnFloatingRow=function(){var e=this;this.addManagedListener(this.eTopViewport,"scroll",function(){return e.eTopViewport.scrollLeft=0}),this.addManagedListener(this.eBottomViewport,"scroll",function(){return e.eTopViewport.scrollLeft=0})},t.prototype.getRowContainers=function(){return this.rowContainerComponents},t.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},t.prototype.onDisplayedColumnsChanged=function(){this.setPinnedContainerSize(),this.setHeaderAndFloatingHeights(),this.onHorizontalViewportChanged(),this.updateScrollVisibleService(),this.updateColumnCount()},t.prototype.onDisplayedColumnsWidthChanged=function(){this.setWidthsOfContainers(),this.onHorizontalViewportChanged(),this.updateScrollVisibleService(),this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},t.prototype.setWidthsOfContainers=function(){this.setCenterWidth(),this.setPinnedContainerSize()},t.prototype.setCenterWidth=function(){var e=this.headerRootComp,t=this.columnController,o=t.getBodyContainerWidth();this.printLayout&&(o+=t.getPinnedLeftContainerWidth()+t.getPinnedRightContainerWidth()),e.setHeaderContainerWidth(o);var n=o+"px";this.eCenterContainer.style.width=n,this.eBottomContainer.style.width=n,this.eTopContainer.style.width=n,this.printLayout||(this.eBodyHorizontalScrollContainer.style.width=n)},t.prototype.setPinnedLeftWidth=function(){var e=this,t=this.pinningLeft,o=this.columnController.getPinnedLeftContainerWidth(),n=this.pinningLeft=!this.printLayout&&o>0,i=[this.eLeftContainer,this.eLeftTop,this.eLeftBottom];t!==n&&this.headerRootComp.setLeftVisible(n),i.forEach(function(t){return Vo(t,e.pinningLeft)}),n&&i.forEach(function(e){return gn(e,o)})},t.prototype.setPinnedRightWidth=function(){var e=this.pinningRight,t=this.columnController.getPinnedRightContainerWidth(),o=this.pinningRight=!this.printLayout&&t>0,n=[this.eRightContainer,this.eRightTop,this.eRightBottom];e!==o&&this.headerRootComp.setRightVisible(o),n.forEach(function(e){return Vo(e,o)}),o&&n.forEach(function(e){return gn(e,t)})},t.prototype.setPinnedContainerSize=function(){this.setPinnedLeftWidth(),this.setPinnedRightWidth(),this.setFakeHScrollSpacerWidths()},t.prototype.setFakeHScrollSpacerWidths=function(){var e=this.columnController.getPinnedRightContainerWidth(),t=!this.enableRtl&&this.isVerticalScrollShowing(),o=this.gridOptionsWrapper.getScrollbarWidth();t&&(e+=o),gn(this.eHorizontalRightSpacer,e),Lo(this.eHorizontalRightSpacer,"ag-scroller-corner",e<=o);var n=this.columnController.getPinnedLeftContainerWidth();this.enableRtl&&this.isVerticalScrollShowing()&&(n+=o),gn(this.eHorizontalLeftSpacer,n),Lo(this.eHorizontalLeftSpacer,"ag-scroller-corner",n<=o)},t.prototype.checkBodyHeight=function(){var e=this.eBodyViewport.clientHeight;this.bodyHeight!==e&&(this.bodyHeight=e,this.eventService.dispatchEvent({type:xt.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.setHeaderAndFloatingHeights=function(){var e,t,o,n=this,i=n.columnController,r=n.gridOptionsWrapper,s=n.pinnedRowModel,a=n.eTop,l=n.eBottom,u=0,c=i.getHeaderRowCount();i.isPivotMode()?(t=r.getPivotGroupHeaderHeight(),o=r.getPivotHeaderHeight()):(i.hasFloatingFilters()&&(c++,u=1),t=r.getGroupHeaderHeight(),o=r.getHeaderHeight());var p=c-(1+u);e=u*r.getFloatingFiltersHeight(),e+=p*t,this.headerRootComp.setHeight(e+=o);var d=s.getPinnedTopTotalHeight();d&&(d+=1);var h=s.getPinnedBottomTotalHeight();h&&(h+=1);var f=d+"px",g=h+"px";a.style.minHeight=f,a.style.height=f,a.style.display=d?"inherit":"none",l.style.minHeight=g,l.style.height=g,l.style.display=h?"inherit":"none",this.checkBodyHeight()},t.prototype.getBodyHeight=function(){return this.bodyHeight},t.prototype.setHorizontalScrollPosition=function(e){var t=this.eCenterViewport.scrollWidth-this.eCenterViewport.clientWidth;this.shouldBlockScrollUpdate("horizontal",e)&&(e=Math.min(Math.max(e,0),t)),this.eCenterViewport.scrollLeft=e,this.doHorizontalScroll(e)},t.prototype.setVerticalScrollPosition=function(e){this.eBodyViewport.scrollTop=e},t.prototype.scrollHorizontally=function(e){var t=this.eCenterViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.eCenterViewport.scrollLeft-t},t.prototype.scrollVertically=function(e){var t=this.eBodyViewport.scrollTop;return this.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t},t.prototype.addScrollListener=function(){this.addManagedListener(this.eCenterViewport,"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(this.eBodyHorizontalScrollViewport,"scroll",this.onFakeHorizontalScroll.bind(this));var e=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?Be(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",e)},t.prototype.onVerticalScroll=function(){var e=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",e,!0)||(this.animationFrameService.setScrollTop(e),this.scrollTop=e,this.redrawRowsAfterScroll())},t.prototype.shouldBlockScrollUpdate=function(e,t,o){if(void 0===o&&(o=!1),o&&!Do)return!1;if("vertical"===e){var n=this.eBodyViewport;if(t<0||t+n.clientHeight>n.scrollHeight)return!0}if("horizontal"===e){var i=this.eCenterViewport,r=i.clientWidth,s=i.scrollWidth;if(this.enableRtl&&qo()){if(t>0)return!0}else if(t<0)return!0;if(Math.abs(t)+r>s)return!0}return!1},t.prototype.isControllingScroll=function(e){return this.lastHorizontalScrollElement?e===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=e,!0)},t.prototype.onFakeHorizontalScroll=function(){this.isControllingScroll(this.eBodyHorizontalScrollViewport)&&this.onBodyHorizontalScroll(this.eBodyHorizontalScrollViewport)},t.prototype.onCenterViewportScroll=function(){this.isControllingScroll(this.eCenterViewport)&&this.onBodyHorizontalScroll(this.eCenterViewport)},t.prototype.onBodyHorizontalScroll=function(e){this.shouldBlockScrollUpdate("horizontal",this.eCenterViewport.scrollLeft,!0)||(this.doHorizontalScroll(Math.floor($o(e,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},t.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},t.prototype.doHorizontalScroll=function(e){this.scrollLeft=e,this.eventService.dispatchEvent({type:xt.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:"horizontal",left:this.scrollLeft,top:this.scrollTop}),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.onHorizontalViewportChanged()},t.prototype.redrawRowsAfterScroll=function(){this.eventService.dispatchEvent({type:xt.EVENT_BODY_SCROLL,direction:"vertical",api:this.gridApi,columnApi:this.columnApi,left:this.scrollLeft,top:this.scrollTop})},t.prototype.onHorizontalViewportChanged=function(){var e=this.eCenterViewport.clientWidth,t=this.getCenterViewportScrollLeft();this.columnController.setVirtualViewportPosition(e,t)},t.prototype.getCenterViewportScrollLeft=function(){return $o(this.eCenterViewport,this.enableRtl)},t.prototype.setCenterViewportScrollLeft=function(e){Qo(this.eCenterViewport,e,this.enableRtl)},t.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){void 0===e&&(e=this.getCenterViewportScrollLeft());var t=this.enableRtl?e:-e;this.headerRootComp.setHorizontalScroll(t),this.eBottomContainer.style.transform="translateX("+t+"px)",this.eTopContainer.style.transform="translateX("+t+"px)",Qo(this.lastHorizontalScrollElement===this.eCenterViewport?this.eBodyHorizontalScrollViewport:this.eCenterViewport,e,this.enableRtl)},t.prototype.addScrollEventListener=function(e){this.eBodyViewport.addEventListener("scroll",e)},t.prototype.removeScrollEventListener=function(e){this.eBodyViewport.removeEventListener("scroll",e)},kl([Qe("alignedGridsService")],t.prototype,"alignedGridsService",void 0),kl([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),kl([Qe("rowRenderer")],t.prototype,"rowRenderer",void 0),kl([Qe("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),kl([Qe("animationFrameService")],t.prototype,"animationFrameService",void 0),kl([Qe("navigationService")],t.prototype,"navigationService",void 0),kl([Qe("autoHeightCalculator")],t.prototype,"autoHeightCalculator",void 0),kl([Qe("columnAnimationService")],t.prototype,"columnAnimationService",void 0),kl([Qe("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),kl([Qe("paginationAutoPageSizeService")],t.prototype,"paginationAutoPageSizeService",void 0),kl([Qe("beans")],t.prototype,"beans",void 0),kl([Qe("paginationProxy")],t.prototype,"paginationProxy",void 0),kl([Qe("columnApi")],t.prototype,"columnApi",void 0),kl([Qe("gridApi")],t.prototype,"gridApi",void 0),kl([Qe("dragService")],t.prototype,"dragService",void 0),kl([Qe("mouseEventService")],t.prototype,"mouseEventService",void 0),kl([Qe("$scope")],t.prototype,"$scope",void 0),kl([Qe("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),kl([Qe("valueService")],t.prototype,"valueService",void 0),kl([Qe("dragAndDropService")],t.prototype,"dragAndDropService",void 0),kl([Qe("maxDivHeightScaler")],t.prototype,"heightScaler",void 0),kl([Qe("resizeObserverService")],t.prototype,"resizeObserverService",void 0),kl([Qe("undoRedoService")],t.prototype,"undoRedoService",void 0),kl([Qe("columnController")],t.prototype,"columnController",void 0),kl([Qe("headerNavigationService")],t.prototype,"headerNavigationService",void 0),kl([Qe("popupService")],t.prototype,"popupService",void 0),kl([Xe("rangeController")],t.prototype,"rangeController",void 0),kl([Xe("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),kl([Xe("menuFactory")],t.prototype,"menuFactory",void 0),kl([Xe("clipboardService")],t.prototype,"clipboardService",void 0),kl([Mi("eBodyViewport")],t.prototype,"eBodyViewport",void 0),kl([Mi("eCenterContainer")],t.prototype,"eCenterContainer",void 0),kl([Mi("eCenterViewport")],t.prototype,"eCenterViewport",void 0),kl([Mi("eLeftContainer")],t.prototype,"eLeftContainer",void 0),kl([Mi("eRightContainer")],t.prototype,"eRightContainer",void 0),kl([Mi("eCenterColsClipper")],t.prototype,"eCenterColsClipper",void 0),kl([Mi("eHorizontalScrollBody")],t.prototype,"eHorizontalScrollBody",void 0),kl([Mi("eHorizontalLeftSpacer")],t.prototype,"eHorizontalLeftSpacer",void 0),kl([Mi("eHorizontalRightSpacer")],t.prototype,"eHorizontalRightSpacer",void 0),kl([Mi("eBodyHorizontalScrollViewport")],t.prototype,"eBodyHorizontalScrollViewport",void 0),kl([Mi("eBodyHorizontalScrollContainer")],t.prototype,"eBodyHorizontalScrollContainer",void 0),kl([Mi("eFullWidthContainer")],t.prototype,"eFullWidthContainer",void 0),kl([Mi("eTop")],t.prototype,"eTop",void 0),kl([Mi("eLeftTop")],t.prototype,"eLeftTop",void 0),kl([Mi("eRightTop")],t.prototype,"eRightTop",void 0),kl([Mi("eTopContainer")],t.prototype,"eTopContainer",void 0),kl([Mi("eTopViewport")],t.prototype,"eTopViewport",void 0),kl([Mi("eTopFullWidthContainer")],t.prototype,"eTopFullWidthContainer",void 0),kl([Mi("eBottom")],t.prototype,"eBottom",void 0),kl([Mi("eLeftBottom")],t.prototype,"eLeftBottom",void 0),kl([Mi("eRightBottom")],t.prototype,"eRightBottom",void 0),kl([Mi("eBottomContainer")],t.prototype,"eBottomContainer",void 0),kl([Mi("eBottomViewport")],t.prototype,"eBottomViewport",void 0),kl([Mi("eBottomFullWidthContainer")],t.prototype,"eBottomFullWidthContainer",void 0),kl([Mi("headerRoot")],t.prototype,"headerRootComp",void 0),kl([Mi("overlayWrapper")],t.prototype,"overlayWrapper",void 0),kl([Ye],t.prototype,"init",null),t}(Ni),Hl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Wl=function(){function e(){this.detailGridInfoMap={},this.destroyCalled=!1}return e.prototype.registerGridComp=function(e){this.gridPanel=e},e.prototype.registerGridCore=function(e){this.gridCore=e},e.prototype.registerHeaderRootComp=function(e){this.headerRootComp=e},e.prototype.init=function(){switch(this.rowModel.getType()){case rt.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case rt.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case rt.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}},e.prototype.__getAlignedGridService=function(){return this.alignedGridsService},e.prototype.addDetailGridInfo=function(e,t){this.detailGridInfoMap[e]=t},e.prototype.removeDetailGridInfo=function(e){this.detailGridInfoMap[e]=void 0},e.prototype.getDetailGridInfo=function(e){return this.detailGridInfoMap[e]},e.prototype.forEachDetailGridInfo=function(e){var t=0;fe(this.detailGridInfoMap,function(o,n){P(n)&&(e(n,t),t++)})},e.prototype.getDataAsCsv=function(e){if(st.assertRegistered(tt.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(e)},e.prototype.exportDataAsCsv=function(e){st.assertRegistered(tt.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(e)},e.prototype.getDataAsExcel=function(e){if(st.assertRegistered(tt.ExcelExportModule,"api.getDataAsExcel"))return this.excelCreator.getDataAsExcelXml(e)},e.prototype.exportDataAsExcel=function(e){st.assertRegistered(tt.ExcelExportModule,"api.exportDataAsExcel")&&this.excelCreator.exportDataAsExcel(e)},e.prototype.setEnterpriseDatasource=function(e){console.warn("ag-grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(e)},e.prototype.setServerSideDatasource=function(e){this.gridOptionsWrapper.isRowModelServerSide()?this.rowModel.setDatasource(e):console.warn("ag-Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+rt.ROW_MODEL_TYPE_SERVER_SIDE+"'")},e.prototype.setDatasource=function(e){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(e):console.warn("ag-Grid: you can only use a datasource when gridOptions.rowModelType is '"+rt.ROW_MODEL_TYPE_INFINITE+"'")},e.prototype.setViewportDatasource=function(e){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(e):console.warn("ag-Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+rt.ROW_MODEL_TYPE_VIEWPORT+"'")},e.prototype.setRowData=function(e){if(this.gridOptionsWrapper.isRowModelDefault())if(this.gridOptionsWrapper.isImmutableData()){var t=this.immutableService.createTransactionForRowData(e);if(!t)return;var o=this.clientSideRowModel.updateRowData(t[0],t[1]);this.rowRenderer.refreshFullWidthRows(o.update)}else this.selectionController.reset(),this.clientSideRowModel.setRowData(e);else console.warn("cannot call setRowData unless using normal row model")},e.prototype.setFloatingTopRowData=function(e){console.warn("ag-Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(e)},e.prototype.setFloatingBottomRowData=function(e){console.warn("ag-Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(e)},e.prototype.getFloatingTopRowCount=function(){return console.warn("ag-Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},e.prototype.getFloatingBottomRowCount=function(){return console.warn("ag-Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},e.prototype.getFloatingTopRow=function(e){return console.warn("ag-Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(e)},e.prototype.getFloatingBottomRow=function(e){return console.warn("ag-Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(e)},e.prototype.setPinnedTopRowData=function(e){this.pinnedRowModel.setPinnedTopRowData(e)},e.prototype.setPinnedBottomRowData=function(e){this.pinnedRowModel.setPinnedBottomRowData(e)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},e.prototype.getPinnedTopRow=function(e){return this.pinnedRowModel.getPinnedTopRow(e)},e.prototype.getPinnedBottomRow=function(e){return this.pinnedRowModel.getPinnedBottomRow(e)},e.prototype.setColumnDefs=function(e,t){void 0===t&&(t="api"),this.columnController.setColumnDefs(e,t)},e.prototype.setAutoGroupColumnDef=function(e,t){void 0===t&&(t="api"),this.gridOptionsWrapper.setProperty("autoGroupColumnDef",e,!0)},e.prototype.expireValueCache=function(){this.valueCache.expire()},e.prototype.getVerticalPixelRange=function(){return this.gridPanel.getVScrollPosition()},e.prototype.getHorizontalPixelRange=function(){return this.gridPanel.getHScrollPosition()},e.prototype.setAlwaysShowVerticalScroll=function(e){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",e)},e.prototype.refreshToolPanel=function(){this.gridCore.refreshSideBar()},e.prototype.refreshCells=function(e){void 0===e&&(e={}),Array.isArray(e)?console.warn("since ag-Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(e)},e.prototype.flashCells=function(e){void 0===e&&(e={}),this.rowRenderer.flashCells(e)},e.prototype.redrawRows=function(e){void 0===e&&(e={}),e&&e.rowNodes?this.rowRenderer.redrawRows(e.rowNodes):this.rowRenderer.redrawAfterModelUpdate()},e.prototype.timeFullRedraw=function(e){void 0===e&&(e=1);var t=0,o=0,n=0,i=this;!function r(){var s=(new Date).getTime();i.rowRenderer.redrawAfterModelUpdate();var a=(new Date).getTime();window.setTimeout(function(){var i=(new Date).getTime(),l=a-s,u=i-a;console.log("duration:  processing = "+l+"ms, reflow = "+u+"ms"),t++,o+=l,n+=u,t<e?window.setTimeout(r,1e3):(console.log("tests complete. iteration count = "+t),console.log("average processing = "+o/t+"ms"),console.log("average reflow = "+n/t+"ms"))},0)}()},e.prototype.refreshView=function(){console.warn("ag-Grid: since v11.1, refreshView() is deprecated, please call refreshCells() or redrawRows() instead"),this.redrawRows()},e.prototype.refreshRows=function(e){console.warn("since ag-Grid v11.1, refreshRows() is deprecated, please use refreshCells({rowNodes: rows}) or redrawRows({rowNodes: rows}) instead"),this.refreshCells({rowNodes:e})},e.prototype.rowDataChanged=function(e){console.warn("ag-Grid: rowDataChanged is deprecated, either call refreshView() to refresh everything, or call rowNode.setRowData(newData) to set value on a particular node"),this.redrawRows()},e.prototype.softRefreshView=function(){console.error("ag-Grid: since v16, softRefreshView() is no longer supported. Please check the documentation on how to refresh.")},e.prototype.refreshGroupRows=function(){console.warn("ag-Grid: since v11.1, refreshGroupRows() is no longer supported, call refreshCells() instead. Because refreshCells() now does dirty checking, it will only refresh cells that have changed, so it should not be necessary to only refresh the group rows."),this.refreshCells()},e.prototype.setFunctionsReadOnly=function(e){this.gridOptionsWrapper.setProperty("functionsReadOnly",e)},e.prototype.refreshHeader=function(){this.headerRootComp.refreshHeader(),this.gridPanel.setHeaderAndFloatingHeights()},e.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},e.prototype.isAdvancedFilterPresent=function(){return console.warn("ag-Grid: isAdvancedFilterPresent() is deprecated, please use isColumnFilterPresent()"),this.isColumnFilterPresent()},e.prototype.isColumnFilterPresent=function(){return this.filterManager.isAdvancedFilterPresent()},e.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},e.prototype.getModel=function(){return this.rowModel},e.prototype.setRowNodeExpanded=function(e,t){e&&e.setExpanded(t)},e.prototype.onGroupExpandedOrCollapsed=function(e){T(this.clientSideRowModel)&&console.warn("ag-Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),P(e)&&console.warn("ag-Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:rt.STEP_MAP})},e.prototype.refreshInMemoryRowModel=function(e){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(e)},e.prototype.refreshClientSideRowModel=function(e){T(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var t=rt.STEP_EVERYTHING,o={group:rt.STEP_EVERYTHING,filter:rt.STEP_FILTER,map:rt.STEP_MAP,aggregate:rt.STEP_AGGREGATE,sort:rt.STEP_SORT,pivot:rt.STEP_PIVOT};P(e)&&(t=o[e]),T(t)?console.error("ag-Grid: invalid step "+e+", available steps are "+Object.keys(o).join(", ")):this.clientSideRowModel.refreshModel({step:t,keepRenderedRows:!0,animate:!0,keepEditingRows:!0})},e.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},e.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},e.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},e.prototype.expandAll=function(){T(this.clientSideRowModel)?console.warn("ag-Grid: cannot call expandAll unless using normal row model"):this.clientSideRowModel.expandOrCollapseAll(!0)},e.prototype.collapseAll=function(){T(this.clientSideRowModel)?console.warn("ag-Grid: cannot call collapseAll unless using normal row model"):this.clientSideRowModel.expandOrCollapseAll(!1)},e.prototype.getToolPanelInstance=function(e){return this.gridCore.getToolPanelInstance(e)},e.prototype.addVirtualRowListener=function(e,t,o){"string"!=typeof e&&console.warn("ag-Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(e,t,o)},e.prototype.addRenderedRowListener=function(e,t,o){"virtualRowSelected"===e&&console.warn("ag-Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(e,t,o)},e.prototype.setQuickFilter=function(e){this.filterManager.setQuickFilter(e)},e.prototype.selectIndex=function(e,t,o){console.warn("ag-Grid: do not use api for selection, call node.setSelected(value) instead"),o&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionController.selectIndex(e,t)},e.prototype.deselectIndex=function(e,t){void 0===t&&(t=!1),console.warn("ag-Grid: do not use api for selection, call node.setSelected(value) instead"),t&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionController.deselectIndex(e)},e.prototype.selectNode=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1),console.warn("ag-Grid: API for selection is deprecated, call node.setSelected(value) instead"),o&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),e.setSelectedParams({newValue:!0,clearSelection:!t})},e.prototype.deselectNode=function(e,t){void 0===t&&(t=!1),console.warn("ag-Grid: API for selection is deprecated, call node.setSelected(value) instead"),t&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),e.setSelectedParams({newValue:!1})},e.prototype.selectAll=function(){this.selectionController.selectAllRowNodes()},e.prototype.deselectAll=function(){this.selectionController.deselectAllRowNodes()},e.prototype.selectAllFiltered=function(){this.selectionController.selectAllRowNodes(!0)},e.prototype.deselectAllFiltered=function(){this.selectionController.deselectAllRowNodes(!0)},e.prototype.recomputeAggregates=function(){T(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:rt.STEP_AGGREGATE})},e.prototype.sizeColumnsToFit=function(){this.gridPanel.sizeColumnsToFit()},e.prototype.showLoadingOverlay=function(){this.gridPanel.showLoadingOverlay()},e.prototype.showNoRowsOverlay=function(){this.gridPanel.showNoRowsOverlay()},e.prototype.hideOverlay=function(){this.gridPanel.hideOverlay()},e.prototype.isNodeSelected=function(e){return console.warn("ag-Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),e.isSelected()},e.prototype.getSelectedNodesById=function(){return console.error("ag-Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},e.prototype.getSelectedNodes=function(){return this.selectionController.getSelectedNodes()},e.prototype.getSelectedRows=function(){return this.selectionController.getSelectedRows()},e.prototype.getBestCostNodeSelection=function(){return this.selectionController.getBestCostNodeSelection()},e.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},e.prototype.ensureColIndexVisible=function(e){console.warn("ag-Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},e.prototype.ensureColumnVisible=function(e){this.gridPanel.ensureColumnVisible(e)},e.prototype.ensureIndexVisible=function(e,t){this.gridPanel.ensureIndexVisible(e,t)},e.prototype.ensureNodeVisible=function(e,t){this.gridCore.ensureNodeVisible(e,t)},e.prototype.forEachLeafNode=function(e){T(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(e)},e.prototype.forEachNode=function(e){this.rowModel.forEachNode(e)},e.prototype.forEachNodeAfterFilter=function(e){T(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(e)},e.prototype.forEachNodeAfterFilterAndSort=function(e){T(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)},e.prototype.getFilterApiForColDef=function(e){return console.warn("ag-grid API method getFilterApiForColDef deprecated, use getFilterInstance instead"),this.getFilterInstance(e)},e.prototype.getFilterInstance=function(e,t){var o=this.columnController.getPrimaryColumn(e);if(o){var n=this.filterManager.getFilterComponent(o,"NO_UI"),i=n.resolveNow(null,function(e){return e});return t&&(i?setTimeout(t,0,i):n.then(t)),i}},e.prototype.getFilterApi=function(e){return console.warn("ag-Grid: getFilterApi is deprecated, use getFilterInstance instead"),this.getFilterInstance(e)},e.prototype.destroyFilter=function(e){var t=this.columnController.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"filterDestroyed")},e.prototype.getStatusPanel=function(e){if(this.statusBarService)return this.statusBarService.getStatusPanel(e)},e.prototype.getColumnDef=function(e){var t=this.columnController.getPrimaryColumn(e);return t?t.getColDef():null},e.prototype.getColumnDefs=function(){return this.columnController.getColumnDefs()},e.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},e.prototype.onSortChanged=function(){this.sortController.onSortChanged()},e.prototype.setSortModel=function(e,t){void 0===t&&(t="api"),console.warn("ag-Grid: as of version 24.0.0, setSortModel() is deprecated, sort information is now part of Column State. Please use columnApi.applyColumnState() instead.");var o=[];e&&e.forEach(function(e,t){o.push({colId:e.colId,sort:e.sort,sortIndex:t})}),this.columnController.applyColumnState({state:o,defaultState:{sort:null}})},e.prototype.getSortModel=function(){console.warn("ag-Grid: as of version 24.0.0, getSortModel() is deprecated, sort information is now part of Column State. Please use columnApi.getColumnState() instead.");var e=this.columnController.getColumnState().filter(function(e){return null!=e.sort}),t={};e.forEach(function(e){return t[e.colId]=e.sortIndex});var o=e.map(function(e){return{colId:e.colId,sort:e.sort}});return o.sort(function(e,o){return t[e.colId]-t[o.colId]}),o},e.prototype.setFilterModel=function(e){this.filterManager.setFilterModel(e)},e.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},e.prototype.getFocusedCell=function(){return this.focusController.getFocusedCell()},e.prototype.clearFocusedCell=function(){return this.focusController.clearFocusedCell()},e.prototype.setFocusedCell=function(e,t,o){this.focusController.setFocusedCell(e,t,o,!0)},e.prototype.setSuppressRowDrag=function(e){this.gridOptionsWrapper.setProperty(Ls.PROP_SUPPRESS_ROW_DRAG,e)},e.prototype.setSuppressMoveWhenRowDragging=function(e){this.gridOptionsWrapper.setProperty(Ls.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,e)},e.prototype.setSuppressRowClickSelection=function(e){this.gridOptionsWrapper.setProperty(Ls.PROP_SUPPRESS_ROW_CLICK_SELECTION,e)},e.prototype.addRowDropZone=function(e){this.gridPanel.getRowDragFeature().addRowDropZone(e)},e.prototype.removeRowDropZone=function(e){var t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)},e.prototype.getRowDropZoneParams=function(e){return this.gridPanel.getRowDragFeature().getRowDropZone(e)},e.prototype.setHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(Ls.PROP_HEADER_HEIGHT,e),this.doLayout()},e.prototype.setDomLayout=function(e){this.gridOptionsWrapper.setProperty(Ls.PROP_DOM_LAYOUT,e)},e.prototype.setEnableCellTextSelection=function(e){this.gridPanel.setCellTextSelection(e)},e.prototype.setFillHandleDirection=function(e){this.gridOptionsWrapper.setProperty(Ls.PROP_FILL_HANDLE_DIRECTION,e)},e.prototype.setGroupHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(Ls.PROP_GROUP_HEADER_HEIGHT,e),this.doLayout()},e.prototype.setFloatingFiltersHeight=function(e){this.gridOptionsWrapper.setProperty(Ls.PROP_FLOATING_FILTERS_HEIGHT,e),this.doLayout()},e.prototype.setPivotGroupHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(Ls.PROP_PIVOT_GROUP_HEADER_HEIGHT,e),this.doLayout()},e.prototype.setPivotHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(Ls.PROP_PIVOT_HEADER_HEIGHT,e),this.doLayout()},e.prototype.isSideBarVisible=function(){return this.gridCore.isSideBarVisible()},e.prototype.setSideBarVisible=function(e){this.gridCore.setSideBarVisible(e)},e.prototype.setSideBarPosition=function(e){this.gridCore.setSideBarPosition(e)},e.prototype.openToolPanel=function(e){this.gridCore.openToolPanel(e)},e.prototype.closeToolPanel=function(){this.gridCore.closeToolPanel()},e.prototype.getOpenedToolPanel=function(){return this.gridCore.getOpenedToolPanel()},e.prototype.getSideBar=function(){return this.gridCore.getSideBar()},e.prototype.setSideBar=function(e){return this.gridCore.setSideBar(e)},e.prototype.setSuppressClipboardPaste=function(e){this.gridOptionsWrapper.setProperty(Ls.PROP_SUPPRESS_CLIPBOARD_PASTE,e)},e.prototype.isToolPanelShowing=function(){return this.gridCore.isToolPanelShowing()},e.prototype.doLayout=function(){this.gridPanel.checkViewportAndScrolls()},e.prototype.resetRowHeights=function(){P(this.clientSideRowModel)&&this.clientSideRowModel.resetRowHeights()},e.prototype.setGroupRemoveSingleChildren=function(e){this.gridOptionsWrapper.setProperty(Ls.PROP_GROUP_REMOVE_SINGLE_CHILDREN,e)},e.prototype.setGroupRemoveLowestSingleChildren=function(e){this.gridOptionsWrapper.setProperty(Ls.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,e)},e.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},e.prototype.getValue=function(e,t){var o=this.columnController.getPrimaryColumn(e);return T(o)&&(o=this.columnController.getGridColumn(e)),T(o)?null:this.valueService.getValue(o,t)},e.prototype.addEventListener=function(e,t){var o=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(e,t,o)},e.prototype.addGlobalListener=function(e){var t=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(e,t)},e.prototype.removeEventListener=function(e,t){var o=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(e,t,o)},e.prototype.removeGlobalListener=function(e){var t=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(e,t)},e.prototype.dispatchEvent=function(e){this.eventService.dispatchEvent(e)},e.prototype.destroy=function(){this.destroyCalled||(this.destroyCalled=!0,this.context.destroyBean(this.gridCore),this.context.destroy())},e.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Oi.removeAllReferences.bind(window,this,"Grid API"),100)},e.prototype.warnIfDestroyed=function(e){return this.destroyCalled&&console.warn("ag-Grid: Grid API method "+e+" was called on a grid that was destroyed."),this.destroyCalled},e.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode(function(e){return e.quickFilterAggregateText=null})},e.prototype.getRangeSelections=function(){return console.warn("ag-Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the ag-Grid documentation."),null},e.prototype.getCellRanges=function(){return this.rangeController?this.rangeController.getCellRanges():(console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),null)},e.prototype.camelCaseToHumanReadable=function(e){return Bt(e)},e.prototype.addRangeSelection=function(e){console.warn("ag-Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},e.prototype.addCellRange=function(e){this.rangeController||console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),this.rangeController.addCellRange(e)},e.prototype.clearRangeSelection=function(){this.rangeController||console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),this.rangeController.removeAllCellRanges()},e.prototype.undoCellEditing=function(){this.undoRedoService.undo()},e.prototype.redoCellEditing=function(){this.undoRedoService.redo()},e.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},e.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},e.prototype.getChartModels=function(){if(st.assertRegistered(tt.RangeSelectionModule,"api.getChartModels")&&st.assertRegistered(tt.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},e.prototype.createRangeChart=function(e){if(st.assertRegistered(tt.RangeSelectionModule,"api.createRangeChart")&&st.assertRegistered(tt.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(e)},e.prototype.createPivotChart=function(e){if(st.assertRegistered(tt.RangeSelectionModule,"api.createPivotChart")&&st.assertRegistered(tt.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(e)},e.prototype.copySelectedRowsToClipboard=function(e,t){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(e,t)},e.prototype.copySelectedRangeToClipboard=function(e){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(e)},e.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copyRangeDown()},e.prototype.showColumnMenuAfterButtonClick=function(e,t){var o=this.columnController.getGridColumn(e);this.menuFactory.showMenuAfterButtonClick(o,t)},e.prototype.showColumnMenuAfterMouseClick=function(e,t){var o=this.columnController.getGridColumn(e);o||(o=this.columnController.getPrimaryColumn(e)),o?this.menuFactory.showMenuAfterMouseEvent(o,t):console.error("ag-Grid: column '"+e+"' not found")},e.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},e.prototype.setPopupParent=function(e){this.gridOptionsWrapper.setProperty(Ls.PROP_POPUP_PARENT,e)},e.prototype.tabToNextCell=function(){return this.rowRenderer.tabToNextCell(!1)},e.prototype.tabToPreviousCell=function(){return this.rowRenderer.tabToNextCell(!0)},e.prototype.getCellRendererInstances=function(e){return void 0===e&&(e={}),this.rowRenderer.getCellRendererInstances(e)},e.prototype.getCellEditorInstances=function(e){return void 0===e&&(e={}),this.rowRenderer.getCellEditorInstances(e)},e.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},e.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.rowRenderer.stopEditing(e)},e.prototype.startEditingCell=function(e){var t=this.columnController.getGridColumn(e.colKey);if(t){var o={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t};T(e.rowPinned)&&this.gridPanel.ensureIndexVisible(e.rowIndex),this.rowRenderer.startEditingCell(o,e.keyPress,e.charPress)}else console.warn("ag-Grid: no column found for "+e.colKey)},e.prototype.addAggFunc=function(e,t){this.aggFuncService&&this.aggFuncService.addAggFunc(e,t)},e.prototype.addAggFuncs=function(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)},e.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},e.prototype.applyServerSideTransaction=function(e,t){void 0===t&&(t=[]),this.serverSideRowModel&&this.serverSideRowModel.applyTransaction(e,t)},e.prototype.applyTransaction=function(e){var t=null;if(this.clientSideRowModel)t=this.clientSideRowModel.updateRowData(e);else{if(!this.infiniteRowModel)return void console.error("ag-Grid: updateRowData() only works with ClientSideRowModel.");Me(function(){return console.warn("ag-Grid: as of v23.1, transactions for Infinite Row Model are deprecated. If you want to make updates to data in Infinite Row Models, then refresh the data.")},"applyTransaction infiniteRowModel deprecated"),this.infiniteRowModel.updateRowData(e)}return this.rowRenderer.refreshFullWidthRows(t.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),t},e.prototype.updateRowData=function(e){return Me(function(){return console.warn("ag-Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.")},"updateRowData deprecated"),this.applyTransaction(e)},e.prototype.applyTransactionAsync=function(e,t){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(e,t):console.error("ag-Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},e.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():console.error("ag-Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},e.prototype.batchUpdateRowData=function(e,t){Me(function(){return console.warn("ag-Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.")},"batchUpdateRowData deprecated"),this.applyTransactionAsync(e,t)},e.prototype.insertItemsAtIndex=function(e,t,o){void 0===o&&(o=!1),console.warn("ag-Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:t,addIndex:e,update:null,remove:null})},e.prototype.removeItems=function(e,t){void 0===t&&(t=!1),console.warn("ag-Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var o=e.map(function(e){return e.data});this.updateRowData({add:null,addIndex:null,update:null,remove:o})},e.prototype.addItems=function(e,t){void 0===t&&(t=!1),console.warn("ag-Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:e,addIndex:null,update:null,remove:null})},e.prototype.refreshVirtualPageCache=function(){console.warn("ag-Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},e.prototype.refreshInfinitePageCache=function(){console.warn("ag-Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},e.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("ag-Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},e.prototype.purgeVirtualPageCache=function(){console.warn("ag-Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},e.prototype.purgeInfinitePageCache=function(){console.warn("ag-Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},e.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("ag-Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},e.prototype.purgeEnterpriseCache=function(e){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(e)},e.prototype.purgeServerSideCache=function(e){this.serverSideRowModel?this.serverSideRowModel.purgeCache(e):console.warn("ag-Grid: api.purgeServerSideCache is only available when rowModelType='enterprise'.")},e.prototype.getVirtualRowCount=function(){return console.warn("ag-Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},e.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getVirtualRowCount();console.warn("ag-Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},e.prototype.isMaxRowFound=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isMaxRowFound();console.warn("ag-Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},e.prototype.setVirtualRowCount=function(e,t){console.warn("ag-Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setInfiniteRowCount(e,t)},e.prototype.setInfiniteRowCount=function(e,t){this.infiniteRowModel?this.infiniteRowModel.setVirtualRowCount(e,t):console.warn("ag-Grid: api.setVirtualRowCount is only available when rowModelType='virtual'.")},e.prototype.getVirtualPageState=function(){return console.warn("ag-Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},e.prototype.getInfinitePageState=function(){return console.warn("ag-Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},e.prototype.getCacheBlockState=function(){return this.infiniteRowModel?this.infiniteRowModel.getBlockState():this.serverSideRowModel?this.serverSideRowModel.getBlockState():void console.warn("ag-Grid: api.getCacheBlockState() is only available when rowModelType='infinite' or rowModelType='serverSide'.")},e.prototype.checkGridSize=function(){this.gridPanel.setHeaderAndFloatingHeights()},e.prototype.getFirstRenderedRow=function(){return console.warn("in ag-Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},e.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},e.prototype.getLastRenderedRow=function(){return console.warn("in ag-Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},e.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},e.prototype.getDisplayedRowAtIndex=function(e){return this.rowModel.getRow(e)},e.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},e.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},e.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},e.prototype.paginationSetPageSize=function(e){this.gridOptionsWrapper.setProperty("paginationPageSize",e)},e.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},e.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},e.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},e.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},e.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},e.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},e.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},e.prototype.paginationGoToPage=function(e){this.paginationProxy.goToPage(e)},Hl([Xe("immutableService")],e.prototype,"immutableService",void 0),Hl([Xe("csvCreator")],e.prototype,"csvCreator",void 0),Hl([Xe("excelCreator")],e.prototype,"excelCreator",void 0),Hl([Qe("rowRenderer")],e.prototype,"rowRenderer",void 0),Hl([Qe("filterManager")],e.prototype,"filterManager",void 0),Hl([Qe("columnController")],e.prototype,"columnController",void 0),Hl([Qe("selectionController")],e.prototype,"selectionController",void 0),Hl([Qe("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Hl([Qe("valueService")],e.prototype,"valueService",void 0),Hl([Qe("alignedGridsService")],e.prototype,"alignedGridsService",void 0),Hl([Qe("eventService")],e.prototype,"eventService",void 0),Hl([Qe("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Hl([Qe("context")],e.prototype,"context",void 0),Hl([Qe("rowModel")],e.prototype,"rowModel",void 0),Hl([Qe("sortController")],e.prototype,"sortController",void 0),Hl([Qe("paginationProxy")],e.prototype,"paginationProxy",void 0),Hl([Qe("focusController")],e.prototype,"focusController",void 0),Hl([Qe("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Hl([Xe("rangeController")],e.prototype,"rangeController",void 0),Hl([Xe("clipboardService")],e.prototype,"clipboardService",void 0),Hl([Xe("aggFuncService")],e.prototype,"aggFuncService",void 0),Hl([Qe("menuFactory")],e.prototype,"menuFactory",void 0),Hl([Xe("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),Hl([Qe("cellRendererFactory")],e.prototype,"cellRendererFactory",void 0),Hl([Qe("valueCache")],e.prototype,"valueCache",void 0),Hl([Qe("animationFrameService")],e.prototype,"animationFrameService",void 0),Hl([Xe("statusBarService")],e.prototype,"statusBarService",void 0),Hl([Xe("chartService")],e.prototype,"chartService",void 0),Hl([Xe("undoRedoService")],e.prototype,"undoRedoService",void 0),Hl([Ye],e.prototype,"init",null),Hl([qe],e.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Hl([$e("gridApi")],e)}(),Bl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),jl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ul=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.expressionToFunctionCache={},t}return Bl(t,e),t.prototype.setBeans=function(e){this.logger=e.create("ExpressionService")},t.prototype.evaluate=function(e,t){return"function"==typeof e?e(t):"string"==typeof e?this.evaluateExpression(e,t):void console.error("ag-Grid: value should be either a string or a function",e)},t.prototype.evaluateExpression=function(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.columnApi,t.getValue,t.column,t.columnGroup)}catch(o){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",t),console.log("Exception = "+o),null}},t.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var t=this.createFunctionBody(e),o=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=o,o},t.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},jl([(0,o=Je("loggerFactory"),function(e,t){o(e,t,0)})],t.prototype,"setBeans",null),jl([$e("expressionService")],t);var o}(Tt),zl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Kl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Yl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.templateCache={},t.waitingCallbacks={},t}return zl(t,e),t.prototype.getTemplate=function(e,t){var o=this.templateCache[e];if(o)return o;var n=this.waitingCallbacks[e],i=this;if(!n){this.waitingCallbacks[e]=n=[];var r=new XMLHttpRequest;r.onload=function(){i.handleHttpResult(this,e)},r.open("GET",e),r.send()}return t&&n.push(t),null},t.prototype.handleHttpResult=function(e,t){if(200===e.status&&null!==e.response){this.templateCache[t]=e.response||e.responseText;for(var o=this.waitingCallbacks[t],n=0;n<o.length;n++)(0,o[n])();if(this.$scope){var i=this;window.setTimeout(function(){i.$scope.$apply()},0)}}else console.warn("Unable to get template error "+e.status+" - "+t)},Kl([Qe("$scope")],t.prototype,"$scope",void 0),Kl([$e("templateService")],t)}(Tt),ql=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),$l=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ql=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.popupList=[],t}return ql(t,e),t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,xt.EVENT_KEYBOARD_FOCUS,function(){le(e.popupList,function(e){return Io(e.element,"ag-keyboard-focus")})}),this.addManagedListener(this.eventService,xt.EVENT_MOUSE_FOCUS,function(){le(e.popupList,function(e){return Mo(e.element,"ag-keyboard-focus")})})},t.prototype.registerGridCore=function(e){this.gridCore=e},t.prototype.getPopupParent=function(){return this.gridOptionsWrapper.getPopupParent()||this.gridCore.getRootGui()},t.prototype.positionPopupForMenu=function(e){var t=e.eventSource.getBoundingClientRect(),o=this.getParentRect(),n=this.keepYWithinBounds(e,t.top-o.top),i=e.ePopup.clientWidth>0?e.ePopup.clientWidth:200;e.ePopup.style.minWidth=i+"px";var r,s=o.right-o.left-i;function a(){return t.right-o.left-2}function l(){return t.left-o.left-i}this.gridOptionsWrapper.isEnableRtl()?((r=l())<0&&(r=a()),r>s&&(r=0)):((r=a())>s&&(r=l()),r<0&&(r=0)),e.ePopup.style.left=r+"px",e.ePopup.style.top=n+"px"},t.prototype.positionPopupUnderMouseEvent=function(e){var t=this.calculatePointerAlign(e.mouseEvent);this.positionPopup({ePopup:e.ePopup,x:t.x,y:t.y,nudgeX:e.nudgeX,nudgeY:e.nudgeY,keepWithinBounds:!0}),this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)},t.prototype.calculatePointerAlign=function(e){var t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}},t.prototype.positionPopupUnderComponent=function(e){var t=e.eventSource.getBoundingClientRect(),o=e.alignSide||"left",n=this.getParentRect(),i=t.left-n.left;"right"===o&&(i-=e.ePopup.offsetWidth-t.width),this.positionPopup({ePopup:e.ePopup,minWidth:e.minWidth,minHeight:e.minHeight,nudgeX:e.nudgeX,nudgeY:e.nudgeY,x:i,y:t.top-n.top+t.height,keepWithinBounds:e.keepWithinBounds}),this.callPostProcessPopup(e.type,e.ePopup,e.eventSource,null,e.column,e.rowNode)},t.prototype.positionPopupOverComponent=function(e){var t=e.eventSource.getBoundingClientRect(),o=this.getParentRect();this.positionPopup({ePopup:e.ePopup,minWidth:e.minWidth,nudgeX:e.nudgeX,nudgeY:e.nudgeY,x:t.left-o.left,y:t.top-o.top,keepWithinBounds:e.keepWithinBounds}),this.callPostProcessPopup(e.type,e.ePopup,e.eventSource,null,e.column,e.rowNode)},t.prototype.callPostProcessPopup=function(e,t,o,n,i,r){var s=this.gridOptionsWrapper.getPostProcessPopupFunc();s&&s({column:i,rowNode:r,ePopup:t,type:e,eventSource:o,mouseEvent:n})},t.prototype.positionPopup=function(e){var t=e.x,o=e.y;e.nudgeX&&(t+=e.nudgeX),e.nudgeY&&(o+=e.nudgeY),e.keepWithinBounds&&(t=this.keepXWithinBounds(e,t),o=this.keepYWithinBounds(e,o)),e.ePopup.style.left=t+"px",e.ePopup.style.top=o+"px"},t.prototype.getActivePopups=function(){return this.popupList.map(function(e){return e.element})},t.prototype.getParentRect=function(){var e=this.getPopupParent(),t=this.gridOptionsWrapper.getDocument();e===t.body&&(e=t.documentElement);var o=getComputedStyle(e),n=e.getBoundingClientRect();return{top:n.top+parseFloat(o.borderTopWidth)||0,left:n.left+parseFloat(o.borderLeftWidth)||0,right:n.right+parseFloat(o.borderRightWidth)||0,bottom:n.bottom+parseFloat(o.borderBottomWidth)||0}},t.prototype.keepYWithinBounds=function(e,t){var o=this.gridOptionsWrapper.getDocument(),n=o.documentElement,i=this.getPopupParent(),r=i.getBoundingClientRect(),s=o.documentElement.getBoundingClientRect(),a=i===o.body,l=Math.min(200,r.height),u=0;e.minHeight&&e.minHeight<l?l=e.minHeight:e.ePopup.offsetHeight>0&&(l=e.ePopup.clientHeight,u=Ko(e.ePopup)-l);var c=a?Ko(n)+n.scrollTop:r.height;a&&(c-=Math.abs(s.top-r.top));var p=c-l-u;return Math.min(Math.max(t,0),Math.abs(p))},t.prototype.keepXWithinBounds=function(e,t){var o=this.gridOptionsWrapper.getDocument(),n=o.documentElement,i=this.getPopupParent(),r=i.getBoundingClientRect(),s=o.documentElement.getBoundingClientRect(),a=i===o.body,l=e.ePopup,u=Math.min(200,r.width),c=0;e.minWidth&&e.minWidth<u?u=e.minWidth:l.offsetWidth>0&&(l.style.minWidth=(u=l.offsetWidth)+"px",c=Yo(l)-u);var p=a?Yo(n)+n.scrollLeft:r.width;a&&(p-=Math.abs(s.left-r.left));var d=p-u-c;return Math.min(Math.max(t,0),Math.abs(d))},t.prototype.keepPopupPositionedRelativeTo=function(e){var t=this.getPopupParent(),o=t.getBoundingClientRect(),n=e.element.getBoundingClientRect(),i=o.top-n.top,r=i,s=e.ePopup.style.top,a=parseInt(s.substring(0,s.length-1),10),l=window.setInterval(function(){var o=t.getBoundingClientRect(),n=e.element.getBoundingClientRect(),s=o.top-n.top;s!=r&&(e.ePopup.style.top=a+i-s+"px"),r=s},200);return function(){window.clearInterval(l)}},t.prototype.addPopup=function(e){var t=this,o=e.modal,n=e.eChild,i=e.closeOnEsc,r=e.closedCallback,s=e.click,a=e.alwaysOnTop,l=e.positionCallback,u=e.anchorToElement,c=this.gridOptionsWrapper.getDocument();if(!c)return console.warn("ag-grid: could not find the document, document is empty"),function(){};var p=re(this.popupList,function(e){return e.element===n});if(-1!==p)return this.popupList[p].hideFunc;var d=this.getPopupParent();d.appendChild(n),null==n.style.top&&(n.style.top="0px"),null==n.style.left&&(n.style.left="0px");var h=document.createElement("div"),f=this.environment.getTheme().theme;f&&Io(h,f),Io(h,"ag-popup"),Io(n,this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr"),Io(n,"ag-popup-child"),h.appendChild(n),d.appendChild(h),a?this.setAlwaysOnTop(h,!0):this.bringPopupToFront(h);var g,m=!1,y=function(e){h.contains(document.activeElement)&&(e.which||e.keyCode)===ki.ESCAPE&&b({keyboardEvent:e})},v=function(e){return b({mouseEvent:e})},C=function(e){return b({touchEvent:e})},b=function(e){void 0===e&&(e={});var o=e.mouseEvent,i=e.touchEvent,a=e.keyboardEvent;t.isEventFromCurrentPopup({mouseEvent:o,touchEvent:i},n)||t.isEventSameChainAsOriginalEvent({originalMouseEvent:s,mouseEvent:o,touchEvent:i})||m||(m=!0,d.removeChild(h),c.removeEventListener("keydown",y),c.removeEventListener("mousedown",v),c.removeEventListener("touchstart",C),c.removeEventListener("contextmenu",v),t.eventService.removeEventListener(xt.EVENT_DRAG_STARTED,v),r&&r(o||i||a),t.popupList=t.popupList.filter(function(e){return e.element!==n}),g&&g())};return window.setTimeout(function(){i&&c.addEventListener("keydown",y),o&&(c.addEventListener("mousedown",v),t.eventService.addEventListener(xt.EVENT_DRAG_STARTED,v),c.addEventListener("touchstart",C),c.addEventListener("contextmenu",v))},0),this.popupList.push({element:n,hideFunc:b}),l&&l(),u&&(g=this.keepPopupPositionedRelativeTo({element:u,ePopup:n})),b},t.prototype.isEventFromCurrentPopup=function(e,t){var o=e.mouseEvent||e.touchEvent;if(!o)return!1;var n=re(this.popupList,function(e){return e.element===t});if(-1===n)return!1;for(var i=n;i<this.popupList.length;i++)if(Et(this.popupList[i].element,o))return!0;return this.isElementWithinCustomPopup(o.target)},t.prototype.isElementWithinCustomPopup=function(e){if(!this.popupList.length)return!1;for(;e&&e!==document.body;){if(e.classList.contains("ag-custom-component-popup")||null===e.parentElement)return!0;e=e.parentElement}return!1},t.prototype.isEventSameChainAsOriginalEvent=function(e){var t=e.originalMouseEvent,o=e.mouseEvent,n=e.touchEvent,i=null;if(o?i=o:n&&(i=n.touches[0]),i&&t){var r=o?o.screenY:0,s=Math.abs(t.screenX-(o?o.screenX:0))<5,a=Math.abs(t.screenY-r)<5;if(s&&a)return!0}return!1},t.prototype.getWrapper=function(e){for(;!ko(e,"ag-popup")&&e.parentElement;)e=e.parentElement;return ko(e,"ag-popup")?e:null},t.prototype.setAlwaysOnTop=function(e,t){var o=this.getWrapper(e);o&&(Lo(o,"ag-always-on-top",!!t),t&&this.bringPopupToFront(o))},t.prototype.bringPopupToFront=function(e){var t=this.getPopupParent(),o=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=o.length,i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),r=i.length,s=this.getWrapper(e);if(s&&!(n<=1)&&t.contains(e)){var a=o.indexOf(s);r?ko(s,"ag-always-on-top")?a!==n-1&&U(i).insertAdjacentElement("afterend",s):a!==n-r-1&&i[0].insertAdjacentElement("beforebegin",s):a!==n-1&&U(o).insertAdjacentElement("afterend",s);var l={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:s};this.eventService.dispatchEvent(l)}},$l([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),$l([Qe("environment")],t.prototype,"environment",void 0),$l([Ye],t.prototype,"init",null),$l([$e("popupService")],t)}(Tt),Xl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Zl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Jl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xl(t,e),t.prototype.setBeans=function(e){this.logging=e.isDebug()},t.prototype.create=function(e){return new eu(e,this.isLogging.bind(this))},t.prototype.isLogging=function(){return this.logging},Zl([(0,o=Je("gridOptionsWrapper"),function(e,t){o(e,t,0)})],t.prototype,"setBeans",null),Zl([$e("loggerFactory")],t);var o}(Tt),eu=function(){function e(e,t){this.name=e,this.isLoggingFunc=t}return e.prototype.isLogging=function(){return this.isLoggingFunc()},e.prototype.log=function(e){this.isLoggingFunc()&&console.log("ag-Grid."+this.name+": "+e)},e}(),tu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ou=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},nu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tu(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.registerHeaderRootComp=function(e){this.headerRootComp=e},t.prototype.getPreferredWidthForColumn=function(e,t){var o=this.getHeaderCellForColumn(e);if(!o)return-1;var n=document.createElement("span");n.style.position="fixed";var i=this.gridPanel.getCenterContainer();i.appendChild(n),this.putRowCellsIntoDummyContainer(e,n),t||this.cloneItemIntoDummy(o,n);var r=n.offsetWidth;return i.removeChild(n),r+this.gridOptionsWrapper.getAutoSizePadding()},t.prototype.getHeaderCellForColumn=function(e){var t=null;return this.headerRootComp.forEachHeaderElement(function(o){if(o instanceof ja){var n=o;n.getColumn()===e&&(t=n)}}),t?t.getGui():null},t.prototype.putRowCellsIntoDummyContainer=function(e,t){var o=this;this.rowRenderer.getAllCellsForColumn(e).forEach(function(e){return o.cloneItemIntoDummy(e,t)})},t.prototype.cloneItemIntoDummy=function(e,t){var o=e.cloneNode(!0);o.style.width="",o.style.position="static",o.style.left="";var n=document.createElement("div");ko(o,"ag-header-cell")?(Io(n,"ag-header"),Io(n,"ag-header-row"),n.style.position="static"):Io(n,"ag-row"),n.style.display="table-row",n.appendChild(o),t.appendChild(n)},ou([Qe("rowRenderer")],t.prototype,"rowRenderer",void 0),ou([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ou([$e("autoWidthCalculator")],t)}(Tt),iu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ru=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},su=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return iu(t,e),t.prototype.addResizeBar=function(e){var t=this,o={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e)};return this.dragService.addDragSource(o,!0),function(){return t.dragService.removeDragSource(o)}},t.prototype.onDragStart=function(e,t){this.dragStartX=t.clientX,this.setResizeIcons();var o=t instanceof MouseEvent&&!0===t.shiftKey;e.onResizeStart(o)},t.prototype.setResizeIcons=function(){this.oldBodyCursor=this.eGridDiv.style.cursor,this.oldUserSelect=this.eGridDiv.style.userSelect,this.oldWebkitUserSelect=this.eGridDiv.style.webkitUserSelect,this.eGridDiv.style.cursor="ew-resize",this.eGridDiv.style.userSelect="none",this.eGridDiv.style.webkitUserSelect="none"},t.prototype.onDragStop=function(e,t){e.onResizeEnd(this.resizeAmount),this.resetIcons()},t.prototype.resetIcons=function(){this.eGridDiv.style.cursor=this.oldBodyCursor,this.eGridDiv.style.userSelect=this.oldUserSelect,this.eGridDiv.style.webkitUserSelect=this.oldWebkitUserSelect},t.prototype.onDragging=function(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)},ru([Qe("dragService")],t.prototype,"dragService",void 0),ru([Qe("eGridDiv")],t.prototype,"eGridDiv",void 0),ru([$e("horizontalResizeService")],t)}(Tt),au=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),lu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},uu=function(e){function t(){return e.call(this,void 0,!0)||this}return au(t,e),t.prototype.postConstruct=function(){var t=this;this.logger=this.loggerFactory.create("GridCore");var o=this.createTemplate();if(this.setTemplate(o),[this.gridApi,this.rowRenderer,this.popupService,this.focusController].forEach(function(e){return e.registerGridCore(t)}),st.isRegistered(tt.ClipboardModule)&&this.clipboardService.registerGridCore(this),this.gridOptionsWrapper.addLayoutElement(this.getGui()),this.eGridDiv.appendChild(this.getGui()),this.addDestroyFunc(function(){t.eGridDiv.removeChild(t.getGui())}),this.$scope){var n=this.$scope.$watch(this.quickFilterOnScope,function(e){return t.filterManager.setQuickFilter(e)});this.addDestroyFunc(n)}this.addRtlSupport(),this.logger.log("ready"),this.gridOptionsWrapper.addLayoutElement(this.eRootWrapperBody);var i=this.resizeObserverService.observeResize(this.eGridDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return i()});var r=this.getGui();this.addManagedListener(this.eventService,xt.EVENT_KEYBOARD_FOCUS,function(){Io(r,"ag-keyboard-focus")}),this.addManagedListener(this.eventService,xt.EVENT_MOUSE_FOCUS,function(){Mo(r,"ag-keyboard-focus")}),e.prototype.postConstruct.call(this)},t.prototype.getFocusableElement=function(){return this.eRootWrapperBody},t.prototype.createTemplate=function(){var e=st.isRegistered(tt.SideBarModule),t=st.isRegistered(tt.StatusBarModule);return'<div ref="eRootWrapper" class="ag-root-wrapper">\n                '+(st.isRegistered(tt.RowGroupingModule)?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody">\n                    <ag-grid-comp ref="gridPanel"></ag-grid-comp>\n                    '+(e?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(t?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(st.isRegistered(tt.EnterpriseCoreModule)?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},t.prototype.getFocusableContainers=function(){var e=[this.gridPanel.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(function(e){return en(e)})},t.prototype.focusNextInnerContainer=function(e){var t=this.getFocusableContainers(),o=re(t,function(e){return e.contains(document.activeElement)})+(e?-1:1);return!(o<0||o>=t.length)&&(0===o?this.focusGridHeader():this.focusController.focusInto(t[o]))},t.prototype.focusInnerElement=function(e){var t=this.getFocusableContainers();if(e){if(t.length>1)return this.focusController.focusInto(U(t));var o=U(this.columnController.getAllDisplayedColumns());if(this.focusController.focusGridView(o,!0))return!0}return this.focusGridHeader()},t.prototype.focusGridHeader=function(){var e=this.columnController.getAllDisplayedColumns()[0];return!!e&&(e.getParent()&&(e=this.columnController.getColumnGroupAtLevel(e,0)),this.focusController.focusHeaderPosition({headerRowIndex:0,column:e}),!0)},t.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:xt.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridDiv.clientWidth,clientHeight:this.eGridDiv.clientHeight})},t.prototype.addRtlSupport=function(){var e=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";Io(this.getGui(),e)},t.prototype.getRootGui=function(){return this.getGui()},t.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},t.prototype.setSideBarVisible=function(e){this.sideBarComp?this.sideBarComp.setDisplayed(e):e&&console.warn("ag-Grid: sideBar is not loaded")},t.prototype.setSideBarPosition=function(e){this.sideBarComp?this.sideBarComp.setSideBarPosition(e):console.warn("ag-Grid: sideBar is not loaded")},t.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise")},t.prototype.getSideBar=function(){return this.gridOptions.sideBar},t.prototype.getToolPanelInstance=function(e){if(this.sideBarComp)return this.sideBarComp.getToolPanelInstance(e);console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise")},t.prototype.refreshSideBar=function(){this.sideBarComp&&this.sideBarComp.refresh()},t.prototype.setSideBar=function(e){this.sideBarComp&&(this.eRootWrapperBody.removeChild(this.sideBarComp.getGui()),this.gridOptions.sideBar=Ts.parse(e),this.sideBarComp.reset(),this.eRootWrapperBody.appendChild(this.sideBarComp.getGui()))},t.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},t.prototype.openToolPanel=function(e){this.sideBarComp?this.sideBarComp.openToolPanel(e):console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise")},t.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},t.prototype.destroy=function(){this.logger.log("Grid DOM removed"),e.prototype.destroy.call(this)},t.prototype.ensureNodeVisible=function(e,t){if(void 0===t&&(t=null),this.doingVirtualPaging)throw new Error("Cannot use ensureNodeVisible when doing virtual paging, as we cannot check rows that are not in memory");for(var o=this.rowModel.getRowCount(),n="function"==typeof e,i=-1,r=0;r<o;r++){var s=this.rowModel.getRow(r);if(n){if(e(s)){i=r;break}}else if(e===s||e===s.data){i=r;break}}i>=0&&this.gridPanel.ensureIndexVisible(i,t)},t.prototype.onTabKeyDown=function(){},lu([Qe("gridOptions")],t.prototype,"gridOptions",void 0),lu([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),lu([Qe("rowModel")],t.prototype,"rowModel",void 0),lu([Qe("resizeObserverService")],t.prototype,"resizeObserverService",void 0),lu([Qe("rowRenderer")],t.prototype,"rowRenderer",void 0),lu([Qe("filterManager")],t.prototype,"filterManager",void 0),lu([Qe("eGridDiv")],t.prototype,"eGridDiv",void 0),lu([Qe("$scope")],t.prototype,"$scope",void 0),lu([Qe("quickFilterOnScope")],t.prototype,"quickFilterOnScope",void 0),lu([Qe("popupService")],t.prototype,"popupService",void 0),lu([Qe("columnController")],t.prototype,"columnController",void 0),lu([Qe("loggerFactory")],t.prototype,"loggerFactory",void 0),lu([Qe("columnApi")],t.prototype,"columnApi",void 0),lu([Qe("gridApi")],t.prototype,"gridApi",void 0),lu([Xe("clipboardService")],t.prototype,"clipboardService",void 0),lu([Mi("gridPanel")],t.prototype,"gridPanel",void 0),lu([Mi("sideBar")],t.prototype,"sideBarComp",void 0),lu([Mi("rootWrapperBody")],t.prototype,"eRootWrapperBody",void 0),t}(Ki),cu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),pu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},du=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return cu(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},t.prototype.showMenuAfterMouseEvent=function(e,t){var o=this;this.showPopup(e,function(n){o.popupService.positionPopupUnderMouseEvent({column:e,type:"columnMenu",mouseEvent:t,ePopup:n})},t.target)},t.prototype.showMenuAfterButtonClick=function(e,t){var o=this;this.showPopup(e,function(n){o.popupService.positionPopupUnderComponent({type:"columnMenu",eventSource:t,ePopup:n,keepWithinBounds:!0,column:e})},t)},t.prototype.showPopup=function(e,t,o){var n,i=this,r=this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU"),s=document.createElement("div");s.setAttribute("role","presentation"),Io(s,"ag-menu"),this.tabListener=this.addManagedListener(s,"keydown",function(e){return i.trapFocusWithin(e,s)}),r.guiPromise.then(function(e){return s.appendChild(e)});var a=function(e){"horizontal"===e.direction&&n()};this.eventService.addEventListener("bodyScroll",a),n=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:function(t){i.eventService.removeEventListener("bodyScroll",a),e.setMenuVisible(!1,"contextMenu");var n=t instanceof KeyboardEvent;if(i.tabListener&&(i.tabListener=i.tabListener()),n&&o&&en(o)){var r=i.focusController.findTabbableParent(o);r&&r.focus()}}}),r.filterPromise.then(function(e){t(s),e.afterGuiAttached&&e.afterGuiAttached({container:"columnMenu",hidePopup:n})}),this.hidePopup=n,e.setMenuVisible(!0,"contextMenu")},t.prototype.trapFocusWithin=function(e,t){e.keyCode!==ki.TAB||e.defaultPrevented||this.focusController.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusController.focusInto(t,e.shiftKey))},t.prototype.isMenuEnabled=function(e){return e.isFilterAllowed()},pu([Qe("filterManager")],t.prototype,"filterManager",void 0),pu([Qe("popupService")],t.prototype,"popupService",void 0),pu([Qe("focusController")],t.prototype,"focusController",void 0),pu([$e("menuFactory")],t)}(Tt),hu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),fu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},gu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dragEndFunctions=[],t.dragSources=[],t}return hu(t,e),t.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},t.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},t.prototype.removeListener=function(e){var t=e.dragSource.eElement;t.removeEventListener("mousedown",e.mouseDownListener),e.touchEnabled&&t.removeEventListener("touchstart",e.touchStartListener,{passive:!0})},t.prototype.removeDragSource=function(e){var t=k(this.dragSources,function(t){return t.dragSource===e});t&&(this.removeListener(t),Q(this.dragSources,t))},t.prototype.setNoSelectToBody=function(e){var t=this.gridOptionsWrapper.getDocument().querySelector("body");P(t)&&Lo(t,"ag-unselectable",e)},t.prototype.isDragging=function(){return this.dragging},t.prototype.addDragSource=function(e,t){void 0===t&&(t=!1);var o=this.onMouseDown.bind(this,e);e.eElement.addEventListener("mousedown",o);var n=null,i=this.gridOptionsWrapper.isSuppressTouch();t&&!i&&(n=this.onTouchStart.bind(this,e),e.eElement.addEventListener("touchstart",n,{passive:!0})),this.dragSources.push({dragSource:e,mouseDownListener:o,touchStartListener:n,touchEnabled:t})},t.prototype.onTouchStart=function(e,t){var o=this;this.currentDragParams=e,this.dragging=!1;var n=t.touches[0];this.touchLastTime=n,this.touchStart=n;var i=function(t){return o.onTouchUp(t,e.eElement)},r=e.eElement,s=[{target:document,type:"touchmove",listener:function(e){e.cancelable&&e.preventDefault()},options:{passive:!1}},{target:r,type:"touchmove",listener:function(t){return o.onTouchMove(t,e.eElement)},options:{passive:!0}},{target:r,type:"touchend",listener:i,options:{passive:!0}},{target:r,type:"touchcancel",listener:i,options:{passive:!0}}];this.addTemporaryEvents(s),0===e.dragStartPixels&&this.onCommonMove(n,this.touchStart,e.eElement)},t.prototype.onMouseDown=function(e,t){var o=this,n=t;if(!(e.skipMouseEvent&&e.skipMouseEvent(t)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,0!==t.button))){this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t;var i=this.gridOptionsWrapper.getDocument();this.setNoSelectToBody(!0),this.addTemporaryEvents([{target:i,type:"mousemove",listener:function(t,n){return o.onMouseMove(t,e.eElement)}},{target:i,type:"mouseup",listener:function(t,n){return o.onMouseUp(t,e.eElement)}},{target:i,type:"contextmenu",listener:function(e){return e.preventDefault()}}]),0===e.dragStartPixels&&this.onMouseMove(t,e.eElement)}},t.prototype.addTemporaryEvents=function(e){e.forEach(function(e){e.target.addEventListener(e.type,e.listener,e.options)}),this.dragEndFunctions.push(function(){e.forEach(function(e){e.target.removeEventListener(e.type,e.listener,e.options)})})},t.prototype.isEventNearStartEvent=function(e,t){var o=this.currentDragParams.dragStartPixels;return bi(e,t,P(o)?o:4)},t.prototype.getFirstActiveTouch=function(e){for(var t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null},t.prototype.onCommonMove=function(e,t,o){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,t))return;this.dragging=!0,this.eventService.dispatchEvent({type:xt.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi,target:o}),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)},t.prototype.onTouchMove=function(e,t){var o=this.getFirstActiveTouch(e.touches);o&&this.onCommonMove(o,this.touchStart,t)},t.prototype.onMouseMove=function(e,t){this.onCommonMove(e,this.mouseStartEvent,t)},t.prototype.onTouchUp=function(e,t){var o=this.getFirstActiveTouch(e.changedTouches);o||(o=this.touchLastTime),this.onUpCommon(o,t)},t.prototype.onMouseUp=function(e,t){this.onUpCommon(e,t)},t.prototype.onUpCommon=function(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:xt.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi,target:t})),this.setNoSelectToBody(!1),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(e){return e()}),this.dragEndFunctions.length=0},fu([Qe("loggerFactory")],t.prototype,"loggerFactory",void 0),fu([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),fu([Qe("columnApi")],t.prototype,"columnApi",void 0),fu([Qe("gridApi")],t.prototype,"gridApi",void 0),fu([Ye],t.prototype,"init",null),fu([qe],t.prototype,"removeAllListeners",null),fu([$e("dragService")],t)}(Tt),mu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),yu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},vu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getSortModel=function(){return t.getColumnsWithSortingOrdered().map(function(e){return{colId:e.getColId(),sort:e.getSort()}})},t}var o;return mu(t,e),o=t,t.prototype.progressSort=function(e,t,o){void 0===o&&(o="api");var n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,o)},t.prototype.setSortForColumn=function(e,t,o,n){void 0===n&&(n="api"),t!==rt.SORT_ASC&&t!==rt.SORT_DESC&&(t=null),e.setSort(t,n),o&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarThisColumn(e,n),this.updateSortIndex(e),this.dispatchSortChangedEvents()},t.prototype.updateSortIndex=function(e){var t=this.getColumnsWithSortingOrdered(),o=0;t.forEach(function(t){t!==e&&(t.setSortIndex(o),o++)}),e.getSort()&&e.setSortIndex(o),this.columnController.getPrimaryAndSecondaryAndAutoColumns().filter(function(e){return null==e.getSort()}).forEach(function(e){return e.setSortIndex(void 0)})},t.prototype.onSortChanged=function(){this.dispatchSortChangedEvents()},t.prototype.isSortActive=function(){var e=this.columnController.getPrimaryAndSecondaryAndAutoColumns().filter(function(e){return!!e.getSort()});return e&&e.length>0},t.prototype.dispatchSortChangedEvents=function(){this.eventService.dispatchEvent({type:xt.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.clearSortBarThisColumn=function(e,t){this.columnController.getPrimaryAndSecondaryAndAutoColumns().forEach(function(o){o!==e&&o.setSort(void 0,t)})},t.prototype.getNextSortDirection=function(e){var t;if(t=e.getColDef().sortingOrder?e.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():o.DEFAULT_SORTING_ORDER,!Array.isArray(t)||t.length<=0)return console.warn("ag-grid: sortingOrder must be an array with at least one element, currently it's "+t),null;var n,i=t.indexOf(e.getSort());return o.DEFAULT_SORTING_ORDER.indexOf(n=i<0||i==t.length-1?t[0]:t[i+1])<0?(console.warn("ag-grid: invalid sort type "+n),null):n},t.prototype.getColumnsWithSortingOrdered=function(){var e=this.columnController.getPrimaryAndSecondaryAndAutoColumns().filter(function(e){return!!e.getSort()});return e.sort(function(e,t){return e.getSortIndex()-t.getSortIndex()}),e},t.prototype.getSortForRowController=function(){return this.getColumnsWithSortingOrdered().map(function(e){return{inverter:e.getSort()===rt.SORT_ASC?1:-1,column:e}})},t.DEFAULT_SORTING_ORDER=[rt.SORT_ASC,rt.SORT_DESC,null],yu([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),yu([Qe("columnController")],t.prototype,"columnController",void 0),yu([Qe("columnApi")],t.prototype,"columnApi",void 0),yu([Qe("gridApi")],t.prototype,"gridApi",void 0),o=yu([$e("sortController")],t)}(Tt),Cu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),bu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},wu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.keyboardFocusActive=!1,t}var o;return Cu(t,e),o=t,t.prototype.init=function(){var e=this.gridOptionsWrapper.getDocument(),t=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,xt.EVENT_COLUMN_PIVOT_MODE_CHANGED,t),this.addManagedListener(this.eventService,xt.EVENT_COLUMN_EVERYTHING_CHANGED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_COLUMN_GROUP_OPENED,t),this.addManagedListener(this.eventService,xt.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.addManagedListener(e,"keydown",this.activateKeyboardMode.bind(this)),this.addManagedListener(e,"mousedown",this.activateMouseMode.bind(this))},t.prototype.registerGridCore=function(e){this.gridCore=e},t.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var e=this.focusedCellPosition.column,t=this.columnController.getGridColumn(e.getId());e!==t&&this.clearFocusedCell()}},t.prototype.isKeyboardFocus=function(){return this.keyboardFocusActive},t.prototype.activateMouseMode=function(){this.keyboardFocusActive&&(this.keyboardFocusActive=!1,this.eventService.dispatchEvent({type:xt.EVENT_MOUSE_FOCUS}))},t.prototype.activateKeyboardMode=function(){this.keyboardFocusActive||(this.keyboardFocusActive=!0,this.eventService.dispatchEvent({type:xt.EVENT_KEYBOARD_FOCUS}))},t.prototype.getFocusCellToUseAfterRefresh=function(){return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition?null:this.getGridCellForDomElement(document.activeElement)?this.focusedCellPosition:null},t.prototype.getGridCellForDomElement=function(e){for(var t=e;t;){var o=this.gridOptionsWrapper.getDomData(t,ha.DOM_DATA_KEY_CELL_COMP);if(o)return o.getCellPosition();t=t.parentNode}return null},t.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1)},t.prototype.getFocusedCell=function(){return this.focusedCellPosition},t.prototype.setFocusedCell=function(e,t,o,n){void 0===n&&(n=!1);var i=this.columnController.getGridColumn(t);i?(this.focusedCellPosition={rowIndex:e,rowPinned:D(o),column:D(i)},this.onCellFocused(n)):this.focusedCellPosition=null},t.prototype.isCellFocused=function(e){return null!=this.focusedCellPosition&&this.focusedCellPosition.column===e.column&&this.isRowFocused(e.rowIndex,e.rowPinned)},t.prototype.isRowNodeFocused=function(e){return this.isRowFocused(e.rowIndex,e.rowPinned)},t.prototype.isHeaderWrapperFocused=function(e){if(null==this.focusedHeaderPosition)return!1;var t=e.getColumn(),o=e.getParentComponent().getRowIndex(),n=e.getPinned(),i=this.focusedHeaderPosition,r=i.column;return t===r&&o===i.headerRowIndex&&n==r.getPinned()},t.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},t.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},t.prototype.setFocusedHeader=function(e,t){this.focusedHeaderPosition={headerRowIndex:e,column:t}},t.prototype.focusHeaderPosition=function(e,t,o,n,i){if(void 0===t&&(t=null),void 0===o&&(o=!1),void 0===n&&(n=!1),n){var r,s=this.gridOptionsWrapper,a=this.getFocusedHeader(),l=this.headerNavigationService.getHeaderRowCount();o?(r=s.getTabToNextHeaderFunc())&&(e=r({backwards:"Before"===t,previousHeaderPosition:a,nextHeaderPosition:e,headerRowCount:l})):(r=s.getNavigateToNextHeaderFunc())&&(e=r({key:i.key,previousHeaderPosition:a,nextHeaderPosition:e,headerRowCount:l,event:i}))}if(!e)return!1;if(-1===e.headerRowIndex)return this.focusGridView(e.column);this.headerNavigationService.scrollToColumn(e.column,t);var u=this.headerNavigationService.getHeaderContainer(e.column.getPinned()).getRowComps()[e.headerRowIndex].getHeaderComps()[e.column.getUniqueId()];return!!u&&(u.getFocusableElement().focus(),!0)},t.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},t.prototype.isRowFocused=function(e,t){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===D(t)},t.prototype.findFocusableElements=function(e,t,n){void 0===n&&(n=!1);var i=o.FOCUSABLE_EXCLUDE;t&&(i+=", "+t),n&&(i+=', [tabindex="-1"]');var r,s=Array.prototype.slice.apply(e.querySelectorAll(o.FOCUSABLE_SELECTOR)),a=Array.prototype.slice.apply(e.querySelectorAll(i));return a.length?(r=a,s.filter(function(e){return-1===r.indexOf(e)})):s},t.prototype.focusInto=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1);var n=this.findFocusableElements(e,null,o),i=t?U(n):n[0];return!!i&&(i.focus(),!0)},t.prototype.findNextFocusableElement=function(e,t,o){var n=this.findFocusableElements(e,t?':not([tabindex="-1"])':null),i=(t?re(n,function(e){return e.contains(document.activeElement)}):n.indexOf(document.activeElement))+(o?-1:1);return i<0||i>=n.length?null:n[i]},t.prototype.isFocusUnderManagedComponent=function(e){var t=e.querySelectorAll("."+Ki.FOCUS_MANAGED_CLASS);if(!t.length)return!1;for(var o=0;o<t.length;o++)if(t[o].contains(document.activeElement))return!0;return!1},t.prototype.findTabbableParent=function(e,t){void 0===t&&(t=5);for(var o=0;e&&null===Po(e)&&++o<=t;)e=e.parentElement;return null===Po(e)?null:e},t.prototype.onCellFocused=function(e){var t={type:xt.EVENT_CELL_FOCUSED,forceBrowserFocus:e,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null};this.focusedCellPosition&&(t.rowIndex=this.focusedCellPosition.rowIndex,t.column=this.focusedCellPosition.column,t.rowPinned=this.focusedCellPosition.rowPinned),this.eventService.dispatchEvent(t)},t.prototype.focusGridView=function(e,t){var o=t?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!o)return!1;var n=o.rowIndex,i=o.rowPinned,r=this.getFocusedHeader();return e||(e=r.column),null!=n&&(this.rowRenderer.ensureCellVisible({rowIndex:n,column:e,rowPinned:i}),this.setFocusedCell(n,e,D(i),!0),this.rangeController&&this.rangeController.setRangeToCell({rowIndex:n,rowPinned:i,column:e}),!0)},t.prototype.focusNextGridCoreContainer=function(e){if(this.gridCore.focusNextInnerContainer(e))return!0;e||this.gridCore.forceFocusOutOfContainer()},t.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",t.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, .ag-disabled, .ag-disabled *",bu([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),bu([Qe("columnController")],t.prototype,"columnController",void 0),bu([Qe("headerNavigationService")],t.prototype,"headerNavigationService",void 0),bu([Qe("columnApi")],t.prototype,"columnApi",void 0),bu([Qe("gridApi")],t.prototype,"gridApi",void 0),bu([Qe("rowRenderer")],t.prototype,"rowRenderer",void 0),bu([Qe("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),bu([Xe("rangeController")],t.prototype,"rangeController",void 0),bu([Ye],t.prototype,"init",null),o=bu([$e("focusController")],t)}(Tt),Eu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ru=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},_u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gridInstanceId=o.gridInstanceSequence.next(),t}var o;return Eu(t,e),o=t,t.prototype.init=function(){this.stampDomElementWithGridInstance()},t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.stampDomElementWithGridInstance=function(){this.eGridDiv[o.GRID_DOM_KEY]=this.gridInstanceId},t.prototype.getRenderedCellForEvent=function(e){return Ct(this.gridOptionsWrapper,e)},t.prototype.isEventFromThisGrid=function(e){for(var t=St(e),n=0;n<t.length;n++){var i=t[n][o.GRID_DOM_KEY];if(P(i))return i===this.gridInstanceId}return!1},t.prototype.getCellPositionForEvent=function(e){var t=this.getRenderedCellForEvent(e);return t?t.getCellPosition():null},t.prototype.getNormalisedPosition=function(e){var t,o,n=this.gridOptionsWrapper.getDomLayout()===rt.DOM_LAYOUT_NORMAL;if(null!=e.clientX||null!=e.clientY?(t=e.clientX,o=e.clientY):(t=e.x,o=e.y),n){var i=this.gridPanel.getVScrollPosition();t+=this.gridPanel.getHScrollPosition().left,o+=i.top}return{x:t,y:o}},t.gridInstanceSequence=new Di,t.GRID_DOM_KEY="__ag_grid_instance",Ru([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ru([Qe("eGridDiv")],t.prototype,"eGridDiv",void 0),Ru([Ye],t.prototype,"init",null),o=Ru([$e("mouseEventService")],t)}(Tt),Su=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ou=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Du=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Su(t,e),t.prototype.getNextCellToFocus=function(e,t){for(var o=t,n=!1;!n;){switch(e){case ki.UP:o=this.getCellAbove(o);break;case ki.DOWN:o=this.getCellBelow(o);break;case ki.RIGHT:o=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(o):this.getCellToRight(o);break;case ki.LEFT:o=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(o):this.getCellToLeft(o);break;default:o=null,console.warn("ag-Grid: unknown key for navigation "+e)}n=!o||this.isCellGoodToFocusOn(o)}return o},t.prototype.isCellGoodToFocusOn=function(e){var t,o=e.column;switch(e.rowPinned){case rt.PINNED_TOP:t=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case rt.PINNED_BOTTOM:t=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:t=this.rowModel.getRow(e.rowIndex)}return!o.isSuppressNavigable(t)},t.prototype.getCellToLeft=function(e){if(!e)return null;var t=this.columnController.getDisplayedColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null},t.prototype.getCellToRight=function(e){if(!e)return null;var t=this.columnController.getDisplayedColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null},t.prototype.getRowBelow=function(e){var t=e.rowIndex,o=e.rowPinned;if(this.isLastRowInContainer(e))switch(o){case rt.PINNED_BOTTOM:return null;case rt.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(rt.PINNED_BOTTOM)?{rowIndex:0,rowPinned:rt.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(rt.PINNED_BOTTOM)?{rowIndex:0,rowPinned:rt.PINNED_BOTTOM}:null}return{rowIndex:t+1,rowPinned:o}},t.prototype.getCellBelow=function(e){if(!e)return null;var t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null},t.prototype.isLastRowInContainer=function(e){var t=e.rowPinned,o=e.rowIndex;return t===rt.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=o:t===rt.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=o:this.paginationProxy.getPageLastRow()<=o},t.prototype.getRowAbove=function(e){var t=e.rowIndex,o=e.rowPinned;return(o?0===t:t===this.paginationProxy.getPageFirstRow())?o===rt.PINNED_TOP?null:o&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(rt.PINNED_TOP)?this.getLastFloatingTopRow():null:{rowIndex:t-1,rowPinned:o}},t.prototype.getCellAbove=function(e){if(!e)return null;var t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null},t.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},t.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:rt.PINNED_TOP}},t.prototype.getNextTabbedCell=function(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)},t.prototype.getNextTabbedCellForwards=function(e){var t=this.columnController.getAllDisplayedColumns(),o=e.rowIndex,n=e.rowPinned,i=this.columnController.getDisplayedColAfter(e.column);if(!i){i=t[0];var r=this.getRowBelow(e);if(T(r))return null;if(!r.rowPinned&&!this.paginationProxy.isRowInPage(r))return null;o=r?r.rowIndex:null,n=r?r.rowPinned:null}return{rowIndex:o,column:i,rowPinned:n}},t.prototype.getNextTabbedCellBackwards=function(e){var t=this.columnController.getAllDisplayedColumns(),o=e.rowIndex,n=e.rowPinned,i=this.columnController.getDisplayedColBefore(e.column);if(!i){i=U(t);var r=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(T(r))return null;if(!r.rowPinned&&!this.paginationProxy.isRowInPage(r))return null;o=r?r.rowIndex:null,n=r?r.rowPinned:null}return{rowIndex:o,column:i,rowPinned:n}},Ou([Qe("columnController")],t.prototype,"columnController",void 0),Ou([Qe("rowModel")],t.prototype,"rowModel",void 0),Ou([Qe("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Ou([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ou([Qe("paginationProxy")],t.prototype,"paginationProxy",void 0),Ou([$e("cellNavigationService")],t)}(Tt),Pu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Tu=function(){function e(){this.cellRendererMap={}}var t;return t=e,e.prototype.init=function(){this.cellRendererMap[t.ANIMATE_SLIDE]=Wr,this.cellRendererMap[t.ANIMATE_SHOW_CHANGE]=Vr,this.cellRendererMap[t.GROUP]=Gr},e.prototype.addCellRenderer=function(e,t){this.cellRendererMap[e]=t},e.prototype.getCellRenderer=function(e){var t=this.cellRendererMap[e];return T(t)?(console.warn("ag-Grid: unable to find cellRenderer for key "+e),null):t},e.ANIMATE_SLIDE="animateSlide",e.ANIMATE_SHOW_CHANGE="animateShowChange",e.GROUP="group",Pu([Qe("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Pu([Qe("expressionService")],e.prototype,"expressionService",void 0),Pu([Qe("eventService")],e.prototype,"eventService",void 0),Pu([Ye],e.prototype,"init",null),t=Pu([$e("cellRendererFactory")],e)}(),Au=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Fu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Nu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Au(t,e),t.prototype.formatValue=function(e,t,o,n,i,r){void 0===r&&(r=!0);var s,a=null,l=e.getColDef();if(i?s=i:r&&(s=t&&t.rowPinned&&l.pinnedRowValueFormatter?l.pinnedRowValueFormatter:l.valueFormatter),s){var u={value:n,node:t,data:t?t.data:null,colDef:l,column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};u.$scope=o,a=this.expressionService.evaluate(s,u)}else if(l.refData)return l.refData[n]||"";return null==a&&Array.isArray(n)&&(a=n.join(", ")),a},Fu([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Fu([Qe("expressionService")],t.prototype,"expressionService",void 0),Fu([$e("valueFormatterService")],t)}(Tt),xu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Iu=function(e){function t(t){return e.call(this,t,"ag-radio-button","radio")||this}return xu(t,e),t.prototype.isSelected=function(){return this.eInput.checked},t.prototype.toggle=function(){this.isSelected()||this.setValue(!0)},t.prototype.addInputListeners=function(){e.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,xt.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},t.prototype.onChange=function(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)},t}(Ma),Mu=function(){function e(){}return e.prototype.setTimeout=function(e,t){window.setTimeout(e,t)},e.prototype.addEventListenerOutsideAngular=function(e,t,o,n){e.addEventListener(t,o,n)},e}(),Lu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Gu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ku=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lu(t,e),t.prototype.setScrollsVisible=function(e){this.horizontalScrollShowing===e.horizontalScrollShowing&&this.verticalScrollShowing===e.verticalScrollShowing||(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:xt.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},t.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},Gu([Qe("columnController")],t.prototype,"columnController",void 0),Gu([Qe("columnApi")],t.prototype,"columnApi",void 0),Gu([Qe("gridApi")],t.prototype,"gridApi",void 0),Gu([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Gu([$e("scrollVisibleService")],t)}(Tt),Vu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Hu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Wu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vu(t,e),t.prototype.processAllCellClasses=function(e,t,o,n){this.processClassRules(e.cellClassRules,t,o,n),this.processStaticCellClasses(e,t,o)},t.prototype.processClassRules=function(e,t,o,n){if(Fe(e))for(var i=Object.keys(e),r=0;r<i.length;r++){var s=i[r],a=e[s],l=void 0;"string"==typeof a?l=this.expressionService.evaluate(a,t):"function"==typeof a&&(l=a(t)),l?o(s):n&&n(s)}},t.prototype.processStaticCellClasses=function(e,t,o){if(e.cellClass){var n=void 0;"string"==typeof(n="function"==typeof e.cellClass?(0,e.cellClass)(t):e.cellClass)?o(n):Array.isArray(n)&&n.forEach(function(e){o(e)})}},Hu([Qe("expressionService")],t.prototype,"expressionService",void 0),Hu([$e("stylingService")],t)}(Tt),Bu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ju=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Uu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Bu(t,e),t.prototype.setMouseOver=function(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:xt.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:xt.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.isHovered=function(e){return this.selectedColumns&&this.selectedColumns.indexOf(e)>=0},ju([Qe("columnApi")],t.prototype,"columnApi",void 0),ju([Qe("gridApi")],t.prototype,"gridApi",void 0),ju([$e("columnHoverService")],t)}(Tt),zu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ku=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Yu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.executeNextFuncs=[],t.executeLaterFuncs=[],t.active=!1,t.animationThreadCount=0,t}return zu(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.isActive=function(){return this.active},t.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},t.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},t.prototype.executeNextVMTurn=function(e){this.active?this.executeNextFuncs.push(e):e()},t.prototype.executeLaterVMTurn=function(e){this.active?this.executeLaterFuncs.push(e):e()},t.prototype.ensureAnimationCssClassPresent=function(){var e=this;this.animationThreadCount++;var t=this.animationThreadCount;this.gridPanel.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){e.animationThreadCount===t&&e.gridPanel.setColumnMovingCss(!1)})},t.prototype.flush=function(){var e=this.executeNextFuncs;this.executeNextFuncs=[];var t=this.executeLaterFuncs;this.executeLaterFuncs=[],0===e.length&&0===t.length||(window.setTimeout(function(){return e.forEach(function(e){return e()})},0),window.setTimeout(function(){return t.forEach(function(e){return e()})},300))},Ku([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ku([$e("columnAnimationService")],t)}(Tt),qu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),$u=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Qu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return qu(t,e),o=t,t.prototype.createAutoGroupColumns=function(e){var t=this,o=[],n=this.gridOptionsWrapper.isTreeData(),i=this.gridOptionsWrapper.isGroupMultiAutoColumn();return n&&i&&(console.warn("ag-Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),i=!1),i?e.forEach(function(e,n){o.push(t.createOneAutoGroupColumn(e,n))}):o.push(this.createOneAutoGroupColumn()),o},t.prototype.createOneAutoGroupColumn=function(e,t){var n,i=this.generateDefaultColDef(e);n=e?rt.GROUP_AUTO_COLUMN_ID+"-"+e.getId():o.GROUP_AUTO_COLUMN_BUNDLE_ID,Re(i,this.gridOptionsWrapper.getAutoGroupColumnDef()),(i=this.columnFactory.mergeColDefs(i)).colId=n,this.gridOptionsWrapper.isTreeData()||T(i.field)&&T(i.valueGetter)&&T(i.filterValueGetter)&&(i.filter=!1),t&&t>0&&(i.headerCheckboxSelection=!1);var r=new lt(i,null,n,!0);return this.context.createBean(r),r},t.prototype.generateDefaultColDef=function(e){var t=this.gridOptionsWrapper.getAutoGroupColumnDef(),o={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(t&&(t.cellRenderer||t.cellRendererFramework)||(o.cellRenderer="agGroupCellRenderer"),e){var n=e.getColDef();_e(o,{headerName:this.columnController.getDisplayNameForColumn(e,"header"),headerValueGetter:n.headerValueGetter}),n.cellRenderer&&_e(o,{cellRendererParams:{innerRenderer:n.cellRenderer,innerRendererParams:n.cellRendererParams}}),o.showRowGroup=e.getColId()}else o.showRowGroup=!0;return o},t.GROUP_AUTO_COLUMN_BUNDLE_ID=rt.GROUP_AUTO_COLUMN_ID,$u([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),$u([Qe("columnController")],t.prototype,"columnController",void 0),$u([Qe("columnFactory")],t.prototype,"columnFactory",void 0),o=$u([$e("autoGroupColService")],t)}(Tt),Xu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Zu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ju=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentPage=0,t.topDisplayedRowIndex=0,t.bottomDisplayedRowIndex=0,t.pixelOffset=0,t.masterRowCount=0,t}return Xu(t,e),t.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,xt.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},t.prototype.ensureRowHeightsValid=function(e,t,o,n){var i=this.rowModel.ensureRowHeightsValid(e,t,this.getPageFirstRow(),this.getPageLastRow());return i&&this.calculatePages(),i},t.prototype.onModelUpdated=function(e){this.calculatePages(),this.eventService.dispatchEvent({type:xt.EVENT_PAGINATION_CHANGED,animate:!!e&&e.animate,newData:!!e&&e.newData,newPage:!!e&&e.newPage,keepRenderedRows:!!e&&e.keepRenderedRows,api:this.gridApi,columnApi:this.columnApi})},t.prototype.onPaginationPageSizeChanged=function(){this.calculatePages(),this.eventService.dispatchEvent({type:xt.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0,api:this.gridApi,columnApi:this.columnApi})},t.prototype.goToPage=function(e){this.active&&this.currentPage!==e&&(this.currentPage=e,this.onModelUpdated({type:xt.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.getPixelOffset=function(){return this.pixelOffset},t.prototype.getRow=function(e){return this.rowModel.getRow(e)},t.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},t.prototype.getRowIndexAtPixel=function(e){return this.rowModel.getRowIndexAtPixel(e)},t.prototype.getCurrentPageHeight=function(){return T(this.topRowBounds)||T(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},t.prototype.isRowPresent=function(e){return!!this.rowModel.isRowPresent(e)&&e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex},t.prototype.isEmpty=function(){return this.rowModel.isEmpty()},t.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},t.prototype.getNodesInRangeForSelection=function(e,t){return this.rowModel.getNodesInRangeForSelection(e,t)},t.prototype.forEachNode=function(e){return this.rowModel.forEachNode(e)},t.prototype.getType=function(){return this.rowModel.getType()},t.prototype.getRowBounds=function(e){var t=this.rowModel.getRowBounds(e);return t.rowIndex=e,t},t.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},t.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},t.prototype.getRowCount=function(){return this.rowModel.getRowCount()},t.prototype.getPageForIndex=function(e){return Math.floor(e/this.pageSize)},t.prototype.goToPageWithIndex=function(e){if(this.active){var t=this.getPageForIndex(e);this.goToPage(t)}},t.prototype.isRowInPage=function(e){return!this.active||this.getPageForIndex(e.rowIndex)===this.currentPage},t.prototype.isLastPageFound=function(){return this.rowModel.isLastRowFound()},t.prototype.getCurrentPage=function(){return this.currentPage},t.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},t.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},t.prototype.goToFirstPage=function(){this.goToPage(0)},t.prototype.goToLastPage=function(){var e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getTotalPages=function(){return this.totalPages},t.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),this.pageSize>=1||(this.pageSize=100)},t.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(P(this.topRowBounds)?this.topRowBounds.rowTop:0)},t.prototype.setPixelOffset=function(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:xt.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},t.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},t.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!$t(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var t=this.pageSize*(this.currentPage+1)-1;if(t>e&&(t=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),t===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var o=this.rowModel.getTopLevelRowDisplayedIndex(t+1);this.bottomDisplayedRowIndex=o-1}}},t.prototype.getMasterRowCount=function(){return this.masterRowCount},t.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!$t(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}else this.setZeroRows()},t.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},Zu([Qe("rowModel")],t.prototype,"rowModel",void 0),Zu([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Zu([Qe("columnApi")],t.prototype,"columnApi",void 0),Zu([Qe("gridApi")],t.prototype,"gridApi",void 0),Zu([Ye],t.prototype,"postConstruct",null),Zu([$e("paginationProxy")],t)}(Tt),ec=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),tc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},oc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ec(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e,this.addManagedListener(this.eventService,xt.EVENT_BODY_HEIGHT_CHANGED,this.onBodyHeightChanged.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.checkPageSize()},t.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},t.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},t.prototype.onBodyHeightChanged=function(){this.checkPageSize()},t.prototype.checkPageSize=function(){if(!this.notActive()){var e=this.gridOptionsWrapper.getRowHeightAsNumber(),t=this.gridPanel.getBodyHeight();if(t>0){var o=Math.floor(t/e);this.gridOptionsWrapper.setProperty("paginationPageSize",o)}}},tc([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),tc([$e("paginationAutoPageSizeService")],t)}(Tt),nc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ic=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},rc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cacheVersion=0,t}return nc(t,e),t.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},t.prototype.onDataChanged=function(){this.neverExpires||this.expire()},t.prototype.expire=function(){this.cacheVersion++},t.prototype.setValue=function(e,t,o){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=o)},t.prototype.getValue=function(e,t){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[t]},ic([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ic([Ye],t.prototype,"init",null),ic([$e("valueCache")],t)}(Tt),sc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ac=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},lc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sc(t,e),t.prototype.init=function(){this.rowModel.getType()===rt.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,xt.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},t.prototype.onCellValueChanged=function(e){e.source!==rt.SOURCE_PASTE&&this.doChangeDetection(e.node,e.column)},t.prototype.doChangeDetection=function(e,t){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!e.isRowPinned()){var o=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),n=new Gs(o,this.clientSideRowModel.getRootNode());n.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(n)}this.rowRenderer.refreshCells()}},ac([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ac([Qe("rowModel")],t.prototype,"rowModel",void 0),ac([Qe("rowRenderer")],t.prototype,"rowRenderer",void 0),ac([Ye],t.prototype,"init",null),ac([$e("changeDetectionService")],t)}(Tt),uc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),cc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},pc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.consuming=!1,t}return uc(t,e),t.prototype.setBeans=function(e){this.logger=e.create("AlignedGridsService")},t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.init=function(){this.addManagedListener(this.eventService,xt.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},t.prototype.fireEvent=function(e){if(!this.consuming){var t=this.gridOptionsWrapper.getAlignedGrids();t&&t.forEach(function(t){if(t.api){var o=t.api.__getAlignedGridService();e(o)}})}},t.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},t.prototype.fireColumnEvent=function(e){this.fireEvent(function(t){t.onColumnEvent(e)})},t.prototype.fireScrollEvent=function(e){"horizontal"===e.direction&&this.fireEvent(function(t){t.onScrollEvent(e)})},t.prototype.onScrollEvent=function(e){var t=this;this.onEvent(function(){t.gridPanel.setHorizontalScrollPosition(e.left)})},t.prototype.getMasterColumns=function(e){var t=[];return e.columns?e.columns.forEach(function(e){t.push(e)}):e.column&&t.push(e.column),t},t.prototype.getColumnIds=function(e){var t=[];return e.columns?e.columns.forEach(function(e){t.push(e.getColId())}):e.column&&t.push(e.column.getColId()),t},t.prototype.onColumnEvent=function(e){var t=this;this.onEvent(function(){switch(e.type){case xt.EVENT_COLUMN_MOVED:case xt.EVENT_COLUMN_VISIBLE:case xt.EVENT_COLUMN_PINNED:case xt.EVENT_COLUMN_RESIZED:t.processColumnEvent(e);break;case xt.EVENT_COLUMN_GROUP_OPENED:t.processGroupOpenedEvent(e);break;case xt.EVENT_COLUMN_PIVOT_CHANGED:console.warn("ag-Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},t.prototype.processGroupOpenedEvent=function(e){var t,o=e.columnGroup;if(o){var n=o.getGroupId();t=this.columnController.getOriginalColumnGroup(n)}o&&!t||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+o.isExpanded()),this.columnController.setColumnGroupOpened(t,o.isExpanded(),"alignedGridChanged"))},t.prototype.processColumnEvent=function(e){var t,o=this,n=e.column;if(n&&(t=this.columnController.getPrimaryColumn(n.getColId())),!n||t){var i=this.getColumnIds(e),r=this.getMasterColumns(e);switch(e.type){case xt.EVENT_COLUMN_MOVED:var s=e;this.logger.log("onColumnEvent-> processing "+e.type+" toIndex = "+s.toIndex),this.columnController.moveColumns(i,s.toIndex,"alignedGridChanged");break;case xt.EVENT_COLUMN_VISIBLE:var a=e;this.logger.log("onColumnEvent-> processing "+e.type+" visible = "+a.visible),this.columnController.setColumnsVisible(i,a.visible,"alignedGridChanged");break;case xt.EVENT_COLUMN_PINNED:var l=e;this.logger.log("onColumnEvent-> processing "+e.type+" pinned = "+l.pinned),this.columnController.setColumnsPinned(i,l.pinned,"alignedGridChanged");break;case xt.EVENT_COLUMN_RESIZED:var u=e;r.forEach(function(t){o.logger.log("onColumnEvent-> processing "+e.type+" actualWidth = "+t.getActualWidth());var n=[{key:t.getColId(),newWidth:t.getActualWidth()}];o.columnController.setColumnWidths(n,!1,u.finished,"alignedGridChanged")})}var c=this.gridPanel.isVerticalScrollShowing();this.gridOptionsWrapper.getAlignedGrids().forEach(function(e){e.api.setAlwaysShowVerticalScroll(c)})}},cc([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),cc([Qe("columnController")],t.prototype,"columnController",void 0),cc([(0,o=Je("loggerFactory"),function(e,t){o(e,t,0)})],t.prototype,"setBeans",null),cc([Ye],t.prototype,"init",null),cc([$e("alignedGridsService")],t);var o}(Tt),dc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),hc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},fc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return dc(t,e),t.prototype.adaptFunction=function(e,t,o,n){if(null==t)return{component:null,componentFromFramework:o,source:n,paramsFromSelector:null};var i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?{componentFromFramework:o,component:i.functionAdapter(t),source:n,paramsFromSelector:null}:null},t.prototype.adaptCellRendererFunction=function(e){return function(){function t(){}return t.prototype.refresh=function(e){return!1},t.prototype.getGui=function(){var t=e(this.params),o=typeof t;return"string"===o||"number"===o||"boolean"===o?tn("<span>"+t+"</span>"):t},t.prototype.init=function(e){this.params=e},t}()},t.prototype.doesImplementIComponent=function(e){return!!e&&e.prototype&&"getGui"in e.prototype},hc([Qe("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),hc([$e("agComponentUtils")],t)}(Tt),gc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),mc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},yc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gc(t,e),t.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},t.prototype.retrieve=function(e){return this.componentMetaData[e]},mc([Qe("agComponentUtils")],t.prototype,"agComponentUtils",void 0),mc([Ye],t.prototype,"postConstruct",null),mc([$e("componentMetadataProvider")],t)}(Tt),vc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Cc=function(){function e(){}return e.prototype.registerGridComp=function(e){this.gridPanel=e},e.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},vc([Qe("resizeObserverService")],e.prototype,"resizeObserverService",void 0),vc([Qe("paginationProxy")],e.prototype,"paginationProxy",void 0),vc([Qe("context")],e.prototype,"context",void 0),vc([Qe("columnApi")],e.prototype,"columnApi",void 0),vc([Qe("gridApi")],e.prototype,"gridApi",void 0),vc([Qe("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),vc([Qe("expressionService")],e.prototype,"expressionService",void 0),vc([Qe("rowRenderer")],e.prototype,"rowRenderer",void 0),vc([Qe("$compile")],e.prototype,"$compile",void 0),vc([Qe("templateService")],e.prototype,"templateService",void 0),vc([Qe("valueService")],e.prototype,"valueService",void 0),vc([Qe("eventService")],e.prototype,"eventService",void 0),vc([Qe("columnController")],e.prototype,"columnController",void 0),vc([Qe("headerNavigationService")],e.prototype,"headerNavigationService",void 0),vc([Qe("columnAnimationService")],e.prototype,"columnAnimationService",void 0),vc([Xe("rangeController")],e.prototype,"rangeController",void 0),vc([Qe("focusController")],e.prototype,"focusController",void 0),vc([Xe("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),vc([Qe("cellRendererFactory")],e.prototype,"cellRendererFactory",void 0),vc([Qe("popupService")],e.prototype,"popupService",void 0),vc([Qe("valueFormatterService")],e.prototype,"valueFormatterService",void 0),vc([Qe("stylingService")],e.prototype,"stylingService",void 0),vc([Qe("columnHoverService")],e.prototype,"columnHoverService",void 0),vc([Qe("userComponentFactory")],e.prototype,"userComponentFactory",void 0),vc([Qe("animationFrameService")],e.prototype,"taskQueue",void 0),vc([Qe("dragAndDropService")],e.prototype,"dragAndDropService",void 0),vc([Qe("sortController")],e.prototype,"sortController",void 0),vc([Qe("filterManager")],e.prototype,"filterManager",void 0),vc([Qe("maxDivHeightScaler")],e.prototype,"maxDivHeightScaler",void 0),vc([Qe("frameworkOverrides")],e.prototype,"frameworkOverrides",void 0),vc([Qe("detailRowCompCache")],e.prototype,"detailRowCompCache",void 0),vc([Qe("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),vc([Qe("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),vc([Qe("selectionController")],e.prototype,"selectionController",void 0),vc([Xe("selectionHandleFactory")],e.prototype,"selectionHandleFactory",void 0),vc([Qe("rowCssClassCalculator")],e.prototype,"rowCssClassCalculator",void 0),vc([Qe("rowModel")],e.prototype,"rowModel",void 0),vc([Ye],e.prototype,"postConstruct",null),vc([$e("beans")],e)}(),bc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),wc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ec={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},Rc={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},_c={},Sc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bc(t,e),t.prototype.getSassVariable=function(e,t){var o="ag-theme-"+(e.match("material")?"material":e.match("balham")?"balham":e.match("alpine")?"alpine":"custom"),n=Ec[o][t],i=0;if(_c[e]||(_c[e]={}),_c[e][t])return _c[e][t];if(Rc[t]){var r=Rc[t],s=document.createElement("div");Io(s,e),s.style.position="absolute";var a=r.reduce(function(e,t){var o=document.createElement("div");return o.style.position="static",Io(o,t),e.appendChild(o),o},s);if(document.body){document.body.appendChild(s);var l=-1!==t.toLowerCase().indexOf("height")?"height":"width";i=parseInt(window.getComputedStyle(a)[l],10),document.body.removeChild(s)}}return _c[e][t]=i||n,_c[e][t]},t.prototype.isThemeDark=function(){var e=this.getTheme().theme;return!!e&&e.indexOf("dark")>=0},t.prototype.chartMenuPanelWidth=function(){var e=this.getTheme().themeFamily;return this.getSassVariable(e,"chartMenuPanelWidth")},t.prototype.getTheme=function(){for(var e,t=/\bag-(material|(?:theme-([\w\-]*)))\b/,o=this.eGridDiv;o&&!(e=t.exec(o.className));)o=o.parentElement;if(!e)return{};var n=e[0];if(void 0===e[2]){var i=n.replace("ag-","ag-theme-");Me(function(){return console.warn("ag-Grid: As of v19 old theme are no longer provided. Please replace "+n+" with "+i+".")},"using-old-theme")}return{theme:n,el:o,themeFamily:n.replace(/-dark$/,"")}},wc([Qe("eGridDiv")],t.prototype,"eGridDiv",void 0),wc([$e("environment")],t)}(Tt),Oc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Dc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Pc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.createTasksP1={list:[],sorted:!1},t.createTasksP2={list:[],sorted:!1},t.destroyTasks=[],t.ticking=!1,t.scrollGoingDown=!0,t.lastScrollTop=0,t.taskCount=0,t.cancelledTasks=new Set,t}return Oc(t,e),t.prototype.setScrollTop=function(e){this.scrollGoingDown=e>this.lastScrollTop,this.lastScrollTop=e},t.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},t.prototype.verifyAnimationFrameOn=function(e){!1===this.useAnimationFrame&&console.warn("ag-Grid: AnimationFrameService."+e+" called but animation frames are off")},t.prototype.createTask=function(e,t,o){this.verifyAnimationFrameOn(o);var n={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[o],n),this.schedule()},t.prototype.cancelTask=function(e){this.cancelledTasks.add(e)},t.prototype.addTaskToList=function(e,t){e.list.push(t),e.sorted=!1},t.prototype.sortTaskList=function(e){if(!e.sorted){var t=this.scrollGoingDown?1:-1;e.list.sort(function(e,o){return e.index!==o.index?t*(o.index-e.index):o.createOrder-e.createOrder}),e.sorted=!0}},t.prototype.addDestroyTask=function(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()},t.prototype.executeFrame=function(e){this.verifyAnimationFrameOn("executeFrame");for(var t=this.createTasksP1,o=t.list,n=this.createTasksP2,i=n.list,r=this.destroyTasks,s=(new Date).getTime(),a=(new Date).getTime()-s,l=e<=0;l||a<e;){var u=void 0;if(o.length)this.sortTaskList(t),u=o.pop().task;else if(i.length)this.sortTaskList(n),u=i.pop().task;else{if(!r.length){this.cancelledTasks.clear();break}u=r.pop()}this.cancelledTasks.has(u)||u(),a=(new Date).getTime()-s}o.length||i.length||r.length?this.requestFrame():this.stopTicking()},t.prototype.stopTicking=function(){this.ticking=!1;var e={type:xt.EVENT_ANIMATION_QUEUE_EMPTY,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};this.eventService.dispatchEvent(e)},t.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},t.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},t.prototype.requestFrame=function(){var e=this.executeFrame.bind(this,60);window.requestAnimationFrame?window.requestAnimationFrame(e):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(e):window.setTimeout(e,0)},t.prototype.isQueueEmpty=function(){return!this.ticking},Dc([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Dc([Ye],t.prototype,"init",null),Dc([$e("animationFrameService")],t)}(Tt),Tc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ac=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Fc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeLastPageEventProcessed=0,t}return Tc(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.handlePageScrollingKey=function(e){var t=e.which||e.keyCode,o=e.altKey,n=e.ctrlKey,i=this.mouseEventService.getCellPositionForEvent(e);if(!i)return!1;var r=!1;switch(t){case ki.PAGE_HOME:case ki.PAGE_END:n||o||(this.onHomeOrEndKey(t),r=!0);break;case ki.LEFT:case ki.RIGHT:n&&!o&&(this.onCtrlLeftOrRight(t,i),r=!0);break;case ki.UP:case ki.DOWN:n&&!o&&(this.onCtrlUpOrDown(t,i),r=!0);break;case ki.PAGE_DOWN:n||o||(this.onPageDown(i),r=!0);break;case ki.PAGE_UP:n||o||(this.onPageUp(i),r=!0)}return r&&e.preventDefault(),r},t.prototype.isTimeSinceLastPageEventToRecent=function(){return(new Date).getTime()-this.timeLastPageEventProcessed<100},t.prototype.setTimeLastPageEventProcessed=function(){this.timeLastPageEventProcessed=(new Date).getTime()},t.prototype.onPageDown=function(e){if(!this.isTimeSinceLastPageEventToRecent()){var t=this.gridPanel.getVScrollPosition(),o=this.gridOptionsWrapper.getScrollbarWidth(),n=t.bottom-t.top;this.gridPanel.isHorizontalScrollShowing()&&(n-=o);var i=this.paginationProxy.getPixelOffset(),r=this.paginationProxy.getRowIndexAtPixel(t.top+n+i),s=this.paginationProxy.getRow(e.rowIndex).rowTop,a=this.paginationProxy.getRowIndexAtPixel(s+n-i+i),l=this.paginationProxy.getPageLastRow();a>l&&(a=l),r>l&&(r=l),this.navigateTo(r,"top",null,a,e.column),this.setTimeLastPageEventProcessed()}},t.prototype.onPageUp=function(e){if(!this.isTimeSinceLastPageEventToRecent()){var t=this.gridPanel.getVScrollPosition(),o=this.gridOptionsWrapper.getScrollbarWidth(),n=t.bottom-t.top;this.gridPanel.isHorizontalScrollShowing()&&(n-=o);var i=this.paginationProxy.getPixelOffset(),r=this.paginationProxy.getRowIndexAtPixel(t.top+i),s=this.paginationProxy.getRow(e.rowIndex),a=this.paginationProxy.getRowIndexAtPixel(s.rowTop+s.rowHeight-n-i+i),l=this.paginationProxy.getPageFirstRow();a<l&&(a=l),r<l&&(r=l),this.navigateTo(r,"bottom",null,a,e.column),this.setTimeLastPageEventProcessed()}},t.prototype.navigateTo=function(e,t,o,n,i){P(o)&&this.gridPanel.ensureColumnVisible(o),P(e)&&this.gridPanel.ensureIndexVisible(e,t),this.animationFrameService.flushAllFrames(),this.focusController.setFocusedCell(n,i,null,!0),this.rangeController&&this.rangeController.setRangeToCell({rowIndex:n,rowPinned:null,column:i})},t.prototype.onCtrlUpOrDown=function(e,t){var o=e===ki.UP?0:this.paginationProxy.getPageLastRow();this.navigateTo(o,null,t.column,o,t.column)},t.prototype.onCtrlLeftOrRight=function(e,t){var o=e===ki.LEFT,n=this.columnController.getAllDisplayedColumns(),i=o?n[0]:U(n);this.navigateTo(t.rowIndex,null,i,t.rowIndex,i)},t.prototype.onHomeOrEndKey=function(e){var t=e===ki.PAGE_HOME,o=this.columnController.getAllDisplayedColumns(),n=t?o[0]:U(o),i=t?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo(i,null,n,i,n)},Ac([Qe("mouseEventService")],t.prototype,"mouseEventService",void 0),Ac([Qe("paginationProxy")],t.prototype,"paginationProxy",void 0),Ac([Qe("focusController")],t.prototype,"focusController",void 0),Ac([Qe("animationFrameService")],t.prototype,"animationFrameService",void 0),Ac([Xe("rangeController")],t.prototype,"rangeController",void 0),Ac([Qe("columnController")],t.prototype,"columnController",void 0),Ac([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ac([$e("navigationService")],t)}(Tt),Nc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),xc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ic=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollY=0,t.uiBodyHeight=0,t}return Nc(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,xt.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=To()},t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.isScaling=function(){return this.scaling},t.prototype.getOffset=function(){return this.offset},t.prototype.updateOffset=function(){if(this.scaling){var e=this.gridPanel.getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}},t.prototype.calculateOffset=function(){this.uiContainerHeight=this.maxDivHeight,this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight,this.setOffset(this.scrollY/this.maxScrollY*this.pixelsToShave)},t.prototype.clearOffset=function(){this.uiContainerHeight=this.modelHeight,this.pixelsToShave=0,this.setOffset(0)},t.prototype.setOffset=function(e){var t="number"==typeof e?Math.floor(e):null;this.offset!==t&&(this.offset=t,this.eventService.dispatchEvent({type:xt.EVENT_HEIGHT_SCALE_CHANGED}))},t.prototype.setModelHeight=function(e){this.modelHeight=e,this.scaling=this.maxDivHeight>0&&e>this.maxDivHeight,this.scaling?this.calculateOffset():this.clearOffset()},t.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},t.prototype.getRealPixelPosition=function(e){return e-this.offset},t.prototype.getUiBodyHeight=function(){var e=this.gridPanel.getVScrollPosition();return e.bottom-e.top},t.prototype.getScrollPositionForPixel=function(e){if(this.pixelsToShave<=0)return e;var t=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(e/t)},xc([Ye],t.prototype,"postConstruct",null),xc([$e("maxDivHeightScaler")],t)}(Tt),Mc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Lc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Gc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mc(t,e),t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},t.prototype.updateSelectableAfterGrouping=function(e){this.isRowSelectableFunc&&this.recurseDown(e.childrenAfterGroup,function(e){return e.childrenAfterGroup})},t.prototype.updateSelectableAfterFiltering=function(e){this.isRowSelectableFunc&&this.recurseDown(e.childrenAfterGroup,function(e){return e.childrenAfterFilter})},t.prototype.recurseDown=function(e,t){var o=this;e.forEach(function(e){var n;e.group&&(e.hasChildren()&&o.recurseDown(t(e),t),n=o.groupSelectsChildren?P(k(t(e),"selectable",!0)):!!o.isRowSelectableFunc&&o.isRowSelectableFunc(e),e.setRowSelectable(n))})},Lc([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Lc([Ye],t.prototype,"init",null),Lc([$e("selectableService")],t)}(Tt),kc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Vc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Hc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return kc(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.getPreferredHeightForRow=function(e){var t=this,o=document.createElement("div");this.addInRowCssClasses(e,o);var n=this.gridPanel.getCenterContainer();n.appendChild(o);var i=ga.createChildScopeOrNull(e,this.$scope,this.beans.gridOptionsWrapper),r=i?i.scope:void 0,s=i?i.scopeDestroyFunc:void 0,a=[],l=this.columnController.getAllAutoRowHeightCols(),u=this.columnController.getAllDisplayedColumns();l.filter(function(e){return u.indexOf(e)>=0}).forEach(function(n){var i=new ha(r,t.beans,n,e,null,!0,!1);i.setParentRow(o),a.push(i)});var c=a.map(function(e){return e.getCreateTemplate()}).join(" ");o.innerHTML=c,a.forEach(function(e){return e.afterAttached()}),r&&this.$compile(o)(r);for(var p=0,d=0;d<o.children.length;d++){var h=o.children[d];h.offsetHeight>p&&(p=h.offsetHeight)}return n.removeChild(o),a.forEach(function(e){e.detach(),e.destroy()}),s&&s(),p},t.prototype.addInRowCssClasses=function(e,t){var o=e.rowIndex,n={rowNode:e,rowIsEven:o%2==0,rowLevel:this.rowCssClassCalculator.calculateRowLevel(e),firstRowOnPage:o===this.beans.paginationProxy.getPageFirstRow(),lastRowOnPage:o===this.beans.paginationProxy.getPageLastRow(),printLayout:!1,expandable:e.isExpandable()};Io(t,this.rowCssClassCalculator.getInitialRowClasses(n).join(" "))},Vc([Qe("beans")],t.prototype,"beans",void 0),Vc([Qe("$scope")],t.prototype,"$scope",void 0),Vc([Qe("columnController")],t.prototype,"columnController",void 0),Vc([Qe("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),Vc([Qe("$compile")],t.prototype,"$compile",void 0),Vc([$e("autoHeightCalculator")],t)}(Tt),Wc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Bc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},jc=function(e){function t(){var t=e.call(this)||this;return t.previousAndFirstButtonsDisabled=!1,t.nextButtonDisabled=!1,t.lastButtonDisabled=!1,t}return Wc(t,e),t.prototype.postConstruct=function(){var e=this,t=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",di(t?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",di(t?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",di(t?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",di(t?"first":"last",this.gridOptionsWrapper)),this.rowModel.getType()===rt.ROW_MODEL_TYPE_SERVER_SIDE&&(this.serverSideRowModel=this.rowModel),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addManagedListener(this.eventService,xt.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(t){var o=t.el,n=t.fn;e.addManagedListener(o,"click",n),e.addManagedListener(o,"keydown",function(e){e.keyCode!==ki.ENTER&&e.keyCode!==ki.SPACE||(e.preventDefault(),n())})}),this.onPaginationChanged()):this.setDisplayed(!1)},t.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},t.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},t.prototype.setCurrentPageLabel=function(){var e=this.paginationProxy.getTotalPages()>0,t=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(e?t+1:0)},t.prototype.formatNumber=function(e){var t=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();return t?t({value:e}):eo(e)},t.prototype.getTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=e("page","Page"),o=e("to","to"),n=e("of","of"),i=e("firstPage","First Page"),r=e("previousPage","Previous Page"),s=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+l+'" aria-live="polite" aria-describedby="ag-'+l+"-start-page ag-"+l+"-start-page-number ag-"+l+"-of-page ag-"+l+"-of-page-number ag-"+l+"-first-row ag-"+l+"-to ag-"+l+"-last-row ag-"+l+"-of ag-"+l+'-row-count">\n                <span class="ag-paging-row-summary-panel" aria-hidden="true">\n                    <span id="ag-'+l+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+l+'-to">'+o+'</span>\n                    <span id="ag-'+l+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+l+'-of">'+n+'</span>\n                    <span id="ag-'+l+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+i+'" tabindex="0"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+r+'" tabindex="0"></div>\n                    <span class="ag-paging-description" aria-hidden="true">\n                        <span id="ag-'+l+'-start-page">'+t+'</span>\n                        <span id="ag-'+l+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+l+'-of-page">'+n+'</span>\n                        <span id="ag-'+l+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+s+'" tabindex="0"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+a+'" tabindex="0"></div>\n                </span>\n            </div>'},t.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},t.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},t.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},t.prototype.enableOrDisableButtons=function(){var e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,Lo(this.btFirst,"ag-disabled",this.previousAndFirstButtonsDisabled),Bn(this.btFirst,this.previousAndFirstButtonsDisabled),Lo(this.btPrevious,"ag-disabled",this.previousAndFirstButtonsDisabled),Bn(this.btPrevious,this.previousAndFirstButtonsDisabled);var n=this.isZeroPagesToDisplay();this.nextButtonDisabled=t&&e===o-1||n,Lo(this.btNext,"ag-disabled",this.nextButtonDisabled),Bn(this.btNext,this.nextButtonDisabled),this.lastButtonDisabled=!t||n||e===o-1,Lo(this.btLast,"ag-disabled",this.lastButtonDisabled),Bn(this.btLast,this.lastButtonDisabled)},t.prototype.updateRowLabels=function(){var e,t,o=this.paginationProxy.getCurrentPage(),n=this.paginationProxy.getPageSize(),i=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?e=t=0:(t=(e=n*o+1)+n-1,i&&t>r&&(t=r)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(e),this.lbLastRowOnPage.innerHTML=this.serverSideRowModel&&this.serverSideRowModel.isLoading()?"?":this.formatNumber(t)},t.prototype.isZeroPagesToDisplay=function(){var e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages();return e&&0===t},t.prototype.setTotalLabels=function(){var e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages(),o=e?this.paginationProxy.getMasterRowCount():null;if(e)this.lbTotal.innerHTML=this.formatNumber(t),this.lbRecordCount.innerHTML=this.formatNumber(o);else{var n=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=n,this.lbRecordCount.innerHTML=n}},Bc([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Bc([Qe("paginationProxy")],t.prototype,"paginationProxy",void 0),Bc([Qe("rowModel")],t.prototype,"rowModel",void 0),Bc([Mi("btFirst")],t.prototype,"btFirst",void 0),Bc([Mi("btPrevious")],t.prototype,"btPrevious",void 0),Bc([Mi("btNext")],t.prototype,"btNext",void 0),Bc([Mi("btLast")],t.prototype,"btLast",void 0),Bc([Mi("lbRecordCount")],t.prototype,"lbRecordCount",void 0),Bc([Mi("lbFirstRowOnPage")],t.prototype,"lbFirstRowOnPage",void 0),Bc([Mi("lbLastRowOnPage")],t.prototype,"lbLastRowOnPage",void 0),Bc([Mi("lbCurrent")],t.prototype,"lbCurrent",void 0),Bc([Mi("lbTotal")],t.prototype,"lbTotal",void 0),Bc([Ye],t.prototype,"postConstruct",null),t}(Ni),Uc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),zc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Kc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Uc(t,e),t.prototype.observeResize=function(e,t,o){void 0===o&&(o=50);var n,i,r,s,a,l=this.getFrameworkOverrides(),u=Be(t,o),c=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return window.ResizeObserver&&!c?((a=new window.ResizeObserver(u)).observe(e),function(){return a.disconnect()}):(n=sn(e),i=rn(e),r=!0,(s=function(){if(r){var a=sn(e),u=rn(e);(a!==n||u!==i)&&(n=a,i=u,t()),l.setTimeout(s,o)}})(),function(){return r=!1})},zc([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),zc([$e("resizeObserverService")],t)}(Tt),Yc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),qc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.Loading=0]="Loading",e[e.NoRows=1]="NoRows"}(yl||(yl={}));var $c=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.inProgress=!1,o.destroyRequested=!1,o}return Yc(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.addLayoutElement(this.eOverlayWrapper),this.setDisplayed(!1)},t.prototype.setWrapperTypeClass=function(e){Lo(this.eOverlayWrapper,"ag-overlay-loading-wrapper",e===yl.Loading),Lo(this.eOverlayWrapper,"ag-overlay-no-rows-wrapper",e===yl.NoRows)},t.prototype.showLoadingOverlay=function(){var e=this.userComponentFactory.newLoadingOverlayComponent({api:this.gridOptionsWrapper.getApi()});this.showOverlay(e,yl.Loading)},t.prototype.showNoRowsOverlay=function(){var e=this.userComponentFactory.newNoRowsOverlayComponent({api:this.gridOptionsWrapper.getApi()});this.showOverlay(e,yl.NoRows)},t.prototype.showOverlay=function(e,t){var o=this;this.inProgress||(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.inProgress=!0,e.then(function(e){o.inProgress=!1,o.eOverlayWrapper.appendChild(e.getGui()),o.activeOverlay=e,o.destroyRequested&&(o.destroyRequested=!1,o.destroyActiveOverlay())}),this.setDisplayed(!0))},t.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),Xo(this.eOverlayWrapper))},t.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1)},t.prototype.destroy=function(){this.destroyActiveOverlay(),e.prototype.destroy.call(this)},t.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',qc([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),qc([Qe("userComponentFactory")],t.prototype,"userComponentFactory",void 0),qc([Mi("eOverlayWrapper")],t.prototype,"eOverlayWrapper",void 0),qc([Ye],t.prototype,"postConstruct",null),t}(Ni),Qc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Xc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Zc=function(e){function t(o){void 0===o&&(o={});var n=e.call(this,t.getTemplate(o))||this;n.suppressEnabledCheckbox=!0,n.suppressOpenCloseIcons=!1;var i=o.enabled,r=o.items,s=o.suppressEnabledCheckbox,a=o.suppressOpenCloseIcons;return n.title=o.title,n.cssIdentifier=o.cssIdentifier||"default",n.enabled=null==i||i,n.items=r||[],n.alignItems=o.alignItems||"center",null!=s&&(n.suppressEnabledCheckbox=s),null!=a&&(n.suppressOpenCloseIcons=a),n}return Qc(t,e),t.getTemplate=function(e){var t=e.cssIdentifier||"default";return'<div class="ag-group ag-'+t+'-group">\n            <div class="ag-group-title-bar ag-'+t+'-group-title-bar ag-unselectable" ref="eTitleBar">\n                <span class="ag-group-title-bar-icon ag-'+t+'-group-title-bar-icon" ref="eGroupOpenedIcon"></span>\n                <span class="ag-group-title-bar-icon ag-'+t+'-group-title-bar-icon" ref="eGroupClosedIcon"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+t+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+t+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(e.direction||"vertical")+" ag-"+t+'-group-container"></div>\n        </div>'},t.prototype.postConstruct=function(){if(this.items.length){var e=this.items;this.items=[],this.addItems(e)}var t=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(t("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshChildDisplay()},t.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(pi("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(pi("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",function(){return e.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(t){switch(t.keyCode){case ki.ENTER:e.toggleGroupExpand();break;case ki.RIGHT:e.toggleGroupExpand(!0);break;case ki.LEFT:e.toggleGroupExpand(!1)}})},t.prototype.refreshChildDisplay=function(){var e=!this.suppressOpenCloseIcons;Vo(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),Vo(this.eGroupOpenedIcon,e&&this.expanded),Vo(this.eGroupClosedIcon,e&&!this.expanded)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.setAlignItems=function(e){var t=this.getGui();return this.alignItems!==e&&Mo(t,"ag-group-item-alignment-"+this.alignItems),this.alignItems=e,Io(t,"ag-group-item-alignment-"+this.alignItems),this},t.prototype.toggleGroupExpand=function(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),Vo(this.eContainer,!0),this):(this.expanded===(e=null!=e?e:!this.expanded)||(this.expanded=e,this.refreshChildDisplay(),Vo(this.eContainer,e),this.dispatchEvent({type:this.expanded?t.EVENT_EXPANDED:t.EVENT_COLLAPSED})),this)},t.prototype.addItems=function(e){var t=this;e.forEach(function(e){return t.addItem(e)})},t.prototype.addItem=function(e){var t=this.eContainer,o=e instanceof Ni?e.getGui():e;Io(o,"ag-group-item"),Io(o,"ag-"+this.cssIdentifier+"-group-item"),t.appendChild(o),this.items.push(o)},t.prototype.hideItem=function(e,t){Lo(this.items[t],"ag-hidden",e)},t.prototype.setTitle=function(e){return this.eTitle.innerText=e,this},t.prototype.addCssClassToTitleBar=function(e){Io(this.eTitleBar,e)},t.prototype.setEnabled=function(e,t){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),t||this.cbGroupEnabled.setValue(e),this},t.prototype.isEnabled=function(){return this.enabled},t.prototype.onEnableChange=function(e){var t=this;return this.cbGroupEnabled.onValueChange(function(o){t.setEnabled(o,!0),e(o)}),this},t.prototype.hideEnabledCheckbox=function(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},t.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this},t.prototype.refreshDisabledStyles=function(){Lo(this.getGui(),"ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(Io(this.eTitleBar,"ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(Mo(this.eTitleBar,"ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),Lo(this.eContainer,"ag-disabled-group-container",!this.enabled)},t.EVENT_EXPANDED="expanded",t.EVENT_COLLAPSED="collapsed",Xc([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Xc([Mi("eTitleBar")],t.prototype,"eTitleBar",void 0),Xc([Mi("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),Xc([Mi("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),Xc([Mi("eToolbar")],t.prototype,"eToolbar",void 0),Xc([Mi("cbGroupEnabled")],t.prototype,"cbGroupEnabled",void 0),Xc([Mi("eTitle")],t.prototype,"eTitle",void 0),Xc([Mi("eContainer")],t.prototype,"eContainer",void 0),Xc([Ye],t.prototype,"postConstruct",null),t}(Ni),Jc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ep=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},tp=function(e){function t(o){var n=e.call(this,t.getTemplate(o))||this;return n.closable=!0,n.positioned=!1,n.dragStartPosition={x:0,y:0},n.position={x:0,y:0},n.size={width:void 0,height:void 0},n.config=o,n}return Jc(t,e),t.getTemplate=function(e){var t=e&&e.cssIdentifier||"default";return'<div class="ag-panel ag-'+t+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+t+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+t+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+t+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+t+'-panel-content-wrapper"></div>\n        </div>'},t.prototype.postConstruct=function(){var e=this,t=this.config,o=t.component,n=t.closable,i=t.hideTitleBar,r=t.title,s=t.minWidth,a=t.width,l=t.minHeight,u=t.height,c=t.centered,p=t.x,d=t.y,h=this.getGui();o&&this.setBodyComponent(o),i?Io(this.eTitleBar,"ag-hidden"):(r&&this.setTitle(r),this.setClosable(null!=n?n:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(t){if(h.contains(t.relatedTarget)||h.contains(document.activeElement)||e.eTitleBarButtons.contains(t.target))t.preventDefault();else{var o=e.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");o&&o.focus()}}),this.positioned||(this.minHeight=null!=l?l:250,this.minWidth=null!=s?s:250,this.popupParent=this.popupService.getPopupParent(),a&&this.setWidth(a),u&&this.setHeight(u),this.renderComponent&&this.renderComponent(),a&&u||this.refreshSize(),c?this.center():(p||d)&&this.offsetElement(p,d),this.positioned=!0,this.eContentWrapper.style.height="0")},t.prototype.renderComponent=function(){var e=this,t=this.getGui();t.focus(),this.close=function(){t.parentElement.removeChild(t),e.destroy()}},t.prototype.updateDragStartPosition=function(e,t){this.dragStartPosition={x:e,y:t}},t.prototype.calculateMouseMovement=function(e){var t=this.popupParent.getBoundingClientRect(),o=e.e,n=e.isLeft,i=e.isTop,r=e.anywhereWithin,s=e.topBuffer,a=o.clientX-this.dragStartPosition.x,l=o.clientY-this.dragStartPosition.y,u=this.getWidth(),c=this.getHeight(),p=t.left>=o.clientX&&this.position.x<=0||t.right<=o.clientX&&t.right<=this.position.x+t.left+u;return p||(p=n?a<0&&o.clientX>this.position.x+t.left||a>0&&o.clientX<this.position.x+t.left:r?a<0&&o.clientX>this.position.x+t.left+u||a>0&&o.clientX<this.position.x+t.left:a<0&&o.clientX>this.position.x+t.left+u||a>0&&o.clientX<this.position.x+t.left+u),{movementX:a=p?0:a,movementY:l=t.top>=o.clientY&&this.position.y<=0||t.bottom<=o.clientY&&t.bottom<=this.position.y+t.top+c||i&&(l<0&&o.clientY>this.position.y+t.top+(s||0)||l>0&&o.clientY<this.position.y+t.top)||!i&&(l<0&&o.clientY>this.position.y+t.top+c||l>0&&o.clientY<this.position.y+t.top+c)?0:l}},t.prototype.refreshSize=function(){var e=this.size,t=e.height;e.width||this.setWidth(this.getGui().offsetWidth),t||this.setHeight(this.getGui().offsetHeight)},t.prototype.offsetElement=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var o=this.getGui();this.popupService.positionPopup({ePopup:o,x:e,y:t,minWidth:this.minWidth,minHeight:this.minHeight,keepWithinBounds:!0}),this.position.x=parseInt(o.style.left,10),this.position.y=parseInt(o.style.top,10)},t.prototype.getHeight=function(){return this.size.height},t.prototype.setHeight=function(e){var t=this.getGui(),o=!1;if("string"==typeof e&&-1!==e.indexOf("%"))yn(t,e),e=Ko(t),o=!0;else{e=Math.max(this.minHeight,e);var n=t.offsetParent;n&&n.clientHeight&&e+this.position.y>n.clientHeight&&(e=n.clientHeight-this.position.y)}this.size.height!==e&&(this.size.height=e,o?(t.style.maxHeight="unset",t.style.minHeight="unset"):yn(t,e))},t.prototype.getWidth=function(){return this.size.width},t.prototype.setWidth=function(e){var t=this.getGui(),o=!1;if("string"==typeof e&&-1!==e.indexOf("%"))gn(t,e),e=Yo(t),o=!0;else{e=Math.max(this.minWidth,e);var n=t.offsetParent;n&&n.clientWidth&&e+this.position.x>n.clientWidth&&(e=n.clientWidth-this.position.x)}this.size.width!==e&&(this.size.width=e,o?(t.style.maxWidth="unset",t.style.minWidth="unset"):gn(t,e))},t.prototype.center=function(){var e=this.getGui(),t=e.offsetParent.clientWidth/2-this.getWidth()/2,o=e.offsetParent.clientHeight/2-this.getHeight()/2;this.offsetElement(t,o)},t.prototype.setClosable=function(e){if(e!==this.closable&&(this.closable=e),e){var o=this.closeButtonComp=new Ni(t.CLOSE_BTN_TEMPLATE);this.getContext().createBean(o),(n=o.getGui()).appendChild(Io(di("close",this.gridOptionsWrapper),"ag-panel-title-bar-button-icon")),this.addTitleBarButton(o),o.addManagedListener(n,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var n;(n=this.closeButtonComp.getGui()).parentElement.removeChild(n),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},t.prototype.setBodyComponent=function(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())},t.prototype.addTitleBarButton=function(e,t){var o=this.eTitleBarButtons,n=o.children,i=n.length;null==t&&(t=i),t=Math.max(0,Math.min(t,i));var r=e.getGui();Io(r,"ag-panel-title-bar-button"),0===t?o.insertAdjacentElement("afterbegin",r):t===i?o.insertAdjacentElement("beforeend",r):n[t-1].insertAdjacentElement("afterend",r),e.setParentComponent(this)},t.prototype.getBodyHeight=function(){return Uo(this.eContentWrapper)},t.prototype.getBodyWidth=function(){return zo(this.eContentWrapper)},t.prototype.setTitle=function(e){this.eTitle.innerText=e},t.prototype.onBtClose=function(){this.close()},t.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var t=this.getGui();t&&t.offsetParent&&this.close(),e.prototype.destroy.call(this)},t.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',ep([Qe("popupService")],t.prototype,"popupService",void 0),ep([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ep([Mi("eContentWrapper")],t.prototype,"eContentWrapper",void 0),ep([Mi("eTitleBar")],t.prototype,"eTitleBar",void 0),ep([Mi("eTitleBarButtons")],t.prototype,"eTitleBarButtons",void 0),ep([Mi("eTitle")],t.prototype,"eTitle",void 0),ep([Ye],t.prototype,"postConstruct",null),t}(Ni),op=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),np=function(e){function t(t){var o=e.call(this,t)||this;return o.RESIZE_TEMPLATE='<div class="ag-resizer-wrapper">\n            <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n            <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n            <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n            <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n            <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n            <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n            <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n            <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n        </div>',o.resizable={},o.movable=!1,o.isMoving=!1,o.isMaximizable=!1,o.isMaximized=!1,o.maximizeListeners=[],o.resizeListenerDestroy=null,o.isResizing=!1,o.lastPosition={x:0,y:0,width:0,height:0},o}return op(t,e),t.prototype.postConstruct=function(){var t=this,o=this.getGui(),n=this.config,i=n.movable,r=n.resizable,s=n.maximizable;Io(o,"ag-dialog"),this.moveElement=this.eTitleBar,e.prototype.postConstruct.call(this),this.addManagedListener(o,"focusin",function(e){o.contains(e.relatedTarget)||t.popupService.bringPopupToFront(o)}),i&&this.setMovable(i),s&&this.setMaximizable(s),this.addResizers(),r&&this.setResizable(r)},t.prototype.renderComponent=function(){var e=this.getGui(),t=this.config,o=t.alwaysOnTop;this.close=this.popupService.addPopup({modal:t.modal,eChild:e,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:o})},t.prototype.addResizers=function(){var e=this.getGui();if(e){var t=(new DOMParser).parseFromString(this.RESIZE_TEMPLATE,"text/html").body;e.appendChild(t.firstChild),this.createMap()}},t.prototype.createMap=function(){var e=this.getGui();this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}},t.prototype.getResizerElement=function(e){return this.resizerMap[e].element},t.prototype.onResizeStart=function(e){this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onResize=function(e,t){if(this.isResizing){var o=!!t.match(/left/i),n=!!t.match(/right/i),i=!!t.match(/top/i),r=!!t.match(/bottom/i),s=o||n,a=i||r,l=this.calculateMouseMovement({e,isLeft:o,isTop:i}),u=l.movementX,c=l.movementY,p=0,d=0;if(s&&u){var h=o?-1:1,f=this.getWidth(),g=f+u*h,m=!1;o&&(this.position.x+(p=f-g)<=0||g<=this.minWidth)&&(m=!0,p=0),m||this.setWidth(g)}if(a&&c){h=i?-1:1;var y=this.getHeight(),v=y+c*h,C=!1;i&&(this.position.y+(d=y-v)<=0||v<=this.minHeight)&&(C=!0,d=0),C||this.setHeight(v)}this.updateDragStartPosition(e.clientX,e.clientY),(p||d)&&this.offsetElement(this.position.x+p,this.position.y+d)}},t.prototype.onResizeEnd=function(){this.isResizing=!1;var e={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.dispatchEvent(e)},t.prototype.onMoveStart=function(e){this.isMoving=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onMove=function(e){if(this.isMoving){var t=this.position,o=t.x,n=t.y,i=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:this.getHeight()-this.getBodyHeight()});this.offsetElement(o+i.movementX,n+i.movementY),this.updateDragStartPosition(e.clientX,e.clientY)}},t.prototype.onMoveEnd=function(){this.isMoving=!1},t.prototype.toggleMaximize=function(){if(this.isMaximized){var e=this.lastPosition,t=e.x,o=e.y,n=e.height;this.setWidth(e.width),this.setHeight(n),this.offsetElement(t,o)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=this.position.x,this.lastPosition.y=this.position.y,this.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},t.prototype.refreshMaximizeIcon=function(){Vo(this.maximizeIcon,!this.isMaximized),Vo(this.minimizeIcon,this.isMaximized)},t.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(e){return e()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},t.prototype.destroy=function(){this.setResizable(!1),this.setMovable(!1),this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),e.prototype.destroy.call(this)},t.prototype.setResizable=function(e){var t=this;"boolean"==typeof e&&(e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}),Object.keys(e).forEach(function(o){var n=o,i=!!e[n],r=t.getResizerElement(n),s=t.resizerMap[n].dragSource||{eElement:r,onDragStart:t.onResizeStart.bind(t),onDragging:function(e){return t.onResize(e,n)},onDragStop:t.onResizeEnd.bind(t)};!!t.resizable[n]===i&&(t.isAlive()||i)||(i?(t.dragService.addDragSource(s),r.style.pointerEvents="all"):(t.dragService.removeDragSource(s),r.style.pointerEvents="none"),t.resizerMap[n].dragSource=i?s:void 0)})},t.prototype.setMovable=function(e){if(e!==this.movable){this.movable=e;var t=this.moveElementDragListener||{eElement:this.moveElement,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(t),this.moveElementDragListener=t):(this.dragService.removeDragSource(t),this.moveElementDragListener=void 0)}},t.prototype.setMaximizable=function(e){var t=this;if(!e)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var o=this.eTitleBar;if(o&&e!==this.isMaximizable){var n=this.maximizeButtonComp=this.createBean(new Ni('<div class="ag-dialog-button"></span>')),i=n.getGui();i.appendChild(this.maximizeIcon=di("maximize",this.gridOptionsWrapper)),Io(this.maximizeIcon,"ag-panel-title-bar-button-icon"),i.appendChild(this.minimizeIcon=di("minimize",this.gridOptionsWrapper)),Io(this.minimizeIcon,"ag-panel-title-bar-button-icon"),Io(this.minimizeIcon,"ag-hidden"),n.addManagedListener(i,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(n,0),this.maximizeListeners.push(this.addManagedListener(o,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){t.isMaximized=!1,t.refreshMaximizeIcon()})}},function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([Qe("dragService")],t.prototype,"dragService",void 0),t}(tp),ip=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),rp=function(e){function t(t,o,n){return void 0===o&&(o="ag-text-field"),void 0===n&&(n="text"),e.call(this,t,o,n)||this}return ip(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},t.prototype.setValue=function(t,o){var n=e.prototype.setValue.call(this,t,o);return this.eInput.value!==t&&(this.eInput.value=P(t)?t:""),n},t.prototype.preventDisallowedCharacters=function(){var e=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",function(t){t.key&&!e.test(t.key)&&t.preventDefault()}),this.addManagedListener(this.eInput,"paste",function(t){ae(t.clipboardData.getData("text"),function(t){return!e.test(t)})&&t.preventDefault()})},t}(xa),sp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ap=function(e){function t(t){return e.call(this,t,"ag-text-area",null,"textarea")||this}return sp(t,e),t.prototype.setValue=function(t,o){var n=e.prototype.setValue.call(this,t,o);return this.eInput.value=t,n},t.prototype.setCols=function(e){return this.eInput.cols=e,this},t.prototype.setRows=function(e){return this.eInput.rows=e,this},t}(xa),lp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),up=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},cp=function(e){function t(o){var n=e.call(this,o,t.TEMPLATE)||this;return n.labelAlignment="top",n}return lp(t,e),t.prototype.init=function(){Io(this.eSlider.getGui(),"ag-slider-field")},t.prototype.onValueChange=function(e){var t=this,o=Aa.EVENT_CHANGED;return this.addManagedListener(this.eText,o,function(){var o=parseFloat(t.eText.getValue());t.eSlider.setValue(o.toString(),!0),e(o||0)}),this.addManagedListener(this.eSlider,o,function(){var o=t.eSlider.getValue();t.eText.setValue(o,!0),e(parseFloat(o))}),this},t.prototype.setSliderWidth=function(e){return this.eSlider.setWidth(e),this},t.prototype.setTextFieldWidth=function(e){return this.eText.setWidth(e),this},t.prototype.setMinValue=function(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this},t.prototype.setMaxValue=function(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this},t.prototype.getValue=function(){return this.eText.getValue()},t.prototype.setValue=function(e){return this.getValue()===e||(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:Aa.EVENT_CHANGED})),this},t.prototype.setStep=function(e){return this.eSlider.setStep(e),this.eText.setStep(e),this},t.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',up([Mi("eLabel")],t.prototype,"eLabel",void 0),up([Mi("eSlider")],t.prototype,"eSlider",void 0),up([Mi("eText")],t.prototype,"eText",void 0),up([Ye],t.prototype,"init",null),t}(Pa),pp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),dp=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},hp=function(e){function t(o){var n=e.call(this,t.TEMPLATE)||this;return n.H=1,n.S=1,n.B=1,n.A=1,n.isSpectrumDragging=!1,n.isSpectrumHueDragging=!1,n.isSpectrumAlphaDragging=!1,n.colorChanged=!1,n.picker=o.picker,n}return pp(t,e),t.prototype.postConstruct=function(){var e=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},t.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},t.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},t.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},t.prototype.onSpectrumDraggerDown=function(e){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(e)},t.prototype.onSpectrumDraggerMove=function(e){this.isSpectrumDragging&&this.moveDragger(e)},t.prototype.onSpectrumHueDown=function(e){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(e)},t.prototype.onSpectrumHueMove=function(e){this.isSpectrumHueDragging&&this.moveHueSlider(e)},t.prototype.onSpectrumAlphaDown=function(e){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(e)},t.prototype.onSpectrumAlphaMove=function(e){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(e)},t.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},t.prototype.moveDragger=function(e){var t=this.spectrumValRect;if(t){var o=e.clientX-t.left,n=e.clientY-t.top;o=Math.max(o,0),o=Math.min(o,t.width),n=Math.max(n,0),n=Math.min(n,t.height),this.setSpectrumValue(o/t.width,1-n/t.height)}},t.prototype.moveHueSlider=function(e){var t=this.spectrumHueRect;if(t){var o=this.spectrumHueSlider,n=o.getBoundingClientRect(),i=e.clientX-t.left;i=Math.max(i,0),i=Math.min(i,t.width),this.H=1-i/t.width,o.style.left=i+n.width/2+"px",this.update()}},t.prototype.moveAlphaSlider=function(e){var t=this.spectrumAlphaRect;if(t){var o=this.spectrumAlphaSlider,n=o.getBoundingClientRect(),i=e.clientX-t.left;i=Math.max(i,0),i=Math.min(i,t.width),this.A=i/t.width,o.style.left=i+n.width/2+"px",this.update()}},t.prototype.update=function(){var e=bo.fromHSB(360*this.H,this.S,this.B,this.A),t=bo.fromHSB(360*this.H,1,1),o=e.toRgbaString(),n=this.picker;bo.fromString(n.getValue()).toRgbaString()!==o&&(this.colorChanged=!0),n.setValue(o),this.spectrumColor.style.backgroundColor=t.toRgbaString(),this.spectrumDragger.style.backgroundColor=o},t.prototype.setSpectrumValue=function(e,t){var o=this.spectrumValRect||this.refreshSpectrumRect();if(o){var n=this.spectrumDragger,i=n.getBoundingClientRect();e=Math.max(0,e),e=Math.min(1,e),t=Math.max(0,t),t=Math.min(1,t),this.S=e,this.B=t,n.style.left=e*o.width-i.width/2+"px",n.style.top=(1-t)*o.height-i.height/2+"px",this.update()}},t.prototype.initRecentColors=function(){var e=t.recentColors.map(function(e,t){return'<div class="ag-recent-color" id='+t+' style="background-color: '+e+'; width: 15px; height: 15px;" recent-color="'+e+'"></div>'});this.recentColors.innerHTML=e.join("")},t.prototype.setValue=function(e){var t=bo.fromString(e),o=t.toHSB(),n=o[0],i=o[1],r=o[2];this.H=(isNaN(n)?0:n)/360,this.A=t.a;var s=this.spectrumHueRect||this.refreshHueRect(),a=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-s.width+"px",this.spectrumAlphaSlider.style.left=this.A*a.width+"px",this.setSpectrumValue(i,r)},t.prototype.onRecentColorClick=function(e){var o=e.target;if(P(o.id)){var n=parseInt(o.id,10);this.setValue(t.recentColors[n]),this.destroy()}},t.prototype.addRecentColor=function(){var e=bo.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),o=t.recentColors;this.colorChanged&&o[0]!==e&&(o=o.filter(function(t){return t!=e}),(o=[e].concat(o)).length>t.maxRecentColors&&(o=o.slice(0,t.maxRecentColors)),t.recentColors=o)},t.prototype.destroy=function(){this.addRecentColor(),e.prototype.destroy.call(this)},t.maxRecentColors=8,t.recentColors=[],t.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',dp([Mi("spectrumColor")],t.prototype,"spectrumColor",void 0),dp([Mi("spectrumVal")],t.prototype,"spectrumVal",void 0),dp([Mi("spectrumDragger")],t.prototype,"spectrumDragger",void 0),dp([Mi("spectrumHue")],t.prototype,"spectrumHue",void 0),dp([Mi("spectrumHueSlider")],t.prototype,"spectrumHueSlider",void 0),dp([Mi("spectrumAlpha")],t.prototype,"spectrumAlpha",void 0),dp([Mi("spectrumAlphaSlider")],t.prototype,"spectrumAlphaSlider",void 0),dp([Mi("recentColors")],t.prototype,"recentColors",void 0),dp([Ye],t.prototype,"postConstruct",null),t}(Ni),fp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),gp=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},mp=function(e){function t(t,o,n,i){var r=e.call(this,t,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    '+(i?'aria-haspopup="'+i+'"':"")+'>\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',o)||this;return r.pickerIcon=n,r.isPickerDisplayed=!1,r.isDestroyingPicker=!1,r.skipClick=!1,r}return fp(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this);var o=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",o),Hn(this.eWrapper,o);var n=function(){t.skipClick?t.skipClick=!1:t.isDisabled()||(t.pickerComponent=t.showPicker())},i=this.getGui();this.addManagedListener(i,"mousedown",function(e){!t.skipClick&&t.pickerComponent&&t.pickerComponent.isAlive()&&en(t.pickerComponent.getGui())&&i.contains(e.target)&&(t.skipClick=!0)}),this.addManagedListener(i,"keydown",function(e){switch(e.keyCode){case ki.UP:case ki.DOWN:case ki.ENTER:case ki.SPACE:n();case ki.ESCAPE:t.isPickerDisplayed&&e.preventDefault()}}),this.addManagedListener(this.eWrapper,"click",n),this.addManagedListener(this.eLabel,"click",n),this.pickerIcon&&this.eIcon.appendChild(di(this.pickerIcon,this.gridOptionsWrapper))},t.prototype.refreshLabel=function(){P(this.getLabel())?Vn(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),e.prototype.refreshLabel.call(this)},t.prototype.setAriaLabel=function(e){return kn(this.eWrapper,e),this},t.prototype.setInputWidth=function(e){return fn(this.eWrapper,e),this},t.prototype.getFocusableElement=function(){return this.eWrapper},gp([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),gp([Mi("eLabel")],t.prototype,"eLabel",void 0),gp([Mi("eWrapper")],t.prototype,"eWrapper",void 0),gp([Mi("eDisplayField")],t.prototype,"eDisplayField",void 0),gp([Mi("eIcon")],t.prototype,"eIcon",void 0),t}(Aa),yp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),vp=function(e){function t(t){var o=e.call(this,t,"ag-color-picker","colorPicker")||this;return t&&t.color&&(o.value=t.color),o}return yp(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},t.prototype.showPicker=function(){var e=this,t=this.getGui().getBoundingClientRect(),o=this.createBean(new np({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:t.right-190,y:t.top-250}));this.isPickerDisplayed=!0,Io(o.getGui(),"ag-color-dialog");var n=this.createBean(new hp({picker:this}));return n.addDestroyFunc(function(){o.isAlive()&&e.destroyBean(o)}),o.setParentComponent(this),o.setBodyComponent(n),n.setValue(this.getValue()),o.addDestroyFunc(function(){e.isDestroyingPicker?e.isDestroyingPicker=!1:(e.isDestroyingPicker=!0,n.isAlive()&&e.destroyBean(n)),e.isAlive()&&e.getFocusableElement().focus(),e.isPickerDisplayed=!1}),o},t.prototype.setValue=function(e){return this.value===e||(this.value=e,this.eDisplayField.style.backgroundColor=e,this.dispatchEvent({type:Aa.EVENT_CHANGED})),this},t.prototype.getValue=function(){return this.value},t}(mp),Cp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),bp=function(e){function t(t){return e.call(this,t,"ag-number-field","number")||this}return Cp(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var e=parseFloat(t.eInput.value),o=isNaN(e)?"":t.normalizeValue(e.toString());t.value!==o&&t.setValue(o)})},t.prototype.normalizeValue=function(e){if(""===e)return"";this.precision&&(e=this.adjustPrecision(e));var t=parseFloat(e);return null!=this.min&&t<this.min?e=this.min.toString():null!=this.max&&t>this.max&&(e=this.max.toString()),e},t.prototype.adjustPrecision=function(e){if(this.precision){var t=parseFloat(e).toFixed(this.precision);e=parseFloat(t).toString()}return e},t.prototype.setMin=function(e){return this.min===e||(this.min=e,Sn(this.eInput,"min",e)),this},t.prototype.setMax=function(e){return this.max===e||(this.max=e,Sn(this.eInput,"max",e)),this},t.prototype.setPrecision=function(e){return this.precision=e,this},t.prototype.setStep=function(e){return this.step===e||(this.step=e,Sn(this.eInput,"step",e)),this},t.prototype.setValue=function(t,o){return(t=this.adjustPrecision(t))!=this.normalizeValue(t)?this:e.prototype.setValue.call(this,t,o)},t}(rp),wp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ep=function(e){function t(t){return e.call(this,t,"ag-range-field","range")||this}return wp(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this);var t=this.config,o=t.min,n=t.max,i=t.step;null!=o&&this.setMinValue(o),null!=n&&this.setMaxValue(n),this.setStep(i||1)},t.prototype.addInputListeners=function(){var e=this,t=Eo();this.addManagedListener(this.eInput,t?"change":"input",function(t){e.setValue(t.target.value)})},t.prototype.setMinValue=function(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this},t.prototype.setMaxValue=function(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this},t.prototype.setStep=function(e){return this.eInput.setAttribute("step",e.toString()),this},t.prototype.setValue=function(t,o){null!=this.min&&(t=Math.max(parseFloat(t),this.min).toString()),null!=this.max&&(t=Math.min(parseFloat(t),this.max).toString());var n=e.prototype.setValue.call(this,t,o);return this.eInput.value=t,n},t}(xa),Rp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),_p=function(e){function t(t){void 0===t&&(t="default");var o=e.call(this,'<div class="ag-list ag-'+t+'-list" role="listbox"></div>')||this;return o.cssIdentifier=t,o.options=[],o.itemEls=[],o}return Rp(t,e),t.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){var t=e.keyCode;switch(t){case ki.ENTER:if(this.highlightedEl){var o=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(o)}else this.setValue(this.getValue());break;case ki.DOWN:case ki.UP:var n=t===ki.DOWN,i=void 0;if(e.preventDefault(),this.highlightedEl){var r=this.itemEls.indexOf(this.highlightedEl)+(n?1:-1);r=Math.min(Math.max(r,0),this.itemEls.length-1),i=this.itemEls[r]}else i=this.itemEls[n?0:this.itemEls.length-1];this.highlightItem(i)}},t.prototype.addOptions=function(e){var t=this;return e.forEach(function(e){return t.addOption(e)}),this},t.prototype.addOption=function(e){var t=e.value,o=Wt(e.text||t);return this.options.push({value:t,text:o}),this.renderOption(t,o),this},t.prototype.renderOption=function(e,t){var o=this,n=document.createElement("div");n.setAttribute("role","option"),Io(n,"ag-list-item"),Io(n,"ag-"+this.cssIdentifier+"-list-item"),n.innerHTML=t,n.tabIndex=-1,this.itemEls.push(n),this.addManagedListener(n,"mouseover",function(){return o.highlightItem(n)}),this.addManagedListener(n,"mouseleave",function(){return o.clearHighlighted()}),this.addManagedListener(n,"click",function(){return o.setValue(e)}),this.getGui().appendChild(n)},t.prototype.setValue=function(e,t){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(),this;var o=re(this.options,function(t){return t.value===e});if(-1!==o){var n=this.options[o];this.value=n.value,this.displayValue=null!=n.text?n.text:n.value,this.highlightItem(this.itemEls[o]),t||this.fireChangeEvent()}return this},t.prototype.setValueByIndex=function(e){return this.setValue(this.options[e].value)},t.prototype.getValue=function(){return this.value},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.refreshHighlighted=function(){var e=this;this.clearHighlighted();var t=re(this.options,function(t){return t.value===e.value});-1!==t&&this.highlightItem(this.itemEls[t])},t.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},t.prototype.highlightItem=function(e){e.offsetParent&&(this.clearHighlighted(),this.highlightedEl=e,Io(this.highlightedEl,t.ACTIVE_CLASS),ti(this.highlightedEl,!0),this.highlightedEl.focus())},t.prototype.clearHighlighted=function(){this.highlightedEl&&this.highlightedEl.offsetParent&&(Mo(this.highlightedEl,t.ACTIVE_CLASS),ti(this.highlightedEl,!1),this.highlightedEl=null)},t.prototype.fireChangeEvent=function(){this.dispatchEvent({type:Aa.EVENT_CHANGED}),this.fireItemSelected()},t.prototype.fireItemSelected=function(){this.dispatchEvent({type:t.EVENT_ITEM_SELECTED})},t.EVENT_ITEM_SELECTED="selectedItem",t.ACTIVE_CLASS="ag-active-item",function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([Ye],t.prototype,"init",null),t}(Ni),Sp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Op=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Dp=function(e){function t(t){return e.call(this,t,"ag-select","smallDown","listbox")||this}return Sp(t,e),t.prototype.init=function(){var e=this;this.listComponent=this.createBean(new _p("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,_p.EVENT_ITEM_SELECTED,function(){e.hideList&&e.hideList()}),this.listComponent.addManagedListener(this.listComponent,Aa.EVENT_CHANGED,function(){e.setValue(e.listComponent.getValue(),!1,!0),e.hideList&&e.hideList()})},t.prototype.showPicker=function(){var e=this,t=this.listComponent.getGui(),o=this.addManagedListener(document.body,"wheel",function(o){!t.contains(o.target)&&e.hideList&&e.hideList()}),n=this.addManagedListener(t,"focusout",function(o){!t.contains(o.relatedTarget)&&e.hideList&&e.hideList()});return this.hideList=this.popupService.addPopup({modal:!0,eChild:t,closeOnEsc:!0,closedCallback:function(){e.hideList=null,e.isPickerDisplayed=!1,n(),o(),e.isAlive()&&e.getFocusableElement().focus()}}),this.isPickerDisplayed=!0,fn(t,Yo(this.eWrapper)),t.style.maxHeight=Uo(this.popupService.getPopupParent())+"px",t.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:t,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},t.prototype.addOptions=function(e){var t=this;return e.forEach(function(e){return t.addOption(e)}),this},t.prototype.addOption=function(e){return this.listComponent.addOption(e),this},t.prototype.setValue=function(t,o,n){return this.value===t?this:(n||this.listComponent.setValue(t,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),e.prototype.setValue.call(this,t,o)))},t.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),e.prototype.destroy.call(this)},Op([Qe("popupService")],t.prototype,"popupService",void 0),Op([Ye],t.prototype,"init",null),t}(mp),Pp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Tp=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ap=function(e){function t(o){var n=e.call(this,o,t.TEMPLATE)||this;return n.radius=0,n.offsetX=0,n.offsetY=0,n}return Pp(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(e){t.parentCircleRect=t.eParentCircle.getBoundingClientRect()},onDragging:function(e){return t.calculateAngleDrag(e)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange(function(e){null!=e&&""!==e||(e="0"),e=t.eAngleValue.normalizeValue(e);var o=parseFloat(e);o>180&&(o-=360),t.setValue(o)}),this.updateNumberInput(),P(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,Aa.EVENT_CHANGED,function(){t.eAngleValue.getInputElement().contains(document.activeElement)||t.updateNumberInput()})},t.prototype.updateNumberInput=function(){var e=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(e.toString())},t.prototype.positionChildCircle=function(e){var t=this.parentCircleRect||{width:24,height:24},o=this.eChildCircle,n=t.height/2;o.style.left=t.width/2+8*Math.cos(e)+"px",o.style.top=n+8*Math.sin(e)+"px"},t.prototype.calculatePolar=function(){var e=this.offsetX,t=this.offsetY,o=Math.atan2(t,e);this.degrees=this.toDegrees(o),this.radius=Math.sqrt(e*e+t*t),this.positionChildCircle(o)},t.prototype.calculateCartesian=function(){var e=this.toRadians(this.getValue()),t=this.getRadius();this.setOffsetX(Math.cos(e)*t).setOffsetY(Math.sin(e)*t)},t.prototype.setOffsetX=function(e){return this.offsetX!==e&&(this.offsetX=e,this.calculatePolar()),this},t.prototype.setOffsetY=function(e){return this.offsetY!==e&&(this.offsetY=e,this.calculatePolar()),this},t.prototype.calculateAngleDrag=function(e){var t=this.parentCircleRect,o=Math.atan2(e.clientY-t.top-t.height/2,e.clientX-t.left-t.width/2);this.setValue(o,!0)},t.prototype.toDegrees=function(e){return e/Math.PI*180},t.prototype.toRadians=function(e){return e/180*Math.PI},t.prototype.normalizeNegativeValue=function(e){return e<0?360+e:e},t.prototype.normalizeAngle180=function(e){return(e%=2*Math.PI)<-Math.PI?e+=2*Math.PI:e>=Math.PI&&(e-=2*Math.PI),e},t.prototype.getRadius=function(){return this.radius},t.prototype.setRadius=function(e){return this.radius===e||(this.radius=e,this.calculateCartesian()),this},t.prototype.onValueChange=function(e){var t=this;return this.addManagedListener(this,Aa.EVENT_CHANGED,function(){e(t.degrees)}),this},t.prototype.getValue=function(e){return e?this.toRadians(this.degrees):this.degrees},t.prototype.setValue=function(e,t){var o;return o=t?e:this.normalizeAngle180(this.toRadians(e)),e=this.toDegrees(o),this.degrees!==e&&(this.degrees=Math.floor(e),this.calculateCartesian(),this.positionChildCircle(o),this.dispatchEvent({type:Aa.EVENT_CHANGED})),this},t.prototype.setWidth=function(e){return gn(this.getGui(),e),this},t.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',Tp([Mi("eLabel")],t.prototype,"eLabel",void 0),Tp([Mi("eParentCircle")],t.prototype,"eParentCircle",void 0),Tp([Mi("eChildCircle")],t.prototype,"eChildCircle",void 0),Tp([Mi("eAngleValue")],t.prototype,"eAngleValue",void 0),Tp([Qe("dragService")],t.prototype,"dragService",void 0),t}(Pa),Fp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Np=function(e){function t(t){return e.call(this,t,"ag-toggle-button")||this}return Fp(t,e),t.prototype.setValue=function(t,o){return e.prototype.setValue.call(this,t,o),Lo(this.getGui(),"ag-selected",this.getValue()),this},t}(Ma),xp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ip=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Mp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cacheItems=[],t}return xp(t,e),t.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isKeepDetailRows(),this.maxCacheSize=this.gridOptionsWrapper.getKeepDetailRowsCount()},t.prototype.addOrDestroy=function(e,t,o){if(this.active&&e.detail){var n=this.getCacheItem(e,!0);switch(t){case rt.PINNED_LEFT:this.destroyFullWidthRow(n.left),n.left=o;break;case rt.PINNED_RIGHT:this.destroyFullWidthRow(n.right),n.right=o;break;default:this.destroyFullWidthRow(n.center),n.center=o}this.cacheItems.sort(function(e,t){return t.lastAccessedTime-e.lastAccessedTime}),this.purgeCache(this.maxCacheSize)}else this.destroyFullWidthRow(o)},t.prototype.getCacheItem=function(e,t){var o;void 0===t&&(t=!1);for(var n=0;n<this.cacheItems.length;n++){var i=this.cacheItems[n];if(i.rowNode===e){o=i;break}}return!o&&t&&this.cacheItems.push(o={rowNode:e}),o&&this.stampCacheItem(o),o},t.prototype.stampCacheItem=function(e){e.lastAccessedTime=(new Date).getTime()},t.prototype.destroyFullWidthRow=function(e){this.getContext().destroyBean(e)},t.prototype.purgeCache=function(e){for(var t=e;t<this.cacheItems.length;t++){var o=this.cacheItems[t];this.destroyFullWidthRow(o.center),this.destroyFullWidthRow(o.left),this.destroyFullWidthRow(o.right)}this.cacheItems.length>e&&(this.cacheItems.length=e)},t.prototype.get=function(e,t){if(e.detail){var o,n=this.getCacheItem(e);if(n)switch(t){case rt.PINNED_LEFT:n.left&&(o=n.left,n.left=void 0);break;case rt.PINNED_RIGHT:n.right&&(o=n.right,n.right=void 0);break;default:n.center&&(o=n.center,n.center=void 0)}return o}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.purgeCache(0)},Ip([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ip([Ye],t.prototype,"postConstruct",null),Ip([qe],t.prototype,"destroy",null),Ip([$e("detailRowCompCache")],t)}(Tt),Lp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Gp=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},kp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lp(t,e),t.prototype.getFirstRow=function(){var e,t=0;return this.pinnedRowModel.getPinnedTopRowCount()?e=rt.PINNED_TOP:this.rowModel.getRowCount()?(e=null,t=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(e=rt.PINNED_BOTTOM),void 0===e?null:{rowIndex:t,rowPinned:e}},t.prototype.getLastRow=function(){var e,t,o=this.pinnedRowModel.getPinnedBottomRowCount(),n=this.pinnedRowModel.getPinnedTopRowCount();return o?(t=rt.PINNED_BOTTOM,e=o-1):this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageLastRow()):n&&(t=rt.PINNED_TOP,e=n-1),void 0===e?null:{rowIndex:e,rowPinned:t}},t.prototype.getRowNode=function(e){switch(e.rowPinned){case rt.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case rt.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.sameRow=function(e,t){return!e&&!t||!(e&&!t||!e&&t)&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned},t.prototype.before=function(e,t){switch(e.rowPinned){case rt.PINNED_TOP:if(t.rowPinned!==rt.PINNED_TOP)return!0;break;case rt.PINNED_BOTTOM:if(t.rowPinned!==rt.PINNED_BOTTOM)return!1;break;default:if(P(t.rowPinned))return t.rowPinned!==rt.PINNED_TOP}return e.rowIndex<t.rowIndex},Gp([Qe("rowModel")],t.prototype,"rowModel",void 0),Gp([Qe("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Gp([Qe("paginationProxy")],t.prototype,"paginationProxy",void 0),Gp([$e("rowPositionUtils")],t)}(Tt),Vp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Hp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vp(t,e),t.prototype.createId=function(e){return this.createIdFromValues(e.rowIndex,e.column,e.rowPinned)},t.prototype.createIdFromValues=function(e,t,o){return e+"."+(null==o?"null":o)+"."+t.getId()},t.prototype.equals=function(e,t){return e.column===t.column&&e.rowPinned===t.rowPinned&&e.rowIndex===t.rowIndex},function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}([$e("cellPositionUtils")],t)}(Tt),Wp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Bp=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},jp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wp(t,e),t.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},t.prototype.isEmpty=function(e){return A(e===rt.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows)},t.prototype.isRowsToRender=function(e){return!this.isEmpty(e)},t.prototype.getRowAtPixel=function(e,t){var o=t===rt.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(A(o))return 0;for(var n=0;n<o.length;n++){var i=o[n];if(i.rowTop+i.rowHeight-1>=e)return n}return o.length-1},t.prototype.setPinnedTopRowData=function(e){this.pinnedTopRows=this.createNodesFromData(e,!0),this.eventService.dispatchEvent({type:xt.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.setPinnedBottomRowData=function(e){this.pinnedBottomRows=this.createNodesFromData(e,!1),this.eventService.dispatchEvent({type:xt.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.createNodesFromData=function(e,t){var o=this,n=[];if(e){var i=0;e.forEach(function(e,r){var s=new hr;o.context.createBean(s),s.data=e,s.id=(t?hr.ID_PREFIX_TOP_PINNED:hr.ID_PREFIX_BOTTOM_PINNED)+r,s.rowPinned=t?rt.PINNED_TOP:rt.PINNED_BOTTOM,s.setRowTop(i),s.setRowHeight(o.gridOptionsWrapper.getRowHeightForNode(s).height),s.setRowIndex(r),i+=s.rowHeight,n.push(s)})}return n},t.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},t.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},t.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},t.prototype.getPinnedTopRow=function(e){return this.pinnedTopRows[e]},t.prototype.getPinnedBottomRow=function(e){return this.pinnedBottomRows[e]},t.prototype.forEachPinnedTopRow=function(e){A(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)},t.prototype.forEachPinnedBottomRow=function(e){A(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)},t.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},t.prototype.getTotalHeight=function(e){if(!e||0===e.length)return 0;var t=U(e);return t.rowTop+t.rowHeight},Bp([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Bp([Qe("columnApi")],t.prototype,"columnApi",void 0),Bp([Qe("gridApi")],t.prototype,"gridApi",void 0),Bp([Ye],t.prototype,"init",null),Bp([$e("pinnedRowModel")],t)}(Tt),Up=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),zp=function(e){this.cellValueChanges=e},Kp=function(e){function t(t,o,n){var i=e.call(this,t)||this;return i.initialRange=o,i.finalRange=n,i}return Up(t,e),t}(zp),Yp=function(){function e(t){this.actionStack=[],this.maxStackSize=t||e.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return e.prototype.pop=function(){return this.actionStack.pop()},e.prototype.push=function(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))},e.prototype.clear=function(){this.actionStack=[]},e.prototype.getCurrentStackSize=function(){return this.actionStack.length},e.DEFAULT_STACK_SIZE=10,e}(),qp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),$p=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Qp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cellValueChanges=[],t.isCellEditing=!1,t.isRowEditing=!1,t.isPasting=!1,t.isFilling=!1,t.onCellValueChanged=function(e){if(t.isCellEditing||t.isRowEditing||t.isPasting||t.isFilling){var o=e.oldValue,n=e.value,i={rowPinned:e.rowPinned,rowIndex:e.rowIndex,columnId:e.column.getColId(),oldValue:o,newValue:n};t.cellValueChanges.push(i)}},t.clearStacks=function(){t.undoStack.clear(),t.redoStack.clear()},t}return qp(t,e),t.prototype.init=function(){if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var e=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();e<=0||(this.undoStack=new Yp(e),this.redoStack=new Yp(e),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addManagedListener(this.eventService,xt.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,xt.EVENT_MODEL_UPDATED,this.clearStacks),this.addManagedListener(this.eventService,xt.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,xt.EVENT_COLUMN_EVERYTHING_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,xt.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,xt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,xt.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,xt.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,xt.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,xt.EVENT_ROW_DRAG_END,this.clearStacks))}},t.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},t.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},t.prototype.undo=function(){if(this.undoStack){var e=this.undoStack.pop();e&&e.cellValueChanges&&(this.processAction(e,function(e){return e.oldValue}),e instanceof Kp?this.processRangeAndCellFocus(e.cellValueChanges,e.initialRange):this.processRangeAndCellFocus(e.cellValueChanges),this.redoStack.push(e))}},t.prototype.redo=function(){if(this.redoStack){var e=this.redoStack.pop();e&&e.cellValueChanges&&(this.processAction(e,function(e){return e.newValue}),e instanceof Kp?this.processRangeAndCellFocus(e.cellValueChanges,e.finalRange):this.processRangeAndCellFocus(e.cellValueChanges),this.undoStack.push(e))}},t.prototype.processAction=function(e,t){var o=this;e.cellValueChanges.forEach(function(e){var n=e.columnId,i=o.getRowNode({rowIndex:e.rowIndex,rowPinned:e.rowPinned});null!=i.rowTop&&i.setDataValue(n,t(e))})},t.prototype.processRangeAndCellFocus=function(e,t){if(t){var o=t.startRow,n=t.endRow,i={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:t.startColumn.getColId()};return this.setLastFocusedCell(i),void this.gridApi.addCellRange({rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:n.rowIndex,rowEndPinned:n.rowPinned,columnStart:t.startColumn,columns:t.columns})}var r=e[0],s=this.getRowNode({rowIndex:r.rowIndex,rowPinned:r.rowPinned});this.setLastFocusedCell({rowPinned:r.rowPinned,rowIndex:s.rowIndex,columnId:r.columnId})},t.prototype.setLastFocusedCell=function(e){var t=e.rowIndex,o=e.columnId,n=e.rowPinned;this.gridApi.ensureIndexVisible(t),this.gridApi.ensureColumnVisible(o),st.isRegistered(tt.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusController.setFocusedCell(t,o,n,!0)},t.prototype.addRowEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,xt.EVENT_ROW_EDITING_STARTED,function(){e.isRowEditing=!0}),this.addManagedListener(this.eventService,xt.EVENT_ROW_EDITING_STOPPED,function(){var t=new zp(e.cellValueChanges);e.pushActionsToUndoStack(t),e.isRowEditing=!1})},t.prototype.addCellEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,xt.EVENT_CELL_EDITING_STARTED,function(){e.isCellEditing=!0}),this.addManagedListener(this.eventService,xt.EVENT_CELL_EDITING_STOPPED,function(){if(e.isCellEditing=!1,!e.isRowEditing&&!e.isPasting&&!e.isFilling){var t=new zp(e.cellValueChanges);e.pushActionsToUndoStack(t)}})},t.prototype.addPasteListeners=function(){var e=this;this.addManagedListener(this.eventService,xt.EVENT_PASTE_START,function(){e.isPasting=!0}),this.addManagedListener(this.eventService,xt.EVENT_PASTE_END,function(){var t=new zp(e.cellValueChanges);e.pushActionsToUndoStack(t),e.isPasting=!1})},t.prototype.addFillListeners=function(){var e=this;this.addManagedListener(this.eventService,xt.EVENT_FILL_START,function(){e.isFilling=!0}),this.addManagedListener(this.eventService,xt.EVENT_FILL_END,function(t){var o=new Kp(e.cellValueChanges,t.initialRange,t.finalRange);e.pushActionsToUndoStack(o),e.isFilling=!1})},t.prototype.pushActionsToUndoStack=function(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()},t.prototype.getRowNode=function(e){switch(e.rowPinned){case rt.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case rt.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},$p([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),$p([Qe("focusController")],t.prototype,"focusController",void 0),$p([Qe("gridApi")],t.prototype,"gridApi",void 0),$p([Qe("rowModel")],t.prototype,"rowModel",void 0),$p([Qe("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),$p([Ye],t.prototype,"init",null),$p([$e("undoRedoService")],t)}(Tt),Xp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Zp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.componentsMappedByName={},t}return Xp(t,e),t.prototype.setupComponents=function(e){var t=this;e&&e.forEach(function(e){return t.addComponent(e)})},t.prototype.addComponent=function(e){var t=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[t]=e.componentClass},t.prototype.getComponentClass=function(e){return this.componentsMappedByName[e]},function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}([$e("agStackComponentsRegistry")],t)}(Tt),Jp=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ed=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},td=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Jp(t,e),t.prototype.findHeader=function(e,t){var o;if(o=e.column instanceof ut?this.columnController["getDisplayedGroup"+t](e.column):this.columnController["getDisplayedCol"+t](e.column))return{column:o,headerRowIndex:e.headerRowIndex}},t.prototype.findColAtEdgeForHeaderRow=function(e,t){var o=this.columnController.getAllDisplayedColumns(),n=o["start"===t?0:o.length-1];if(n){var i=this.headerNavigationService.getHeaderContainer(n.getPinned()).getRowComps()[e];return(i&&i.getType())==ua.COLUMN_GROUP?{headerRowIndex:e,column:this.columnController.getColumnGroupAtLevel(n,e)}:{headerRowIndex:i?e:-1,column:n}}},ed([Qe("columnController")],t.prototype,"columnController",void 0),ed([Qe("headerNavigationService")],t.prototype,"headerNavigationService",void 0),ed([$e("headerPositionUtils")],t)}(Tt),od=function(){function e(){}return e.prototype.buildColumnDefs=function(e,t,o){var n=this,i=[],r={};return e.forEach(function(e){for(var s=!0,a=n.createDefFromColumn(e,t,o),l=e;l.getParent();){var u=l.getParent(),c=void 0;if(u.isPadding())l=u;else{var p=r[u.getGroupId()];if(p){p.children.push(a),s=!1;break}(c=n.createDefFromGroup(u)).children=[a],r[c.groupId]=c,a=c,l=u}}s&&i.push(a)}),i},e.prototype.createDefFromGroup=function(e){var t=ye(e.getColGroupDef(),["children"]);return t.groupId=e.getGroupId(),t},e.prototype.createDefFromColumn=function(e,t,o){var n=ye(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?o.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=!e.isVisible()||void 0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=null!=e.getSortIndex()?e.getSortIndex():null,n},function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}([$e("columnDefFactory")],e)}(),nd=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},id=function(){function e(){}return e.prototype.getInitialRowClasses=function(e){var t=[];return P(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),ne(t,this.processClassesFromGridOptions(e.rowNode)),ne(t,this.preProcessRowClassRules(e.rowNode,e.scope)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),t},e.prototype.processClassesFromGridOptions=function(e){var t=[],o=function(e){"string"==typeof e?t.push(e):Array.isArray(e)&&e.forEach(function(e){return t.push(e)})},n=this.gridOptionsWrapper.getRowClass();if(n){if("function"==typeof n)return void console.warn("ag-Grid: rowClass should not be a function, please use getRowClass instead");o(n)}var i=this.gridOptionsWrapper.getRowClassFunc();return i&&o(i({node:e,data:e.data,rowIndex:e.rowIndex,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()})),t},e.prototype.preProcessRowClassRules=function(e,t){var o=[];return this.processRowClassRules(e,t,function(e){o.push(e)},function(e){}),o},e.prototype.processRowClassRules=function(e,t,o,n){this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),{value:void 0,colDef:void 0,data:e.data,node:e,rowIndex:e.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),$scope:t,context:this.gridOptionsWrapper.getContext()},o,n)},e.prototype.calculateRowLevel=function(e){return e.group?e.level:e.parent?e.parent.level+1:0},nd([Qe("stylingService")],e.prototype,"stylingService",void 0),nd([Qe("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),nd([$e("rowCssClassCalculator")],e)}();!function(){function e(e,t,o){if(e)if(t){var n=!!t.debug;this.gridOptions=t;var i=this.getRegisteredModules(o),r=this.createBeansList(i),s=this.createProvidedBeans(e,o);if(r){var a={providedBeanInstances:s,beanClasses:r,debug:n};this.logger=new eu("ag-Grid",function(){return t.debug});var l=new eu("Context",function(){return a.debug});this.context=new ze(a,l),this.registerModuleUserComponents(i),this.registerStackComponents(i);var u=new(o&&o.rootComponent||uu);this.context.createBean(u),this.setColumnsAndData(),this.dispatchGridReadyEvent(t);var c=st.isRegistered(tt.EnterpriseCoreModule);this.logger.log("initialised successfully, enterprise = "+c)}}else console.error("ag-Grid: no gridOptions provided to the grid");else console.error("ag-Grid: no div element provided to the grid")}e.prototype.registerStackComponents=function(e){var t=this.createAgStackComponentsList(e);this.context.getBean("agStackComponentsRegistry").setupComponents(t)},e.prototype.getRegisteredModules=function(e){var t=e?e.modules:null,o=st.getRegisteredModules(),n=[],i={};function r(e,t){!function(t){i[t.moduleName]||(i[t.moduleName]=!0,n.push(t),st.register(t,e))}(t),t.dependantModules&&t.dependantModules.forEach(r.bind(null,e))}return t&&t.forEach(r.bind(null,!0)),o&&o.forEach(r.bind(null,!st.isPackageBased())),n},e.prototype.registerModuleUserComponents=function(e){var t=this.context.getBean("userComponentRegistry");this.extractModuleEntity(e,function(e){return e.userComponents?e.userComponents:[]}).forEach(function(e){t.registerDefaultComponent(e.componentName,e.componentClass)})},e.prototype.createProvidedBeans=function(e,t){var o=t?t.frameworkOverrides:null;T(o)&&(o=new Mu);var n={gridOptions:this.gridOptions,eGridDiv:e,$scope:t?t.$scope:null,$compile:t?t.$compile:null,quickFilterOnScope:t?t.quickFilterOnScope:null,globalEventListener:t?t.globalEventListener:null,frameworkOverrides:o};return t&&t.providedBeanInstances&&_e(n,t.providedBeanInstances),n},e.prototype.createAgStackComponentsList=function(e){var t=[{componentName:"AgCheckbox",componentClass:Ma},{componentName:"AgRadioButton",componentClass:Iu},{componentName:"AgToggleButton",componentClass:Np},{componentName:"AgInputTextField",componentClass:rp},{componentName:"AgInputTextArea",componentClass:ap},{componentName:"AgInputNumberField",componentClass:bp},{componentName:"AgInputRange",componentClass:Ep},{componentName:"AgSelect",componentClass:Dp},{componentName:"AgSlider",componentClass:cp},{componentName:"AgAngleSelect",componentClass:Ap},{componentName:"AgColorPicker",componentClass:vp},{componentName:"AgGridComp",componentClass:Vl},{componentName:"AgHeaderRoot",componentClass:El},{componentName:"AgPagination",componentClass:jc},{componentName:"AgOverlayWrapper",componentClass:$c},{componentName:"AgGroupComponent",componentClass:Zc},{componentName:"AgPanel",componentClass:tp},{componentName:"AgDialog",componentClass:np}],o=this.extractModuleEntity(e,function(e){return e.agStackComponents?e.agStackComponents:[]});return t.concat(o)},e.prototype.createBeansList=function(e){var t=this.getRowModelClass(e);if(t){var o=[t,Cc,kp,Hp,td,oc,Wl,Ps,fc,yc,Kc,Ir,Ic,Hc,Tu,su,jp,gu,ao,it,Ls,Ql,Hs,Ol,Kt,vl,Ju,ba,Ul,Nt,Yl,pc,Fc,rc,Tl,Jl,io,nu,du,$s,Bs,wu,_u,Sc,Du,Nu,Wu,ku,vu,Uu,Yu,Gc,Qu,lc,Pc,Mp,Qp,Zp,od,id],n=this.extractModuleEntity(e,function(e){return e.beans?e.beans:[]});o.push.apply(o,n);var i=[];return o.forEach(function(e){i.indexOf(e)<0&&i.push(e)}),i}},e.prototype.extractModuleEntity=function(e,t){return[].concat.apply([],e.map(t))},e.prototype.setColumnsAndData=function(){var e=this.context.getBean("gridOptionsWrapper"),t=this.context.getBean("columnController"),o=e.getColumnDefs();t.setColumnDefs(o||[],"gridInitializing"),this.context.getBean("rowModel").start()},e.prototype.dispatchGridReadyEvent=function(e){this.context.getBean("eventService").dispatchEvent({type:xt.EVENT_GRID_READY,api:e.api,columnApi:e.columnApi})},e.prototype.getRowModelClass=function(e){var t=this.gridOptions.rowModelType;t||(t=rt.ROW_MODEL_TYPE_CLIENT_SIDE);var o={};e.forEach(function(e){fe(e.rowModels,function(e,t){o[e]=t})});var n=o[t];if(P(n))return n;t===rt.ROW_MODEL_TYPE_INFINITE&&console.error('ag-Grid: Row Model "Infinite" not found. Please ensure the '+tt.InfiniteRowModelModule+" is registered.';"),console.error("ag-Grid: could not find matching row model for rowModelType "+t),t===rt.ROW_MODEL_TYPE_VIEWPORT&&console.error('ag-Grid: Row Model "Viewport" not found. Please ensure the ag-Grid Enterprise Module '+tt.ViewportRowModelModule+" is registered.';"),t===rt.ROW_MODEL_TYPE_SERVER_SIDE&&console.error('ag-Grid: Row Model "Server Side" not found. Please ensure the ag-Grid Enterprise Module '+tt.ServerSideRowModelModule+" is registered.';"),t===rt.ROW_MODEL_TYPE_CLIENT_SIDE&&console.error('ag-Grid: Row Model "Client Side" not found. Please ensure the '+tt.ClientSideRowModelModule+" is registered.';")},e.prototype.destroy=function(){this.gridOptions.api.destroy()}}();var rd=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),sd=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){function t(o){var n=e.call(this,t.getTemplate(o.cssClass))||this;return n.items=[],n.params=o,o.items&&o.items.forEach(function(e){return n.addItem(e)}),n}rd(t,e),t.getTemplate=function(e){return'<div class="ag-tabs '+e+'">\n            <div ref="eHeader" role="menu" class="ag-tabs-header '+(e?e+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(e?e+"-body":"")+'"></div>\n        </div>'},t.prototype.handleKeyDown=function(e){switch(e.keyCode){case ki.RIGHT:case ki.LEFT:if(!this.eHeader.contains(document.activeElement))return;var t=this.items.indexOf(this.activeItem),o=e.keyCode===ki.RIGHT?Math.min(t+1,this.items.length-1):Math.max(t-1,0);if(t===o)return;e.preventDefault();var n=this.items[o];this.showItemWrapper(n),n.eHeaderButton.focus();break;case ki.UP:case ki.DOWN:e.stopPropagation()}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var t=this.focusController,o=this.eHeader,n=this.eBody,i=this.activeItem,r=document.activeElement;if(e.preventDefault(),o.contains(r))t.focusInto(n,e.shiftKey);else if(t.isFocusUnderManagedComponent(n))i.eHeaderButton.focus();else{var s=t.findNextFocusableElement(n,!1,e.shiftKey);s?s.focus():i.eHeaderButton.focus()}}},t.prototype.setAfterAttachedParams=function(e){this.afterAttachedParams=e},t.prototype.getMinDimensions=function(){var e=this.getGui().cloneNode(!0),t=e.querySelector('[ref="eBody"]');e.style.position="fixed",this.getGui().appendChild(e);var o=0,n=0;return this.items.forEach(function(i){Xo(t);var r=i.tabbedItem.bodyPromise.resolveNow(null,function(e){return e.cloneNode(!0)});null!=r&&(t.appendChild(r),o<e.offsetWidth&&(o=e.offsetWidth),n<e.offsetHeight&&(n=e.offsetHeight))}),this.getGui().removeChild(e),{height:n,width:o}},t.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},t.prototype.addItem=function(e){var t=document.createElement("span");t.setAttribute("tabIndex","-1"),t.setAttribute("role","menuitem"),t.appendChild(e.title),Io(t,"ag-tab"),this.eHeader.appendChild(t),kn(t,e.titleLabel);var o={tabbedItem:e,eHeaderButton:t};this.items.push(o),t.addEventListener("click",this.showItemWrapper.bind(this,o))},t.prototype.showItem=function(e){var t=k(this.items,function(t){return t.tabbedItem===e});t&&this.showItemWrapper(t)},t.prototype.showItemWrapper=function(e){var t=this;this.params.onItemClicked&&this.params.onItemClicked({item:e.tabbedItem}),this.activeItem!==e?(Xo(this.eBody),e.tabbedItem.bodyPromise.then(function(e){t.eBody.appendChild(e);var o=!t.focusController.isKeyboardFocus();t.focusController.focusInto(t.eBody,!1,o)}),this.activeItem&&Mo(this.activeItem.eHeaderButton,"ag-tab-selected"),Io(e.eHeaderButton,"ag-tab-selected"),this.activeItem=e,e.tabbedItem.afterAttachedCallback&&e.tabbedItem.afterAttachedCallback(this.afterAttachedParams)):Ue(this.params.onActiveItemClicked)},sd([Mi("eHeader")],t.prototype,"eHeader",void 0),sd([Mi("eBody")],t.prototype,"eBody",void 0)}(Ki);var ad,ld,ud=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),cd=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},pd=function(e){function t(o,n){var i=e.call(this)||this;return i.version=0,i.state=t.STATE_DIRTY,i.rowNodeCacheParams=n,i.blockNumber=o,i.startRow=o*n.blockSize,i.endRow=i.startRow+n.blockSize,i}return ud(t,e),t.prototype.isAnyNodeOpen=function(e){var t=!1;return this.forEachNodeCallback(function(e){e.expanded&&(t=!0)},e),t},t.prototype.forEachNodeCallback=function(e,t){for(var o=this.startRow;o<this.endRow;o++)o<t&&e(this.getRowUsingLocalIndex(o),o)},t.prototype.forEachNode=function(e,t,o,n){this.forEachNodeCallback(function(o){e(o,t.next()),n&&o.childrenCache&&o.childrenCache.forEachNodeDeep(e,t)},o)},t.prototype.forEachNodeDeep=function(e,t,o){this.forEachNode(e,t,o,!0)},t.prototype.forEachNodeShallow=function(e,t,o){this.forEachNode(e,t,o,!1)},t.prototype.getVersion=function(){return this.version},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRowUsingLocalIndex=function(e,t){return void 0===t&&(t=!1),t||(this.lastAccessed=this.rowNodeCacheParams.lastAccessedSequence.next()),this.rowNodes[e-this.startRow]},t.prototype.init=function(){this.createRowNodes()},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.getBlockNumber=function(){return this.blockNumber},t.prototype.setDirty=function(){this.version++,this.state=t.STATE_DIRTY},t.prototype.setDirtyAndPurge=function(){this.setDirty(),this.rowNodes.forEach(function(e){return e.setData(null)})},t.prototype.getState=function(){return this.state},t.prototype.setRowNode=function(e,t){this.rowNodes[e-this.startRow]=t},t.prototype.setBlankRowNode=function(e){var t=this.createBlankRowNode(e);return this.rowNodes[e-this.startRow]=t,t},t.prototype.setNewData=function(e,t){var o=this.setBlankRowNode(e);return this.setDataAndId(o,t,this.startRow+e),o},t.prototype.createBlankRowNode=function(e){var t=this.getContext().createBean(new hr);return t.setRowHeight(this.rowNodeCacheParams.rowHeight),t},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.rowNodeCacheParams.blockSize;e++){var t=this.createBlankRowNode(this.startRow+e);this.rowNodes.push(t)}},t.prototype.load=function(){this.state=t.STATE_LOADING,this.loadFromDatasource()},t.prototype.pageLoadFailed=function(){this.state=t.STATE_FAILED,this.dispatchEvent({type:t.EVENT_LOAD_COMPLETE,success:!1,page:this,lastRow:null})},t.prototype.populateWithRowData=function(e){var t=this,o=[];this.rowNodes.forEach(function(n,i){var r=e[i];n.stub&&o.push(n),t.setDataAndId(n,r,t.startRow+i)}),o.length>0&&this.rowRenderer.redrawRows(o)},t.prototype.destroyRowNodes=function(){var e=this;this.rowNodes.forEach(function(t){t.childrenCache&&(e.destroyBean(t.childrenCache),t.childrenCache=null),t.clearRowTop()})},t.prototype.pageLoaded=function(e,o,n){e===this.version&&(this.state=t.STATE_LOADED,this.populateWithRowData(o)),n=Xt(n),this.dispatchEvent({type:t.EVENT_LOAD_COMPLETE,success:!0,page:this,lastRow:n})},t.EVENT_LOAD_COMPLETE="loadComplete",t.STATE_DIRTY="dirty",t.STATE_LOADING="loading",t.STATE_LOADED="loaded",t.STATE_FAILED="failed",cd([Qe("rowRenderer")],t.prototype,"rowRenderer",void 0),cd([Ye],t.prototype,"init",null),cd([qe],t.prototype,"destroyRowNodes",null),t}(Tt),dd=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),hd=(function(e){function t(t,o){var n=e.call(this)||this;return n.activeBlockLoadsCount=0,n.blocks=[],n.active=!0,n.maxConcurrentRequests=t,o&&o>0&&(n.checkBlockToLoadDebounce=Be(n.performCheckBlocksToLoad.bind(n),o)),n}var o;dd(t,e),t.prototype.setBeans=function(e){this.logger=e.create("RowNodeBlockLoader")},t.prototype.addBlock=function(e){this.blocks.push(e)},t.prototype.removeBlock=function(e){Q(this.blocks,e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.active=!1},t.prototype.loadComplete=function(){this.activeBlockLoadsCount--},t.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},t.prototype.performCheckBlocksToLoad=function(){if(this.active)if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)this.logger.log("checkBlockToLoad: max loads exceeded");else{var e=null;this.blocks.forEach(function(t){t.getState()===pd.STATE_DIRTY&&(e=t)}),e?(e.load(),this.activeBlockLoadsCount++,this.logger.log("checkBlockToLoad: loading page "+e.getBlockNumber()),this.printCacheStatus()):this.logger.log("checkBlockToLoad: no pages to load")}},t.prototype.getBlockState=function(){var e={};return this.blocks.forEach(function(t){var o=t.getNodeIdPrefix(),n={blockNumber:t.getBlockNumber(),startRow:t.getStartRow(),endRow:t.getEndRow(),pageStatus:t.getState()};P(o)?e[o+t.getBlockNumber()]=n:e[t.getBlockNumber()]=n}),e},t.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},t.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([(0,o=Je("loggerFactory"),function(e,t){o(e,t,0)})],t.prototype,"setBeans",null)}(Tt),function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}()),fd=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},gd=(function(e){function t(t){var o=e.call(this)||this;return o.maxRowFound=!1,o.blocks={},o.blockCount=0,o.virtualRowCount=t.initialRowCount,o.cacheParams=t,o}hd(t,e),t.prototype.destroyAllBlocks=function(){var e=this;this.forEachBlockInOrder(function(t){return e.destroyBlock(t)})},t.prototype.init=function(){var e=this;this.active=!0,this.addDestroyFunc(function(){return e.active=!1})},t.prototype.isActive=function(){return this.active},t.prototype.getVirtualRowCount=function(){return this.virtualRowCount},t.prototype.hack_setVirtualRowCount=function(e){this.virtualRowCount=e},t.prototype.isMaxRowFound=function(){return this.maxRowFound},t.prototype.onPageLoaded=function(e){this.cacheParams.rowNodeBlockLoader.loadComplete(),this.checkBlockToLoad(),this.isActive()&&(this.logger.log("onPageLoaded: page = "+e.page.getBlockNumber()+", lastRow = "+e.lastRow),e.success&&(this.checkVirtualRowCount(e.page,e.lastRow),this.onCacheUpdated()))},t.prototype.purgeBlocksIfNeeded=function(e){var o=this,n=[];this.forEachBlockInOrder(function(t){t!==e&&n.push(t)}),n.sort(function(e,t){return t.getLastAccessed()-e.getLastAccessed()});var i=this.cacheParams.maxBlocksInCache>0,r=i?this.cacheParams.maxBlocksInCache-1:null,s=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;n.forEach(function(e,t){if(e.getState()===pd.STATE_DIRTY&&t>=s||i&&t>=r){if(e.isAnyNodeOpen(o.virtualRowCount))return;if(o.isBlockCurrentlyDisplayed(e))return;o.removeBlockFromCache(e)}})},t.prototype.isBlockCurrentlyDisplayed=function(e){var t=this.rowRenderer.getFirstVirtualRenderedRow(),o=this.rowRenderer.getLastVirtualRenderedRow(),n=e.getDisplayIndexStart(),i=e.getDisplayIndexEnd()-1;return!(null==n||null==i||n>o||i<t)},t.prototype.postCreateBlock=function(e){e.addEventListener(pd.EVENT_LOAD_COMPLETE,this.onPageLoaded.bind(this)),this.setBlock(e.getBlockNumber(),e),this.purgeBlocksIfNeeded(e),this.checkBlockToLoad()},t.prototype.removeBlockFromCache=function(e){e&&this.destroyBlock(e)},t.prototype.checkBlockToLoad=function(){this.cacheParams.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.checkVirtualRowCount=function(e,t){if("number"==typeof t&&t>=0)this.virtualRowCount=t,this.maxRowFound=!0;else if(!this.maxRowFound){var o=(e.getBlockNumber()+1)*this.cacheParams.blockSize+this.cacheParams.overflowSize;this.virtualRowCount<o&&(this.virtualRowCount=o)}},t.prototype.setVirtualRowCount=function(e,t){this.virtualRowCount=e,P(t)&&(this.maxRowFound=t),this.maxRowFound||this.virtualRowCount%this.cacheParams.blockSize==0&&this.virtualRowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e,t){var o=this;void 0===t&&(t=new Di),this.forEachBlockInOrder(function(n){return n.forEachNodeDeep(e,t,o.virtualRowCount)})},t.prototype.forEachBlockInOrder=function(e){var t=this.getBlockIdsSorted();this.forEachBlockId(t,e)},t.prototype.forEachBlockInReverseOrder=function(e){var t=this.getBlockIdsSorted().reverse();this.forEachBlockId(t,e)},t.prototype.forEachBlockId=function(e,t){var o=this;e.forEach(function(e){t(o.blocks[e],e)})},t.prototype.getBlockIdsSorted=function(){return Object.keys(this.blocks).map(function(e){return parseInt(e,10)}).sort(function(e,t){return e-t})},t.prototype.getBlock=function(e){return this.blocks[e]},t.prototype.setBlock=function(e,t){this.blocks[e]=t,this.blockCount++,this.cacheParams.rowNodeBlockLoader.addBlock(t)},t.prototype.destroyBlock=function(e){delete this.blocks[e.getBlockNumber()],this.destroyBean(e),this.blockCount--,this.cacheParams.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){this.isActive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.dispatchEvent({type:t.EVENT_CACHE_UPDATED}))},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,t=[];this.forEachBlockInOrder(function(o,n){n*e.cacheParams.blockSize>=e.virtualRowCount&&t.push(o)}),t.length>0&&t.forEach(function(t){return e.destroyBlock(t)})},t.prototype.purgeCache=function(){var e=this;this.forEachBlockInOrder(function(t){return e.removeBlockFromCache(t)}),this.maxRowFound=!1,0===this.virtualRowCount&&(this.virtualRowCount=this.cacheParams.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,t){var o=this,n=[],i=-1,r=!1,s=new Di;T(e)&&(r=!0);var a=!1;return this.forEachBlockInOrder(function(l,u){a||(r&&i+1!==u?a=!0:(i=u,l.forEachNodeShallow(function(o){var i=o===e||o===t;(r||i)&&n.push(o),i&&(r=!r)},s,o.virtualRowCount)))}),a||r?[]:n},t.EVENT_CACHE_UPDATED="cacheUpdated",t.MAX_EMPTY_BLOCKS_TO_KEEP=2,fd([Qe("rowRenderer")],t.prototype,"rowRenderer",void 0),fd([qe],t.prototype,"destroyAllBlocks",null),fd([Ye],t.prototype,"init",null)}(Tt),function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}()),md=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){function t(o,n){void 0===o&&(o="default"),void 0===n&&(n="listbox");var i=e.call(this,t.getTemplate(o),!0)||this;return i.cssIdentifier=o,i.ariaRole=n,i.renderedRows=new Map,i.rowHeight=20,i.isDestroyed=!1,i}gd(t,e),t.prototype.postConstruct=function(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),e.prototype.postConstruct.call(this)},t.prototype.addResizeObserver=function(){var e=this.drawVirtualRows.bind(this),t=this.resizeObserverService.observeResize(this.getGui(),e);this.addDestroyFunc(t)},t.prototype.focusInnerElement=function(e){this.focusRow(e?this.model.getRowCount()-1:0)},t.prototype.onFocusIn=function(t){e.prototype.onFocusIn.call(this,t);var o=t.target;ko(o,"ag-virtual-list-item")&&(this.lastFocusedRowIndex=Gn(o)-1)},t.prototype.onFocusOut=function(t){e.prototype.onFocusOut.call(this,t),this.getFocusableElement().contains(t.relatedTarget)||(this.lastFocusedRowIndex=null)},t.prototype.handleKeyDown=function(e){switch(e.keyCode){case ki.UP:case ki.DOWN:this.navigate(e.keyCode===ki.UP)&&e.preventDefault()}},t.prototype.onTabKeyDown=function(e){this.navigate(e.shiftKey)?e.preventDefault():this.focusController.focusInto(this.getGui(),!e.shiftKey)},t.prototype.navigate=function(e){if(null==this.lastFocusedRowIndex)return!1;var t=this.lastFocusedRowIndex+(e?-1:1);return!(t<0||t>=this.model.getRowCount()||(this.focusRow(t),0))},t.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},t.prototype.focusRow=function(e){var t=this;this.ensureIndexVisible(e),window.setTimeout(function(){var o=t.renderedRows.get(e);o&&o.eDiv.focus()},10)},t.prototype.getComponentAt=function(e){var t=this.renderedRows.get(e);return t&&t.rowComponent},t.getTemplate=function(e){return'\n            <div class="ag-virtual-list-viewport ag-'+e+'-virtual-list-viewport" role="listbox">\n                <div class="ag-virtual-list-container ag-'+e+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},t.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},t.prototype.ensureIndexVisible=function(e){var t=this.model.getRowCount();if("number"!=typeof e||e<0||e>=t)console.warn("invalid row index for ensureIndexVisible: "+e);else{var o=e*this.rowHeight,n=o+this.rowHeight,i=this.getGui(),r=i.scrollTop,s=i.offsetHeight,a=r+s<n;r>o?i.scrollTop=o:a&&(i.scrollTop=n-s)}},t.prototype.setComponentCreator=function(e){this.componentCreator=e},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getScrollTop=function(){return this.getGui().scrollTop},t.prototype.setRowHeight=function(e){this.rowHeight=e,this.refresh()},t.prototype.refresh=function(){var e=this;if(null!=this.model&&!this.isDestroyed){var t=this.model.getRowCount();this.eContainer.style.height=t*this.rowHeight+"px",setTimeout(function(){e.isDestroyed||(e.clearVirtualRows(),e.drawVirtualRows())},0)}},t.prototype.clearVirtualRows=function(){var e=this;this.renderedRows.forEach(function(t,o){return e.removeRow(o)})},t.prototype.drawVirtualRows=function(){var e=this.getGui(),t=e.scrollTop,o=t+e.offsetHeight,n=Math.floor(t/this.rowHeight),i=Math.floor(o/this.rowHeight);this.ensureRowsRendered(n,i)},t.prototype.ensureRowsRendered=function(e,t){var o=this;this.renderedRows.forEach(function(n,i){(i<e||i>t)&&i!==o.lastFocusedRowIndex&&o.removeRow(i)});for(var n=e;n<=t;n++)this.renderedRows.has(n)||n<this.model.getRowCount()&&this.insertRow(n)},t.prototype.insertRow=function(e){var t=this,o=this.model.getRow(e),n=document.createElement("div");if(Io(n,"ag-virtual-list-item"),Io(n,"ag-"+this.cssIdentifier+"-virtual-list-item"),n.setAttribute("role","tree"===this.ariaRole?"treeitem":"option"),zn(n,this.model.getRowCount()),Kn(n,e+1),n.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var i=this.model.isRowSelected(e);ti(n,!!i),oi(n,i)}n.style.height=this.rowHeight+"px",n.style.top=this.rowHeight*e+"px";var r=this.componentCreator(o,n);r.addGuiEventListener("focusin",function(){return t.lastFocusedRowIndex=e}),n.appendChild(r.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",n):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",n):this.eContainer.appendChild(n),this.renderedRows.set(e,{rowComponent:r,eDiv:n})},t.prototype.removeRow=function(e){var t=this.renderedRows.get(e);this.eContainer.removeChild(t.eDiv),this.destroyBean(t.rowComponent),this.renderedRows.delete(e)},t.prototype.addScrollListener=function(){var e=this;this.addGuiEventListener("scroll",function(){return e.drawVirtualRows()})},t.prototype.setModel=function(e){this.model=e},t.prototype.destroy=function(){this.isDestroyed||(this.clearVirtualRows(),this.isDestroyed=!0,e.prototype.destroy.call(this))},md([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),md([Qe("resizeObserverService")],t.prototype,"resizeObserverService",void 0),md([Mi("eContainer")],t.prototype,"eContainer",void 0)}(Ki),function(){function e(){}e.prototype.wrap=function(e,t,o,n,i){var r=this;void 0===o&&(o=[]);var s=this.createWrapper(e,n,i);return t.forEach(function(e){r.createMethod(s,e,!0)}),o.forEach(function(e){r.createMethod(s,e,!1)}),s},e.prototype.createMethod=function(e,t,o){e.addMethod(t,this.createMethodProxy(e,t,o))},e.prototype.createMethodProxy=function(e,t,o){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(o&&console.warn("ag-Grid: Framework component is missing the method "+t+"()"),null)}}}(),function(e){e.GroupedColumn="groupedColumn",e.StackedColumn="stackedColumn",e.NormalizedColumn="normalizedColumn",e.GroupedBar="groupedBar",e.StackedBar="stackedBar",e.NormalizedBar="normalizedBar",e.Line="line",e.Scatter="scatter",e.Bubble="bubble",e.Pie="pie",e.Doughnut="doughnut",e.Area="area",e.StackedArea="stackedArea",e.NormalizedArea="normalizedArea",e.Histogram="histogram"}(ad||(ad={})),function(e){e.Top="top",e.Right="right",e.Bottom="bottom",e.Left="left"}(ld||(ld={}));var yd="undefined"==typeof global?{}:global;yd.HTMLElement="undefined"==typeof HTMLElement?{}:HTMLElement,yd.HTMLButtonElement="undefined"==typeof HTMLButtonElement?{}:HTMLButtonElement,yd.HTMLSelectElement="undefined"==typeof HTMLSelectElement?{}:HTMLSelectElement,yd.HTMLInputElement="undefined"==typeof HTMLInputElement?{}:HTMLInputElement,yd.Node="undefined"==typeof Node?{}:Node,yd.MouseEvent="undefined"==typeof MouseEvent?{}:MouseEvent;var vd,Cd=function(){function e(t,o,n,i,r,s,a,l){this.nextId=0,this.allNodesMap={},this.rootNode=t,this.gridOptionsWrapper=o,this.context=n,this.eventService=i,this.columnController=r,this.gridApi=s,this.columnApi=a,this.selectionController=l,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=e.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return e.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},e.prototype.getCopyOfNodesMap=function(){return Oi.cloneObject(this.allNodesMap)},e.prototype.getRowNode=function(e){return this.allNodesMap[e]},e.prototype.setRowData=function(t){if(this.rootNode.childrenAfterFilter=null,this.rootNode.childrenAfterGroup=null,this.rootNode.childrenAfterSort=null,this.rootNode.childrenMapped=null,this.rootNode.updateHasChildren(),this.nextId=0,this.allNodesMap={},!t)return this.rootNode.allLeafChildren=[],void(this.rootNode.childrenAfterGroup=[]);this.rootNode.allLeafChildren=this.recursiveFunction(t,this.rootNode,e.TOP_LEVEL)},e.prototype.updateRowData=function(e,t){var o={remove:[],update:[],add:[]},n=[];return this.executeAdd(e,o),this.executeRemove(e,o,n),this.executeUpdate(e,o,n),this.updateSelection(n),t&&Oi.sortRowNodesByOrder(this.rootNode.allLeafChildren,t),o},e.prototype.updateSelection=function(e){var t=e.length>0;t&&e.forEach(function(e){e.setSelected(!1,!1,!0)}),this.selectionController.updateGroupsFromChildrenSelections(),t&&this.eventService.dispatchEvent({type:xt.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.executeAdd=function(e,t){var o=this,n=e.add,i=e.addIndex;Oi.missingOrEmpty(n)||("number"==typeof i&&i>=0?n.reverse().forEach(function(e){var n=o.addRowNode(e,i);t.add.push(n)}):n.forEach(function(e){var n=o.addRowNode(e);t.add.push(n)}))},e.prototype.executeRemove=function(e,t,o){var n=this,i=e.remove;if(!Oi.missingOrEmpty(i)){var r={};i.forEach(function(e){var i=n.lookupRowNode(e);i&&(i.isSelected()&&o.push(i),i.clearRowTop(),r[i.id]=!0,delete n.allNodesMap[i.id],t.remove.push(i))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(e){return!r[e.id]})}},e.prototype.executeUpdate=function(t,o,n){var i=this,r=t.update;Oi.missingOrEmpty(r)||r.forEach(function(t){var r=i.lookupRowNode(t);r&&(r.updateData(t),!r.selectable&&r.isSelected()&&n.push(r),i.setMasterForRow(r,t,e.TOP_LEVEL,!1),o.update.push(r))})},e.prototype.addRowNode=function(t,o){var n=this.createNode(t,this.rootNode,e.TOP_LEVEL);return Oi.exists(o)?Oi.insertIntoArray(this.rootNode.allLeafChildren,n,o):this.rootNode.allLeafChildren.push(n),n},e.prototype.lookupRowNode=function(e){var t,o=this.gridOptionsWrapper.getRowNodeIdFunc();if(Oi.exists(o)){var n=o(e);if(!(t=this.allNodesMap[n]))return console.error("ag-Grid: could not find row id="+n+", data item was not found for this id"),null}else if(!(t=Oi.find(this.rootNode.allLeafChildren,function(t){return t.data===e})))return console.error("ag-Grid: could not find data item as object was not found",e),null;return t},e.prototype.recursiveFunction=function(e,t,o){var n=this;if("string"!=typeof e){var i=[];return e.forEach(function(e){var r=n.createNode(e,t,o);i.push(r)}),i}console.warn("ag-Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},e.prototype.createNode=function(e,t,o){var n=new hr;return this.context.createBean(n),n.group=!1,this.setMasterForRow(n,e,o,!0),t&&!this.suppressParentsInRowNodes&&(n.parent=t),n.level=o,n.setDataAndId(e,this.nextId.toString()),this.allNodesMap[n.id]&&console.warn("ag-grid: duplicate node id '"+n.id+"' detected from getRowNodeId callback, this could cause issues in your grid."),this.allNodesMap[n.id]=n,this.nextId++,n},e.prototype.setMasterForRow=function(e,t,o,n){if(this.doingTreeData)e.setMaster(!1),n&&(e.expanded=!1);else if(e.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(t))),n){var i=this.columnController.getRowGroupColumns();e.expanded=!!e.master&&this.isExpanded(o+(i?i.length:0))}},e.prototype.isExpanded=function(e){var t=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===t||e<t},e.prototype.setLeafChildren=function(e){e.allLeafChildren=[],e.childrenAfterGroup&&e.childrenAfterGroup.forEach(function(t){t.group?t.allLeafChildren&&t.allLeafChildren.forEach(function(t){return e.allLeafChildren.push(t)}):e.allLeafChildren.push(t)})},e.TOP_LEVEL=0,e.ROOT_NODE_ID="ROOT_NODE_ID",e}(),bd=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),wd=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.Normal=0]="Normal",e[e.AfterFilter=1]="AfterFilter",e[e.AfterFilterAndSort=2]="AfterFilterAndSort",e[e.PivotNodes=3]="PivotNodes"}(vd||(vd={}));var Ed=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bd(t,e),t.prototype.init=function(){var e=this.refreshModel.bind(this,{step:rt.STEP_EVERYTHING}),t=this.refreshModel.bind(this,{step:rt.STEP_EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:!0});this.addManagedListener(this.eventService,xt.EVENT_COLUMN_EVERYTHING_CHANGED,t),this.addManagedListener(this.eventService,xt.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,xt.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:rt.STEP_PIVOT})),this.addManagedListener(this.eventService,xt.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,xt.EVENT_COLUMN_PIVOT_MODE_CHANGED,e);var o=this.refreshModel.bind(this,{step:rt.STEP_MAP,keepRenderedRows:!0,animate:!0});this.addManagedListener(this.gridOptionsWrapper,Ls.PROP_GROUP_REMOVE_SINGLE_CHILDREN,o),this.addManagedListener(this.gridOptionsWrapper,Ls.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,o),this.rootNode=new hr,this.nodeManager=new Cd(this.rootNode,this.gridOptionsWrapper,this.getContext(),this.eventService,this.columnController,this.gridApi,this.columnApi,this.selectionController),this.createBean(this.rootNode)},t.prototype.start=function(){var e=this.gridOptionsWrapper.getRowData();e&&this.setRowData(e)},t.prototype.ensureRowHeightsValid=function(e,t,o,n){var i,r=!1;do{i=!1;for(var s=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(s,o),u=Math.min(a,n),c=l;c<=u;c++){var p=this.getRow(c);if(p.rowHeightEstimated){var d=this.gridOptionsWrapper.getRowHeightForNode(p);p.setRowHeight(d.height),i=!0,r=!0}}i&&this.setRowTops()}while(i);return r},t.prototype.setRowTops=function(){for(var e=0,t=0;t<this.rowsToDisplay.length;t++){var o=this.gridOptionsWrapper.getDomLayout()===rt.DOM_LAYOUT_NORMAL,n=this.rowsToDisplay[t];if(Oi.missing(n.rowHeight)){var i=this.gridOptionsWrapper.getRowHeightForNode(n,o);n.setRowHeight(i.height,i.estimated)}n.setRowTop(e),n.setRowIndex(t),e+=n.rowHeight}},t.prototype.resetRowTops=function(e,t){if(e.clearRowTop(),e.hasChildren()){if(e.childrenAfterGroup&&(!t.isActive()||e.expanded))for(var o=0;o<e.childrenAfterGroup.length;o++)this.resetRowTops(e.childrenAfterGroup[o],t);e.sibling&&e.sibling.clearRowTop()}e.detailNode&&e.detailNode.clearRowTop()},t.prototype.ensureRowsAtPixel=function(e,t,o){var n=this;void 0===o&&(o=0);var i=this.getRowIndexAtPixel(t);return this.getRow(i)!==e[0]&&(e.forEach(function(e){Oi.removeFromArray(n.rootNode.allLeafChildren,e)}),e.forEach(function(e,t){Oi.insertIntoArray(n.rootNode.allLeafChildren,e,Math.max(i+o,0)+t)}),this.refreshModel({step:rt.STEP_EVERYTHING,keepRenderedRows:!0,animate:!0,keepEditingRows:!0}),!0)},t.prototype.highlightRowAtPixel=function(e,t){var o=null!=t?this.getRowIndexAtPixel(t):null,n=null!=o?this.getRow(o):null;if(n&&e&&n!==e&&null!=t){var i=this.getHighlightPosition(t,n);this.lastHighlightedRow&&this.lastHighlightedRow!==n&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),n.setHighlighted(i),this.lastHighlightedRow=n}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},t.prototype.getHighlightPosition=function(e,t){if(!t){var o=this.getRowIndexAtPixel(e);if(!(t=this.getRow(o||0)))return"below"}return e-t.rowTop<t.rowHeight/2?"above":"below"},t.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},t.prototype.isLastRowFound=function(){return!0},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getTopLevelRowCount=function(){return this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode?1:this.rootNode.childrenAfterFilter?this.rootNode.childrenAfterFilter.length:0},t.prototype.getTopLevelRowDisplayedIndex=function(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;var t=this.rootNode.childrenAfterSort[e];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;t.expanded&&t.childrenAfterSort&&t.childrenAfterSort.length>0;)t=t.childrenAfterSort[0];return t.rowIndex},t.prototype.getRowBounds=function(e){if(Oi.missing(this.rowsToDisplay))return null;var t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null},t.prototype.onRowGroupOpened=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:rt.STEP_MAP,keepRenderedRows:!0,animate:e})},t.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var t=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:rt.STEP_FILTER,keepRenderedRows:!0,animate:t})}},t.prototype.onSortChanged=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:rt.STEP_SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},t.prototype.getType=function(){return rt.ROW_MODEL_TYPE_CLIENT_SIDE},t.prototype.onValueChanged=function(){this.columnController.isPivotActive()?this.refreshModel({step:rt.STEP_PIVOT}):this.refreshModel({step:rt.STEP_AGGREGATE})},t.prototype.createChangePath=function(e){var t=Oi.missingOrEmpty(e),o=new Gs(!1,this.rootNode);return(t||this.gridOptionsWrapper.isTreeData())&&o.setInactive(),o},t.prototype.refreshModel=function(e){var t=this,o=this.createChangePath(e.rowNodeTransactions);switch(e.step){case rt.STEP_EVERYTHING:this.doRowGrouping(e.groupState,e.rowNodeTransactions,e.rowNodeOrder,o,e.afterColumnsChanged);case rt.STEP_FILTER:this.doFilter(o);case rt.STEP_PIVOT:this.doPivot(o);case rt.STEP_AGGREGATE:this.doAggregate(o);case rt.STEP_SORT:this.doSort(e.rowNodeTransactions,o);case rt.STEP_MAP:this.doRowsToDisplay()}this.resetRowTops(this.rootNode,o),this.setRowTops(),this.eventService.dispatchEvent({type:xt.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1}),this.$scope&&window.setTimeout(function(){t.$scope.$apply()},0)},t.prototype.isEmpty=function(){var e=Oi.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return Oi.missing(this.rootNode)||e||!this.columnController.isReady()},t.prototype.isRowsToRender=function(){return Oi.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.getNodesInRangeForSelection=function(e,t){var o,n=!t,i=!1,r=[],s=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort(function(a){var l=n&&!i;if(n||a!==t&&a!==e||(n=!0),!a.group||!s){var u=n&&!i,c=a.isParentOfNode(o);(u||c)&&r.push(a)}l&&(a!==t&&a!==e||(i=!0,o=a===t?t:e))}),r},t.prototype.setDatasource=function(e){console.error("ag-Grid: should never call setDatasource on clientSideRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRootNode=function(){return this.rootNode},t.prototype.getRow=function(e){return this.rowsToDisplay[e]},t.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},t.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty())return-1;var t=0,o=this.rowsToDisplay.length-1;if(e<=0)return 0;if(Oi.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;for(;;){var n=Math.floor((t+o)/2),i=this.rowsToDisplay[n];if(this.isRowInPixel(i,e))return n;i.rowTop<e?t=n+1:i.rowTop>e&&(o=n-1)}},t.prototype.isRowInPixel=function(e,t){return e.rowTop<=t&&e.rowTop+e.rowHeight>t},t.prototype.getCurrentPageHeight=function(){if(this.rowsToDisplay&&this.rowsToDisplay.length>0){var e=Oi.last(this.rowsToDisplay);return e.rowTop+e.rowHeight}return 0},t.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(t,o){return e(t,o)})},t.prototype.forEachNode=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,e,vd.Normal,0)},t.prototype.forEachNodeAfterFilter=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterFilter,e,vd.AfterFilter,0)},t.prototype.forEachNodeAfterFilterAndSort=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,e,vd.AfterFilterAndSort,0)},t.prototype.forEachPivotNode=function(e){this.recursivelyWalkNodesAndCallback([this.rootNode],e,vd.PivotNodes,0)},t.prototype.recursivelyWalkNodesAndCallback=function(e,t,o,n){if(!e)return n;for(var i=0;i<e.length;i++){var r=e[i];if(t(r,n++),r.hasChildren()){var s=null;switch(o){case vd.Normal:s=r.childrenAfterGroup;break;case vd.AfterFilter:s=r.childrenAfterFilter;break;case vd.AfterFilterAndSort:s=r.childrenAfterSort;break;case vd.PivotNodes:s=r.leafGroup?null:r.childrenAfterSort}s&&(n=this.recursivelyWalkNodesAndCallback(s,t,o,n))}}return n},t.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.expandOrCollapseAll=function(e){var t=this.gridOptionsWrapper.isTreeData();this.rootNode&&function o(n){n&&n.forEach(function(n){(t?Oi.exists(n.childrenAfterGroup):n.group)&&(n.expanded=e,o(n.childrenAfterGroup))})}(this.rootNode.childrenAfterGroup),this.refreshModel({step:rt.STEP_MAP}),this.eventService.dispatchEvent({api:this.gridApi,columnApi:this.columnApi,type:xt.EVENT_EXPAND_COLLAPSE_ALL,source:e?"expandAll":"collapseAll"})},t.prototype.doSort=function(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})},t.prototype.doRowGrouping=function(e,t,o,n,i){this.groupStage?(t?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,rowNodeOrder:o,changedPath:n}):(this.selectionController.removeGroupsFromSelection(),this.groupStage.execute({rowNode:this.rootNode,changedPath:n,afterColumnsChanged:i}),this.restoreGroupState(e)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionController.updateGroupsFromChildrenSelections(n)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.updateHasChildren())},t.prototype.restoreGroupState=function(e){e&&Oi.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(t,o){"boolean"==typeof e[o]&&(t.expanded=e[o])})},t.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var e={};return Oi.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(t,o){return e[o]=t.expanded}),e},t.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},t.prototype.getRowNode=function(e){return this.nodeManager.getRowNode(e)},t.prototype.setRowData=function(e){var t=this.getGroupState();this.nodeManager.setRowData(e),this.eventService.dispatchEvent({type:xt.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.refreshModel({step:rt.STEP_EVERYTHING,groupState:t,newData:!0})},t.prototype.batchUpdateRowData=function(e,t){var o=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var n=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){o.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})},t.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},t.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var t=[],o=[];this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(n){var i=e.nodeManager.updateRowData(n.rowDataTransaction,null);o.push(i),n.callback&&t.push(n.callback.bind(null,i))}),this.commonUpdateRowData(o),t.length>0&&window.setTimeout(function(){t.forEach(function(e){return e()})},0),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},t.prototype.updateRowData=function(e,t){this.valueCache.onDataChanged();var o=this.nodeManager.updateRowData(e,t);return"number"==typeof e.addIndex&&(t=this.createRowNodeOrder()),this.commonUpdateRowData([o],t),o},t.prototype.createRowNodeOrder=function(){var e=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder();if(!e){var t=e?null:{};if(this.rootNode&&this.rootNode.allLeafChildren)for(var o=0;o<this.rootNode.allLeafChildren.length;o++)t[this.rootNode.allLeafChildren[o].id]=o;return t}},t.prototype.commonUpdateRowData=function(e,t){this.refreshModel({step:rt.STEP_EVERYTHING,rowNodeTransactions:e,rowNodeOrder:t,keepRenderedRows:!0,animate:!0,keepEditingRows:!0}),this.eventService.dispatchEvent({type:xt.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},t.prototype.onRowHeightChanged=function(){this.refreshModel({step:rt.STEP_MAP,keepRenderedRows:!0,keepEditingRows:!0})},t.prototype.resetRowHeights=function(){var e=!1;this.forEachNode(function(t){t.setRowHeight(t.rowHeight,!0);var o=t.detailNode;o&&o.setRowHeight(o.rowHeight,!0),e=!0}),e&&this.onRowHeightChanged()},wd([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),wd([Qe("columnController")],t.prototype,"columnController",void 0),wd([Qe("filterManager")],t.prototype,"filterManager",void 0),wd([Qe("$scope")],t.prototype,"$scope",void 0),wd([Qe("selectionController")],t.prototype,"selectionController",void 0),wd([Qe("valueService")],t.prototype,"valueService",void 0),wd([Qe("valueCache")],t.prototype,"valueCache",void 0),wd([Qe("columnApi")],t.prototype,"columnApi",void 0),wd([Qe("gridApi")],t.prototype,"gridApi",void 0),wd([Qe("filterStage")],t.prototype,"filterStage",void 0),wd([Qe("sortStage")],t.prototype,"sortStage",void 0),wd([Qe("flattenStage")],t.prototype,"flattenStage",void 0),wd([Xe("groupStage")],t.prototype,"groupStage",void 0),wd([Xe("aggregationStage")],t.prototype,"aggregationStage",void 0),wd([Xe("pivotStage")],t.prototype,"pivotStage",void 0),wd([Ye],t.prototype,"init",null),wd([$e("rowModel")],t)}(Tt),Rd=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),_d=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Sd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rd(t,e),t.prototype.execute=function(e){var t=e.rowNode;this.filterService.filter(e.changedPath),this.selectableService.updateSelectableAfterFiltering(t)},_d([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),_d([Qe("selectableService")],t.prototype,"selectableService",void 0),_d([Qe("filterService")],t.prototype,"filterService",void 0),_d([$e("filterStage")],t)}(Tt),Od=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Dd=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Pd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Od(t,e),t.prototype.execute=function(e){var t=this.sortController.getSortForRowController(),o=Oi.exists(t)&&t.length>0,n=o&&Oi.exists(e.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),i=n?this.calculateDirtyNodes(e.rowNodeTransactions):null,r=this.columnController.getValueColumns(),s=Oi.missingOrEmpty(r);this.sortService.sort(t,o,n,i,e.changedPath,s)},t.prototype.calculateDirtyNodes=function(e){var t={},o=function(e){e&&e.forEach(function(e){return t[e.id]=!0})};return e.forEach(function(e){o(e.add),o(e.update),o(e.remove)}),t},Dd([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Dd([Qe("sortService")],t.prototype,"sortService",void 0),Dd([Qe("sortController")],t.prototype,"sortController",void 0),Dd([Qe("columnController")],t.prototype,"columnController",void 0),Dd([$e("sortStage")],t)}(Tt),Td=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ad=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Fd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Td(t,e),t.prototype.execute=function(e){var t=e.rowNode,o=[],n={value:0},i=this.columnController.isPivotMode(),r=i&&t.leafGroup;return this.recursivelyAddToRowsToDisplay(r?[t]:t.childrenAfterSort,o,n,i,0),!r&&o.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(t),this.addRowNodeToRowsToDisplay(t.sibling,o,n,0)),o},t.prototype.recursivelyAddToRowsToDisplay=function(e,t,o,n,i){if(!Oi.missingOrEmpty(e))for(var r=this.gridOptionsWrapper.isGroupHideOpenParents(),s=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),a=!s&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),l=0;l<e.length;l++){var u=e[l],c=u.hasChildren(),p=s&&c&&1===u.childrenAfterGroup.length,d=a&&c&&u.leafGroup&&1===u.childrenAfterGroup.length;if(!(n&&!c||r&&u.expanded&&(!n||!u.leafGroup)||p||d)&&this.addRowNodeToRowsToDisplay(u,t,o,i),!n||!u.leafGroup)if(c){var h=p||d;(u.expanded||h)&&(this.recursivelyAddToRowsToDisplay(u.childrenAfterSort,t,o,n,h?i:i+1),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(u),this.addRowNodeToRowsToDisplay(u.sibling,t,o,i)))}else if(u.master&&u.expanded){var f=this.createDetailNode(u);this.addRowNodeToRowsToDisplay(f,t,o,i)}}},t.prototype.addRowNodeToRowsToDisplay=function(e,t,o,n){var i=this.gridOptionsWrapper.isGroupMultiAutoColumn();t.push(e),e.setUiLevel(i?0:n)},t.prototype.ensureFooterNodeExists=function(e){if(!Oi.exists(e.sibling)){var t=new hr;this.context.createBean(t),Object.keys(e).forEach(function(o){t[o]=e[o]}),t.footer=!0,t.rowTop=null,t.oldRowTop=null,Oi.exists(t.id)&&(t.id="rowGroupFooter_"+t.id),t.sibling=e,e.sibling=t}},t.prototype.createDetailNode=function(e){if(Oi.exists(e.detailNode))return e.detailNode;var t=new hr;return this.context.createBean(t),t.detail=!0,t.selectable=!1,t.parent=e,Oi.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t},Ad([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ad([Qe("selectionController")],t.prototype,"selectionController",void 0),Ad([Qe("columnController")],t.prototype,"columnController",void 0),Ad([$e("flattenStage")],t)}(Tt),Nd=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),xd=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Id=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nd(t,e),t.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},t.prototype.sort=function(e,t,o,n,i,r){var s=this;i.forEachChangedNodeDepthFirst(function(a){if(s.pullDownGroupDataForHideOpenParents(a.childrenAfterFilter,!0),t){var l=o?s.doDeltaSort(a,e,n,i,r):s.doFullSort(a,e);a.childrenAfterSort=l.map(function(e){return e.rowNode})}else a.childrenAfterSort=a.childrenAfterFilter.slice(0);s.updateChildIndexes(a),s.postSortFunc&&s.postSortFunc(a.childrenAfterSort)}),this.updateGroupDataForHiddenOpenParents(i)},t.prototype.doFullSort=function(e,t){var o=e.childrenAfterFilter.map(this.mapNodeToSortedNode.bind(this));return o.sort(this.compareRowNodes.bind(this,t)),o},t.prototype.mapNodeToSortedNode=function(e,t){return{currentPos:t,rowNode:e}},t.prototype.doDeltaSort=function(e,t,o,n,i){var r=e.childrenAfterSort.filter(function(e){var t=!o[e.id],r=i||n.canSkip(e);return t&&r}).map(this.mapNodeToSortedNode.bind(this)),s={};r.forEach(function(e){return s[e.rowNode.id]=e.rowNode});var a=e.childrenAfterFilter.filter(function(e){return!s[e.id]}).map(this.mapNodeToSortedNode.bind(this));return a.sort(this.compareRowNodes.bind(this,t)),0===a.length?r:0===r.length?a:this.mergeSortedArrays(t,r,a)},t.prototype.mergeSortedArrays=function(e,t,o){for(var n=[],i=0,r=0;i<t.length&&r<o.length;){var s=this.compareRowNodes(e,t[i],o[r]);n.push(s<0?t[i++]:o[r++])}for(;i<t.length;)n.push(t[i++]);for(;r<o.length;)n.push(o[r++]);return n},t.prototype.compareRowNodes=function(e,t,o){for(var n=t.rowNode,i=o.rowNode,r=0,s=e.length;r<s;r++){var a,l=e[r],u=-1===l.inverter,c=this.getValue(n,l.column),p=this.getValue(i,l.column),d=l.column.getColDef().comparator;if(0!==(a=d?d(c,p,n,i,u):Oi.defaultComparator(c,p,this.gridOptionsWrapper.isAccentedSort())))return a*l.inverter}return t.currentPos-o.currentPos},t.prototype.getValue=function(e,t){return this.valueService.getValue(t,e)},t.prototype.updateChildIndexes=function(e){if(!Oi.missing(e.childrenAfterSort))for(var t=e.childrenAfterSort,o=0;o<t.length;o++){var n=t[o],i=o===e.childrenAfterSort.length-1;n.setFirstChild(0===o),n.setLastChild(i),n.setChildIndex(o)}},t.prototype.updateGroupDataForHiddenOpenParents=function(e){var t=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){var o=function(e){t.pullDownGroupDataForHideOpenParents(e.childrenAfterSort,!1),e.childrenAfterSort.forEach(function(e){e.hasChildren()&&o(e)})};e.executeFromRootNode(function(e){return o(e)})}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,t){var o=this;Oi.missing(e)||this.gridOptionsWrapper.isGroupHideOpenParents()&&e.forEach(function(e){o.columnController.getGroupDisplayColumns().forEach(function(n){var i=n.getColDef().showRowGroup;if("string"==typeof i){var r=o.columnController.getPrimaryColumn(i);if(r!==e.rowGroupColumn)if(t)e.setGroupValue(n.getId(),null);else{var s=e.getFirstChildOfFirstChild(r);s&&e.setGroupValue(n.getId(),s.key)}}else console.error("ag-Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},xd([Qe("sortController")],t.prototype,"sortController",void 0),xd([Qe("columnController")],t.prototype,"columnController",void 0),xd([Qe("valueService")],t.prototype,"valueService",void 0),xd([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),xd([Ye],t.prototype,"init",null),xd([$e("sortService")],t)}(Tt),Md=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ld=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Gd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Md(t,e),t.prototype.postConstruct=function(){this.doingTreeData=this.gridOptionsWrapper.isTreeData()},t.prototype.filter=function(e){var t=this.filterManager.isAnyFilterPresent();this.filterNodes(t,e)},t.prototype.filterNodes=function(e,t){var o=this,n=function(t,n){t.hasChildren()?(t.childrenAfterFilter=e&&!n?t.childrenAfterGroup.filter(function(e){var t=e.childrenAfterFilter&&e.childrenAfterFilter.length>0,n=e.data&&o.filterManager.doesRowPassFilter(e);return t||n}):t.childrenAfterGroup,o.setAllChildrenCount(t)):(t.childrenAfterFilter=t.childrenAfterGroup,t.setAllChildrenCount(null))};if(this.doingTreeDataFiltering()){var i=function(e,t){if(e.childrenAfterGroup)for(var r=0;r<e.childrenAfterGroup.length;r++){var s=e.childrenAfterGroup[r],a=t||o.filterManager.doesRowPassFilter(s);s.childrenAfterGroup?i(e.childrenAfterGroup[r],a):n(s,a)}n(e,t)};t.executeFromRootNode(function(e){return i(e,!1)})}else t.forEachChangedNodeDepthFirst(function(e){return n(e,!1)},!0)},t.prototype.setAllChildrenCountTreeData=function(e){var t=0;e.childrenAfterFilter.forEach(function(e){t++,t+=e.allChildrenCount}),e.setAllChildrenCount(t)},t.prototype.setAllChildrenCountGridGrouping=function(e){var t=0;e.childrenAfterFilter.forEach(function(e){e.group?t+=e.allChildrenCount:t++}),e.setAllChildrenCount(t)},t.prototype.setAllChildrenCount=function(e){this.doingTreeData?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e)},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},Ld([Qe("filterManager")],t.prototype,"filterManager",void 0),Ld([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ld([Ye],t.prototype,"postConstruct",null),Ld([$e("filterService")],t)}(Tt),kd=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Vd=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Hd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return kd(t,e),t.prototype.postConstruct=function(){this.rowModel.getType()===rt.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},t.prototype.createTransactionForRowData=function(e){if(Oi.missing(this.clientSideRowModel))console.error("ag-Grid: ImmutableService only works with ClientSideRowModel");else{var t=this.gridOptionsWrapper.getRowNodeIdFunc();if(t&&!Oi.missing(t)){var o={remove:[],update:[],add:[]},n=this.clientSideRowModel.getCopyOfNodesMap(),i=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?null:{};return Oi.exists(e)&&e.forEach(function(e,r){var s=t(e),a=n[s];i&&(i[s]=r),a?(a.data!==e&&o.update.push(e),n[s]=void 0):o.add.push(e)}),Oi.iterateObject(n,function(e,t){t&&o.remove.push(t.data)}),[o,i]}console.error("ag-Grid: ImmutableService requires getRowNodeId() callback to be implemented, your row data need IDs!")}},Vd([Qe("rowModel")],t.prototype,"rowModel",void 0),Vd([Qe("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Vd([Ye],t.prototype,"postConstruct",null),Vd([$e("immutableService")],t)}(Tt),Wd={moduleName:tt.ClientSideRowModelModule,beans:[Sd,Pd,Fd,Id,Gd,Hd],rowModels:{clientSide:Ed}},Bd=o("3Pt+");class jd{constructor(){this.id=0,this.username="",this.role=0,this.password="",this.group_id=0,this.location_id=0,this.account_locked=0,this.date_created="",this.date_last_updated="",this.date_password_expires=""}getUserId(){return this.id}getUserName(){return this.username}getRole(){return this.role}getPassword(){return this.password}getGroupId(){return this.group_id}getLocationId(){return this.location_id}getDateCreated(){return this.date_created}getDateLastUpdated(){return this.date_last_updated}setUserId(e){this.id=e}setUserName(e){this.username=e}setRole(e){this.role=e}setPassword(e){this.password=e}setGroupId(e){this.group_id=e}setLocationId(e){this.location_id=e}setDateCreated(e){this.date_created=e}setDateLastUpdated(e){this.date_last_updated=e}}class Ud{constructor(){this.id=null,this.country=null,this.state=null,this.city=null,this.base=null}getId(){return this.id}getCountry(){return this.country}getState(){return this.state}getCity(){return this.city}getBase(){return this.base}setId(e){this.id=e}setCountry(e){this.country=e}setState(e){this.state=e}setCity(e){this.city=e}setBase(e){this.base=e}}var zd=o("fXoL"),Kd=o("Wl7B"),Yd=o("Bx/L"),qd=o("tyNb"),$d=o("EFyh"),Qd=o("gA3Z"),Xd=o("qfBg"),Zd=o("Tv8v"),Jd=o("6Svq"),eh=o("ofXK"),th=o("cWTo"),oh=o("Egam"),nh=o("1kSV"),ih=o("Zsim"),rh=o("u+r4"),sh=o("RkJb"),ah=Intl.DateTimeFormat;function lh(e,t){if(1&e){const e=zd.Tb();zd.Sb(0,"header"),zd.Sb(1,"form",5),zd.Sb(2,"label"),zd.Hc(3," Column Selections: "),zd.Rb(),zd.Sb(4,"ng-multiselect-dropdown",6),zd.dc("ngModelChange",function(t){return zd.xc(e),zd.gc().selectedItems=t})("onSelectAll",function(t){return zd.xc(e),zd.gc().setColumnViewSelectAll(t)})("onSelect",function(t){return zd.xc(e),zd.gc().setColumnViewSelect(t)})("onDeSelectAll",function(t){return zd.xc(e),zd.gc().setColumnViewDeSelectAll(t)})("onDeSelect",function(t){return zd.xc(e),zd.gc().setColumnViewDeSelect(t)}),zd.Rb(),zd.Rb(),zd.Rb()}if(2&e){const e=zd.gc();zd.zb(1),zd.nc("formGroup",e.gridForm),zd.zb(3),zd.nc("ngModel",e.selectedItems)("settings",e.dropDownSettings)("placeholder","Column Selection")("disabled",e.disabled)("data",e.columnSelections)}}const uh=function(e){return{color:e}};function ch(e,t){if(1&e&&(zd.Sb(0,"li",9),zd.Sb(1,"span",10),zd.Hc(2),zd.Rb(),zd.Rb()),2&e){const e=t.$implicit;zd.zb(1),zd.nc("ngStyle",zd.rc(2,uh,e.colourName)),zd.zb(1),zd.Jc(" ",e.legendName," ")}}function ph(e,t){if(1&e&&(zd.Sb(0,"nav"),zd.Sb(1,"fieldset"),zd.Sb(2,"legend",7),zd.Hc(3,"Grid Legend:"),zd.Rb(),zd.Sb(4,"ul"),zd.Fc(5,ch,3,4,"li",8),zd.Rb(),zd.Rb(),zd.Rb()),2&e){const e=zd.gc();zd.zb(5),zd.nc("ngForOf",e.legendMembers)}}function dh(e,t){if(1&e&&(zd.Sb(0,"option",27),zd.Hc(1),zd.Rb()),2&e){const e=t.$implicit;zd.oc("value",e.cas_number),zd.zb(1),zd.Jc(" ",e.analyte_name," ")}}function hh(e,t){if(1&e&&(zd.Sb(0,"div"),zd.Sb(1,"select",24),zd.Nb(2,"option",25),zd.Fc(3,dh,2,2,"option",26),zd.Rb(),zd.Rb()),2&e){const e=zd.gc(2);zd.zb(3),zd.nc("ngForOf",e.foundAnalyteList)}}function fh(e,t){1&e&&(zd.Sb(0,"div",28),zd.Sb(1,"app-pop-out-window",29),zd.Nb(2,"app-pareto"),zd.Rb(),zd.Rb()),2&e&&(zd.zb(1),zd.nc("pop-out-id","pareto"))}function gh(e,t){1&e&&(zd.Sb(0,"div"),zd.Sb(1,"app-pop-out-window",30),zd.Nb(2,"app-histogram"),zd.Rb(),zd.Rb()),2&e&&(zd.zb(1),zd.nc("pop-out-id","histogram"))}function mh(e,t){if(1&e){const e=zd.Tb();zd.Sb(0,"aside"),zd.Sb(1,"form",11),zd.Sb(2,"div",12),zd.Sb(3,"div",13),zd.Sb(4,"div",14),zd.Sb(5,"a",15),zd.dc("click",function(){zd.xc(e);const t=zd.gc();return t.isDateFilterCollapsed=!t.isDateFilterCollapsed}),zd.Nb(6,"span",16),zd.Hc(7," Grid Options"),zd.Rb(),zd.Rb(),zd.Sb(8,"div",17),zd.Sb(9,"div",18),zd.Hc(10,"Starting Period"),zd.Rb(),zd.Sb(11,"div",19),zd.Nb(12,"input",20),zd.Sb(13,"button",21),zd.dc("click",function(){return zd.xc(e),zd.gc().beginningReset()}),zd.Hc(14,"Reset"),zd.Rb(),zd.Rb(),zd.Sb(15,"div",18),zd.Hc(16,"Ending Period"),zd.Rb(),zd.Sb(17,"div",19),zd.Nb(18,"input",22),zd.Sb(19,"button",21),zd.dc("click",function(){return zd.xc(e),zd.gc().endingReset()}),zd.Hc(20,"Reset"),zd.Rb(),zd.Rb(),zd.Sb(21,"div",18),zd.Hc(22,"Make Pareto Diagram"),zd.Rb(),zd.Sb(23,"div",19),zd.Fc(24,hh,4,1,"div",1),zd.Sb(25,"button",21),zd.dc("click",function(){return zd.xc(e),zd.gc().makePareto()}),zd.Hc(26,"Pareto"),zd.Rb(),zd.Rb(),zd.Fc(27,fh,3,1,"div",23),zd.Sb(28,"div",18),zd.Hc(29,"Make Histogram Diagram"),zd.Rb(),zd.Sb(30,"div",19),zd.Sb(31,"button",21),zd.dc("click",function(){return zd.xc(e),zd.gc().makeHistogram()}),zd.Hc(32,"Histogram"),zd.Rb(),zd.Rb(),zd.Fc(33,gh,3,1,"div",1),zd.Rb(),zd.Rb(),zd.Rb(),zd.Rb(),zd.Rb()}if(2&e){const e=zd.gc();zd.zb(1),zd.nc("formGroup",e.dateForm),zd.zb(4),zd.Ab("aria-expanded",!e.isDateFilterCollapsed),zd.zb(1),zd.nc("ngClass",e.isDateFilterCollapsed?"glyphicon-plus":"glyphicon-minus"),zd.zb(2),zd.nc("ngbCollapse",e.isDateFilterCollapsed),zd.zb(16),zd.nc("ngIf",6===e.gridType),zd.zb(3),zd.nc("ngIf",e.showPareto),zd.zb(6),zd.nc("ngIf",e.showHistogram)}}let yh=(()=>{class e{constructor(e,t,o,n,i,r,s){this.agGridService=e,this.badgeService=t,this.router=o,this.loginService=n,this.modalService=i,this.userService=r,this.graphService=s,this.gridForm=new Bd.k({columnSelection:new Bd.h}),this.dateForm=new Bd.k({beginningTime:new Bd.h,endingTime:new Bd.h,desiredValue:new Bd.h}),this.highlightSelectedRow=!1,this.error=null,this.height=500,this.width=1e3,this.showSubComponent=!1,this.loggingOut=!1,this.dropDownSettings={},this.isDateFilterCollapsed=!0,this.modules=[Wd],this.showPareto=!1,this.showHistogram=!1,this.cssWrapperOverrideValue="base-wrapper",this.gridIsSetup=!1,this.displayLegend=!1,this.disabled=!0,this.subscriptions=new R.a,this.columnSelections=[],this.selectedItems=[],this.legendMembers=[],this.foundAnalyteList=[],this.desiredValue="",this.gridOptions={context:{componentParent:this},columnDefs:null,rowData:null};const a=this.agGridService.unsubscribeValue.subscribe(e=>{e&&this.resetSubscriptions()}),l=this.agGridService.printCSV.subscribe(e=>{e&&(this.gridApi.exportDataAsCsv(this.rowData),this.agGridService.setPrintCSV(!1))}),u=this.agGridService.printDSV.subscribe(e=>{e&&(this.exportText(),this.agGridService.setPrintDSV(!1))}),c=this.dateForm.controls.beginningTime.valueChanges.subscribe(e=>{this.evaluateRowData()}),p=this.dateForm.controls.endingTime.valueChanges.subscribe(e=>{this.evaluateRowData()});this.subscriptions.add(c),this.subscriptions.add(p),this.subscriptions.add(a),this.subscriptions.add(l),this.subscriptions.add(u)}ngOnInit(){this.columnSelections=[],this.selectedItems=[],this.dropDownSettings={singleSelection:!1,idField:"columnIndex",textField:"columnName",selectAlltext:"Select All",unSelectAllText:"Un-Select All",itemsShowLimit:2,allowSearchFilter:!0},this.rowSelection=this.highlightSelectedRow?"multiple":"single",this.gridType=null;const e=this.agGridService.gridTypeDisplay.subscribe(e=>{this.gridType=this.agGridService.getGridType(),this.changeGrid()});this.subscriptions.add(e)}onGridReady(e){this.gridApi=e.api,this.gridApi.sizeColumnsToFit()}beginningReset(){this.dateForm.controls.beginningTime.reset()}endingReset(){this.dateForm.controls.endingTime.reset()}onRowClick(e){}onRowDoubleClick(e){switch(console.log("Row Has Been Double Clicked"),this.gridType){case 0:break;case 1:case 6:case 7:case 8:case 9:case 10:case 11:case 12:const t=new _;t.id=e.data.id,t.assigned_user=e.data.assigned_user,t.batch_group=e.data.batch_group,t.badge_status=e.data.badge_status,t.relative_humidity=e.data.relative_humidity,t.temperature_celsius=e.data.temperature_celsius,t.temperature_fahrenheit=e.data.temperature_fahrenheit,t.notes=e.data.notes,t.vapors_exposed=e.data.vapors_exposed,null!==e.data.activated_time&&(t.activated_time=e.data.activated_time.slice(0,16)),null!==e.data.turned_in_time&&(t.turned_in_time=e.data.turned_in_time.slice(0,16)),t.badge_serial_number=e.data.badge_serial_number,this.agGridService.getSelectedRow()&&this.agGridService.getSelectedRow().id===t.id?this.agGridService.setSelectedRow(null):this.agGridService.setSelectedRow(t);break;case 2:const o=new O;o.id=e.data.id,o.cas_number=e.data.cas_number,o.analyte_name=e.data.analyte_name,o.data_table_id=e.data.data_table_id,o.chemical_class_id=e.data.chemical_class_id,o.date_last_updated=e.data.date_last_updated,o.cal_osha_pel_8_hour_twa_c=e.data.cal_osha_pel_8_hour_twa_c,o.cal_osha_pel_8_hour_twa_st=e.data.cal_osha_pel_8_hour_twa_st,o.cal_osha_pel_8_hour_twa=e.data.cal_osha_pel_8_hour_twa,o.osha_pel_mg=e.data.osha_pel_mg,o.osha_pel_ppm=e.data.osha_pel_ppm,o.niosh_rel_10_hour_twa=e.data.niosh_rel_10_hour_twa,o.niosh_rel_10_hour_twa_c=e.data.niosh_rel_10_hour_twa_c,o.niosh_rel_10_hour_twa_st=e.data.niosh_rel_10_hour_twa_st,o.acgih_2019_tlv_8_hour_twa=e.data.acgih_2019_tlv_8_hour_twa,o.acgih_2019_tlv_8_hour_twa_st=e.data.acgih_2019_tlv_8_hour_twa_st,o.acgih_2019_tlv_8_hour_twa_c=e.data.acgih_2019_tlv_8_hour_twa_c,o.osu_6_sampling_rate=e.data.osu_6_sampling_rate,o.detection_limit=e.data.detection_limit,this.agGridService.getSelectedRow()&&this.agGridService.getSelectedRow().analyte_name===o.analyte_name?this.agGridService.setSelectedRow(null):this.agGridService.setSelectedRow(o);break;case 3:const n=new S;n.id=e.data.id,n.analyst=e.data.analyst,n.analyst_id=e.data.analyst_id,n.wearer=e.data.wearer,n.wearer_id=e.data.wearer_id,n.badge_id=e.data.badge_id,n.badge_serial_number=e.data.badge_serial_number,n.data_table_type=e.data.data_table_type,n.raw_data_id=e.data.raw_data_id,n.raw_comments=e.data.raw_comments,n.raw_data=e.data.raw_data,n.original_filename=e.data.original_filename,this.agGridService.getSelectedRow()&&this.agGridService.getSelectedRow().id===n.id?this.agGridService.setSelectedRow(null):this.agGridService.setSelectedRow(e.data);break;case 4:break;case 5:const i=new jd;i.id=e.data.id,i.role=e.data.role,i.location_id=e.data.location_id,i.username=e.data.username,this.agGridService.getSelectedRow()&&this.agGridService.getSelectedRow().id===i.id?this.agGridService.setSelectedRow(null):this.agGridService.setSelectedRow(i);break;case 13:const r=new Ud;r.id=e.data.id,r.country=e.data.country,r.city=e.data.city,r.state=e.data.state,r.base=e.data.base,this.agGridService.getSelectedRow()&&this.agGridService.getSelectedRow().id===r.id?this.agGridService.setSelectedRow(null):this.agGridService.setSelectedRow(r)}}gridFormSetUp(){return this.gridIsSetup}exportText(){let e="";for(const t of this.columnDefs)e+=t.headerName+"|";e+="\n";for(const t of this.rowData){for(const o of this.columnDefs)e+=t[o.field]+"|";e+="\n"}this.saveTextAsFile(e,"DelimitedFile.txt")}setColumnViewDeSelect(e){if(null==this.columnDefs)return;this.columnDefs[e.columnIndex].visible=!1;const t=[];for(const o of this.columnDefs)o.visible&&t.push(o);this.gridOptions.api.setColumnDefs(t),this.gridOptions.api.sizeColumnsToFit()}setColumnViewSelectAll(e){if(null==this.columnDefs)return;const t=[];for(const o of this.columnDefs)o.visible=!0,t.push(o);this.gridOptions.api.setColumnDefs(t),this.gridOptions.api.sizeColumnsToFit()}setColumnViewDeSelectAll(e){for(const t of this.columnDefs)t.visible&&(t.visible=!1);this.gridOptions.api.setColumnDefs([]),this.gridOptions.api.sizeColumnsToFit()}setColumnViewSelect(e){if(null==this.columnDefs)return;this.columnDefs[e.columnIndex].visible=!0;const t=[];for(const o of this.columnDefs)o.visible&&t.push(o);this.gridOptions.api.setColumnDefs(t),this.gridOptions.api.sizeColumnsToFit()}saveTextAsFile(e,t){if(!e)return void this.modalService.setModalContext("No Data was presented to be exported as Delimited");t||(t="DelimitedFile.txt");const o=new Blob([e],{type:"text/plain"}),n=(window.URL.createObjectURL(o),document.createElement("a"));n.href=window.URL.createObjectURL(o),n.setAttribute("download",t),document.body.appendChild(n),n.click()}formatDate(e){const t=e.getFullYear(),o=e.getMonth(),n=e.getDay(),i=e.getHours(),r=e.getMinutes();return new ah(t+"-"+o+"-"+n+"T"+i+":"+r)}evaluateGivenRange(e,t,o){const n=[];for(const i of this.unalteredRowData){let r=new Date(i.date_created);switch(i.date_created||(r=new Date(i.date_last_updated)),e){case 0:r&&r<o&&r>t&&n.push(i);break;case 1:r&&r>t&&n.push(i);break;case 2:r&&r<o&&n.push(i)}}this.rowData=n}evaluateRowData(){let e=new Date(this.dateForm.controls.beginningTime.value),t=new Date(this.dateForm.controls.endingTime.value);e.getFullYear()<2020&&(e=null),t.getFullYear()<2020&&(t=null),e||t?this.evaluateGivenRange(e&&t?0:e?1:2,e,t):this.rowData=this.unalteredRowData}fillExact(){this.gridOptions.api.setColumnDefs(this.columnDefs),this.gridOptions.api.sizeColumnsToFit(),this.evaluateRowData(),this.gridOptions.rowData=this.rowData,this.gridIsSetup=!0}resetSubscriptions(){this.subscriptions.unsubscribe()}resetGridValues(){this.rowData=[],this.columnDefs=[],this.columnSelections=[],this.selectedItems=[],this.legendMembers=[],this.agGridService.setSelectedRow(null),this.gridIsSetup=!1}changeGrid(){switch(this.resetGridValues(),this.gridType){case 0:this.cssWrapperOverrideValue="base-wrapper-1",this.cssArticleOverride="override-article-custom-data",this.populateCustomData();break;case 1:case 7:case 8:case 9:case 10:case 11:case 12:this.legendMembers=[],this.legendMembers.push({colourName:"#ff8080",legendName:"Expired"}),this.legendMembers.push({colourName:"#ffff99",legendName:"Expires in 2 weeks"}),this.legendMembers.push({colourName:"#389611",legendName:"Not yet activated"}),this.displayLegend=!0,this.cssWrapperOverrideValue="base-wrapper-1",this.cssArticleOverride="override-article-badges",1===this.gridType?this.populateBadgeData():7===this.gridType?this.populateWearerBadgeData():12===this.gridType?this.populateWearerBadgeDataByStatus(7):9===this.gridType?this.populateWearerBadgeDataByStatus(2):8===this.gridType?this.populateSubordinantBadgeData():10===this.gridType?this.populateBadgeDataByStatus(1):11===this.gridType&&this.populateSubordinantBadgeDataByStatus(2),this.gridOptions.getRowStyle=e=>{const t=new Date(e.data.expiration_date).valueOf(),o=new Date(e.data.activated_time).valueOf(),n=new Date(e.data.turned_in_time).valueOf(),i=new Date(Date.now()).valueOf();return t<=i&&!n?{background:"#ff8080"}:t-12096e5<=i&&!n?{background:"#ffff99"}:o?void 0:{background:"#389611"}};break;case 2:this.cssWrapperOverrideValue="base-wrapper-1",this.cssArticleOverride="override-article-analytes",this.populateAnalyteData();break;case 3:this.cssWrapperOverrideValue="base-wrapper-1",this.cssArticleOverride="override-article-data-table",this.populateDataTableData();break;case 4:this.cssWrapperOverrideValue="base-wrapper-1",this.cssArticleOverride="override-article-roles",this.populateRoleData();break;case 5:this.cssWrapperOverrideValue="base-wrapper-1",this.cssArticleOverride="override-article-subordinates",this.populateSubordinantData();break;case 6:this.subscriptions.add(this.agGridService.getFoundAnalytes().subscribe(e=>{this.foundAnalyteList=e,this.refineFoundAnalytes(),this.cssWrapperOverrideValue="base-wrapper-1",this.cssArticleOverride="override-article-badges",this.populateBadgeDataByStatus(8)}));break;case 13:this.cssWrapperOverrideValue="base-wrapper-1",this.cssArticleOverride="override-article-badges",this.populateLocationData();break;default:this.resetGridValues()}}populateDataTableData(){let e;e=this.agGridService.DataTableResponse();const t=e.subscribe(e=>{console.log("Backend callback: next"),null==e||null==e[0].id?(this.columnDefs=this.createCols(),this.unalteredRowData=[],this.fillExact()):e[0].id>0&&(this.columnDefs=this.createCols(),this.unalteredRowData=this.agGridService.getRows().filter(e=>null!=e.original_filename),this.fillExact())},e=>{console.log(e),this.error=e,this.loginService.setErrorCode(e.status)},()=>{console.log("Backend callback: complete. The Data should be displayed now.")});this.subscriptions.add(t)}populateAnalyteData(){let e;e=this.agGridService.AnalyteResponse();const t=e.subscribe(e=>{console.log("Backend callback: next"),null==e||null==e[0].id?(this.columnDefs=this.createCols(),this.unalteredRowData=[],this.fillExact()):e[0].id>0&&(this.columnDefs=this.createCols(),this.unalteredRowData=this.agGridService.getRows(),this.fillExact())},e=>{console.log(e),this.error=e,this.loginService.setErrorCode(e.status)},()=>{console.log("Backend callback: complete. The Data should be displayed now.")});this.subscriptions.add(t)}populateCustomData(){let e;e=this.agGridService.createCustomGrid();const t=e.subscribe(e=>{console.log("Backend callback: next"),this.columnDefs=this.createCols(),this.unalteredRowData=this.agGridService.getRows(),this.fillExact()},e=>{console.log(e),this.error=e,this.loginService.setErrorCode(e.status)},()=>{console.log("Backend callback: complete. The Data should be displayed now.")});this.subscriptions.add(t)}formatRows(e){const t=[];for(const o of e)t.push(o);return e}formatColumns(e){return this.gridIsSetup=!0,e}populateBadgeData(){let e;e=this.agGridService.BadgeResponse();const t=e.subscribe(e=>{console.log("Backend callback: next"),null==e||null==e[0].id?(this.columnDefs=this.createCols(),this.unalteredRowData=[],this.fillExact()):e[0].id>0&&(this.columnDefs=this.createCols(),this.unalteredRowData=this.agGridService.getRows(),this.fillExact())},e=>{console.log(e),this.error=e,this.loginService.setErrorCode(e.status)},()=>{console.log("Backend callback: complete. The Data should be displayed now.")});this.subscriptions.add(t)}populateWearerBadgeData(){if(1===this.userService.getActiveUser().role){const e=this.agGridService.getWearerBadges(this.userService.getActiveUser().userId).subscribe(e=>{e&&e[0]&&e[0].id?e[0].id>0&&(this.columnDefs=this.createCols(),this.unalteredRowData=this.agGridService.getRows(),console.log("Values were found"),this.fillExact()):(this.columnDefs=this.createCols(),this.unalteredRowData=[],this.fillExact(),console.log("There are no relevant Values"))},e=>{console.log(e),this.error=e,this.loginService.setErrorCode(e.status)},()=>{});this.subscriptions.add(e)}}populateWearerBadgeDataByStatus(e){if(1===this.userService.getActiveUser().role){const t=this.agGridService.getWearerBadgesByStatus(e).subscribe(e=>{e&&e[0]&&e[0].id?e[0].id>0&&(this.columnDefs=this.createCols(),this.unalteredRowData=this.agGridService.getRows(),console.log("Values were found"),this.fillExact()):(this.columnDefs=this.createCols(),this.unalteredRowData=[],this.fillExact(),console.log("There are no relevant Values"))},e=>{console.log(e),this.error=e,this.loginService.setErrorCode(e.status)},()=>{});this.subscriptions.add(t)}}populateBadgeDataByStatus(e){console.log(e.toString());const t=this.agGridService.getBadgeByStatus(e).subscribe(e=>{e&&e[0]&&e[0].id?e[0].id>0&&(this.columnDefs=this.createCols(),this.unalteredRowData=this.agGridService.getRows(),this.fillExact()):(this.columnDefs=this.createCols(),this.unalteredRowData=[],this.fillExact())},e=>{console.log(e),this.error=e,this.loginService.setErrorCode(e.status)},()=>{});this.subscriptions.add(t)}populateSubordinantBadgeData(){let e;e=this.agGridService.getSubordinantBadges();const t=e.subscribe(e=>{console.log("Backend callback: next"),e&&e[0]&&e[0].id?e[0].id>0&&(this.columnDefs=this.createCols(),this.unalteredRowData=this.agGridService.getRows(),this.fillExact()):(this.columnDefs=this.createCols(),this.unalteredRowData=[],this.fillExact())},e=>{console.log(e),this.error=e,this.loginService.setErrorCode(e.status)},()=>{console.log("Backend callback: complete. The Data should be displayed now.")});this.subscriptions.add(t)}populateSubordinantBadgeDataByStatus(e){let t;t=this.agGridService.getSubordinantBadgesByStatus(e);const o=t.subscribe(e=>{console.log("Backend callback: next"),e&&e[0]&&e[0].id?e[0].id>0&&(this.columnDefs=this.createCols(),this.unalteredRowData=this.agGridService.getRows(),this.fillExact()):(this.columnDefs=this.createCols(),this.unalteredRowData=[],this.fillExact())},e=>{console.log(e),this.error=e,this.loginService.setErrorCode(e.status)},()=>{console.log("Backend callback: complete. The Data should be displayed now.")});this.subscriptions.add(o)}populateSubordinantData(){let e;e=this.agGridService.subordinatesResponse();const t=e.subscribe(e=>{console.log("Backend callback: next"),null==e||null==e[0]||null==e[0].id?(this.columnDefs=this.createCols(),this.unalteredRowData=[],this.fillExact()):e[0].id>0&&(this.columnDefs=this.createCols(),this.unalteredRowData=this.agGridService.getRows(),this.fillExact())},e=>{console.log(e),this.error=e,this.loginService.setErrorCode(e.status)},()=>{console.log("Backend callback: complete. The Data should be displayed now.")});this.subscriptions.add(t)}populateLocationData(){let e;e=this.agGridService.locationResponse();const t=e.subscribe(e=>{console.log("Backend callback: next"),null==e||null==e[0]||null==e[0].id?(this.columnDefs=this.createCols(),this.unalteredRowData=[],this.fillExact()):e[0].id>0&&(this.columnDefs=this.createCols(),this.unalteredRowData=this.agGridService.getRows(),this.fillExact())},e=>{console.log(e),this.error=e,this.loginService.setErrorCode(e.status)},()=>{console.log("Backend callback: complete. The Data should be displayed now.")});this.subscriptions.add(t)}makePareto(){if(this.desiredValue=null,this.showPareto=!1,6===this.gridType)this.desiredValue=this.dateForm.controls.desiredValue.value,this.desiredValue?this.agGridService.getAnalyzedTokenReportByCasNumber(this.desiredValue).subscribe(e=>{e&&(this.graphService.graphValues(e,this.gridType,!0,this.desiredValue),this.modalService.setPopOutContext("pareto"),this.showPareto=!0)}):this.modalService.setModalContext("No Selection matching parameters was found");else{if(this.gridOptions.api.isAnyFilterPresent()){this.gridOptions.api.selectAllFiltered();const e=this.gridOptions.api.getSelectedRows();return this.graphService.graphValues(e,this.gridType,!0,this.desiredValue),this.modalService.setPopOutContext("pareto"),this.showPareto=!0,void this.gridOptions.api.deselectAllFiltered()}this.graphService.graphValues(this.rowData,this.gridType,!0,this.desiredValue),this.modalService.setPopOutContext("pareto"),this.showPareto=!0}}refineFoundAnalytes(){const e=[];for(const t of this.foundAnalyteList)(e.length<1||!e.find(e=>e.cas_number===t.cas_number))&&e.push(t);this.foundAnalyteList=e}makeHistogram(){if(this.showHistogram=!1,6===this.gridType)this.agGridService.getAnalyzedTokenData().subscribe(e=>{e?(this.graphService.graphValues(e,this.gridType,!1,""),this.modalService.setPopOutContext("histogram"),this.showHistogram=!0):this.modalService.setModalContext("No Relevant Values were found at this time.")});else{if(this.gridOptions.api.isAnyFilterPresent()){this.gridOptions.api.selectAllFiltered();const e=this.gridOptions.api.getSelectedRows();return this.graphService.graphValues(e,this.gridType,!1,""),this.modalService.setPopOutContext("histogram"),this.showHistogram=!0,void this.gridOptions.api.deselectAllFiltered()}this.graphService.graphValues(this.rowData,this.gridType,!1,""),this.modalService.setPopOutContext("histogram"),this.showHistogram=!0}}populateRoleData(){let e;e=this.agGridService.RoleResponse();const t=e.subscribe(e=>{console.log("Backend callback: next"),null==e||null==e[0].id?(this.columnDefs=this.createCols(),this.unalteredRowData=[],this.fillExact()):e[0].id>0?(this.columnDefs=this.createCols(),this.unalteredRowData=this.agGridService.getRows(),this.fillExact()):this.error="Could not find values."},e=>{console.log(e),this.error=e,this.loginService.setErrorCode(e.status)},()=>{console.log("Backend callback: complete. The Data should be displayed now.")});this.subscriptions.add(t)}createCols(){this.columnSelections=[];const e=this.agGridService.getCols();let t=0;for(const o of e)this.columnSelections.push({columnIndex:t,columnName:o.headerName}),this.selectedItems.push({columnIndex:t,columnName:o.headerName}),t++;return this.disabled=!1,this.gridIsSetup=!0,e}ngOnDestroy(){this.resetSubscriptions()}}return e.\u0275fac=function(t){return new(t||e)(zd.Mb(Kd.a),zd.Mb(Yd.a),zd.Mb(qd.a),zd.Mb($d.a),zd.Mb(Qd.a),zd.Mb(Xd.a),zd.Mb(Zd.a))},e.\u0275cmp=zd.Gb({type:e,selectors:[["app-grid"]],inputs:{highlightSelectedRow:"highlightSelectedRow"},decls:7,vars:11,consts:[[3,"cssWrapperOverride","cssArticleOverride"],[4,"ngIf"],[2,"width","inherit","height","inherit"],[1,"ag-theme-alpine",2,"width","inherit","height","inherit",3,"gridOptions","rowData","columnDefs","modules","rowSelection","rowMultiSelectWithClick","rowClicked","rowDoubleClicked","gridReady"],["agGrid",""],[1,"flexContainer",3,"formGroup"],["formControlName","columnSelection",3,"ngModel","settings","placeholder","disabled","data","ngModelChange","onSelectAll","onSelect","onDeSelectAll","onDeSelect"],["id","fieldset-legend"],["class","legend-members",4,"ngFor","ngForOf"],[1,"legend-members"],[3,"ngStyle"],[3,"formGroup"],[1,"container-fluid","override-bs-container"],[1,"panel","panel-primary"],[1,"panel-heading"],["aria-controls","dateFilter",1,"btn-primary",3,"click"],[1,"glyphicon",3,"ngClass"],["id","dateFilter",1,"panel-body",3,"ngbCollapse"],[1,"panel-title"],[1,"panel-body"],["formControlName","beginningTime","type","datetime-local","id","beginningTime","placeholder","BeginningTime"],[3,"click"],["formControlName","endingTime","type","datetime-local","id","endingTime","placeholder","EndingTime"],["class","flexContainer","id","paretoGraph",4,"ngIf"],["formControlName","desiredValue","type","text","id","desiredValue","placeholder","Select Desired Analyte"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["id","paretoGraph",1,"flexContainer"],["id","pareto",3,"pop-out-id"],["id","histogram",3,"pop-out-id"]],template:function(e,t){1&e&&(zd.Sb(0,"app-layout-wrapper",0),zd.Fc(1,lh,5,6,"header",1),zd.Fc(2,ph,6,1,"nav",1),zd.Sb(3,"article",2),zd.Sb(4,"ag-grid-angular",3,4),zd.dc("rowClicked",function(e){return t.onRowClick(e)})("rowDoubleClicked",function(e){return t.onRowDoubleClick(e)})("gridReady",function(e){return t.onGridReady(e)}),zd.Rb(),zd.Rb(),zd.Fc(6,mh,34,7,"aside",1),zd.Rb()),2&e&&(zd.nc("cssWrapperOverride",t.cssWrapperOverrideValue)("cssArticleOverride",t.cssArticleOverride),zd.zb(1),zd.nc("ngIf",t.gridFormSetUp()),zd.zb(1),zd.nc("ngIf",t.displayLegend),zd.zb(2),zd.nc("gridOptions",t.gridOptions)("rowData",t.rowData)("columnDefs",t.columnDefs)("modules",t.modules)("rowSelection",t.rowSelection)("rowMultiSelectWithClick",!0),zd.zb(2),zd.nc("ngIf",t.gridFormSetUp()))},directives:[Jd.a,eh.u,th.a,Bd.H,Bd.t,Bd.l,oh.a,Bd.s,Bd.j,eh.t,eh.x,eh.r,nh.f,Bd.c,Bd.E,Bd.x,Bd.G,ih.a,rh.a,sh.a],styles:[".override-bs-container[_ngcontent-%COMP%]{padding-left:0;padding-right:0;width:inherit}.override-bs-container[_ngcontent-%COMP%] > .panel[_ngcontent-%COMP%] > .panel-heading[_ngcontent-%COMP%]{font-size:medium}"]}),e})()},NJ4a:function(e,t,o){"use strict";function n(e){setTimeout(()=>{throw e},0)}o.d(t,"a",function(){return n})},O1s9:function(e,t,o){"use strict";o.d(t,"a",function(){return a});var n=o("AytR"),i=o("fXoL"),r=o("tk/3"),s=o("qfBg");let a=(()=>{class e{constructor(e,t){this.http=e,this.userService=t}downloadFile(e,t){const o=this.userService.getActiveUser();return this.http.post(n.a.apiUrl+"/downloadFile",{activeUserId:o.userId,fileName:e,desiredFilename:t},{responseType:"blob"})}}return e.\u0275fac=function(t){return new(t||e)(i.ac(r.b),i.ac(s.a))},e.\u0275prov=i.Ib({token:e,factory:e.\u0275fac}),e})()},Ohp3:function(e,t,o){"use strict";o.d(t,"a",function(){return O});var n=o("ppW+"),i=o("7pIB"),r=o("VRyK"),s=o("fXoL"),a=o("tk/3"),l=o("gA3Z"),u=o("ofXK"),c=o("Vm+C"),p=o("3Pt+"),d=o("TTrR");function h(e,t){if(1&e&&(s.Sb(0,"span"),s.Hc(1),s.Rb()),2&e){const e=s.gc().$implicit;s.zb(1),s.Ic(e.name)}}function f(e,t){1&e&&s.Nb(0,"div")}function g(e,t){if(1&e){const e=s.Tb();s.Sb(0,"app-token-report",30),s.dc("queuedFile",function(t){return s.xc(e),s.gc(3).addToQueue(t)})("stateChanged",function(t){return s.xc(e),s.gc(2).$implicit.handleStateChange(t)}),s.Rb()}2&e&&s.nc("tokenFormData",t.$implicit)}function m(e,t){if(1&e&&s.Fc(0,g,1,1,"app-token-report",29),2&e){const e=s.gc().$implicit;s.nc("ngForOf",e.tokenReports)}}function y(e,t){if(1&e){const e=s.Tb();s.Sb(0,"label",31),s.Hc(1,"Comments: "),s.Sb(2,"textarea",32),s.dc("ngModelChange",function(t){return s.xc(e),s.gc().$implicit.damagedComments=t}),s.Rb(),s.Rb(),s.Sb(3,"button",33),s.dc("click",function(){s.xc(e);const t=s.gc().$implicit;return s.gc().submitDamagedBadgeReport(t)}),s.Hc(4," Save "),s.Rb()}if(2&e){const e=s.gc().$implicit;s.zb(2),s.oc("innerHTML",e.damagedComments,s.yc),s.nc("ngModel",e.damagedComments)}}function v(e,t){if(1&e){const e=s.Tb();s.Sb(0,"div",18),s.Sb(1,"div",19),s.Sb(2,"h4",20),s.Hc(3," Badge Serial Number: "),s.Fc(4,h,2,1,"span",21),s.Rb(),s.Rb(),s.Sb(5,"div",22),s.Sb(6,"div",23),s.Fc(7,f,1,0,"div",24),s.Fc(8,m,1,1,"ng-template",null,25,s.Gc),s.Fc(10,y,5,2,"ng-template",null,26,s.Gc),s.Sb(12,"label",27),s.Sb(13,"input",28),s.dc("ngModelChange",function(o){return s.xc(e),t.$implicit.damaged=o})("ngModelChange",function(){return t.$implicit.setStateValue("MODIFIED")}),s.Rb(),s.Hc(14," Check if badge is damaged and cannot be analyzed. "),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&e){const e=t.$implicit,o=s.vc(9),n=s.vc(11);s.nc("ngClass",e.getClassForCurrentState()),s.zb(4),s.nc("ngIf",e),s.zb(3),s.nc("ngIf",!e.damaged)("ngIfThen",o)("ngIfElse",n),s.zb(6),s.nc("ngModel",e.damaged)}}function C(e,t){if(1&e&&(s.Sb(0,"td",34),s.Hc(1),s.hc(2,"number"),s.Rb()),2&e){const e=s.gc().$implicit;s.zb(1),s.Jc(" ",s.jc(2,1,e[1].file.size/1024/1024,".2")," MB ")}}const b=function(e){return{width:e}};function w(e,t){if(1&e&&(s.Sb(0,"td"),s.Sb(1,"div",41),s.Nb(2,"div",10),s.Rb(),s.Rb()),2&e){const e=s.gc().$implicit;s.zb(2),s.nc("ngStyle",s.rc(1,b,e[1].progress+"%"))}}function E(e,t){1&e&&(s.Sb(0,"span"),s.Nb(1,"i",42),s.Rb())}function R(e,t){1&e&&(s.Sb(0,"span"),s.Nb(1,"i",15),s.Rb())}function _(e,t){1&e&&(s.Sb(0,"span"),s.Nb(1,"i",43),s.Rb())}function S(e,t){if(1&e){const e=s.Tb();s.Sb(0,"tr"),s.Sb(1,"td",34),s.Hc(2),s.Rb(),s.Sb(3,"td",35),s.Hc(4),s.Rb(),s.Sb(5,"td"),s.Sb(6,"strong"),s.Hc(7),s.Rb(),s.Rb(),s.Fc(8,C,3,4,"td",36),s.Fc(9,w,3,3,"td",21),s.Sb(10,"td",37),s.Fc(11,E,2,0,"span",21),s.Fc(12,R,2,0,"span",21),s.Fc(13,_,2,0,"span",21),s.Rb(),s.Sb(14,"td",34),s.Sb(15,"button",38),s.dc("click",function(){return t.$implicit[1].upload()}),s.Nb(16,"span",13),s.Hc(17," Upload "),s.Rb(),s.Sb(18,"button",39),s.dc("click",function(){return t.$implicit[1].cancel()}),s.Nb(19,"span",15),s.Hc(20," Cancel "),s.Rb(),s.Sb(21,"button",40),s.dc("click",function(){s.xc(e);const o=t.$implicit;return s.gc().removeFromQueue(o[0])}),s.Nb(22,"span",17),s.Hc(23," Remove "),s.Rb(),s.Rb(),s.Rb()}if(2&e){const e=t.$implicit,o=s.gc();s.zb(2),s.Ic(e[0].outerIndex),s.zb(2),s.Ic(e[0].innerIndex),s.zb(3),s.Ic(e[1].file.name),s.zb(1),s.nc("ngIf",o.fileUploader.options.isHTML5),s.zb(1),s.nc("ngIf",o.fileUploader.options.isHTML5),s.zb(2),s.nc("ngIf",e[1].isSuccess),s.zb(1),s.nc("ngIf",e[1].isCancel),s.zb(1),s.nc("ngIf",e[1].isError),s.zb(2),s.nc("disabled",e[1].isReady||e[1].isUploading||e[1].isSuccess),s.zb(3),s.nc("disabled",!e[1].isUploading)}}let O=(()=>{class e{constructor(e,t,o){this.httpClient=e,this.reportService=t,this.modalService=o,this.badgeForms=Array(),this.queuedFiles=new Map,this.fileUploader=new i.d({})}get queue(){return[...this.queuedFiles.entries()]}get queueProgress(){let e=0;for(const t of this.queuedFiles.values())e+=t.progress;return e/this.queuedFiles.size}ngOnInit(){const e=this.reportService.getBadgesWithStatus(4),t=this.reportService.getBadgesWithStatus(6),o=this.reportService.getBadgesWithStatus(8);Object(r.a)(e,t,o).subscribe(e=>{for(const t in e){const o=new n.c,i=e[t];o.badge_serial_number=i.badge_serial_number,o.tube_number=i.tube_number,o.raw_data=i.raw_data,o.comments=i.comments,o.original_filename=i.original_filename,o.raw_data_id=i.raw_data_id,o.raw_comments=i.raw_comments,o.date_last_updated=i.date_last_updated,o.data_table_id=i.data_table_id;const r=this.badgeForms.find(e=>e.name===o.badge_serial_number);if(r)r.addToTokenReports(o);else{const e=new n.a;e.name=o.badge_serial_number,e.addToTokenReports(o),e.damaged=6===i.badge_status,e.damagedComments=o.raw_comments,e.damaged&&e.setStateValue("DAMAGED"),this.badgeForms.push(e)}}},e=>{console.error("Error getting completed badges.",e)},()=>{})}submitDamagedBadgeReport(e){this.reportService.addDamagedBadgeReport(e.name,e.damagedComments).subscribe(()=>{this.modalService.setModalContext("Badge has successfully been marked damaged")},e=>{this.modalService.setModalContext("There was an error in submitting the damaged report. Check the values before sending again")})}addToQueue(e){this.queuedFiles.set({outerIndex:e.outerIndex,innerIndex:e.innerIndex},e.queuedFile)}removeFromQueue(e){this.queuedFiles.get(e).remove(),this.queuedFiles.delete(e)}uploadAll(){for(const e of this.queuedFiles.values())e.upload()}getNotUploadedItemsCount(){const e=[];for(const t of this.queuedFiles.values())t.isUploaded||e.push(t);return e.length}cancelAll(){for(const e of this.queuedFiles.values())e.isUploading&&e.cancel()}getUploadingItemsCount(){const e=[];for(const t of this.queuedFiles.values())t.isUploading&&e.push(t);return e.length}removeAll(){for(const e of this.queuedFiles.keys())this.queuedFiles.get(e).remove();this.queuedFiles.clear()}}return e.\u0275fac=function(t){return new(t||e)(s.Mb(a.b),s.Mb(n.b),s.Mb(l.a))},e.\u0275cmp=s.Gb({type:e,selectors:[["app-upload-report"]],decls:50,vars:8,consts:[[1,"container-fluid",2,"display","flex"],[1,"row"],[1,"description"],[1,"panel-group","col-lg-6"],["class","panel",3,"ngClass",4,"ngFor","ngForOf"],[1,"col-lg-6"],[1,"table"],[4,"ngFor","ngForOf"],[1,"tokenElement"],[1,"progress"],["role","progressbar",1,"progress-bar",3,"ngStyle"],[1,"buttonGroup"],["type","button",1,"btn","btn-success","btn-s",3,"disabled","click"],[1,"glyphicon","glyphicon-upload"],["type","button",1,"btn","btn-warning","btn-s",3,"disabled","click"],[1,"glyphicon","glyphicon-ban-circle"],["type","button",1,"btn","btn-danger","btn-s",3,"disabled","click"],[1,"glyphicon","glyphicon-trash"],[1,"panel",3,"ngClass"],["appCollapse","",1,"panel-heading"],[1,"panel-title"],[4,"ngIf"],[1,"panel-collapse","collapse"],[1,"panel-body"],[4,"ngIf","ngIfThen","ngIfElse"],["thenBlock",""],["elseBlock",""],[2,"display","flex"],["type","checkbox","id","damagedValue",2,"margin-right","5px",3,"ngModel","ngModelChange"],[3,"tokenFormData","queuedFile","stateChanged",4,"ngFor","ngForOf"],[3,"tokenFormData","queuedFile","stateChanged"],[2,"max-width","unset","display","unset"],["placeholder","Enter any relevant information about the damaged badge.",3,"innerHTML","ngModel","ngModelChange"],[2,"float","right",3,"click"],["nowrap",""],[2,"text-align","center"],["nowrap","",4,"ngIf"],[1,"text-center"],["type","button",1,"btn","btn-success","btn-xs",3,"disabled","click"],["type","button",1,"btn","btn-warning","btn-xs",3,"disabled","click"],["type","button",1,"btn","btn-danger","btn-xs",3,"click"],[1,"progress",2,"margin-bottom","0"],[1,"glyphicon","glyphicon-ok"],[1,"glyphicon","glyphicon-remove"]],template:function(e,t){1&e&&(s.Sb(0,"div",0),s.Sb(1,"div",1),s.Sb(2,"div"),s.Sb(3,"h3"),s.Sb(4,"b"),s.Sb(5,"strong"),s.Hc(6,"Upload Report"),s.Rb(),s.Rb(),s.Rb(),s.Sb(7,"div",2),s.Sb(8,"span",2),s.Hc(9,"Select desired badge and corresponding tube number to upload report."),s.Rb(),s.Rb(),s.Nb(10,"br"),s.Rb(),s.Sb(11,"div",3),s.Fc(12,v,15,6,"div",4),s.Rb(),s.Sb(13,"div",5),s.Sb(14,"h3"),s.Hc(15,"Upload queue"),s.Rb(),s.Sb(16,"table",6),s.Sb(17,"thead"),s.Sb(18,"tr"),s.Sb(19,"th"),s.Hc(20,"Badge"),s.Rb(),s.Sb(21,"th"),s.Hc(22,"Token"),s.Rb(),s.Sb(23,"th"),s.Hc(24,"Name"),s.Rb(),s.Sb(25,"th"),s.Hc(26,"Size"),s.Rb(),s.Sb(27,"th"),s.Hc(28,"Progress"),s.Rb(),s.Sb(29,"th"),s.Hc(30,"Status"),s.Rb(),s.Sb(31,"th"),s.Hc(32,"Actions"),s.Rb(),s.Rb(),s.Rb(),s.Sb(33,"tbody"),s.Fc(34,S,24,10,"tr",7),s.Rb(),s.Rb(),s.Sb(35,"div",8),s.Sb(36,"div"),s.Hc(37," Queue progress: "),s.Sb(38,"div",9),s.Nb(39,"div",10),s.Rb(),s.Rb(),s.Sb(40,"div",11),s.Sb(41,"button",12),s.dc("click",function(){return t.uploadAll()}),s.Nb(42,"span",13),s.Hc(43," Upload all "),s.Rb(),s.Sb(44,"button",14),s.dc("click",function(){return t.cancelAll()}),s.Nb(45,"span",15),s.Hc(46," Cancel all "),s.Rb(),s.Sb(47,"button",16),s.dc("click",function(){return t.removeAll()}),s.Nb(48,"span",17),s.Hc(49," Remove all "),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&e&&(s.zb(12),s.nc("ngForOf",t.badgeForms),s.zb(22),s.nc("ngForOf",t.queue),s.zb(5),s.nc("ngStyle",s.rc(6,b,t.queueProgress+"%")),s.zb(2),s.nc("disabled",!t.getNotUploadedItemsCount()),s.zb(3),s.nc("disabled",!t.getUploadingItemsCount()),s.zb(3),s.nc("disabled",!t.queue.length))},directives:[u.t,u.x,u.r,c.a,u.u,p.a,p.s,p.v,d.a,p.c],pipes:[u.g],styles:['.flexElement[_ngcontent-%COMP%]{display:flex;align-items:stretch;margin:5px 0}textarea[_ngcontent-%COMP%]{display:block;padding:10px;margin:10px 0 0;width:100%;height:90%;border-right:1px solid;resize:none}textarea[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{overflow:auto}ul[_ngcontent-%COMP%]{max-height:600px;overflow-scrolling:auto}.tokenContainer[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.tokenContainer[_ngcontent-%COMP%], .tokenElement[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.tokenElement[_ngcontent-%COMP%]{flex-direction:column}.collapse[_ngcontent-%COMP%]   .icon-class[_ngcontent-%COMP%]:before{content:">";padding-right:5px}.icon-class[_ngcontent-%COMP%]:before{content:"v";padding-right:5px}.description[_ngcontent-%COMP%]{align-content:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;-webkit-text-fill-color:#666}']}),e})()},PoUn:function(e,t){},RkJb:function(e,t,o){"use strict";o.d(t,"a",function(){return f});var n=o("Kqap"),i=o("BFxc"),r=o("xbPD"),s=o("mCNh"),a=o("quSY"),l=o("LRne"),u=o("fXoL"),c=o("Tv8v");const p=function(e){return{color:e}};function d(e,t){if(1&e&&(u.Sb(0,"li",5),u.Hc(1),u.Sb(2,"span",6),u.Hc(3),u.Rb(),u.Rb()),2&e){const e=t.$implicit,o=t.index;u.zb(1),u.Jc(" ",o+1,". "),u.zb(1),u.nc("ngStyle",u.rc(3,p,e.colour)),u.zb(1),u.Jc(" ",e.colName,"")}}function h(e,t){1&e&&u.Nb(0,"app-histogram-group",7),2&e&&u.nc("group",t.$implicit)}let f=(()=>{class e{constructor(e){this.graphService=e,this.groups=[],this.members=[],this.graphHeader="",this.subscriptions=new a.a}ngOnDestroy(){this.subscriptions.unsubscribe()}ngOnInit(){this.subscriptions.add(this.graphService.dataPopulated.subscribe(e=>{if(e&&!this.graphService.paretoGraph){this.groups=[],this.members=[],this.graphHeader=this.graphService.getGraphHeader();const e=this.graphService.getGroups(),t=this.graphService.getBars();if(e.length<1||t.length<1)this.groups=this.buildDefaultData();else{this.groups=e;for(const e of t)this.members.length<1?this.members.push(e):this.members.includes(e)||this.members.some(t=>t.colName===e.colName)||this.members.push(e);this.determineColors()}}}))}buildDefaultData(){const e={barGroupName:"Group 1",bars:[{id:"",width:"",colName:"Column1",height:Math.round(100*Math.random()),colour:void 0},{id:"",width:"",colName:"Column2",height:Math.round(100*Math.random()),colour:void 0},{id:"",width:"",colName:"Column3",height:Math.round(100*Math.random()),colour:void 0},{id:"",width:"",colName:"Column4",height:Math.round(100*Math.random()),colour:void 0}]},t={barGroupName:"Group 2",bars:[{id:"",width:"",colName:"Column1",height:Math.round(100*Math.random()),colour:void 0},{id:"",width:"",colName:"Column2",height:Math.round(100*Math.random()),colour:void 0},{id:"",width:"",colName:"Column3",height:Math.round(100*Math.random()),colour:void 0}]},o={barGroupName:"Group 3",bars:[{id:"",width:"",colName:"Column1",height:Math.round(100*Math.random()),colour:void 0},{id:"",width:"",colName:"Column2",height:Math.round(100*Math.random()),colour:void 0},{id:"",width:"",colName:"Column3",height:Math.round(100*Math.random()),colour:void 0},{id:"",width:"",colName:"Column4",height:Math.round(100*Math.random()),colour:void 0},{id:"",width:"",colName:"Column5",height:Math.round(100*Math.random()),colour:void 0},{id:"",width:"",colName:"Column6",height:Math.round(100*Math.random()),colour:void 0},{id:"",width:"",colName:"Column7",height:Math.round(100*Math.random()),colour:void 0}]},a={barGroupName:"Group 4",bars:[{id:"",width:"",colName:"Column1",height:Math.round(100*Math.random()),colour:void 0},{id:"",width:"",colName:"Column2",height:Math.round(100*Math.random()),colour:void 0},{id:"",width:"",colName:"Column3",height:Math.round(100*Math.random()),colour:void 0},{id:"",width:"",colName:"Column4",height:Math.round(100*Math.random()),colour:void 0}]};let u;return Object(l.a)(e,t,o,a).pipe((c=(e,t)=>e.bars.length>t.bars.length?1:-1,function(e,t){return arguments.length>=2?function(o){return Object(s.a)(Object(n.a)(e,t),Object(i.a)(1),Object(r.a)(t))(o)}:function(t){return Object(s.a)(Object(n.a)((t,o,n)=>e(t,o,n+1)),Object(i.a)(1))(t)}}((e,t)=>c(e,t)>0?e:t))).subscribe(e=>{u=this.getRandomColorStrings(e.bars.length),this.members=e.bars}),[e,t,o,a].forEach(e=>{e.bars.forEach((e,t)=>{e.colour=u[t]})}),[e,t,o,a];var c}determineColors(){let e;this.groups.sort((e,t)=>e.bars.length<t.bars.length?-1:e.bars.length>t.bars.length?1:0),this.groups.reverse(),e=this.getRandomColorStrings(this.groups[0].bars.length),this.groups.forEach(t=>{t.bars.forEach((t,o)=>{t.colour=e[o]})})}getRandomColorStrings(e){const t=[];for(let o=0;o<e;o++){const e=this.graphService.colorModel.getColorAtIndex(Math.round(Math.random()*this.graphService.colorModel.colors.length));t.push(e)}return t}}return e.\u0275fac=function(t){return new(t||e)(u.Mb(c.a))},e.\u0275cmp=u.Gb({type:e,selectors:[["app-histogram"]],decls:12,vars:3,consts:[[1,"flexElement"],["id","fieldset-legend"],["class","legend-members",4,"ngFor","ngForOf"],[1,"flex-container"],[3,"group",4,"ngFor","ngForOf"],[1,"legend-members"],[3,"ngStyle"],[3,"group"]],template:function(e,t){1&e&&(u.Sb(0,"div",0),u.Sb(1,"h1"),u.Sb(2,"b"),u.Sb(3,"strong"),u.Hc(4),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(5,"fieldset"),u.Sb(6,"legend",1),u.Hc(7,"Members:"),u.Rb(),u.Sb(8,"ul"),u.Fc(9,d,4,5,"li",2),u.Rb(),u.Rb(),u.Sb(10,"div",3),u.Fc(11,h,1,1,"app-histogram-group",4),u.Rb()),2&e&&(u.zb(4),u.Ic(t.graphHeader),u.zb(5),u.nc("ngForOf",t.members),u.zb(2),u.nc("ngForOf",t.groups))},styles:[".flex-container[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:flex-end}.flex-item[_ngcontent-%COMP%]{align-self:flex-start}app-histogram-group[_ngcontent-%COMP%]{margin-right:10px}.legend-members[_ngcontent-%COMP%]{list-style:none}#fieldset-legend[_ngcontent-%COMP%]{margin:0 5px}fieldset[_ngcontent-%COMP%]{text-align:center;border:1px solid #000;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding-right:25px}.description[_ngcontent-%COMP%]{align-content:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;-webkit-text-fill-color:#666}"]}),e})()},SeVD:function(e,t,o){"use strict";o.d(t,"a",function(){return c});var n=o("ngJS"),i=o("NJ4a"),r=o("Lhse"),s=o("kJWO"),a=o("I55L"),l=o("c2HN"),u=o("XoHu");const c=e=>{if(e&&"function"==typeof e[s.a])return c=e,e=>{const t=c[s.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(a.a)(e))return Object(n.a)(e);if(Object(l.a)(e))return o=e,e=>(o.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,i.a),e);if(e&&"function"==typeof e[r.a])return t=e,e=>{const o=t[r.a]();for(;;){const t=o.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof o.return&&e.add(()=>{o.return&&o.return()}),e};{const t=Object(u.a)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,o,c}},SpAZ:function(e,t,o){"use strict";function n(e){return e}o.d(t,"a",function(){return n})},SxV6:function(e,t,o){"use strict";o.d(t,"a",function(){return u});var n=o("sVev"),i=o("pLZG"),r=o("IzEk"),s=o("xbPD"),a=o("XDbj"),l=o("SpAZ");function u(e,t){const o=arguments.length>=2;return u=>u.pipe(e?Object(i.a)((t,o)=>e(t,o,u)):l.a,Object(r.a)(1),o?Object(s.a)(t):Object(a.a)(()=>new n.a))}},"T+4S":function(e,t,o){"use strict";o.d(t,"a",function(){return g});var n=o("3Pt+"),i=o("quSY"),r=o("fXoL"),s=o("tk/3"),a=o("Wl7B"),l=o("gA3Z"),u=o("Bx/L"),c=o("ofXK"),p=o("Ludi"),d=o("HE9a");function h(e,t){if(1&e&&(r.Sb(0,"option",10),r.Hc(1),r.Rb()),2&e){const e=t.$implicit;r.oc("value",e.badge_serial_number),r.zb(1),r.Jc(" ",e.badge_serial_number," ")}}function f(e,t){if(1&e&&(r.Sb(0,"div"),r.Nb(1,"app-analyzed-data",11),r.Rb()),2&e){const e=r.gc();r.zb(1),r.nc("selectedBadge",e.selectedBadge)("assignedUserId",e.analyzedInformation.controls.username.value)("assignedUser",e.assignedUser)("analyst",e.analyst)}}let g=(()=>{class e{constructor(e,t,o,r){this.http=e,this.gridService=t,this.modalService=o,this.badgeService=r,this.analyzedInformation=new n.k({username:new n.h,badgeSerialNumber:new n.h,dateCheckedOut:new n.h,dateCheckedIn:new n.h}),this.showFormValue=!1,this.showAnalyzedForm=!1,this.constantSub=new i.a,this.subscriptions=new i.a,this.gridService.setGridType(6),this.badgeList=[],this.userList=[],this.assignedUser=null,this.analyst=null}showForm(){return this.showFormValue=!0,this.showFormValue}checkBadgeData(){this.showAnalyzedForm=!1;const e=this.analyzedInformation.controls.badgeSerialNumber.value;e?(this.selectedBadge=this.badgeList.find(t=>t.badge_serial_number===e),this.selectedBadge&&this.userValues()):this.modalService.setModalContext("Improper Format for the Badge Data, Please ensure fields are properly filled out")}showSelectedInfo(){this.assignedUser=null,this.analyst=null,this.showAnalyzedForm=!1,this.selectedBadge=this.gridService.getSelectedRow(),this.selectedBadge&&this.selectedBadge.badge_serial_number&&this.analyzedInformation.controls.badgeSerialNumber.setValue(this.selectedBadge.badge_serial_number),this.selectedBadge&&this.userValues()}userValues(){const e=this.userList.find(e=>e.Username===this.selectedBadge.assigned_user);e&&(this.badgeService.getSelectedUser(e.id).subscribe(e=>{e&&(this.assignedUser=e[0])},e=>{console.log(e)},()=>{this.assignedUser?(console.log("Assigned User set: "+this.assignedUser),this.determineDisplayAnalyzed()):(console.log("Could not find Assigned User."),this.selectedBadge&&this.analyst&&this.modalService.setModalContext("The Data for this badge has yet to be analyzed."))}),this.badgeService.getAnalyst(this.selectedBadge.badge_serial_number).subscribe(e=>{e&&(this.analyst=e[0])},e=>{console.log(e)},()=>{this.analyst?(console.log("Analyst User set as: "+this.analyst),this.determineDisplayAnalyzed()):(console.log("Could not find analyst."),this.selectedBadge&&this.assignedUser&&this.modalService.setModalContext("The Data for this badge has yet to be analyzed."))}))}determineDisplayAnalyzed(){this.selectedBadge&&this.assignedUser&&this.analyst?this.showAnalyzedForm=!0:(this.showAnalyzedForm=!1,console.log("Will Not Show Form. "),console.log("Analyst: "+this.analyst),console.log("Assigned User: "+this.assignedUser),console.log("Selected Badge: "+this.selectedBadge))}ngOnInit(){this.badgeService.getUserList().subscribe(e=>{e&&(this.userList=e)}),this.constantSub.add(this.gridService.rowSelected.subscribe(e=>{e?this.showSelectedInfo():(this.analyzedInformation.reset(),this.selectedBadge=null,this.showAnalyzedForm=!1,this.assignedUser=null,this.analyst=null)})),this.badgeService.getBadgeByStatus(8).subscribe(e=>{e&&(this.badgeList=e,this.analyzedInformation.controls.badgeSerialNumber.setValue(this.badgeList),this.showForm())})}resetSubscriptions(){this.subscriptions.unsubscribe()}ngOnDestroy(){this.resetSubscriptions(),this.constantSub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.Mb(s.b),r.Mb(a.a),r.Mb(l.a),r.Mb(u.a))},e.\u0275cmp=r.Gb({type:e,selectors:[["app-analyzed-data-selection"]],decls:24,vars:4,consts:[[1,"flexContainer"],[1,"flexElement"],[1,"description"],[1,"flexContainer",3,"formGroup"],[1,"input-group","flexElement"],["formControlName","badgeSerialNumber","type","text","id","badgeSerialNumber","placeholder","BadgeSerialNumber"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","submit","id","submitButton",1,"btn","btn-default",3,"disabled","click"],[4,"ngIf"],[3,"value"],[3,"selectedBadge","assignedUserId","assignedUser","analyst"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"h3"),r.Sb(3,"b"),r.Sb(4,"strong"),r.Hc(5,"Analyzed Data"),r.Rb(),r.Rb(),r.Rb(),r.Sb(6,"div",2),r.Sb(7,"span",2),r.Hc(8,"Select which badges' values you wish to view."),r.Rb(),r.Rb(),r.Nb(9,"div"),r.Rb(),r.Sb(10,"div",1),r.Sb(11,"form",3),r.Sb(12,"div",4),r.Sb(13,"label"),r.Hc(14," Badge Serial Number: "),r.Rb(),r.Sb(15,"select",5),r.Nb(16,"option",6),r.Fc(17,h,2,2,"option",7),r.Rb(),r.Rb(),r.Sb(18,"div",1),r.Sb(19,"button",8),r.dc("click",function(){return t.checkBadgeData()}),r.Hc(20," Preview Analyzed Data "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Fc(21,f,2,4,"div",9),r.Sb(22,"div",1),r.Nb(23,"app-grid"),r.Rb(),r.Rb()),2&e&&(r.zb(11),r.nc("formGroup",t.analyzedInformation),r.zb(6),r.nc("ngForOf",t.badgeList),r.zb(2),r.nc("disabled",!t.analyzedInformation.valid),r.zb(2),r.nc("ngIf",t.selectedBadge&&t.assignedUser&&t.analyst))},directives:[n.H,n.t,n.l,n.E,n.s,n.j,n.x,n.G,c.t,c.u,p.a,d.a],styles:["label[_ngcontent-%COMP%]{min-width:150px}input-group[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{align-content:flex-start}input-group[_ngcontent-%COMP%]{min-width:355px}#badgeSerialNumber[_ngcontent-%COMP%], #username[_ngcontent-%COMP%]{min-width:100px}#dateCheckedIn[_ngcontent-%COMP%], #dateCheckedOut[_ngcontent-%COMP%]{align-content:flex-start}.description[_ngcontent-%COMP%]{align-content:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;-webkit-text-fill-color:#666}"]}),e})()},T8TK:function(e,t,o){"use strict";o.d(t,"a",function(){return v});var n=o("3Pt+"),i=o("quSY"),r=o("fXoL"),s=o("tk/3"),a=o("Bx/L"),l=o("Wl7B"),u=o("gA3Z"),c=o("qfBg"),p=o("ofXK"),d=o("Ludi");function h(e,t){1&e&&(r.Sb(0,"h3"),r.Sb(1,"b"),r.Sb(2,"strong"),r.Hc(3,"Assign Badge to Subordinate"),r.Rb(),r.Rb(),r.Rb())}function f(e,t){1&e&&(r.Sb(0,"h3"),r.Sb(1,"b"),r.Sb(2,"strong"),r.Hc(3,"Activate Badge"),r.Rb(),r.Rb(),r.Rb())}function g(e,t){if(1&e&&(r.Sb(0,"option",12),r.Hc(1),r.Rb()),2&e){const e=t.$implicit;r.oc("value",e.badge_serial_number),r.zb(1),r.Jc(" ",e.badge_serial_number," ")}}function m(e,t){if(1&e&&(r.Sb(0,"option",12),r.Hc(1),r.Rb()),2&e){const e=t.$implicit;r.oc("value",e.username),r.zb(1),r.Jc(" ",e.username," ")}}function y(e,t){if(1&e&&(r.Sb(0,"div",5),r.Sb(1,"label"),r.Hc(2," Assigned User: "),r.Rb(),r.Sb(3,"select",13),r.Nb(4,"option",7),r.Fc(5,m,2,2,"option",8),r.Rb(),r.Rb()),2&e){const e=r.gc();r.zb(5),r.nc("ngForOf",e.users)}}let v=(()=>{class e{constructor(e,t,o,r,s){this.http=e,this.badgeService=t,this.gridService=o,this.modalService=r,this.userService=s,this.badgeInformation=new n.k({badgeSerialNumber:new n.h,assignedUser:new n.h(""),activatedTime:new n.h("")}),this.registered=!1,this.users=null,this.badges=null,this.error=null,this.userRole=this.userService.getActiveUser().role,this.badgeStatus=null,1===this.userRole?(this.gridService.setGridType(12),this.buttonLabel="Activate Badge"):(this.gridService.setGridType(10),this.buttonLabel="Issue Badge"),this.subscriptions=new i.a,this.constantSubscriptions=new i.a}showSelectedBadgeData(){const e=this.gridService.getSelectedRow();e&&(e.activated_time&&this.badgeInformation.controls.activatedTime.setValue(e.activated_time),e.assigned_user&&this.badgeInformation.controls.assignedUser.setValue(e.assigned_user),this.badgeInformation.controls.badgeSerialNumber.setValue(e.badge_serial_number))}checkBadgeData(){this.activatedTimeValue=this.badgeInformation.controls.activatedTime.value,this.selectedUserValue=this.badgeInformation.controls.assignedUser.value,this.badgeSerialNumberValue=this.badgeInformation.controls.badgeSerialNumber.value,""!==this.badgeSerialNumberValue&&""!==this.selectedUserValue?(this.determineBadgeStatus(),this.updateBadge()):this.modalService.setModalContext("Improper Format for the Badge Data, Please ensure fields are properly filled out")}determineBadgeStatus(){this.badgeStatus=""===this.selectedUserValue||this.activatedTimeValue?2:7}updateBadge(){console.log("Ready To Issue Badge Data to Database!");const e=this.formatDate(this.activatedTimeValue);1===this.userRole?this.badgeService.issueBadgeData(this.badgeSerialNumberValue,this.badgeStatus,this.userService.getActiveUser().username,e).subscribe(e=>{},e=>{this.badgeService.handleError(e)},()=>{this.badgeService.getWearerBadgeList(7).subscribe(e=>{this.badges=e,this.badgeInformation.controls.badgeSerialNumber.setValue(this.badges)},()=>{},()=>{this.resetValues()})}):this.subscriptions.add(this.badgeService.issueBadgeData(this.badgeSerialNumberValue,this.badgeStatus,this.selectedUserValue,e).subscribe(e=>{},e=>{this.badgeService.handleError(e)},()=>{this.badgeService.getBadgeList(1).subscribe(e=>{this.badges=e,this.badgeInformation.controls.badgeSerialNumber.setValue(this.badges)},e=>{console.log(e)},()=>{this.resetValues()})}))}resetValues(){this.modalService.setModalContext("Badge "+this.badgeSerialNumberValue+" has been updated in the database"),this.badgeInformation.reset(),this.gridService.setGridType(1===this.userRole?12:10),this.badgeStatus=null,this.resetSubscriptions()}formatDate(e){if(null===e)return null;const t=(e+"").slice(0,16).replace("T"," ")+":00";return console.log("The New Formatted Time is: "+t),t}ngOnInit(){this.constantSubscriptions.add(this.gridService.rowSelected.subscribe(e=>{e?this.showSelectedBadgeData():this.badgeInformation.reset()})),1===this.userRole?this.subscriptions.add(this.badgeService.getWearerBadgeList(7).subscribe(e=>{this.badges=e,this.badgeInformation.controls.badgeSerialNumber.setValue(this.badges)})):(this.subscriptions.add(this.badgeService.getBadgeList(1).subscribe(e=>{this.badges=e,this.badgeInformation.controls.badgeSerialNumber.setValue(this.badges)})),this.constantSubscriptions.add(this.gridService.subordinatesResponse().subscribe(e=>{this.users=e,this.badgeInformation.controls.assignedUser.setValue(this.users)})))}resetSubscriptions(){this.subscriptions.unsubscribe()}ngOnDestroy(){this.resetSubscriptions(),this.constantSubscriptions.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.Mb(s.b),r.Mb(a.a),r.Mb(l.a),r.Mb(u.a),r.Mb(c.a))},e.\u0275cmp=r.Gb({type:e,selectors:[["app-badge-issue"]],decls:26,vars:7,consts:[[1,"flexContainer"],[1,"flexElement"],[4,"ngIf"],[1,"description"],[1,"flexContainer",3,"formGroup"],[1,"input-group","flexElement"],["formControlName","badgeSerialNumber","type","text","id","badgeSerialNumber","placeholder","BadgeSerialNumber"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","input-group flexElement",4,"ngIf"],["formControlName","activatedTime","type","datetime-local","id","activatedTime","placeholder","ActivatedTime"],["type","submit","id","submitButton",1,"btn","btn-default",3,"disabled","click"],[3,"value"],["id","assignedUser","formControlName","assignedUser","placeHolder","AssignedUser"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Fc(2,h,4,0,"h3",2),r.Fc(3,f,4,0,"h3",2),r.Sb(4,"div",3),r.Sb(5,"span",3),r.Hc(6,"Select desired badge from drop down menu or double click badge in table."),r.Rb(),r.Rb(),r.Nb(7,"div"),r.Rb(),r.Sb(8,"div",1),r.Sb(9,"form",4),r.Sb(10,"div",5),r.Sb(11,"label"),r.Hc(12," Badge Serial Number: "),r.Rb(),r.Sb(13,"select",6),r.Nb(14,"option",7),r.Fc(15,g,2,2,"option",8),r.Rb(),r.Rb(),r.Fc(16,y,6,1,"div",9),r.Sb(17,"div",5),r.Sb(18,"label"),r.Hc(19," Activated Time: "),r.Rb(),r.Nb(20,"input",10),r.Rb(),r.Sb(21,"div",1),r.Sb(22,"button",11),r.dc("click",function(){return t.checkBadgeData()}),r.Hc(23),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(24,"div",1),r.Nb(25,"app-grid"),r.Rb(),r.Rb()),2&e&&(r.zb(2),r.nc("ngIf",1!==t.userRole),r.zb(1),r.nc("ngIf",1===t.userRole),r.zb(6),r.nc("formGroup",t.badgeInformation),r.zb(6),r.nc("ngForOf",t.badges),r.zb(1),r.nc("ngIf",1!==t.userRole),r.zb(6),r.nc("disabled",!t.badgeInformation.valid),r.zb(1),r.Jc(" ",t.buttonLabel," "))},directives:[p.u,n.H,n.t,n.l,n.E,n.s,n.j,n.x,n.G,p.t,n.c,d.a],styles:["label[_ngcontent-%COMP%]{min-width:150px;align-content:flex-start}#assignedUser[_ngcontent-%COMP%], #badgeSerialNumber[_ngcontent-%COMP%]{min-width:110px}#activatedTime[_ngcontent-%COMP%]{align-content:flex-start}.description[_ngcontent-%COMP%]{align-content:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;-webkit-text-fill-color:#666}"]}),e})()},TTrR:function(e,t,o){"use strict";o.d(t,"a",function(){return b});var n=o("fXoL"),i=o("7pIB"),r=o("AytR"),s=o("ppW+"),a=o("qfBg"),l=o("gA3Z"),u=o("ofXK"),c=o("Vm+C"),p=o("Zsim"),d=o("ehUb");function h(e,t){1&e&&n.Nb(0,"div")}function f(e,t){if(1&e&&(n.Sb(0,"h5"),n.Hc(1,"Previous file found uploaded for this token."),n.Rb(),n.Sb(2,"ul"),n.Sb(3,"li"),n.Sb(4,"label"),n.Hc(5),n.Rb(),n.Rb(),n.Rb()),2&e){const e=n.gc();n.zb(5),n.Jc(" Filename: ",e.tokenFormData.original_filename,"")}}function g(e,t){1&e&&(n.Sb(0,"h5"),n.Hc(1,"Add a file to the upload queue"),n.Rb())}function m(e,t){1&e&&n.Nb(0,"div")}function y(e,t){if(1&e&&(n.Sb(0,"li"),n.Hc(1),n.hc(2,"slice"),n.Rb()),2&e){const e=t.$implicit;n.zb(1),n.Jc(" ",n.kc(2,1,e,0,10)," ")}}function v(e,t){if(1&e&&(n.Sb(0,"h5"),n.Hc(1,"Previous requested compounds this token."),n.Rb(),n.Sb(2,"ul"),n.Fc(3,y,3,5,"li",19),n.Rb()),2&e){const e=n.gc();n.zb(3),n.nc("ngForOf",e.requestedCompounds)}}function C(e,t){1&e&&(n.Sb(0,"h5"),n.Hc(1," Provide the compounds requested with their found analyzed quantities "),n.Rb())}let b=(()=>{class e{constructor(e,t,o){this.reportService=e,this.userService=t,this.modalService=o,this.queuedFile=new n.o,this.stateChanged=new n.o,this.uploader=new i.d({url:r.a.apiUrl+"/upload",authToken:this.userService.userAuthToken,itemAlias:"file"}),this.requestedCompounds=[]}ngOnInit(){const e=this.tokenFormData.badge_serial_number,t=this.tokenFormData.tube_number;this.uniqueUploaderName=e+"-"+t+"-uploader",this.uniquePopoutName=e+"-"+t+NaN,this.handleUploaderEvents()}handleUploaderEvents(){this.uploader.onAfterAddingFile=e=>{e.withCredentials=!1,this.queuedFile.emit({outerIndex:this.tokenFormData.badge_serial_number,innerIndex:this.tokenFormData.tube_number,queuedFile:e}),this.handleStateUpdate("MODIFIED")},this.uploader.onBuildItemForm=(e,t)=>{t.append("badge_serial_number",this.tokenFormData.badge_serial_number),t.append("tube_number",this.tokenFormData.tube_number),t.append("raw_comments",this.tokenFormData.raw_comments),t.append("uploaded_by",this.userService.getActiveUser().userId),t.append("raw_data_id",this.tokenFormData.raw_data_id)},this.uploader.onErrorItem=()=>this.handleStateUpdate("ERROR"),this.uploader.onCompleteItem=(e,t,o,n)=>{const i=JSON.parse(t);200===o&&i.affectedRows>0?(this.tokenFormData.original_filename=e.file.name,this.handleStateUpdate("COMPLETED")):this.handleStateUpdate("ERROR")}}showAnalyzedValues(e){e.stopPropagation(),this.modalService.setPopOutContext(this.uniquePopoutName)}handleStateUpdate(e){switch(e){case"DEFAULT":null!==this.tokenFormData.original_filename?(this.tokenFormData.setStateValue("PARTIAL_COMPLETION"),this.stateChanged.emit("PARTIAL_COMPLETION")):(this.tokenFormData.setStateValue(e),this.stateChanged.emit(e));break;case"MODIFIED":case"PARTIAL_COMPLETION":this.tokenFormData.setStateValue(e),this.stateChanged.emit(e);break;case"ERROR":console.debug("Emitting ERROR"),this.tokenFormData.setStateValue(e),this.stateChanged.emit(e);break;case"COMPLETED":null!==this.tokenFormData.original_filename?(this.tokenFormData.setStateValue(e),this.stateChanged.emit(e)):(this.tokenFormData.setStateValue("PARTIAL_COMPLETION"),this.stateChanged.emit("PARTIAL_COMPLETION"));break;default:console.debug("Emitting ERROR"),this.tokenFormData.setStateValue("ERROR"),this.stateChanged.emit("ERROR")}}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(s.b),n.Mb(a.a),n.Mb(l.a))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-token-report"]],inputs:{tokenFormData:"tokenFormData"},outputs:{queuedFile:"queuedFile",stateChanged:"stateChanged"},decls:27,vars:16,consts:[[1,"container-fluid"],[1,"panel-group"],[1,"panel",3,"ngClass"],["appCollapse","",1,"panel-heading"],[1,"panel-title"],[1,"collapse"],[1,"panel-body"],[4,"ngIf","ngIfThen","ngIfElse"],["thenFileBlock",""],["elseFileBlock",""],[1,"custom-file-upload",3,"for"],[1,"glyphicon","glyphicon-cloud-upload"],["type","file","ng2FileSelect","",3,"id","name","uploader"],["thenCompoundBlock",""],["elseCompoundBlock",""],[1,"custom-file-upload",3,"for","click"],[1,"glyphicon","glyphicon-comment"],[3,"pop-out-id","id"],[3,"tokenFormData","state","compounds"],[4,"ngFor","ngForOf"]],template:function(e,t){if(1&e&&(n.Sb(0,"div",0),n.Sb(1,"div",1),n.Sb(2,"div",2),n.Sb(3,"div",3),n.Sb(4,"h4",4),n.Hc(5),n.Rb(),n.Rb(),n.Sb(6,"div",5),n.Sb(7,"div",6),n.Fc(8,h,1,0,"div",7),n.Fc(9,f,6,1,"ng-template",null,8,n.Gc),n.Fc(11,g,2,0,"ng-template",null,9,n.Gc),n.Sb(13,"label",10),n.Nb(14,"i",11),n.Hc(15," Choose File "),n.Rb(),n.Nb(16,"input",12),n.Fc(17,m,1,0,"div",7),n.Fc(18,v,4,1,"ng-template",null,13,n.Gc),n.Fc(20,C,2,0,"ng-template",null,14,n.Gc),n.Sb(22,"label",15),n.dc("click",function(e){return t.showAnalyzedValues(e)}),n.Nb(23,"i",16),n.Hc(24," Add Analyzed Value(s) "),n.Rb(),n.Sb(25,"app-pop-out-window",17),n.Sb(26,"app-analysis-results",18),n.dc("state",function(e){return t.handleStateUpdate(e)})("compounds",function(e){return t.requestedCompounds=e}),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb()),2&e){const e=n.vc(10),o=n.vc(12),i=n.vc(19),r=n.vc(21);n.zb(2),n.nc("ngClass",t.tokenFormData.getClassForCurrentState()),n.zb(3),n.Jc(" Tube Number: ",t.tokenFormData.tube_number," "),n.zb(3),n.nc("ngIf",t.tokenFormData.original_filename)("ngIfThen",e)("ngIfElse",o),n.zb(5),n.oc("for",t.uniqueUploaderName),n.zb(3),n.oc("id",t.uniqueUploaderName),n.oc("name",t.uniqueUploaderName),n.nc("uploader",t.uploader),n.zb(1),n.nc("ngIf",t.requestedCompounds.length>0)("ngIfThen",i)("ngIfElse",r),n.zb(5),n.oc("for",t.uniquePopoutName),n.zb(3),n.oc("id",t.uniquePopoutName),n.nc("pop-out-id",t.uniquePopoutName),n.zb(1),n.nc("tokenFormData",t.tokenFormData)}},directives:[u.r,c.a,u.u,i.b,p.a,d.a,u.t],pipes:[u.F],styles:[".tokenContainer[_ngcontent-%COMP%]{display:flex}.buttonGroup[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-evenly}table[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{transition:width,flex;transition-timing-function:ease-out;transition-duration:2s;transition-delay:-1s}textarea[_ngcontent-%COMP%]{display:block;padding:10px;margin:10px 0 0;width:100%;height:90%;border-right:1px solid;resize:none;overflow:auto}.myPanel[_ngcontent-%COMP%]{border:1px solid #4682b4;padding:10px 18px;background-color:#fff;overflow:hidden}input[type=file][_ngcontent-%COMP%]{display:none}.custom-file-upload[_ngcontent-%COMP%]{border:1px solid #ccc;display:block;padding:6px 12px;cursor:pointer}.custom-file-upload[_ngcontent-%COMP%]:hover{background-color:#4682b4}.description[_ngcontent-%COMP%]{align-content:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;-webkit-text-fill-color:#666}"]}),e})()},Tv8v:function(e,t,o){"use strict";o.d(t,"a",function(){return c});var n=o("2Vo4"),i=o("quSY"),r=o("AytR");class s{constructor(){this.colors=[{colorName:"Orange",colorHexValue:"#ff5e24"},{colorName:"Purple",colorHexValue:"#7d31ff"},{colorName:"Pink",colorHexValue:"#ff375c"},{colorName:"Purple",colorHexValue:"#7d31ff"},{colorName:"Gold",colorHexValue:"#9e9e00"},{colorName:"Blue",colorHexValue:"#472bff"},{colorName:"LPurple",colorHexValue:"#b12bff"},{colorName:"LBlue",colorHexValue:"#2bc6ff"},{colorName:"Red",colorHexValue:"#ff3d2b"},{colorName:"BOrange",colorHexValue:"#db6c2c"},{colorName:"Maroon",colorHexValue:"#ff2b72"},{colorName:"Green",colorHexValue:"#229413"},{colorName:"Aqua",colorHexValue:"#139476"},{colorName:"Grass",colorHexValue:"#639413"},{colorName:"Grey",colorHexValue:"#7e9a9a"},{colorName:"Navy",colorHexValue:"#2a6592"},{colorName:"Forest",colorHexValue:"#004200"},{colorName:"DGrey",colorHexValue:"#3d3d3d"},{colorName:"BloodRed",colorHexValue:"#c20000"},{colorName:"Tan",colorHexValue:"#c0955d"}],this.LblueGradient=[{colorName:"",colorHexValue:"#7575ff"},{colorName:"",colorHexValue:"#6b6bff"},{colorName:"",colorHexValue:"#6b6bff"},{colorName:"",colorHexValue:"#6161ff"},{colorName:"",colorHexValue:"#5c5cff"},{colorName:"",colorHexValue:"#5252ff"},{colorName:"",colorHexValue:"#4747ff"},{colorName:"",colorHexValue:"#4242ff"},{colorName:"",colorHexValue:"#3838ff"},{colorName:"",colorHexValue:"#2e2eff"},{colorName:"",colorHexValue:"#2929ff"},{colorName:"",colorHexValue:"#1f1fff"},{colorName:"",colorHexValue:"#1414ff"},{colorName:"",colorHexValue:"#0f0fff"},{colorName:"",colorHexValue:"#0505ff"}],this.DblueGradient=[{colorName:"",colorHexValue:"#0000f5"},{colorName:"",colorHexValue:"#0000f0"},{colorName:"",colorHexValue:"#0000e6"},{colorName:"",colorHexValue:"#0000e0"},{colorName:"",colorHexValue:"#0000db"},{colorName:"",colorHexValue:"#0000d1"},{colorName:"",colorHexValue:"#0000cc"},{colorName:"",colorHexValue:"#0000c7"},{colorName:"",colorHexValue:"#0000bd"},{colorName:"",colorHexValue:"#0000b8"},{colorName:"",colorHexValue:"#0000b3"},{colorName:"",colorHexValue:"#0000a8"},{colorName:"",colorHexValue:"#0000a3"},{colorName:"",colorHexValue:"#00009e"},{colorName:"",colorHexValue:"#000094"}],this.LgreenGradient=[{colorName:"",colorHexValue:"#00fa00"},{colorName:"",colorHexValue:"#00f500"},{colorName:"",colorHexValue:"#00eb00"},{colorName:"",colorHexValue:"#00e000"},{colorName:"",colorHexValue:"#00db00"},{colorName:"",colorHexValue:"#00d100"},{colorName:"",colorHexValue:"#00c700"},{colorName:"",colorHexValue:"#00c200"},{colorName:"",colorHexValue:"#00b800"},{colorName:"",colorHexValue:"#00ad00"},{colorName:"",colorHexValue:"#00a800"},{colorName:"",colorHexValue:"#009e00"},{colorName:"",colorHexValue:"#009400"},{colorName:"",colorHexValue:"#008f00"},{colorName:"",colorHexValue:"#008500"}],this.DgreenGradient=[{colorName:"",colorHexValue:"#007500"},{colorName:"",colorHexValue:"#007000"},{colorName:"",colorHexValue:"#006600"},{colorName:"",colorHexValue:"#006100"},{colorName:"",colorHexValue:"#005c00"},{colorName:"",colorHexValue:"#005200"},{colorName:"",colorHexValue:"#004d00"},{colorName:"",colorHexValue:"#004700"},{colorName:"",colorHexValue:"#003d00"},{colorName:"",colorHexValue:"#003800"},{colorName:"",colorHexValue:"#003300"},{colorName:"",colorHexValue:"#002900"},{colorName:"",colorHexValue:"#002400"},{colorName:"",colorHexValue:"#001f00"},{colorName:"",colorHexValue:"#001400"}],this.LredGradient=[{colorName:"",colorHexValue:"#ff7a7a"},{colorName:"",colorHexValue:"#ff7575"},{colorName:"",colorHexValue:"#ff6b6b"},{colorName:"",colorHexValue:"#ff6161"},{colorName:"",colorHexValue:"#ff5c5c"},{colorName:"",colorHexValue:"#ff5252"},{colorName:"",colorHexValue:"#ff4747"},{colorName:"",colorHexValue:"#ff4242"},{colorName:"",colorHexValue:"#ff3838"},{colorName:"",colorHexValue:"#ff2e2e"},{colorName:"",colorHexValue:"#ff2929"},{colorName:"",colorHexValue:"#ff1f1f"},{colorName:"",colorHexValue:"#ff1414"},{colorName:"",colorHexValue:"#ff0f0f"},{colorName:"",colorHexValue:"#ff0505"}],this.DredGradient=[{colorName:"",colorHexValue:"#f50000"},{colorName:"",colorHexValue:"#f00000"},{colorName:"",colorHexValue:"#e60000"},{colorName:"",colorHexValue:"#e00000"},{colorName:"",colorHexValue:"#db0000"},{colorName:"",colorHexValue:"#d10000"},{colorName:"",colorHexValue:"#cc0000"},{colorName:"",colorHexValue:"#c70000"},{colorName:"",colorHexValue:"#bd0000"},{colorName:"",colorHexValue:"#b80000"},{colorName:"",colorHexValue:"#b30000"},{colorName:"",colorHexValue:"#a80000"},{colorName:"",colorHexValue:"#a30000"},{colorName:"",colorHexValue:"#9e0000"},{colorName:"",colorHexValue:"#940000"}],this.LpurpleGradient=[{colorName:"",colorHexValue:"#c67aff"},{colorName:"",colorHexValue:"#c375ff"},{colorName:"",colorHexValue:"#bf6bff"},{colorName:"",colorHexValue:"#ba61ff"},{colorName:"",colorHexValue:"#b85cff"},{colorName:"",colorHexValue:"#b452ff"},{colorName:"",colorHexValue:"#af47ff"},{colorName:"",colorHexValue:"#ad42ff"},{colorName:"",colorHexValue:"#a938ff"},{colorName:"",colorHexValue:"#a42eff"},{colorName:"",colorHexValue:"#a229ff"},{colorName:"",colorHexValue:"#9e1fff"},{colorName:"",colorHexValue:"#9914ff"},{colorName:"",colorHexValue:"#970fff"},{colorName:"",colorHexValue:"#9305ff"}],this.DpurpleGradient=[{colorName:"",colorHexValue:"#8b00f5"},{colorName:"",colorHexValue:"#8800f0"},{colorName:"",colorHexValue:"#8200e6"},{colorName:"",colorHexValue:"#7f00e0"},{colorName:"",colorHexValue:"#7c00db"},{colorName:"",colorHexValue:"#7600d1"},{colorName:"",colorHexValue:"#7400cc"},{colorName:"",colorHexValue:"#7100c7"},{colorName:"",colorHexValue:"#6b00bd"},{colorName:"",colorHexValue:"#6800b8"},{colorName:"",colorHexValue:"#6500b3"},{colorName:"",colorHexValue:"#5f00a8"},{colorName:"",colorHexValue:"#5c00a3"},{colorName:"",colorHexValue:"#5a009e"},{colorName:"",colorHexValue:"#540094"}],this.LorangeGradient=[{colorName:"",colorHexValue:"#ffd17a"},{colorName:"",colorHexValue:"#ffcf75"},{colorName:"",colorHexValue:"#ffcb6b"},{colorName:"",colorHexValue:"#ffc861"},{colorName:"",colorHexValue:"#ffc65c"},{colorName:"",colorHexValue:"#ffc252"},{colorName:"",colorHexValue:"#ffbf47"},{colorName:"",colorHexValue:"#ffbd42"},{colorName:"",colorHexValue:"#ffb938"},{colorName:"",colorHexValue:"#ffb62e"},{colorName:"",colorHexValue:"#ffb429"},{colorName:"",colorHexValue:"#ffb01f"},{colorName:"",colorHexValue:"#ffad14"},{colorName:"",colorHexValue:"#ffab0f"},{colorName:"",colorHexValue:"#ffa805"}],this.DorangeGradient=[{colorName:"",colorHexValue:"#f59f00"},{colorName:"",colorHexValue:"#f09c00"},{colorName:"",colorHexValue:"#e69500"},{colorName:"",colorHexValue:"#e09200"},{colorName:"",colorHexValue:"#db8f00"},{colorName:"",colorHexValue:"#d18800"},{colorName:"",colorHexValue:"#cc8500"},{colorName:"",colorHexValue:"#c78100"},{colorName:"",colorHexValue:"#bd7b00"},{colorName:"",colorHexValue:"#b87700"},{colorName:"",colorHexValue:"#b37400"},{colorName:"",colorHexValue:"#a86d00"},{colorName:"",colorHexValue:"#a36a00"},{colorName:"",colorHexValue:"#9e6700"},{colorName:"",colorHexValue:"#946000"}]}getColorAtIndex(e){return this.colors[e].colorHexValue}}var a=o("fXoL"),l=o("qfBg"),u=o("tk/3");let c=(()=>{class e{constructor(e,t){this.userService=e,this.http=t,this.timeConversion=864e5,this.timeIntervalString="Days",this.paretoGraph=!1,this.bars=[],this.groups=[],this.offset=0,this.colorModel=new s,this.populateNewValues=!1,this.dataPopulated=new n.a(!1),this.subscriptions=new i.a}getBars(){return this.bars}getGroups(){return this.groups}getGraphHeader(){return this.graphHeader}getUnits(){return this.units}setBars(e){this.bars=e,this.sortBars()}graphValues(e,t,o,n){switch(this.resetValues(),this.paretoGraph=o,t){case 0:this.buildCustomData(e);break;case 1:case 7:case 8:case 9:case 10:case 11:case 12:this.buildBadgeData(e,t);break;case 2:this.buildAnalyteData(e);break;case 3:this.buildDataTableData(e);break;case 4:this.graphHeader="No Graph Available",this.dataPopulated.next(!0);break;case 5:this.buildUserData(e);break;case 6:o?this.buildAnalyzedDataParetto(e,n):this.buildAverageAnalyteData(e);break;case 13:this.buildLocationData(e)}}determineBarWidth(e){if(!e)return 1;let t=1;return t=e>100?e/1e3:1-e/100,t}addToUnknownGroup(e){if(this.groups.some(e=>"unknownGroup"===e.barGroupName))this.groups.find(e=>"unknownGroup"===e.barGroupName).bars.push(e);else{const t=[];t.push(e),this.groups.push({barGroupName:"unknownGroup",bars:t})}}addToSpecifiedGroup(e,t){if(this.groups.some(e=>e.barGroupName===t))this.groups.find(e=>e.barGroupName===t).bars.push(e);else{const o=[];o.push(e),this.groups.push({barGroupName:t,bars:o})}}addNewBar(e,t,o){let n=0;e&&(n=e);const i={id:"",colName:t,height:n,colour:void 0,width:20*o};return this.bars.push(i),i}buildAnalyzedDataParetto(e,t){const o=[];for(const r of e)o.includes(r.badge_serial_number)||o.push(r.badge_serial_number);const n=[];let i="";for(const r of o){let o=0,s=0,a=0,l="",u="";for(const n of e.filter(e=>e.badge_serial_number===r&&e.cas_number===t))o+=Number(n.recorded_value),s+=Number(n.volume_concentration),a+=Number(n.found_concentration),l=n.recorded_units,u=n.concentration_units,this.units=u,i=n.analyte_name;const c=e.filter(e=>e.cas_number===t&&e.badge_serial_number===r).length;n.push({numValues:c,selectedCasNum:t,averageQtyFound:Math.round(o/c*100)/100,averageVolumeConcentration:Math.round(s/c*100)/100,averageFoundConcentration:Math.round(a/c*100)/100,foundUnits:l,concentrationUnits:u,badgeSerialNum:r}),this.graphHeader="The Calculated Average of Analyte: "+i+"("+t+")."}for(const r of n){const e=this.addNewBar(r.averageQtyFound,r.badgeSerialNum,this.determineBarWidth(n.length));r.badgeSerialNum?this.addToSpecifiedGroup(e,"Analyte: "+r.analyteName+"("+r.casNum+")"):this.addToUnknownGroup(e)}this.populateNewValues=!0,this.dataPopulated.next(this.populateNewValues),this.populateNewValues=!1}buildAverageAnalyteData(e){const t=[],o=[];for(const i of e)t.includes(i.cas_number)||t.push(i.cas_number),o.includes(i.badge_serial_number)||o.push(i.badge_serial_number);this.graphHeader="The Calculated Average of all Analytes Found on a Given Badge Across all Tokens";const n=[];for(const i of o)for(const o of t){let t=0,r=0,s=0,a="",l="",u="";const c=i;for(const n of e.filter(e=>e.cas_number===o&&e.badge_serial_number===i))t+=Number(n.recorded_value),r+=Number(n.volume_concentration),s+=Number(n.found_concentration),a=n.recorded_units,this.units=a,u=n.analyte_name,l=n.concentration_units;const p=e.filter(e=>e.cas_number===o&&e.badge_serial_number===i).length;n.push({numValues:p,casNum:o,analyteName:u,averageQtyFound:Math.round(t/p*100)/100,averageVolumeConcentration:Math.round(r/p*100)/100,averageFoundConcentration:Math.round(s/p*100)/100,foundUnits:a,concentrationUnits:l,badgeSerialNum:c})}for(const i of n){const e=this.addNewBar(i.averageQtyFound,i.analyteName+"("+i.casNum+")",this.determineBarWidth(n.length));i.badgeSerialNum?this.addToSpecifiedGroup(e,"BSN: "+i.badgeSerialNum):this.addToUnknownGroup(e)}this.populateNewValues=!0,this.dataPopulated.next(this.populateNewValues),this.populateNewValues=!1}buildAnalyteData(e){for(const t of e){let o=Number(t.osha_pel_ppm);if(!o){o=0;continue}const n=this.addNewBar(o,t.analyte_name,this.determineBarWidth(e.length));this.addToSpecifiedGroup(n,"Analytes")}this.graphHeader="The OSHA PEL PPM value for all analytes.",this.units="PPM",this.populateNewValues=!0,this.dataPopulated.next(this.populateNewValues),this.populateNewValues=!1}buildBadgeData(e,t){for(const o of e){let n=0,i=null,r="";switch(t){case 1:n=o.number_of_tolkens,this.graphHeader="The Number of tokens available across all badges.",this.units="Tokens",i=this.addNewBar(n,o.badge_serial_number,this.determineBarWidth(e.length)),o.batch_group?this.addToSpecifiedGroup(i,"Batch Group "+o.batch_group.toString()):this.addToUnknownGroup(i);break;case 7:switch(o.badge_status){case 1:break;case 2:r="Activated",n=Math.abs(Math.round(Number((Date.now().valueOf()-new Date(o.activated_time).valueOf())/this.timeConversion)));break;case 3:r="Expired",n=Math.abs(Math.round(Number((Date.now().valueOf()-new Date(o.expiration_date).valueOf())/this.timeConversion)));break;case 4:r="Completed",n=Math.abs(Math.round(Number((Date.now().valueOf()-new Date(o.turned_in_time).valueOf())/this.timeConversion)));break;case 5:r="Quarantined",n=Math.abs(Math.round(Number((Date.now().valueOf()-new Date(o.date_last_updated).valueOf())/this.timeConversion)));break;case 6:r="Damaged",n=Math.abs(Math.round(Number((Date.now().valueOf()-new Date(o.date_last_updated).valueOf())/this.timeConversion)));break;case 7:r="Assigned",n=Math.abs(Math.round(Number((Date.now().valueOf()-new Date(o.date_last_updated).valueOf())/this.timeConversion)))}if(this.graphHeader="Duration ("+this.timeIntervalString+") The Badges Have Been In Their Current State.",this.units="Days",n>365)continue;i=this.addNewBar(n,o.badge_serial_number,this.determineBarWidth(e.length)),""!==r?this.addToSpecifiedGroup(i,r):this.addToUnknownGroup(i);break;case 8:switch(o.badge_status){case 1:r="Unassigned",n=Math.abs(Math.round(Number((Date.now().valueOf()-new Date(o.date_created).valueOf())/this.timeConversion)));break;case 2:r="Activated",n=Math.abs(Math.round(Number((Date.now().valueOf()-new Date(o.activated_time).valueOf())/this.timeConversion)));break;case 3:r="Expired",n=Math.abs(Math.round(Number((Date.now().valueOf()-new Date(o.expiration_date).valueOf())/this.timeConversion)));break;case 4:r="Completed",n=Math.abs(Math.round(Number((Date.now().valueOf()-new Date(o.turned_in_time).valueOf())/this.timeConversion)));break;case 5:r="Quarantined",n=Math.abs(Math.round(Number((Date.now().valueOf()-new Date(o.date_last_updated).valueOf())/this.timeConversion)));break;case 6:r="Damaged",n=Math.abs(Math.round(Number((Date.now().valueOf()-new Date(o.date_last_updated).valueOf())/this.timeConversion)));break;case 7:r="Assigned",n=Math.abs(Math.round(Number((Date.now().valueOf()-new Date(o.date_last_updated).valueOf())/this.timeConversion)))}if(this.graphHeader="Duration ("+this.timeIntervalString+") The Badges Have Been In Their Current State.",this.units="Days",n>365)continue;i=this.addNewBar(n,o.badge_serial_number,this.determineBarWidth(e.length)),""!==r?this.addToSpecifiedGroup(i,r):this.addToUnknownGroup(i);break;case 9:if(n=Math.abs(Math.round(Number((Date.now().valueOf()-new Date(o.activated_time).valueOf())/this.timeConversion))),this.graphHeader="Duration ("+this.timeIntervalString+") The Badges Have Been Activated.",this.units="Days",n>365)continue;i=this.addNewBar(n,o.badge_serial_number,this.determineBarWidth(e.length)),o.batch_group?this.addToSpecifiedGroup(i,"Batch Group "+o.batch_group.toString()):this.addToUnknownGroup(i);break;case 10:if(n=Math.abs(Math.round(Number((Date.now().valueOf()-new Date(o.date_created).valueOf())/this.timeConversion))),this.graphHeader="Duration ("+this.timeIntervalString+") Subordinate Badges That Have Been Awaiting Issuance.",this.units="Days",n>365)continue;i=this.addNewBar(n,o.badge_serial_number,this.determineBarWidth(e.length)),o.batch_group?this.addToSpecifiedGroup(i,"Batch Group "+o.batch_group.toString()):this.addToUnknownGroup(i);break;case 11:if(n=Math.abs(Math.round(Number((Date.now().valueOf()-new Date(o.activated_time).valueOf())/this.timeConversion))),this.graphHeader="Duration ("+this.timeIntervalString+") Subordinate Badges Have Been Activated.",this.units="Days",n>365)continue;i=this.addNewBar(n,o.badge_serial_number,this.determineBarWidth(e.length)),o.batch_group?this.addToSpecifiedGroup(i,"Batch Group "+o.batch_group.toString()):this.addToUnknownGroup(i);break;case 12:if(n=Math.abs(Math.round(Number((Date.now().valueOf()-new Date(o.date_last_updated).valueOf())/this.timeConversion))),this.graphHeader="Duration ("+this.timeIntervalString+") The Badges Have Been Issued But Not Activated.",this.units="Days",n>365)continue;i=this.addNewBar(n,o.badge_serial_number,this.determineBarWidth(e.length)),o.batch_group?this.addToSpecifiedGroup(i,"Batch Group "+o.batch_group.toString()):this.addToUnknownGroup(i)}}this.populateNewValues=!0,this.dataPopulated.next(this.populateNewValues),this.populateNewValues=!1}buildUserData(e){for(const t of e.filter(e=>e.group_id))if(this.groups&&!this.groups.find(e=>e.bars.find(e=>e.colName===t.username.toString()))){const o=this.addNewBar(e.filter(e=>e.username===t.username).length,t.username,this.determineBarWidth(e.length));t.group_id?this.addToSpecifiedGroup(o,this.roleName(t.role)):this.addToUnknownGroup(o)}this.graphHeader="Number of Subordinates",this.units="Count",this.populateNewValues=!0,this.dataPopulated.next(this.populateNewValues),this.populateNewValues=!1}buildCustomData(e){for(const t of e.filter(e=>e.badge_status))if(t.assigned_user){if(this.groups&&!this.groups.find(e=>e.bars.find(e=>e.colName===t.assigned_user.toString()))){const o=this.addNewBar(e.filter(e=>e.assigned_user===t.assigned_user).length,t.assigned_user.toString(),this.determineBarWidth(e.filter(e=>e.assigned_user===t.assigned_user).length));t.badge_status?this.addToSpecifiedGroup(o,t.badge_status.toString()):this.addToUnknownGroup(o)}}else if(this.groups&&!this.groups.find(e=>e.bars.find(e=>"unassigned"===e.colName))){const o=this.addNewBar(e.filter(e=>null==e.assigned_user).length,"unassigned",this.determineBarWidth(2));t.badge_status?this.addToSpecifiedGroup(o,t.badge_status.toString()):this.addToUnknownGroup(o)}this.graphHeader="Each Users badges and states",this.units="Count",this.populateNewValues=!0,this.dataPopulated.next(this.populateNewValues),this.populateNewValues=!1}buildLocationData(e){for(const t of e.filter(e=>e.country))if(this.groups&&!this.groups.find(e=>e.bars.find(e=>e.colName===t.city.toString()))){const o=this.addNewBar(e.filter(e=>e.city===t.city).length,t.city.toString(),this.determineBarWidth(e.length));t.country?this.addToSpecifiedGroup(o,t.country.toString()):this.addToUnknownGroup(o)}this.graphHeader="Number of Locations by District",this.units="Count",this.populateNewValues=!0,this.dataPopulated.next(this.populateNewValues),this.populateNewValues=!1}buildDataTableData(e){for(const t of e)if(this.groups&&!this.groups.find(e=>e.bars.find(e=>e.colName===t.base))){const o=this.addNewBar(e.filter(e=>e.base===t.base).length,t.base,this.determineBarWidth(e.filter(e=>e.wearer).length));e.filter(e=>e.base)?this.addToSpecifiedGroup(o,t.base):this.addToUnknownGroup(o)}this.graphHeader="Raw Files Uploaded Badges by base",this.units="Count",this.populateNewValues=!0,this.dataPopulated.next(this.populateNewValues),this.populateNewValues=!1}resetValues(){this.bars=[],this.groups=[],this.populateNewValues=!1,this.paretoGraph=!1,this.units=null,this.graphHeader=null,this.dataPopulated.next(this.populateNewValues),this.subscriptions.unsubscribe()}getAnalyzedTokenReportResponse(){const e=this.userService.getActiveUser();if(void 0!==(null==e?void 0:e.userId))return this.http.get(r.a.apiUrl+"/getAnalyzedTokens/"+e.userId)}sortBars(){this.bars.sort((e,t)=>e.height<t.height?-1:e.height>t.height?1:0),this.bars.reverse();let e=1;for(const t of this.bars)t.id="rect"+e,e++}roleName(e){switch(e){case 1:return"wearer";case 2:return"manufacturer";case 3:return"scientist";case 4:return"analyst";case 5:return"manager";case 6:return"administrator";case 7:return"auditor";case 8:return"developer";default:return""}}ngOnDestroy(){this.subscriptions.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(a.ac(l.a),a.ac(u.b))},e.\u0275prov=a.Ib({token:e,factory:e.\u0275fac}),e})()},VRyK:function(e,t,o){"use strict";o.d(t,"a",function(){return a});var n=o("HDdC"),i=o("z+Ro"),r=o("bHdf"),s=o("yCtX");function a(...e){let t=Number.POSITIVE_INFINITY,o=null,a=e[e.length-1];return Object(i.a)(a)?(o=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===o&&1===e.length&&e[0]instanceof n.a?e[0]:Object(r.a)(t)(Object(s.a)(e,o))}},"Vm+C":function(e,t,o){"use strict";o.d(t,"a",function(){return i});var n=o("fXoL");let i=(()=>{class e{constructor(e,t){this.elRef=e,this.renderer=t,this.isVisible=!0}toggleOpen(){const e=this.renderer.nextSibling(this.elRef.nativeElement);this.isVisible=!this.isVisible,this.isVisible?this.renderer.addClass(e,"collapse"):this.renderer.removeClass(e,"collapse")}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.m),n.Mb(n.F))},e.\u0275dir=n.Hb({type:e,selectors:[["","appCollapse",""]],hostBindings:function(e,t){1&e&&n.dc("click",function(e){return t.toggleOpen(e)})}}),e})()},Wl7B:function(e,t,o){"use strict";o.d(t,"a",function(){return f});var n=o("2Vo4"),i=o("LRne"),r=o("JIr8"),s=o("vkgz"),a=o("1VGq");let l=(()=>{class e{static GetCachedColumnDefinition(e){return void 0===this.cachedColumnDefs&&(this.cachedColumnDefs=[]),void 0!==this.cachedColumnDefs[e]?this.cachedColumnDefs[e]:this.addCachedDefinition(e)}static addCachedDefinition(e){switch(e){case 0:this.cachedColumnDefs[e]=this.getCustomDataDefinition();break;case 1:case 7:case 8:case 9:case 10:case 11:case 12:this.cachedColumnDefs[e]=this.getBadgeDataDefinition();break;case 2:this.cachedColumnDefs[e]=this.getAnalyteExposureRating();break;case 3:this.cachedColumnDefs[e]=this.getDataTableDataDefinition();break;case 4:this.cachedColumnDefs[e]=this.getRoleDataDefinition();break;case 5:this.cachedColumnDefs[e]=this.getUserManagementDefinition();break;case 6:this.cachedColumnDefs[e]=this.getSimpleBadgeDefinition();break;case 13:this.cachedColumnDefs[e]=this.getLocationDefinition();break;default:this.cachedColumnDefs[e]=[]}return this.cachedColumnDefs[e]}static getCustomDataDefinition(){return[{headerName:"Assigned User",field:"assigned_user",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"User Role",field:"role",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"Group",field:"group_id",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agNumberColumnFilter",filterParams:this.numberFilterParams},{headerName:"Manager",field:"manager",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"Location",field:"location",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"Badge Serial Number",field:"badge_serial_number",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"Number of Tokens",field:"number_of_tolkens",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agNumberColumnFilter",filterParams:this.numberFilterParams},{headerName:"Batch Group",field:"batch_group",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agNumberColumnFilter",filterParams:this.numberFilterParams},{headerName:"Badge Status",field:"badge_status",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"Activated Time",field:"activated_time",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agDateColumnFilter",filterParams:this.dateFilterParams},{headerName:"Turned In Time",field:"turned_in_time",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agDateColumnFilter",filterParams:this.dateFilterParams},{headerName:"Expiration Date",field:"expiration_date",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agDateColumnFilter",filterParams:this.dateFilterParams},{headerName:"Analyst",field:"analyst",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"Raw Data File",field:"original_filename",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"Raw Comments",field:"raw_comments",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams}]}static getBadgeDataDefinition(){return[{headerName:"Serial Number",field:"badge_serial_number",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"Assigned User",field:"assigned_user",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"Tokens",field:"number_of_tolkens",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agNumberColumnFilter",filterParams:this.numberFilterParams},{headerName:"Batch Group",field:"batch_group",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agNumberColumnFilter",filterParams:this.numberFilterParams},{headerName:"Activated Time",field:"activated_time",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agDateColumnFilter",filterParams:this.dateFilterParams},{headerName:"Turned In Time",field:"turned_in_time",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agDateColumnFilter",filterParams:this.dateFilterParams},{headerName:"Expiration Date",field:"expiration_date",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agDateColumnFilter",filterParams:this.dateFilterParams}]}static getSimpleBadgeDefinition(){return[{headerName:"Serial Number",field:"badge_serial_number",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"Assigned User",field:"assigned_user",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"Activated Time",field:"activated_time",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agDateColumnFilter",filterParams:this.dateFilterParams},{headerName:"Turned In Time",field:"turned_in_time",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agDateColumnFilter",filterParams:this.dateFilterParams}]}static getLocationDefinition(){return[{headerName:"City",field:"city",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"State",field:"state",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"Country",field:"country",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"Base",field:"base",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams}]}static getUserManagementDefinition(){return[{headerName:"Id",field:"id",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agNumberColumnFilter",filterParams:this.numberFilterParams},{headerName:"Username",field:"username",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"Role",field:"role",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agNumberColumnFilter",filterParams:this.numberFilterParams}]}static getAnalytesDataDefinition(){return[{headerName:"Analyte Name",field:"analyte_name",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams}]}static getAnalyteExposureRating(){return[{headerName:"Cas Number",field:"cas_number",width:2,height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"Analyte Name",field:"analyte_name",width:6,height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"Date Last Updated",field:"date_last_updated",width:4,height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.dateFilterParams},{headerName:"OSHA pel Mg",field:"osha_pel_mg",width:2,height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"OSHA pel PPM",field:"osha_pel_ppm",width:2,height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"CAL OSHA pel 8 Hr TWA C",field:"cal_osha_pel_8_hour_twa_c",width:2,height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"CAL OSHA pel 8 Hr TWA",field:"cal_osha_pel_8_hour_twa",width:2,height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"CAL OSHA pel 8 Hr TWA st",field:"cal_osha_pel_8_hour_twa_st",width:2,height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"NIOSH rel 10 Hr TWA c",field:"niosh_rel_10_hour_twa_c",width:2,height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"NIOSH rel 10 Hr TWA",field:"niosh_rel_10_hour_twa",width:2,height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"NIOSH rel 10 Hr TWA st",field:"niosh_rel_10_hour_twa_st",width:2,height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"ACGIH 2019 tlv 8 Hr TWA c",field:"acgih_2019_tlv_8_hour_twa_c",width:2,height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"ACGIH 2019 tlv 8 Hr TWA",field:"acgih_2019_tlv_8_hour_twa",width:2,height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"ACGIH 2019 tlv 8 Hr TWA st",field:"acgih_2019_tlv_8_hour_twa_st",width:2,height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"OSU 6 Sampling Rate",field:"osu_6_sampling_rate",width:2,height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"Detection Limit",field:"detection_limit",width:2,height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams}]}static getDataTableDataDefinition(){return[{headerName:"Badge Serial #",field:"badge_serial_number",width:100,height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"Base",field:"base",width:100,height:50,sortable:!0,visible:!1,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"City",field:"city",width:100,height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"Country",field:"country",width:50,height:50,sortable:!0,visible:!1,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"State",field:"state",width:50,height:50,sortable:!0,visible:!1,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"Assigned User",field:"wearer",width:100,height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"Uploaded By",field:"analyst",width:100,height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams},{headerName:"Raw Data",field:"original_filename",width:300,height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams}]}static getRoleDataDefinition(){return[{headerName:"Position",field:"position",height:50,sortable:!0,visible:!0,resizable:!0,filter:"agTextColumnFilter",filterParams:this.nameFilterParams}]}}return e.nameFilterParams={filterOptions:["contains","notContains","startsWith","endsWith","equals","empty"],textFormatter:e=>null===e?null:e.toLowerCase(),debounceMs:200,suppressAndOrCondition:!0,resetButton:!0},e.dateFilterParams={filterOptions:["lessThan","lessThanOrEqual","greaterThan","greaterThanOrEqual","inRange"],comparator(e,t){if(null===t)return-1;const o=new Date(t);return o>e?1:o<e?-1:(o.getTime(),e.getTime(),0)},browserDatePicker:!0,debounceMs:200,minValidYear:2020,resetButton:!0},e.numberFilterParams={filterOptions:["greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","equals","empty"],debounceMs:200,suppressAndOrCondition:!0,resetButton:!0},e})();var u=o("AytR"),c=o("fXoL"),p=o("tk/3"),d=o("qfBg"),h=o("EFyh");let f=(()=>{class e{constructor(e,t,o){this.http=e,this.userService=t,this.loginService=o,this.users=new n.a(null),this.managers=new n.a(null),this.analysts=new n.a(null),this.groups=new n.a(null),this.locations=new n.a(null),this.subordinates=new n.a(null),this.roles=new n.a(null),this.rowIndex=0,this.height=500,this.width=1e3,this.rowHasBeenSelected=!1,this.printCSVValue=!1,this.printDSVValue=!1,this.unsubscribe=!1,this.rowSelected=new n.a(!1),this.gridTypeDisplay=new n.a(null),this.printCSV=new n.a(null),this.printDSV=new n.a(null),this.unsubscribeValue=new n.a(null),this.activeRoleUser=new n.a(null),this.activeBadgeUser=new n.a(null),this.activeDataUser=new n.a(null),this.activeAnalyteUser=new n.a(null),this.customDataRows=new n.a(null),this.customDataCols=new n.a(null),this.gridType=null,this.cols=[],this.rows=[],this.response=this.getFramework(),this.activeBadgeUser.next(this.badgeResponse),this.activeAnalyteUser.next(this.analyteResponse),this.activeDataUser.next(this.dataResponse),this.activeRoleUser.next(this.roleResponse),this.gridTypeDisplay.next(this.gridType),this.customDataRows.next(this.rows),this.customDataCols.next(this.cols),this.unsubscribeValue.next(this.unsubscribe)}handleError(e){this.loginService.setErrorCode(e.status),401===e.status&&this.loginService.getLoggedInValue()&&this.logout()}handleSubordinateFailure(e){return t=>(console.log("Failed to get subordinates for the following reason(s): "+t.message),Object(i.a)(e))}handleDownloadData(e){console.log("Reached into the Downloaded Data Handler"),window.open(e,"_blank")}setGridType(e){this.gridType=e,this.gridTypeDisplay.next(this.gridType)}setPrintCSV(e){this.printCSVValue=e,this.printCSV.next(this.printCSVValue)}setPrintDSV(e){this.printDSVValue=e,this.printDSV.next(this.printDSVValue)}publishRowValues(){console.log("Publishing new Row values: "+this.rows),this.customDataRows.next(this.rows)}publishColValues(){console.log("Publishing new Col values: "+this.cols),this.customDataCols.next(this.cols)}resetValues(){this.cols=[],this.rows=[]}getUsers(){return this.users}getAnalysts(){return this.analysts}getManagers(){return this.managers}getLocations(){return this.locations}getSubordinates(){return this.subordinates}getGroups(){return this.groups}getGridType(){return this.gridType}setSelectedRow(e){e!==this.selectedRow&&(this.selectedRow=e,this.rowHasBeenSelected=null!==this.selectedRow,this.rowSelected.next(this.rowHasBeenSelected))}getSelectedRow(){return this.selectedRow}downloadFile(e){const t=this.userService.getActiveUser().userId;if(void 0!==t)return this.http.post(u.a.apiUrl+"/downloadFile",{activeUserId:t}).pipe(Object(r.a)(e=>this.handleError(e)),Object(s.a)(e=>{console.log(e),this.handleDownloadData(e)}));console.debug("The active user is undefined.")}getUserList(){const e=this.userService.getActiveUser().userId;void 0!==e?this.http.get(u.a.apiUrl+"/getUsers"+e).subscribe(e=>{this.users.next(e),console.log("Users:",e)},e=>{this.handleError(e),console.log(e)},()=>{}):console.debug("The active user is undefined.")}getManagerList(){const e=this.userService.getActiveUser().group;void 0!==e?this.http.get(u.a.apiUrl+"/getManager"+e).subscribe(e=>{this.managers.next(e)},e=>{this.handleError(e),console.log(e)},()=>{}):console.debug("The active user is undefined.")}getLocationList(){const e=this.userService.getActiveUser().userId;void 0!==e?this.http.get(u.a.apiUrl+"/getLocation"+e).subscribe(e=>{this.locations.next(e),console.log("Locations:",e)},e=>{this.handleError(e),console.log(e)},()=>{}):console.debug("The active user is undefined.")}logout(){this.loginService.backendForceLogout()}getGroupList(){const e=this.userService.getActiveUser().userId;void 0!==e?this.http.get(u.a.apiUrl+"/getGroup"+e).subscribe(e=>{this.groups.next(e),console.log("Groups:",e)},e=>{this.handleError(e),console.log(e)},()=>{}):console.debug("The active user is undefined.")}getAnalystList(){const e=this.userService.getActiveUser().userId;void 0!==e?this.http.get(u.a.apiUrl+"/getAnalyst"+e).subscribe(e=>{this.analysts.next(e),console.log(e)},e=>{this.handleError(e),console.log(e)},()=>{}):console.debug("The active user is undefined.")}getRoleList(){const e=this.userService.getActiveUser().userId;void 0!==e?this.http.get(u.a.apiUrl+"/getRole"+e).subscribe(e=>{this.roles.next(e),console.log("Roles:",e)},e=>{this.handleError(e),console.log(e)},()=>{}):console.debug("The active user is undefined.")}RoleResponse(){this.unsubscribe=!1;const e=this.userService.getActiveUser();return void 0===(null==e?void 0:e.userId)?(console.debug("The active user is undefined."),Object(i.a)()):this.http.post(u.a.apiUrl+"/role",{activeUserId:e.userId}).pipe(Object(r.a)(e=>this.handleError(e)),Object(s.a)(e=>{this.cols=l.GetCachedColumnDefinition(this.gridType),this.width=this.cols.reduce((e,t)=>e+t.width,0),this.rows=e,this.unsubscribe=!0}))}subordinatesResponse(){this.unsubscribe=!1;const e=this.userService.getActiveUser();return void 0===(null==e?void 0:e.userId)?(console.debug("The active user is undefined."),Object(i.a)()):this.http.get(u.a.apiUrl+"/getSubordinates/"+e.userId).pipe(Object(r.a)(e=>this.handleSubordinateFailure(e)),Object(s.a)(e=>{this.cols=l.GetCachedColumnDefinition(this.gridType),this.width=this.cols.reduce((e,t)=>e+t.width,0),this.rows=e,this.unsubscribe=!0}))}locationResponse(){this.unsubscribe=!1;const e=this.userService.getActiveUser();return void 0===(null==e?void 0:e.userId)?(console.debug("The active user is undefined."),Object(i.a)()):this.http.get(u.a.apiUrl+"/locations").pipe(Object(r.a)(e=>this.handleError(e)),Object(s.a)(e=>{this.cols=l.GetCachedColumnDefinition(this.gridType),this.width=this.cols.reduce((e,t)=>e+t.width,0),this.rows=e,this.unsubscribe=!0}))}BadgeResponse(){this.unsubscribe=!1;const e=this.userService.getActiveUser();return void 0===(null==e?void 0:e.userId)?(console.debug("The active user is undefined."),Object(i.a)()):this.http.post(u.a.apiUrl+"/badge",{activeUserId:e.userId}).pipe(Object(r.a)(e=>this.handleError(e)),Object(s.a)(e=>{this.cols=l.GetCachedColumnDefinition(this.gridType),this.width=this.cols.reduce((e,t)=>e+t.width,0),this.rows=e,this.unsubscribe=!0}))}getBadgeByStatus(e){const t=this.userService.getActiveUser();return this.http.post(u.a.apiUrl+"/getBadgesByStatus",{badgeStatus:e,activeUserId:t.userId}).pipe(Object(r.a)(e=>this.handleError(e)),Object(s.a)(e=>{this.cols=l.GetCachedColumnDefinition(this.gridType),this.width=this.cols.reduce((e,t)=>e+t.width,0),this.rows=e,this.unsubscribe=!0}))}getWearerBadges(e){const t=this.userService.getActiveUser();return this.http.post(u.a.apiUrl+"/getWearerBadges",{wearerId:e,activeUserId:t.userId}).pipe(Object(r.a)(e=>this.handleError(e)),Object(s.a)(e=>{this.cols=l.GetCachedColumnDefinition(this.gridType),this.width=this.cols.reduce((e,t)=>e+t.width,0),this.rows=e,this.unsubscribe=!0}))}getWearerBadgesByStatus(e){const t=this.userService.getActiveUser();return this.http.post(u.a.apiUrl+"/getWearerBadgeValuesByStatus",{badgeStatus:e,activeUserId:t.userId}).pipe(Object(r.a)(e=>this.handleError(e)),Object(s.a)(e=>{this.cols=l.GetCachedColumnDefinition(this.gridType),this.width=this.cols.reduce((e,t)=>e+t.width,0),this.rows=e,this.unsubscribe=!0}))}getSubordinantBadges(){const e=this.userService.getActiveUser();return this.http.post(u.a.apiUrl+"/getSubordinateBadges",{activeUserId:e.userId}).pipe(Object(r.a)(e=>this.handleError(e)),Object(s.a)(e=>{this.cols=l.GetCachedColumnDefinition(this.gridType),this.width=this.cols.reduce((e,t)=>e+t.width,0),this.rows=e,this.unsubscribe=!0}))}getSubordinantBadgesByStatus(e){const t=this.userService.getActiveUser();return this.http.post(u.a.apiUrl+"/getSubordinantBadgesByStatus",{badgeStatus:e,activeUserId:t.userId}).pipe(Object(r.a)(e=>this.handleError(e)),Object(s.a)(e=>{this.cols=l.GetCachedColumnDefinition(this.gridType),this.width=this.cols.reduce((e,t)=>e+t.width,0),this.rows=e,this.unsubscribe=!0}))}getFoundAnalytes(){const e=this.userService.getActiveUser();if(void 0!==(null==e?void 0:e.userId))return this.http.post(u.a.apiUrl+"/getFoundAnalytesFromTokens",{activeUserId:e.userId}).pipe(Object(r.a)(e=>this.handleError(e)))}getAnalyzedTokenData(){const e=this.userService.getActiveUser();if(void 0!==(null==e?void 0:e.userId))return this.http.post(u.a.apiUrl+"/getAnalyzedReports",{activeUserId:e.userId}).pipe(Object(r.a)(e=>this.handleError(e)))}getAnalyzedTokenReportByCasNumber(e){const t=this.userService.getActiveUser();if(void 0!==(null==t?void 0:t.userId))return this.http.post(u.a.apiUrl+"/getSpecificAnalyteFromTokens",{activeUserId:t.userId,casNum:e}).pipe(Object(r.a)(e=>this.handleError(e)))}DataTableResponse(){this.unsubscribe=!1;const e=this.userService.getActiveUser();return void 0===(null==e?void 0:e.userId)?(console.debug("The active user is undefined."),Object(i.a)()):this.http.post(u.a.apiUrl+"/data",{activeUserId:e.userId}).pipe(Object(r.a)(e=>this.handleError(e)),Object(s.a)(e=>{this.cols=l.GetCachedColumnDefinition(this.gridType),this.width=this.cols.reduce((e,t)=>e+t.width,0),this.height=1e3,this.rows=e,this.unsubscribe=!0}))}GetTokens(e){const t=this.userService.getActiveUser();return this.http.post(u.a.apiUrl+"/getTokens",{badgeSerialNumber:e,activeUserId:t.userId}).pipe(Object(r.a)(e=>this.handleError(e)))}AnalyteResponse(){this.unsubscribe=!1;const e=this.userService.getActiveUser();return void 0===(null==e?void 0:e.userId)?Object(i.a)():this.http.post(u.a.apiUrl+"/analyteExposureRatings",{activeUserId:e.userId},{}).pipe(Object(r.a)(e=>this.handleError(e)),Object(s.a)(e=>{this.width=this.cols.reduce((e,t)=>e+t.width,0),this.rows=e}))}SamplingRateResponse(){this.unsubscribe=!1;const e=this.userService.getActiveUser();return this.http.post(u.a.apiUrl+"/samplingRate",{activeUserId:e.userId},{}).pipe(Object(r.a)(e=>this.handleError(e)),Object(s.a)(e=>{this.unsubscribe=!0}))}createCustomGrid(){const e=this.userService.getActiveUser();return void 0===(null==e?void 0:e.userId)?(console.debug("The active user is undefined."),Object(i.a)()):this.http.post(u.a.apiUrl+"/customData",{activeUserId:e.userId}).pipe(Object(r.a)(e=>this.handleError(e)),Object(s.a)(e=>{this.cols=l.GetCachedColumnDefinition(this.gridType),this.width=this.cols.reduce((e,t)=>e+t.width,0),this.height=1e3,this.rows=e,this.unsubscribe=!0}))}getCols(){return this.cols}setCols(e){this.cols=e}getRows(){return this.rows}setRows(e){this.rows=e}getWidth(){return this.width}getHeight(){return this.height}getFramework(){let e={id:a.any,assignedUser:a.any,batchGroup:a.any,dataId:a.any,badgeStatus:a.any,turnedInTime:a.any,ActivatedTime:a.any,NumberOfTolkens:a.any};return e={id:null,assignedUser:null,batchGroup:null,dataId:null,badgeStatus:null,turnedInTime:null,ActivatedTime:null,NumberOfTolkens:null},this.defaultFramework=e,this.response=[this.defaultFramework],null}}return e.\u0275fac=function(t){return new(t||e)(c.ac(p.b),c.ac(d.a),c.ac(h.a))},e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac}),e})()},XDbj:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var n=o("sVev"),i=o("7o/Q");function r(e=l){return t=>t.lift(new s(e))}class s{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new a(e,this.errorFactory))}}class a extends i.a{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function l(){return new n.a}},XGh5:function(e,t,o){"use strict";o.d(t,"a",function(){return a});var n=o("AytR"),i=o("lJxs"),r=o("fXoL"),s=o("tk/3");let a=(()=>{class e{constructor(t){this.httpClient=t,e.locationCache.size<1&&this.getLocations().subscribe(t=>{for(const o of t){const t=o[0],{base:n,city:i,state:r}=o[1];e.locationCache.set(t,n+" - "+i+", "+r)}})}transform(t){return t?e.locationCache.has(t)?e.locationCache.get(t):t.toString():""}getLocations(){return this.httpClient.get(n.a.apiUrl+"/locations").pipe(Object(i.a)(e=>e.map(e=>[e.id,e])))}}return e.locationCache=new Map,e.\u0275fac=function(t){return new(t||e)(r.Mb(s.b))},e.\u0275pipe=r.Lb({name:"locationConverter",type:e,pure:!0}),e})()},XNiG:function(e,t,o){"use strict";o.d(t,"b",function(){return u}),o.d(t,"a",function(){return c});var n=o("HDdC"),i=o("7o/Q"),r=o("quSY"),s=o("9ppp");class a extends r.a{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const o=t.indexOf(this.subscriber);-1!==o&&t.splice(o,1)}}var l=o("2QA8");class u extends i.a{constructor(e){super(e),this.destination=e}}let c=(()=>{class e extends n.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.a](){return new u(this)}lift(e){const t=new p(this,this);return t.operator=e,t}next(e){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:t}=this,o=t.length,n=t.slice();for(let i=0;i<o;i++)n[i].next(e)}}error(e){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,o=t.length,n=t.slice();for(let i=0;i<o;i++)n[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:e}=this,t=e.length,o=e.slice();for(let n=0;n<t;n++)o[n].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new s.a;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new s.a;return this.hasError?(e.error(this.thrownError),r.a.EMPTY):this.isStopped?(e.complete(),r.a.EMPTY):(this.observers.push(e),new a(this,e))}asObservable(){const e=new n.a;return e.source=this,e}}return e.create=(e,t)=>new p(e,t),e})();class p extends c{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):r.a.EMPTY}}},XoHu:function(e,t,o){"use strict";function n(e){return null!==e&&"object"==typeof e}o.d(t,"a",function(){return n})},"Y/s5":function(e,t,o){"use strict";o.d(t,"a",function(){return m});var n=o("3Pt+"),i=o("quSY"),r=o("AytR"),s=o("fXoL"),a=o("tk/3"),l=o("qfBg"),u=o("Wl7B"),c=o("gA3Z"),p=o("ofXK");function d(e,t){if(1&e&&(s.Sb(0,"option",13),s.Hc(1),s.Rb()),2&e){const e=t.$implicit;s.oc("value",null==e?null:e.id),s.zb(1),s.Jc(" ",null==e?null:e.city," ")}}function h(e,t){if(1&e&&(s.Sb(0,"option",13),s.Hc(1),s.Rb()),2&e){const e=t.$implicit;s.oc("value",null==e?null:e.id),s.zb(1),s.Jc(" ",null==e?null:e.id," ")}}function f(e,t){if(1&e&&(s.Sb(0,"option",13),s.Hc(1),s.Rb()),2&e){const e=t.$implicit;s.oc("value",null==e?null:e.id),s.zb(1),s.Jc(" ",null==e?null:e.position," ")}}function g(e,t){if(1&e){const e=s.Tb();s.Sb(0,"form",3),s.Sb(1,"div",4),s.Sb(2,"label"),s.Hc(3," User Name: "),s.Rb(),s.Nb(4,"input",5),s.Rb(),s.Sb(5,"div",4),s.Sb(6,"label"),s.Hc(7," Password: "),s.Rb(),s.Nb(8,"input",6),s.Rb(),s.Sb(9,"div",4),s.Sb(10,"label"),s.Hc(11," Location: "),s.Rb(),s.Sb(12,"select",7),s.Nb(13,"option",8),s.Fc(14,d,2,2,"option",9),s.Rb(),s.Rb(),s.Sb(15,"div",4),s.Sb(16,"label"),s.Hc(17," Group: "),s.Rb(),s.Sb(18,"select",10),s.Nb(19,"option",8),s.Fc(20,h,2,2,"option",9),s.Rb(),s.Rb(),s.Sb(21,"div",4),s.Sb(22,"label"),s.Hc(23," Role: "),s.Rb(),s.Sb(24,"select",11),s.Nb(25,"option",8),s.Fc(26,f,2,2,"option",9),s.Rb(),s.Rb(),s.Sb(27,"div",1),s.Sb(28,"button",12),s.dc("click",function(){return s.xc(e),s.gc().checkUserData()}),s.Hc(29," Add User "),s.Rb(),s.Rb(),s.Rb()}if(2&e){const e=s.gc();s.nc("formGroup",e.userInformation),s.zb(14),s.nc("ngForOf",e.locations),s.zb(6),s.nc("ngForOf",e.groups),s.zb(6),s.nc("ngForOf",e.roles),s.zb(2),s.nc("disabled",!e.userInformation.valid)}}let m=(()=>{class e{constructor(e,t,o,r){this.http=e,this.userService=t,this.gridService=o,this.modalService=r,this.userInformation=new n.k({username:new n.h(""),group:new n.h(0),location:new n.h(0),role:new n.h(0),password:new n.h("")}),this.locationOptions=null,this.roleOptions=null,this.groupOptions=null,this.showForm=!1,this.users=null,this.error=null,this.subscriptions=new i.a,this.gridService.getGroupList(),this.gridService.getLocationList(),this.gridService.getRoleList()}checkUserData(){this.username=this.userInformation.controls.username.value,this.password=this.userInformation.controls.password.value,this.location=this.userInformation.controls.location.value,this.role=this.userInformation.controls.role.value,this.group=this.userInformation.controls.group.value,""===this.username||this.location<1||this.role<1||this.group<1||""===this.password?this.modalService.setModalContext("Improper Format for the User Data"):this.addUser()}addUser(){const e=this.userService.getActiveUser();this.subscriptions.add(this.http.post(r.a.apiUrl+"/addUser",{username:this.username,password:this.password,role:this.role,group_id:this.group,location_id:this.location,activeUserId:e.userId}).subscribe(e=>{e?(this.modalService.setModalContext("User "+this.username+" has been added to the database"),this.gridService.setGridType(5),this.resetValues()):this.modalService.setModalContext("User "+this.username+" could not be added to the database, Check the Parameters")}))}resetValues(){this.userInformation.reset(),this.resetSubscriptions()}showUserForm(){return this.showForm=!0,this.showForm}ngOnInit(){this.groupOptions=this.gridService.getGroups(),this.userInformation.controls.group.setValue(this.groupOptions),this.subscriptions.add(this.gridService.groups.subscribe(e=>{this.groups=e,this.userInformation.controls.group.setValue(0)})),this.locationOptions=this.gridService.getLocations(),this.userInformation.controls.location.setValue(this.locationOptions),this.subscriptions.add(this.gridService.locations.subscribe(e=>{this.locations=e,this.userInformation.controls.location.setValue(0)})),this.roleOptions=this.gridService.getRoleList(),this.userInformation.controls.role.setValue(this.roleOptions),this.subscriptions.add(this.gridService.roles.subscribe(e=>{this.roles=e,this.userInformation.controls.role.setValue(0)}))}resetSubscriptions(){this.subscriptions.unsubscribe()}ngAfterViewInit(){}ngOnDestroy(){this.resetSubscriptions()}}return e.\u0275fac=function(t){return new(t||e)(s.Mb(a.b),s.Mb(l.a),s.Mb(u.a),s.Mb(c.a))},e.\u0275cmp=s.Gb({type:e,selectors:[["app-create-user"]],decls:3,vars:1,consts:[[1,"flexContainer"],[1,"flexElement"],["class","flexContainer",3,"formGroup",4,"ngIf"],[1,"flexContainer",3,"formGroup"],[1,"input-group","flexElement"],["formControlName","username","type","text","id","username","placeholder","Username"],["formControlName","password","type","text","id","password","placeholder","Password"],["id","location","formControlName","location","placeHolder","Location"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["id","group","formControlName","group","placeHolder","Group"],["id","role","formControlName","role","placeHolder","Role"],["type","submit","id","submitButton",1,"btn","btn-default",3,"disabled","click"],[3,"value"]],template:function(e,t){1&e&&(s.Sb(0,"div",0),s.Sb(1,"div",1),s.Fc(2,g,30,5,"form",2),s.Rb(),s.Rb()),2&e&&(s.zb(2),s.nc("ngIf",t.showUserForm()))},directives:[p.u,n.H,n.t,n.l,n.c,n.s,n.j,n.E,n.x,n.G,p.t],styles:["label[_ngcontent-%COMP%]{min-width:215px;align-content:flex-start}#group[_ngcontent-%COMP%], #location[_ngcontent-%COMP%], #password[_ngcontent-%COMP%], #role[_ngcontent-%COMP%], #username[_ngcontent-%COMP%]{min-width:100px}.description[_ngcontent-%COMP%]{align-content:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;-webkit-text-fill-color:#666}"]}),e})()},Yg26:function(e,t,o){"use strict";o.d(t,"a",function(){return f});var n=o("3Pt+"),i=o("quSY"),r=o("fXoL"),s=o("tk/3"),a=o("Wl7B"),l=o("O1s9"),u=o("gA3Z"),c=o("ofXK"),p=o("Ludi");function d(e,t){if(1&e){const e=r.Tb();r.Sb(0,"form",2),r.Sb(1,"div"),r.Sb(2,"h3"),r.Sb(3,"b"),r.Sb(4,"strong"),r.Hc(5,"Download Report"),r.Rb(),r.Rb(),r.Rb(),r.Sb(6,"div",3),r.Sb(7,"span",3),r.Hc(8," Select desired report by double clicking report from grid. "),r.Rb(),r.Rb(),r.Nb(9,"br"),r.Rb(),r.Sb(10,"div",4),r.Sb(11,"label",5),r.Hc(12," Badge Serial Number: "),r.Rb(),r.Nb(13,"input",6),r.Sb(14,"label",7),r.Hc(15," Raw Filename: "),r.Rb(),r.Nb(16,"input",8),r.Rb(),r.Sb(17,"div",9),r.Sb(18,"button",10),r.dc("click",function(){return r.xc(e),r.gc().submitButtonPressed()}),r.Hc(19," Download Raw File "),r.Rb(),r.Sb(20,"button",11),r.dc("click",function(){return r.xc(e),r.gc().cancelButtonPressed()}),r.Hc(21," Clear Search "),r.Rb(),r.Rb(),r.Rb()}if(2&e){const e=r.gc();r.nc("formGroup",e.fileInformation),r.zb(18),r.nc("disabled",!e.fileInformation.valid),r.zb(2),r.nc("disabled",!e.fileInformation.valid)}}function h(e,t){1&e&&(r.Sb(0,"div"),r.Nb(1,"app-grid"),r.Rb())}let f=(()=>{class e{constructor(e,t,o,r){this.http=e,this.gridService=t,this.downloadService=o,this.modalService=r,this.fileInformation=new n.k({rawFileName:new n.h,analyzedFileName:new n.h,badgeSerialNumber:new n.h}),this.showFormValue=!1,this.rowSelectionSub=new i.a,this.subscriptions=new i.a,this.gridService.setGridType(3),this.previewAnalyzed=!1,this.rowSelectionSub.add(this.gridService.rowSelected.subscribe(e=>{e?this.showSelectedFile():(this.fileInformation.reset(),this.resetSubscriptions())}))}downLoadFile(e,t){const o=e.type,n=[];n.push(e);const i=document.createElement("a");i.href=window.URL.createObjectURL(new Blob(n,{type:o})),i.setAttribute(t.name,t.value),document.body.appendChild(i),i.click()}requestDownloadFromService(e,t,o){this.downloadService.downloadFile(e,t).subscribe(e=>{const n=t;console.log(e),o.value=n,this.downLoadFile(e,o)},e=>{console.log(e),this.modalService.setModalContext("Was not able to retrieve file from server.")},()=>{})}get rawFileName(){return this.fileInformation.get("rawFileName")}get analyzedFileName(){return this.fileInformation.get("analyzedFileName")}get badgeSerialNumber(){return this.fileInformation.get("badgeSerialNumber")}showForm(){return this.showFormValue=!0,this.showFormValue}showSelectedFile(){const e=this.gridService.getSelectedRow();console.log(e),this.rawFileName.setValue(e.original_filename),this.badgeSerialNumber.setValue(e.badge_serial_number)}cancelButtonPressed(){this.fileInformation.reset(),this.resetSubscriptions()}submitButtonPressed(){this.gridService.getSelectedRow()&&this.rawFileName.value&&""!==this.rawFileName.value?this.openFiles():this.modalService.setModalContext("No File was selected, please make a selection from grid and try again.")}openFiles(){const e=document.createAttribute("download"),t=this.gridService.getSelectedRow();if(t){let o=t.original_filename;console.log(t),o||(o=t.raw_data),t.raw_data&&""!==t.raw_data&&(e.value=void 0,this.requestDownloadFromService(t.raw_data,o,e))}else this.modalService.setModalContext("Please select a badge from the grid.")}ngOnInit(){}previewRawPressed(){if(this.rawFileName.value&&""!==this.rawFileName.value){const e=document.createAttribute("target");e.value="_blank";const t=this.gridService.getSelectedRow();if(t){let o=t.original_filename;o||(o=t.raw_data),this.requestDownloadFromService(t.raw_data,o,e)}else this.modalService.setModalContext("Please select a badge from the grid.")}}resetSubscriptions(){this.subscriptions.unsubscribe()}ngOnDestroy(){this.resetSubscriptions(),this.rowSelectionSub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.Mb(s.b),r.Mb(a.a),r.Mb(l.a),r.Mb(u.a))},e.\u0275cmp=r.Gb({type:e,selectors:[["app-file-list"]],decls:2,vars:2,consts:[["class","flexContainer",3,"formGroup",4,"ngIf"],[4,"ngIf"],[1,"flexContainer",3,"formGroup"],[1,"description"],[1,"grid-container"],["for","badgeSerialNumber",1,"BadgeSerialNum1"],["formControlName","badgeSerialNumber","id","badgeSerialNumber","placeholder","Badge Serial Number","type","text","disabled","disabled","readonly","readonly",1,"BadgeSerialNum2"],["for","rawFileName",1,"RawFilename1"],["formControlName","rawFileName","id","rawFileName","placeholder","Raw Data Filename","type","text","disabled","disabled","readonly","readonly",1,"RawFilename2"],[1,"buttonGroup"],[1,"btn","btn-info",3,"disabled","click"],["type","submit","id","cancelButton",1,"btn","btn-danger",3,"disabled","click"]],template:function(e,t){1&e&&(r.Fc(0,d,22,3,"form",0),r.Fc(1,h,2,0,"div",1)),2&e&&(r.nc("ngIf",t.showForm()),r.zb(1),r.nc("ngIf",t.showForm()))},directives:[c.u,n.H,n.t,n.l,n.c,n.s,n.j,p.a],styles:['.buttonGroup[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-start;margin:25px 0}.buttonGroup[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-right:5px}.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:-webkit-max-content -webkit-max-content;grid-template-columns:max-content max-content;grid-template-rows:1fr 1fr;gap:5px 25px;grid-template-areas:"BadgeSerialNum1 BadgeSerialNum2" "RawFilename1 RawFilename2"}.BadgeSerialNum1[_ngcontent-%COMP%]{grid-area:BadgeSerialNum1}.BadgeSerialNum2[_ngcontent-%COMP%]{grid-area:BadgeSerialNum2}.RawFilename1[_ngcontent-%COMP%]{grid-area:RawFilename1}.RawFilename2[_ngcontent-%COMP%]{grid-area:RawFilename2}.flexContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;padding-top:5px;padding-bottom:5px}.flexElement[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:stretch;margin-top:5px}.description[_ngcontent-%COMP%]{align-content:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;-webkit-text-fill-color:#666}']}),e})()},ZUHj:function(e,t,o){"use strict";o.d(t,"a",function(){return s});var n=o("51Dv"),i=o("SeVD"),r=o("HDdC");function s(e,t,o,s,a=new n.a(e,o,s)){if(!a.closed)return t instanceof r.a?t.subscribe(a):Object(i.a)(t)(a)}},Zsim:function(e,t,o){"use strict";o.d(t,"a",function(){return u});var n=o("quSY"),i=o("fXoL"),r=o("gA3Z"),s=o("ofXK");function a(e,t){if(1&e){const e=i.Tb();i.Sb(0,"div",1),i.dc("click",function(t){return i.xc(e),i.gc().close(t)}),i.Sb(1,"div",2),i.dc("click",function(t){return i.xc(e),i.gc().swallowClicks(t)}),i.Sb(2,"span",3),i.dc("click",function(t){return i.xc(e),i.gc().close(t)}),i.Hc(3,"\xd7"),i.Rb(),i.lc(4),i.Rb(),i.Rb()}}const l=["*"];let u=(()=>{class e{constructor(e){this.modalWindowService=e,this.presentWindow=!1,this.subscriptions=new n.a}ngOnInit(){this.subscriptions.add(this.modalWindowService.popUpContextUpdated.subscribe(e=>{this.presentWindow=this.id===e}))}close(e){e.stopPropagation(),this.presentWindow=!1,this.modalWindowService.setPopOutContext(null)}ngOnDestroy(){this.subscriptions.unsubscribe(),this.modalWindowService.setPopOutContext(null)}swallowClicks(e){e.stopImmediatePropagation()}}return e.\u0275fac=function(t){return new(t||e)(i.Mb(r.a))},e.\u0275cmp=i.Gb({type:e,selectors:[["app-pop-out-window"]],inputs:{id:["pop-out-id","id"]},ngContentSelectors:l,decls:1,vars:1,consts:[["class","pop-out",3,"click",4,"ngIf"],[1,"pop-out",3,"click"],[1,"pop-out-content","thumbnail",3,"click"],["id","pane",1,"close",3,"click"]],template:function(e,t){1&e&&(i.mc(),i.Fc(0,a,5,0,"div",0)),2&e&&i.nc("ngIf",t.presentWindow)},directives:[s.u],styles:["body[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif}.pop-out[_ngcontent-%COMP%]{display:block;position:fixed;z-index:1;padding-top:100px;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.thumbnail[_ngcontent-%COMP%]{box-shadow:0 4px 8px 0 rgba(0,0,0,.5);transition:.3s;min-width:40%;border-radius:5px}.thumbnail[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px 0 #000}\n\n.pop-out-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:auto;padding:10px 20px;border:1px solid #888;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;text-align:center}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:focus, .close[_ngcontent-%COMP%]:hover{color:#000;text-decoration:none;cursor:pointer}"]}),e})()},bHdf:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var n=o("5+tZ"),i=o("SpAZ");function r(e=Number.POSITIVE_INFINITY){return Object(n.a)(i.a,e)}},bOdf:function(e,t,o){"use strict";o.d(t,"a",function(){return i});var n=o("5+tZ");function i(e,t){return Object(n.a)(e,t,1)}},c2HN:function(e,t,o){"use strict";function n(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}o.d(t,"a",function(){return n})},cWTo:function(e,t,o){"use strict";function n(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}function i(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}o.d(t,"a",function(){return p}),o.d(t,"b",function(){return l}),o.d(t,"c",function(){return h});var r,s=o("fXoL"),a=o("f7ga");let l=(()=>{let e=r=class{hasChildColumns(){return!(!(this.childColumns&&this.childColumns.length>0)||1===this.childColumns.length&&this.childColumns.first===this)}toColDef(){let e=this.createColDefFromGridColumn(this);return this.hasChildColumns()&&(e.children=this.getChildColDefs(this.childColumns)),e}getChildColDefs(e){return e.filter(e=>!e.hasChildColumns()).map(e=>e.toColDef())}createColDefFromGridColumn(e){let t={};return Object.assign(t,e),delete t.childColumns,t}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Gb({type:e,selectors:[["ag-grid-column"]],contentQueries:function(e,t,o){var n;1&e&&s.Fb(o,r,!1),2&e&&s.uc(n=s.ec())&&(t.childColumns=n)},inputs:{children:"children",sortingOrder:"sortingOrder",allowedAggFuncs:"allowedAggFuncs",menuTabs:"menuTabs",cellClassRules:"cellClassRules",icons:"icons",headerGroupComponent:"headerGroupComponent",headerGroupComponentFramework:"headerGroupComponentFramework",headerGroupComponentParams:"headerGroupComponentParams",cellStyle:"cellStyle",cellRendererParams:"cellRendererParams",cellEditorFramework:"cellEditorFramework",cellEditorParams:"cellEditorParams",pinnedRowCellRendererFramework:"pinnedRowCellRendererFramework",pinnedRowCellRendererParams:"pinnedRowCellRendererParams",filterFramework:"filterFramework",filterParams:"filterParams",headerComponent:"headerComponent",headerComponentFramework:"headerComponentFramework",headerComponentParams:"headerComponentParams",floatingFilterComponent:"floatingFilterComponent",floatingFilterComponentParams:"floatingFilterComponentParams",floatingFilterComponentFramework:"floatingFilterComponentFramework",tooltipComponent:"tooltipComponent",tooltipComponentParams:"tooltipComponentParams",tooltipComponentFramework:"tooltipComponentFramework",refData:"refData",headerName:"headerName",columnGroupShow:"columnGroupShow",headerClass:"headerClass",toolPanelClass:"toolPanelClass",headerValueGetter:"headerValueGetter",groupId:"groupId",colId:"colId",sort:"sort",field:"field",type:"type",tooltipField:"tooltipField",headerTooltip:"headerTooltip",cellClass:"cellClass",showRowGroup:"showRowGroup",filter:"filter",aggFunc:"aggFunc",cellRenderer:"cellRenderer",cellEditor:"cellEditor",pinned:"pinned",chartDataType:"chartDataType",sortedAt:"sortedAt",flex:"flex",width:"width",minWidth:"minWidth",maxWidth:"maxWidth",rowGroupIndex:"rowGroupIndex",pivotIndex:"pivotIndex",dndSourceOnRowDrag:"dndSourceOnRowDrag",valueGetter:"valueGetter",valueSetter:"valueSetter",filterValueGetter:"filterValueGetter",keyCreator:"keyCreator",cellRendererFramework:"cellRendererFramework",pinnedRowCellRenderer:"pinnedRowCellRenderer",valueFormatter:"valueFormatter",pinnedRowValueFormatter:"pinnedRowValueFormatter",valueParser:"valueParser",comparator:"comparator",equals:"equals",pivotComparator:"pivotComparator",suppressKeyboardEvent:"suppressKeyboardEvent",colSpan:"colSpan",rowSpan:"rowSpan",getQuickFilterText:"getQuickFilterText",newValueHandler:"newValueHandler",onCellValueChanged:"onCellValueChanged",onCellClicked:"onCellClicked",onCellDoubleClicked:"onCellDoubleClicked",onCellContextMenu:"onCellContextMenu",rowDragText:"rowDragText",tooltip:"tooltip",tooltipValueGetter:"tooltipValueGetter",cellRendererSelector:"cellRendererSelector",cellEditorSelector:"cellEditorSelector",suppressCellFlash:"suppressCellFlash",suppressColumnsToolPanel:"suppressColumnsToolPanel",suppressFiltersToolPanel:"suppressFiltersToolPanel",openByDefault:"openByDefault",marryChildren:"marryChildren",hide:"hide",rowGroup:"rowGroup",pivot:"pivot",checkboxSelection:"checkboxSelection",headerCheckboxSelection:"headerCheckboxSelection",headerCheckboxSelectionFilteredOnly:"headerCheckboxSelectionFilteredOnly",suppressMenu:"suppressMenu",suppressSorting:"suppressSorting",suppressMovable:"suppressMovable",suppressFilter:"suppressFilter",lockPosition:"lockPosition",lockVisible:"lockVisible",lockPinned:"lockPinned",unSortIcon:"unSortIcon",suppressSizeToFit:"suppressSizeToFit",suppressResize:"suppressResize",suppressAutoSize:"suppressAutoSize",enableRowGroup:"enableRowGroup",enablePivot:"enablePivot",enableValue:"enableValue",editable:"editable",suppressPaste:"suppressPaste",suppressNavigable:"suppressNavigable",enableCellChangeFlash:"enableCellChangeFlash",rowDrag:"rowDrag",dndSource:"dndSource",autoHeight:"autoHeight",sortable:"sortable",resizable:"resizable",singleClickEdit:"singleClickEdit",floatingFilter:"floatingFilter"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),u=(()=>{let e=class extends a.VanillaFrameworkOverrides{constructor(e){super(),this._ngZone=e}setTimeout(e,t){this._ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{e()},t)})}addEventListenerOutsideAngular(e,t,o,n){this._ngZone.runOutsideAngular(()=>{super.addEventListenerOutsideAngular(e,t,o,n)})}};return e.\u0275fac=function(t){return new(t||e)(s.ac(s.B))},e.\u0275prov=s.Ib({token:e,factory:function(t){return e.\u0275fac(t)}}),e=n([i("design:paramtypes",[s.B])],e),e})(),c=(()=>{let e=class extends a.BaseComponentWrapper{setViewContainerRef(e){this.viewContainerRef=e}setComponentFactoryResolver(e){this.componentFactoryResolver=e}createWrapper(e){let t=this,o=new class extends class{init(e){this._params=e,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}{init(e){super.init(e),this._componentRef.changeDetectorRef.detectChanges()}createComponent(){return t.createComponent(e)}hasMethod(e){return null!=o.getFrameworkComponentInstance()[e]}callMethod(e,t){const n=this.getFrameworkComponentInstance();return o.getFrameworkComponentInstance()[e].apply(n,t)}addMethod(e,t){o[e]=t}};return o}createComponent(e){let t=this.componentFactoryResolver.resolveComponentFactory(e);return this.viewContainerRef.createComponent(t)}};return e.\u0275fac=function(t){return f(t||e)},e.\u0275prov=s.Ib({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),p=(()=>{let e=class{constructor(e,t,o,n,i){this.viewContainerRef=t,this.angularFrameworkOverrides=o,this.frameworkComponentWrapper=n,this._componentFactoryResolver=i,this._initialised=!1,this._destroyed=!1,this._fullyReady=a.Promise.resolve(!0),this.slaveGrids=void 0,this.alignedGrids=void 0,this.rowData=void 0,this.columnDefs=void 0,this.excelStyles=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.components=void 0,this.frameworkComponents=void 0,this.rowStyle=void 0,this.context=void 0,this.autoGroupColumnDef=void 0,this.groupColumnDef=void 0,this.localeText=void 0,this.icons=void 0,this.datasource=void 0,this.serverSideDatasource=void 0,this.viewportDatasource=void 0,this.groupRowRendererParams=void 0,this.aggFuncs=void 0,this.fullWidthCellRendererParams=void 0,this.defaultColGroupDef=void 0,this.defaultColDef=void 0,this.defaultExportParams=void 0,this.columnTypes=void 0,this.rowClassRules=void 0,this.detailGridOptions=void 0,this.detailCellRendererParams=void 0,this.loadingCellRendererParams=void 0,this.loadingOverlayComponentParams=void 0,this.noRowsOverlayComponentParams=void 0,this.popupParent=void 0,this.colResizeDefault=void 0,this.reduxStore=void 0,this.statusBar=void 0,this.sideBar=void 0,this.sortingOrder=void 0,this.rowClass=void 0,this.rowSelection=void 0,this.overlayLoadingTemplate=void 0,this.overlayNoRowsTemplate=void 0,this.quickFilterText=void 0,this.rowModelType=void 0,this.editType=void 0,this.domLayout=void 0,this.clipboardDeliminator=void 0,this.rowGroupPanelShow=void 0,this.multiSortKey=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotPanelShow=void 0,this.rowHeight=void 0,this.detailRowHeight=void 0,this.rowBuffer=void 0,this.colWidth=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.groupDefaultExpanded=void 0,this.minColWidth=void 0,this.maxColWidth=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.autoSizePadding=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.tooltipShowDelay=void 0,this.cacheOverflowSize=void 0,this.paginationPageSize=void 0,this.cacheBlockSize=void 0,this.infiniteInitialRowCount=void 0,this.scrollbarWidth=void 0,this.paginationStartPage=void 0,this.infiniteBlockSize=void 0,this.batchUpdateWaitMillis=void 0,this.asyncTransactionWaitMillis=void 0,this.blockLoadDebounceMillis=void 0,this.keepDetailRowsCount=void 0,this.undoRedoCellEditingLimit=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.localeTextFunc=void 0,this.groupRowInnerRenderer=void 0,this.groupRowInnerRendererFramework=void 0,this.dateComponent=void 0,this.dateComponentFramework=void 0,this.groupRowRenderer=void 0,this.groupRowRendererFramework=void 0,this.isExternalFilterPresent=void 0,this.getRowHeight=void 0,this.doesExternalFilterPass=void 0,this.getRowClass=void 0,this.getRowStyle=void 0,this.getRowClassRules=void 0,this.traverseNode=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.processRowPostCreate=void 0,this.processCellForClipboard=void 0,this.getNodeChildDetails=void 0,this.groupRowAggNodes=void 0,this.getRowNodeId=void 0,this.isFullWidthCell=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererFramework=void 0,this.doesDataFlower=void 0,this.processSecondaryColDef=void 0,this.processSecondaryColGroupDef=void 0,this.getBusinessKeyForNode=void 0,this.sendToClipboard=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getDetailRowData=void 0,this.processCellFromClipboard=void 0,this.getDocument=void 0,this.postProcessPopup=void 0,this.getChildCount=void 0,this.getDataPath=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererFramework=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentFramework=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentFramework=void 0,this.detailCellRenderer=void 0,this.detailCellRendererFramework=void 0,this.defaultGroupSortComparator=void 0,this.isRowMaster=void 0,this.isRowSelectable=void 0,this.postSort=void 0,this.processHeaderForClipboard=void 0,this.paginationNumberFormatter=void 0,this.processDataFromClipboard=void 0,this.getServerSideGroupKey=void 0,this.isServerSideGroup=void 0,this.suppressKeyboardEvent=void 0,this.createChartContainer=void 0,this.processChartOptions=void 0,this.getChartToolbarItems=void 0,this.fillOperation=void 0,this.toolPanelSuppressRowGroups=void 0,this.toolPanelSuppressValues=void 0,this.toolPanelSuppressPivots=void 0,this.toolPanelSuppressPivotMode=void 0,this.toolPanelSuppressSideButtons=void 0,this.toolPanelSuppressColumnFilter=void 0,this.toolPanelSuppressColumnSelectAll=void 0,this.toolPanelSuppressColumnExpandAll=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.suppressRowClickSelection=void 0,this.suppressCellSelection=void 0,this.suppressHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debug=void 0,this.enableBrowserTooltips=void 0,this.enableColResize=void 0,this.enableCellExpressions=void 0,this.enableSorting=void 0,this.enableServerSideSorting=void 0,this.enableFilter=void 0,this.enableServerSideFilter=void 0,this.angularCompileRows=void 0,this.angularCompileFilters=void 0,this.angularCompileHeaders=void 0,this.groupSuppressAutoColumn=void 0,this.groupSelectsChildren=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupUseEntireRow=void 0,this.groupSuppressRow=void 0,this.groupSuppressBlankHeader=void 0,this.forPrint=void 0,this.suppressMenuHide=void 0,this.rowDeselection=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.singleClickEdit=void 0,this.suppressLoadingOverlay=void 0,this.suppressNoRowsOverlay=void 0,this.suppressAutoSize=void 0,this.skipHeaderOnAutoSize=void 0,this.suppressParentsInRowNodes=void 0,this.showToolPanel=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressMovableColumns=void 0,this.suppressFieldDotNotation=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.suppressClearOnFillReduction=void 0,this.deltaSort=void 0,this.suppressTouch=void 0,this.suppressAsyncEvents=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressContextMenu=void 0,this.suppressMenuFilterPanel=void 0,this.suppressMenuMainPanel=void 0,this.suppressMenuColumnPanel=void 0,this.rememberGroupStateWhenNewData=void 0,this.enableCellChangeFlash=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.suppressUseColIdForGroups=void 0,this.suppressCopyRowsToClipboard=void 0,this.copyHeadersToClipboard=void 0,this.pivotMode=void 0,this.suppressAggFuncInHeader=void 0,this.suppressColumnVirtualisation=void 0,this.suppressAggAtRootLevel=void 0,this.suppressFocusAfterRefresh=void 0,this.functionsPassive=void 0,this.functionsReadOnly=void 0,this.animateRows=void 0,this.groupSelectsFiltered=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.enableRtl=void 0,this.suppressClickEdit=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.enableMultiRowDragging=void 0,this.enableGroupEdit=void 0,this.embedFullWidthRows=void 0,this.deprecatedEmbedFullWidthRows=void 0,this.suppressTabbing=void 0,this.suppressPaginationPanel=void 0,this.floatingFilter=void 0,this.groupHideOpenParents=void 0,this.groupMultiAutoColumn=void 0,this.pagination=void 0,this.stopEditingWhenGridLosesFocus=void 0,this.paginationAutoPageSize=void 0,this.suppressScrollOnNewData=void 0,this.purgeClosedRowNodes=void 0,this.cacheQuickFilter=void 0,this.deltaRowDataMode=void 0,this.ensureDomOrder=void 0,this.accentedSort=void 0,this.pivotTotals=void 0,this.suppressChangeDetection=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAnimationFrame=void 0,this.suppressExcelExport=void 0,this.suppressCsvExport=void 0,this.treeData=void 0,this.masterDetail=void 0,this.suppressMultiRangeSelection=void 0,this.enterMovesDownAfterEdit=void 0,this.enterMovesDown=void 0,this.suppressPropertyNamesCheck=void 0,this.rowMultiSelectWithClick=void 0,this.contractColumnSelection=void 0,this.suppressEnterpriseResetOnNewColumns=void 0,this.enableOldSetFilterModel=void 0,this.suppressRowHoverHighlight=void 0,this.gridAutoHeight=void 0,this.suppressRowTransform=void 0,this.suppressClipboardPaste=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.serverSideSortingAlwaysResets=void 0,this.reactNext=void 0,this.suppressSetColumnStateEvents=void 0,this.enableCharts=void 0,this.deltaColumnMode=void 0,this.suppressMaintainUnsortedOrder=void 0,this.enableCellTextSelection=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.tooltipMouseTrack=void 0,this.keepDetailRows=void 0,this.paginateChildRows=void 0,this.preventDefaultOnContextMenu=void 0,this.undoRedoCellEditing=void 0,this.allowDragFromColumnsToolPanel=void 0,this.immutableData=void 0,this.immutableColumns=void 0,this.pivotSuppressAutoColumn=void 0,this.columnEverythingChanged=new s.o,this.newColumnsLoaded=new s.o,this.columnPivotModeChanged=new s.o,this.columnRowGroupChanged=new s.o,this.expandOrCollapseAll=new s.o,this.columnPivotChanged=new s.o,this.gridColumnsChanged=new s.o,this.columnValueChanged=new s.o,this.columnMoved=new s.o,this.columnVisible=new s.o,this.columnPinned=new s.o,this.columnGroupOpened=new s.o,this.columnResized=new s.o,this.displayedColumnsChanged=new s.o,this.virtualColumnsChanged=new s.o,this.rowGroupOpened=new s.o,this.rowDataChanged=new s.o,this.rowDataUpdated=new s.o,this.pinnedRowDataChanged=new s.o,this.rangeSelectionChanged=new s.o,this.chartCreated=new s.o,this.chartRangeSelectionChanged=new s.o,this.chartOptionsChanged=new s.o,this.chartDestroyed=new s.o,this.toolPanelVisibleChanged=new s.o,this.modelUpdated=new s.o,this.pasteStart=new s.o,this.pasteEnd=new s.o,this.fillStart=new s.o,this.fillEnd=new s.o,this.cellClicked=new s.o,this.cellDoubleClicked=new s.o,this.cellMouseDown=new s.o,this.cellContextMenu=new s.o,this.cellValueChanged=new s.o,this.rowValueChanged=new s.o,this.cellFocused=new s.o,this.rowSelected=new s.o,this.selectionChanged=new s.o,this.cellKeyDown=new s.o,this.cellKeyPress=new s.o,this.cellMouseOver=new s.o,this.cellMouseOut=new s.o,this.filterChanged=new s.o,this.filterModified=new s.o,this.filterOpened=new s.o,this.sortChanged=new s.o,this.virtualRowRemoved=new s.o,this.rowClicked=new s.o,this.rowDoubleClicked=new s.o,this.gridReady=new s.o,this.gridSizeChanged=new s.o,this.viewportChanged=new s.o,this.firstDataRendered=new s.o,this.dragStarted=new s.o,this.dragStopped=new s.o,this.checkboxChanged=new s.o,this.rowEditingStarted=new s.o,this.rowEditingStopped=new s.o,this.cellEditingStarted=new s.o,this.cellEditingStopped=new s.o,this.bodyScroll=new s.o,this.animationQueueEmpty=new s.o,this.heightScaleChanged=new s.o,this.paginationChanged=new s.o,this.componentStateChanged=new s.o,this.bodyHeightChanged=new s.o,this.displayedColumnsWidthChanged=new s.o,this.scrollVisibilityChanged=new s.o,this.columnHoverChanged=new s.o,this.flashCells=new s.o,this.rowDragEnter=new s.o,this.rowDragMove=new s.o,this.rowDragLeave=new s.o,this.rowDragEnd=new s.o,this.popupToFront=new s.o,this.columnRowGroupChangeRequest=new s.o,this.columnPivotChangeRequest=new s.o,this.columnValueChangeRequest=new s.o,this.columnAggFuncChangeRequest=new s.o,this.keyboardFocus=new s.o,this.mouseFocus=new s.o,this._nativeElement=e.nativeElement,this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this._componentFactoryResolver)}ngAfterViewInit(){this.checkForDeprecatedEvents(),this.gridOptions=a.ComponentUtil.copyAttributesToGridOptions(this.gridOptions,this,!0),this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]},this.columns&&this.columns.length>0&&(this.gridOptions.columnDefs=this.columns.map(e=>e.toColDef())),new a.Grid(this._nativeElement,this.gridOptions,this.gridParams),this.gridOptions.api&&(this.api=this.gridOptions.api),this.gridOptions.columnApi&&(this.columnApi=this.gridOptions.columnApi),this._initialised=!0,this._fullyReady.resolveNow(null,e=>e)}ngOnChanges(e){this._initialised&&a.ComponentUtil.processOnChange(e,this.gridOptions,this.api,this.columnApi)}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api&&this.api.destroy())}checkForDeprecatedEvents(){a._.iterateObject(a.Events,(e,t)=>{this[t]&&this[t].observers.length>0&&a.GridOptionsWrapper.checkEventDeprecation(t)})}globalEventListener(e,t){if(this._destroyed)return;let o=this[e];o?"gridReady"===e?this._fullyReady.then(e=>{o.emit(t)}):o.emit(t):console.log("ag-Grid-angular: could not find EventEmitter: "+e)}};return e.\u0275fac=function(t){return new(t||e)(s.Mb(s.m),s.Mb(s.Q),s.Mb(u),s.Mb(c),s.Mb(s.k))},e.\u0275cmp=s.Gb({type:e,selectors:[["ag-grid-angular"]],contentQueries:function(e,t,o){var n;1&e&&s.Fb(o,l,!1),2&e&&s.uc(n=s.ec())&&(t.columns=n)},inputs:{slaveGrids:"slaveGrids",alignedGrids:"alignedGrids",rowData:"rowData",columnDefs:"columnDefs",excelStyles:"excelStyles",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",components:"components",frameworkComponents:"frameworkComponents",rowStyle:"rowStyle",context:"context",autoGroupColumnDef:"autoGroupColumnDef",groupColumnDef:"groupColumnDef",localeText:"localeText",icons:"icons",datasource:"datasource",serverSideDatasource:"serverSideDatasource",viewportDatasource:"viewportDatasource",groupRowRendererParams:"groupRowRendererParams",aggFuncs:"aggFuncs",fullWidthCellRendererParams:"fullWidthCellRendererParams",defaultColGroupDef:"defaultColGroupDef",defaultColDef:"defaultColDef",defaultExportParams:"defaultExportParams",columnTypes:"columnTypes",rowClassRules:"rowClassRules",detailGridOptions:"detailGridOptions",detailCellRendererParams:"detailCellRendererParams",loadingCellRendererParams:"loadingCellRendererParams",loadingOverlayComponentParams:"loadingOverlayComponentParams",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",popupParent:"popupParent",colResizeDefault:"colResizeDefault",reduxStore:"reduxStore",statusBar:"statusBar",sideBar:"sideBar",sortingOrder:"sortingOrder",rowClass:"rowClass",rowSelection:"rowSelection",overlayLoadingTemplate:"overlayLoadingTemplate",overlayNoRowsTemplate:"overlayNoRowsTemplate",quickFilterText:"quickFilterText",rowModelType:"rowModelType",editType:"editType",domLayout:"domLayout",clipboardDeliminator:"clipboardDeliminator",rowGroupPanelShow:"rowGroupPanelShow",multiSortKey:"multiSortKey",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotPanelShow:"pivotPanelShow",rowHeight:"rowHeight",detailRowHeight:"detailRowHeight",rowBuffer:"rowBuffer",colWidth:"colWidth",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",groupDefaultExpanded:"groupDefaultExpanded",minColWidth:"minColWidth",maxColWidth:"maxColWidth",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",autoSizePadding:"autoSizePadding",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",tooltipShowDelay:"tooltipShowDelay",cacheOverflowSize:"cacheOverflowSize",paginationPageSize:"paginationPageSize",cacheBlockSize:"cacheBlockSize",infiniteInitialRowCount:"infiniteInitialRowCount",scrollbarWidth:"scrollbarWidth",paginationStartPage:"paginationStartPage",infiniteBlockSize:"infiniteBlockSize",batchUpdateWaitMillis:"batchUpdateWaitMillis",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",blockLoadDebounceMillis:"blockLoadDebounceMillis",keepDetailRowsCount:"keepDetailRowsCount",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",localeTextFunc:"localeTextFunc",groupRowInnerRenderer:"groupRowInnerRenderer",groupRowInnerRendererFramework:"groupRowInnerRendererFramework",dateComponent:"dateComponent",dateComponentFramework:"dateComponentFramework",groupRowRenderer:"groupRowRenderer",groupRowRendererFramework:"groupRowRendererFramework",isExternalFilterPresent:"isExternalFilterPresent",getRowHeight:"getRowHeight",doesExternalFilterPass:"doesExternalFilterPass",getRowClass:"getRowClass",getRowStyle:"getRowStyle",getRowClassRules:"getRowClassRules",traverseNode:"traverseNode",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",processRowPostCreate:"processRowPostCreate",processCellForClipboard:"processCellForClipboard",getNodeChildDetails:"getNodeChildDetails",groupRowAggNodes:"groupRowAggNodes",getRowNodeId:"getRowNodeId",isFullWidthCell:"isFullWidthCell",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererFramework:"fullWidthCellRendererFramework",doesDataFlower:"doesDataFlower",processSecondaryColDef:"processSecondaryColDef",processSecondaryColGroupDef:"processSecondaryColGroupDef",getBusinessKeyForNode:"getBusinessKeyForNode",sendToClipboard:"sendToClipboard",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getDetailRowData:"getDetailRowData",processCellFromClipboard:"processCellFromClipboard",getDocument:"getDocument",postProcessPopup:"postProcessPopup",getChildCount:"getChildCount",getDataPath:"getDataPath",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererFramework:"loadingCellRendererFramework",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentFramework:"loadingOverlayComponentFramework",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentFramework:"noRowsOverlayComponentFramework",detailCellRenderer:"detailCellRenderer",detailCellRendererFramework:"detailCellRendererFramework",defaultGroupSortComparator:"defaultGroupSortComparator",isRowMaster:"isRowMaster",isRowSelectable:"isRowSelectable",postSort:"postSort",processHeaderForClipboard:"processHeaderForClipboard",paginationNumberFormatter:"paginationNumberFormatter",processDataFromClipboard:"processDataFromClipboard",getServerSideGroupKey:"getServerSideGroupKey",isServerSideGroup:"isServerSideGroup",suppressKeyboardEvent:"suppressKeyboardEvent",createChartContainer:"createChartContainer",processChartOptions:"processChartOptions",getChartToolbarItems:"getChartToolbarItems",fillOperation:"fillOperation",toolPanelSuppressRowGroups:"toolPanelSuppressRowGroups",toolPanelSuppressValues:"toolPanelSuppressValues",toolPanelSuppressPivots:"toolPanelSuppressPivots",toolPanelSuppressPivotMode:"toolPanelSuppressPivotMode",toolPanelSuppressSideButtons:"toolPanelSuppressSideButtons",toolPanelSuppressColumnFilter:"toolPanelSuppressColumnFilter",toolPanelSuppressColumnSelectAll:"toolPanelSuppressColumnSelectAll",toolPanelSuppressColumnExpandAll:"toolPanelSuppressColumnExpandAll",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",suppressRowClickSelection:"suppressRowClickSelection",suppressCellSelection:"suppressCellSelection",suppressHorizontalScroll:"suppressHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debug:"debug",enableBrowserTooltips:"enableBrowserTooltips",enableColResize:"enableColResize",enableCellExpressions:"enableCellExpressions",enableSorting:"enableSorting",enableServerSideSorting:"enableServerSideSorting",enableFilter:"enableFilter",enableServerSideFilter:"enableServerSideFilter",angularCompileRows:"angularCompileRows",angularCompileFilters:"angularCompileFilters",angularCompileHeaders:"angularCompileHeaders",groupSuppressAutoColumn:"groupSuppressAutoColumn",groupSelectsChildren:"groupSelectsChildren",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupUseEntireRow:"groupUseEntireRow",groupSuppressRow:"groupSuppressRow",groupSuppressBlankHeader:"groupSuppressBlankHeader",forPrint:"forPrint",suppressMenuHide:"suppressMenuHide",rowDeselection:"rowDeselection",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",singleClickEdit:"singleClickEdit",suppressLoadingOverlay:"suppressLoadingOverlay",suppressNoRowsOverlay:"suppressNoRowsOverlay",suppressAutoSize:"suppressAutoSize",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",suppressParentsInRowNodes:"suppressParentsInRowNodes",showToolPanel:"showToolPanel",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressMovableColumns:"suppressMovableColumns",suppressFieldDotNotation:"suppressFieldDotNotation",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",suppressClearOnFillReduction:"suppressClearOnFillReduction",deltaSort:"deltaSort",suppressTouch:"suppressTouch",suppressAsyncEvents:"suppressAsyncEvents",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressContextMenu:"suppressContextMenu",suppressMenuFilterPanel:"suppressMenuFilterPanel",suppressMenuMainPanel:"suppressMenuMainPanel",suppressMenuColumnPanel:"suppressMenuColumnPanel",rememberGroupStateWhenNewData:"rememberGroupStateWhenNewData",enableCellChangeFlash:"enableCellChangeFlash",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",suppressUseColIdForGroups:"suppressUseColIdForGroups",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",copyHeadersToClipboard:"copyHeadersToClipboard",pivotMode:"pivotMode",suppressAggFuncInHeader:"suppressAggFuncInHeader",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressAggAtRootLevel:"suppressAggAtRootLevel",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",functionsPassive:"functionsPassive",functionsReadOnly:"functionsReadOnly",animateRows:"animateRows",groupSelectsFiltered:"groupSelectsFiltered",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",enableRtl:"enableRtl",suppressClickEdit:"suppressClickEdit",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",enableMultiRowDragging:"enableMultiRowDragging",enableGroupEdit:"enableGroupEdit",embedFullWidthRows:"embedFullWidthRows",deprecatedEmbedFullWidthRows:"deprecatedEmbedFullWidthRows",suppressTabbing:"suppressTabbing",suppressPaginationPanel:"suppressPaginationPanel",floatingFilter:"floatingFilter",groupHideOpenParents:"groupHideOpenParents",groupMultiAutoColumn:"groupMultiAutoColumn",pagination:"pagination",stopEditingWhenGridLosesFocus:"stopEditingWhenGridLosesFocus",paginationAutoPageSize:"paginationAutoPageSize",suppressScrollOnNewData:"suppressScrollOnNewData",purgeClosedRowNodes:"purgeClosedRowNodes",cacheQuickFilter:"cacheQuickFilter",deltaRowDataMode:"deltaRowDataMode",ensureDomOrder:"ensureDomOrder",accentedSort:"accentedSort",pivotTotals:"pivotTotals",suppressChangeDetection:"suppressChangeDetection",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAnimationFrame:"suppressAnimationFrame",suppressExcelExport:"suppressExcelExport",suppressCsvExport:"suppressCsvExport",treeData:"treeData",masterDetail:"masterDetail",suppressMultiRangeSelection:"suppressMultiRangeSelection",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",enterMovesDown:"enterMovesDown",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",rowMultiSelectWithClick:"rowMultiSelectWithClick",contractColumnSelection:"contractColumnSelection",suppressEnterpriseResetOnNewColumns:"suppressEnterpriseResetOnNewColumns",enableOldSetFilterModel:"enableOldSetFilterModel",suppressRowHoverHighlight:"suppressRowHoverHighlight",gridAutoHeight:"gridAutoHeight",suppressRowTransform:"suppressRowTransform",suppressClipboardPaste:"suppressClipboardPaste",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",serverSideSortingAlwaysResets:"serverSideSortingAlwaysResets",reactNext:"reactNext",suppressSetColumnStateEvents:"suppressSetColumnStateEvents",enableCharts:"enableCharts",deltaColumnMode:"deltaColumnMode",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",enableCellTextSelection:"enableCellTextSelection",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",tooltipMouseTrack:"tooltipMouseTrack",keepDetailRows:"keepDetailRows",paginateChildRows:"paginateChildRows",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",undoRedoCellEditing:"undoRedoCellEditing",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",immutableData:"immutableData",immutableColumns:"immutableColumns",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",gridOptions:"gridOptions",modules:"modules"},outputs:{columnEverythingChanged:"columnEverythingChanged",newColumnsLoaded:"newColumnsLoaded",columnPivotModeChanged:"columnPivotModeChanged",columnRowGroupChanged:"columnRowGroupChanged",expandOrCollapseAll:"expandOrCollapseAll",columnPivotChanged:"columnPivotChanged",gridColumnsChanged:"gridColumnsChanged",columnValueChanged:"columnValueChanged",columnMoved:"columnMoved",columnVisible:"columnVisible",columnPinned:"columnPinned",columnGroupOpened:"columnGroupOpened",columnResized:"columnResized",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",rowGroupOpened:"rowGroupOpened",rowDataChanged:"rowDataChanged",rowDataUpdated:"rowDataUpdated",pinnedRowDataChanged:"pinnedRowDataChanged",rangeSelectionChanged:"rangeSelectionChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",toolPanelVisibleChanged:"toolPanelVisibleChanged",modelUpdated:"modelUpdated",pasteStart:"pasteStart",pasteEnd:"pasteEnd",fillStart:"fillStart",fillEnd:"fillEnd",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellMouseDown:"cellMouseDown",cellContextMenu:"cellContextMenu",cellValueChanged:"cellValueChanged",rowValueChanged:"rowValueChanged",cellFocused:"cellFocused",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellKeyDown:"cellKeyDown",cellKeyPress:"cellKeyPress",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",filterChanged:"filterChanged",filterModified:"filterModified",filterOpened:"filterOpened",sortChanged:"sortChanged",virtualRowRemoved:"virtualRowRemoved",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",gridReady:"gridReady",gridSizeChanged:"gridSizeChanged",viewportChanged:"viewportChanged",firstDataRendered:"firstDataRendered",dragStarted:"dragStarted",dragStopped:"dragStopped",checkboxChanged:"checkboxChanged",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",bodyScroll:"bodyScroll",animationQueueEmpty:"animationQueueEmpty",heightScaleChanged:"heightScaleChanged",paginationChanged:"paginationChanged",componentStateChanged:"componentStateChanged",bodyHeightChanged:"bodyHeightChanged",displayedColumnsWidthChanged:"displayedColumnsWidthChanged",scrollVisibilityChanged:"scrollVisibilityChanged",columnHoverChanged:"columnHoverChanged",flashCells:"flashCells",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",popupToFront:"popupToFront",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest",keyboardFocus:"keyboardFocus",mouseFocus:"mouseFocus"},features:[s.yb([u,c]),s.xb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e=n([i("design:paramtypes",[s.m,s.Q,u,c,s.k])],e),e})();var d;let h=(()=>{let e=d=class{static withComponents(e){return{ngModule:d,providers:[{provide:s.a,useValue:e,multi:!0}]}}static forRoot(e){return{ngModule:d,providers:[{provide:s.a,useValue:e,multi:!0}]}}};return e.\u0275mod=s.Kb({type:e}),e.\u0275inj=s.Jb({factory:function(t){return new(t||e)},imports:[[]]}),e})();const f=s.Ub(c)},cp0P:function(e,t,o){"use strict";o.d(t,"a",function(){return l});var n=o("HDdC"),i=o("DH7j"),r=o("lJxs"),s=o("XoHu"),a=o("Cfvw");function l(...e){if(1===e.length){const t=e[0];if(Object(i.a)(t))return u(t,null);if(Object(s.a)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return u(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return u(e=1===e.length&&Object(i.a)(e[0])?e[0]:e,null).pipe(Object(r.a)(e=>t(...e)))}return u(e,null)}function u(e,t){return new n.a(o=>{const n=e.length;if(0===n)return void o.complete();const i=new Array(n);let r=0,s=0;for(let l=0;l<n;l++){const u=Object(a.a)(e[l]);let c=!1;o.add(u.subscribe({next:e=>{c||(c=!0,s++),i[l]=e},error:e=>o.error(e),complete:()=>{r++,r!==n&&c||(s===n&&o.next(t?t.reduce((e,t,o)=>(e[t]=i[o],e),{}):i),o.complete())}}))}})}},eIep:function(e,t,o){"use strict";o.d(t,"a",function(){return l});var n=o("l7GE"),i=o("51Dv"),r=o("ZUHj"),s=o("lJxs"),a=o("Cfvw");function l(e,t){return"function"==typeof t?o=>o.pipe(l((o,n)=>Object(a.a)(e(o,n)).pipe(Object(s.a)((e,i)=>t(o,e,n,i))))):t=>t.lift(new u(e))}class u{constructor(e){this.project=e}call(e,t){return t.subscribe(new c(e,this.project))}}class c extends n.a{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const o=this.index++;try{t=this.project(e,o)}catch(n){return void this.destination.error(n)}this._innerSub(t,e,o)}_innerSub(e,t,o){const n=this.innerSubscription;n&&n.unsubscribe();const s=new i.a(this,t,o),a=this.destination;a.add(s),this.innerSubscription=Object(r.a)(this,e,void 0,void 0,s),this.innerSubscription!==s&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,o,n,i){this.destination.next(t)}}},ehUb:function(e,t,o){"use strict";o.d(t,"a",function(){return S});var n=o("fXoL"),i=o("XNiG"),r=o("VRyK"),s=o("cp0P"),a=o("7o/Q"),l=o("D0XW");class u{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new c(e,this.dueTime,this.scheduler))}}class c extends a.a{constructor(e,t,o){super(e),this.dueTime=t,this.scheduler=o,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(p,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function p(e){e.debouncedNext()}var d=o("/uUt"),h=o("eIep"),f=o("0EUg"),g=o("ppW+"),m=o("Bx/L"),y=o("gA3Z"),v=o("tk/3"),C=o("qfBg"),b=o("3Pt+"),w=o("ofXK");function E(e,t){if(1&e){const e=n.Tb();n.Sb(0,"div",17),n.dc("dblclick",function(){n.xc(e);const o=t.$implicit;return n.gc().addToSelected(o)}),n.Sb(1,"div",18),n.Hc(2,"\xa0"),n.Rb(),n.Sb(3,"div",19),n.Sb(4,"span"),n.Hc(5),n.Rb(),n.Nb(6,"span",20),n.Sb(7,"span"),n.Hc(8),n.Rb(),n.Rb(),n.Rb()}if(2&e){const e=t.$implicit;n.zb(5),n.Ic(e.a_name),n.zb(3),n.Ic(e.a_cas)}}function R(e,t){if(1&e){const e=n.Tb();n.Sb(0,"tr"),n.Sb(1,"td"),n.Nb(2,"input",21),n.Rb(),n.Sb(3,"td"),n.Sb(4,"input",22),n.dc("ngModelChange",function(o){return n.xc(e),t.$implicit.quantityFound=o})("ngModelChange",function(){return n.xc(e),n.gc().state.emit("MODIFIED")})("keyup",function(){n.xc(e);const o=t.index,i=t.$implicit;return n.gc().quantityFoundCalculations(o,i.quantityFound)}),n.Rb(),n.Rb(),n.Sb(5,"td"),n.Sb(6,"select",23),n.dc("ngModelChange",function(o){return n.xc(e),t.$implicit.unit=o})("ngModelChange",function(){return n.xc(e),n.gc().state.emit("MODIFIED")}),n.Sb(7,"option",24),n.Hc(8,"\xb5g"),n.Rb(),n.Rb(),n.Rb(),n.Sb(9,"td"),n.Sb(10,"input",25),n.dc("ngModelChange",function(o){return n.xc(e),t.$implicit.volume_concentration=o})("ngModelChange",function(){return n.xc(e),n.gc().state.emit("MODIFIED")}),n.Rb(),n.Rb(),n.Sb(11,"td"),n.Sb(12,"input",25),n.dc("ngModelChange",function(o){return n.xc(e),t.$implicit.found_concentration=o})("ngModelChange",function(){return n.xc(e),n.gc().state.emit("MODIFIED")}),n.Rb(),n.Rb(),n.Sb(13,"td"),n.Sb(14,"select",23),n.dc("ngModelChange",function(o){return n.xc(e),t.$implicit.concentration_units=o})("ngModelChange",function(){return n.xc(e),n.gc().state.emit("MODIFIED")}),n.Sb(15,"option",26),n.Hc(16,"PPB"),n.Rb(),n.Sb(17,"option",27),n.Hc(18,"PPM"),n.Rb(),n.Rb(),n.Rb(),n.Sb(19,"td"),n.Sb(20,"select",23),n.dc("ngModelChange",function(o){return n.xc(e),t.$implicit.token_type=o})("ngModelChange",function(){return n.xc(e),n.gc().state.emit("MODIFIED")}),n.Sb(21,"option",28),n.Hc(22,"OSU-6"),n.Rb(),n.Sb(23,"option",29),n.Hc(24,"EPA-325"),n.Rb(),n.Sb(25,"option",30),n.Hc(26,"TENAX"),n.Rb(),n.Rb(),n.Rb(),n.Sb(27,"td"),n.Sb(28,"select",23),n.dc("ngModelChange",function(o){return n.xc(e),t.$implicit.analysis_method=o})("ngModelChange",function(){return n.xc(e),n.gc().state.emit("MODIFIED")}),n.Sb(29,"option",31),n.Hc(30,"TD/GC-MS"),n.Rb(),n.Sb(31,"option",32),n.Hc(32,"AT L-OV (GC/FID)"),n.Rb(),n.Sb(33,"option",33),n.Hc(34,"Fallen Extraction"),n.Rb(),n.Rb(),n.Rb(),n.Sb(35,"td"),n.Sb(36,"span",34),n.dc("click",function(){n.xc(e);const o=t.$implicit;return n.gc().remove(o)}),n.Sb(37,"strong"),n.Hc(38,"\xd7"),n.Rb(),n.Rb(),n.Rb(),n.Rb()}if(2&e){const e=t.$implicit,o=t.index;n.zb(2),n.pc("id","compoundName",o,""),n.oc("value",e.compound),n.zb(2),n.pc("id","quantityFound",o,""),n.oc("value",e.quantityFound),n.nc("ngModel",e.quantityFound),n.zb(2),n.pc("id","unit",o,""),n.oc("value",e.unit),n.nc("ngModel",e.unit),n.zb(4),n.pc("id","volumeConcentration",o,""),n.oc("value",e.volume_concentration),n.nc("ngModel",e.volume_concentration),n.zb(2),n.pc("id","foundConcentration",o,""),n.oc("value",e.found_concentration),n.nc("ngModel",e.found_concentration),n.zb(2),n.pc("id","concentrationUnits",o,""),n.oc("value",e.concentration_units),n.nc("ngModel",e.concentration_units),n.zb(6),n.pc("id","tokenType",o,""),n.oc("value",e.token_type),n.nc("ngModel",e.token_type),n.zb(8),n.pc("id","analysisMethod",o,""),n.oc("value",e.analysis_method),n.nc("ngModel",e.analysis_method)}}class _{constructor(e){var t,o,n,i,r,s,a,l,u,c,p;this.id=null==e?void 0:e.id,this._compound=null==e?void 0:e.analyte_name,this._quantityFound=Number(null!==(t=null==e?void 0:e.recorded_value)&&void 0!==t?t:0),this._unit=null!==(o=null==e?void 0:e.recorded_units)&&void 0!==o?o:"ug",this._volume_concentration=Number(null!==(n=null==e?void 0:e.volume_concentration)&&void 0!==n?n:0),this._found_concentration=Number(null!==(i=null==e?void 0:e.found_concentration)&&void 0!==i?i:0),this._concentration_units=null!==(r=null==e?void 0:e.concentration_units)&&void 0!==r?r:"PPB",this._analyzed_comments=null!==(s=null==e?void 0:e.analyzed_comments)&&void 0!==s?s:"",this.newlyCreated=this.edited=void 0===e,this._cas_number=null!==(a=null==e?void 0:e.cas_number)&&void 0!==a?a:"",this._analyst_id=Number(null!==(l=null==e?void 0:e.analyst_id)&&void 0!==l?l:0),this._token_type=null!==(u=null==e?void 0:e.token_type)&&void 0!==u?u:"OSU-6",this._analysis_method=null!==(c=null==e?void 0:e.analysis_method)&&void 0!==c?c:"TD/GC-MS",this._reporting_limit=null!==(p=null==e?void 0:e.reporting_limit)&&void 0!==p?p:null}get concentration_units(){return this._concentration_units}set concentration_units(e){this.edited=this.edited||e!==this._concentration_units,this._concentration_units=e}get reporting_limit(){return this._reporting_limit}set reporting_limit(e){this.edited=this.edited||e!==this._reporting_limit,this._reporting_limit=e}get analysis_method(){return this._analysis_method}set analysis_method(e){this.edited=this.edited||e!==this._analysis_method,this._analysis_method=e}get token_type(){return this._token_type}set token_type(e){this.edited=this.edited||e!==this._token_type,this._token_type=e}get analyst_id(){return this._analyst_id}set analyst_id(e){this.edited=this.edited||e!==this._analyst_id,this._analyst_id=e}get found_concentration(){return this._found_concentration}set found_concentration(e){this.edited=this.edited||e!==this._found_concentration,this._found_concentration=e}get volume_concentration(){return this._volume_concentration}set volume_concentration(e){this.edited=this.edited||e!==this._volume_concentration,this._volume_concentration=e}get unit(){return this._unit}set unit(e){this.edited=this.edited||e!==this._unit,this._unit=e}get casNumber(){return this._cas_number}set casNumber(e){this.edited=this.edited||e!==this._cas_number,this._cas_number=e}get quantityFound(){return this._quantityFound}set quantityFound(e){this.edited=this.edited||e!==this._quantityFound,this._quantityFound=e}get compound(){return this._compound}set compound(e){this._compound=e}get comments(){return this._analyzed_comments}set comments(e){this.edited=this.edited||e!==this._analyzed_comments,this._analyzed_comments=e}}let S=(()=>{class e{constructor(e,t,o,r,s){this.reportService=e,this.badgeService=t,this.modalWindowService=o,this.http=r,this.userService=s,this.state=new n.o,this.compounds=new n.o,this.analyteSearch=new i.a,this.selected=[],this.badgeList=[],this.analyteList=[]}search(){this.analyteSearch.next(this.searchLike)}ngOnInit(){this.setupSearchResultObserver(),this.getPreviouslyUploadedResults(),this.badgeService.getAllBadges().subscribe(e=>{this.badgeList=e},e=>{console.log(e)},()=>{}),this.reportService.getAnalytes().subscribe(e=>{this.analyteList=e},e=>{console.log(e)},()=>{})}getPreviouslyUploadedResults(){this.badgeService.getAnalyzedTokenReportResponse(this.tokenFormData.badge_serial_number,this.tokenFormData.tube_number).subscribe({next:e=>{for(const t of e)this.selected.push(new _(t));this.selected.length>0?(this.state.emit("COMPLETED"),this.compounds.emit(this.selected.map(e=>e.compound))):this.state.emit("DEFAULT")},error:e=>{console.debug("Emitting ERROR! ",e),this.state.emit("ERROR")},complete:()=>{}})}setupSearchResultObserver(){this.analyteSearch.pipe(function(e,t=l.a){return o=>o.lift(new u(e,t))}(250),Object(d.a)(),Object(h.a)(e=>(this.results=[],Object(r.a)(this.reportService.getAnalytesByName(e),this.reportService.getAnalytesByCasNumber(e)))),Object(f.a)()).subscribe({next:e=>{this.results.push(e)},error:e=>{console.debug("Emitting ERROR! ",e),this.state.emit("ERROR")},complete:()=>{}})}addToSelected(e){this.searchLike="",this.analyteSearch.next(this.searchLike);const t=new _(void 0);t.compound=e.a_name,t.casNumber=e.a_cas,this.selected.push(t),this.state.emit("MODIFIED"),this.compounds.emit(this.selected.map(e=>e.compound))}remove(e){this.selected.splice(this.selected.indexOf(e)),console.debug("Emitting MODIFIED"),this.state.emit("MODIFIED")}quantityFoundCalculations(e,t){const o=this.badgeList.find(e=>e.badge_serial_number===this.tokenFormData.badge_serial_number),n=this.analyteList.find(t=>t.cas_number===this.selected[e].casNumber);let i=0,r=0;const s=Number(n.molecular_weight),a=(Number(o.temperature_fahrenheit),Number(1)),l=Number(22.4),u=new Date(o.turned_in_time).valueOf(),c=new Date(o.activated_time).valueOf();let p=Number((u-c)/6e4);p<0&&(p=Math.abs(p)),a&&p&&0!==a&&0!==p&&(i=1e3*t/(a*p),r=1e3*i*l/s),i=Math.round(100*i)/100,r=Math.round(100*r)/100,this.selected[e].found_concentration=r,this.selected[e].volume_concentration=i,this.comments="This is not a good representation of the given calculations as the sampling rate is being done under the default of 1",this.selected[e].comments=this.comments}submit(){if(this.selected.every(e=>!e.edited&&!e.newlyCreated))return console.debug("All requested compounds are not new and unedited."),this.state.emit("COMPLETED");console.debug("At least one of the requested compounds is either not new or has been edited.");const e=[];for(const t of this.selected)t.newlyCreated?(console.debug("New Compound Obs"),e.push(this.reportService.createAnalyzedReport(this.tokenFormData,t,this.comments))):t.edited?(console.debug("Update Compound Obs"),e.push(this.reportService.updateAnalyzedReport(this.tokenFormData,t,this.comments))):console.debug(t);Object(s.a)(...e).subscribe({next:e=>console.log(e),error:e=>{console.debug("Emitting ERROR! ",e),this.state.emit("ERROR")},complete:()=>{this.modalWindowService.setModalContext("Success!!"),console.debug("Emitting COMPLETED"),this.state.emit("COMPLETED")}})}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(g.b),n.Mb(m.a),n.Mb(y.a),n.Mb(v.b),n.Mb(C.a))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-analysis-results"]],inputs:{tokenFormData:"tokenFormData"},outputs:{state:"state",compounds:"compounds"},decls:60,vars:11,consts:[[1,"row"],[1,"col-md-1"],[1,"col-md-10"],[1,"caption","text-center"],["id","thumbnail-label"],[1,"thumbnail-description","smaller"],[1,"col-xs-2"],[1,"col-xs-3","text-right"],[1,"col-xs-4",3,"ngModel","ngModelChange"],["class","row",3,"dblclick",4,"ngFor","ngForOf"],[1,"caption","card-footer","text-center"],[1,"table-responsive"],[4,"ngFor","ngForOf"],["colspan","3"],[2,"margin-top","15px"],["maxlength","255","placeholder","Enter any additional details.",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"disabled","click"],[1,"row",3,"dblclick"],[1,"col-xs-5"],[1,"col-xs-7","text-left"],[1,"glyphicon","glyphicon-minus"],["readonly","",1,"input-sm","input-short",3,"id","value"],[1,"input-sm","input-short",3,"id","value","ngModel","ngModelChange","keyup"],[1,"input-sm",3,"id","value","ngModel","ngModelChange"],["value","ug"],[1,"input-sm","input-short",3,"id","value","ngModel","ngModelChange"],["value","PPB"],["value","PPM"],["value","OSU-6"],["value","EPA-325"],["value","TENAX"],["value","TD/GC-MS"],["value","AT L-OV (GC/FID)"],["value","Fallen Extraction"],[1,"close","larger",3,"click"]],template:function(e,t){1&e&&(n.Sb(0,"div",0),n.Sb(1,"div",1),n.Hc(2,"\xa0"),n.Rb(),n.Sb(3,"div",2),n.Sb(4,"div",0),n.Sb(5,"div",3),n.Sb(6,"h4",4),n.Hc(7," Analysis Report for Badge: "),n.Sb(8,"strong"),n.Hc(9),n.Rb(),n.Hc(10," - Token #"),n.Sb(11,"strong"),n.Hc(12),n.Rb(),n.Rb(),n.Sb(13,"div",5),n.Hc(14," Compose an analysis report by first selecting the compounds requested. "),n.Rb(),n.Sb(15,"div",0),n.Sb(16,"div",6),n.Hc(17,"\xa0"),n.Rb(),n.Sb(18,"label",7),n.Hc(19,"Search with name or CAS:"),n.Rb(),n.Sb(20,"input",8),n.dc("ngModelChange",function(e){return t.searchLike=e})("ngModelChange",function(){return t.search()}),n.Rb(),n.Rb(),n.Fc(21,E,9,2,"div",9),n.hc(22,"slice"),n.Rb(),n.Sb(23,"div",10),n.Sb(24,"table",11),n.Sb(25,"thead"),n.Sb(26,"tr"),n.Sb(27,"th"),n.Hc(28,"Compound Requested"),n.Rb(),n.Sb(29,"th"),n.Hc(30,"Quantity Found"),n.Rb(),n.Sb(31,"th"),n.Hc(32,"Units"),n.Rb(),n.Sb(33,"th"),n.Hc(34,"Volume Concentration (mg/m"),n.Sb(35,"sup"),n.Hc(36,"3"),n.Rb(),n.Hc(37,")"),n.Rb(),n.Sb(38,"th"),n.Hc(39,"Found Concentration"),n.Rb(),n.Sb(40,"th"),n.Hc(41,"Units"),n.Rb(),n.Sb(42,"th"),n.Hc(43,"Token Type"),n.Rb(),n.Sb(44,"th"),n.Hc(45,"Analysis Method"),n.Rb(),n.Nb(46,"th"),n.Rb(),n.Rb(),n.Sb(47,"tbody"),n.Fc(48,R,39,23,"tr",12),n.Rb(),n.Sb(49,"tfoot"),n.Sb(50,"tr"),n.Sb(51,"td",13),n.Sb(52,"label",14),n.Hc(53," Comments: "),n.Sb(54,"textarea",15),n.dc("ngModelChange",function(e){return t.comments=e})("ngModelChange",function(){return t.state.emit("MODIFIED")}),n.Rb(),n.Rb(),n.Rb(),n.Sb(55,"td",13),n.Sb(56,"button",16),n.dc("click",function(){return t.submit()}),n.Hc(57," Save "),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(58,"div",1),n.Hc(59,"\xa0"),n.Rb(),n.Rb()),2&e&&(n.zb(9),n.Ic(t.tokenFormData.badge_serial_number),n.zb(3),n.Ic(t.tokenFormData.tube_number),n.zb(8),n.nc("ngModel",t.searchLike),n.zb(1),n.nc("ngForOf",n.kc(22,7,t.results,0,10)),n.zb(27),n.nc("ngForOf",t.selected),n.zb(6),n.nc("ngModel",t.comments),n.zb(2),n.nc("disabled",t.selected.length<1))},directives:[b.c,b.s,b.v,w.t,b.o,b.E,b.x,b.G],pipes:[w.F],styles:['.thumbnail[_ngcontent-%COMP%]{box-shadow:0 4px 8px 0 rgba(0,0,0,.5);transition:.3s;min-width:40%;border-radius:5px}.thumbnail-description[_ngcontent-%COMP%]{min-height:40px}.thumbnail[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 8px 16px 0 #000}.input-short[_ngcontent-%COMP%]{border:none;width:100%}td[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-size:14px}.larger[_ngcontent-%COMP%]{margin-left:10px;font-size:large}.larger[_ngcontent-%COMP%]:hover{cursor:pointer;font-weight:bolder;text-shadow:1px 1px 2px red,0 0 1em #000,0 0 .2em #000}.larger[_ngcontent-%COMP%]:after{content:"Remove"}']}),e})()},f7ga:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,o,n){void 0===n&&(n=1),this.r=Math.min(1,Math.max(0,e||0)),this.g=Math.min(1,Math.max(0,t||0)),this.b=Math.min(1,Math.max(0,o||0)),this.a=Math.min(1,Math.max(0,n||0))}return e.fromString=function(t){if(t.indexOf("#")>=0)return e.fromHexString(t);var o=e.nameToHex[t];if(o)return e.fromHexString(o);if(t.indexOf("rgb")>=0)return e.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},e.fromHexString=function(t){var o=t.match(e.hexRe);if(o)return new e((n=parseInt(o[1],16))/255,(i=parseInt(o[2],16))/255,(r=parseInt(o[3],16))/255,(s=void 0!==o[4]?parseInt(o[4],16):255)/255);if(o=t.match(e.shortHexRe)){var n=parseInt(o[1],16),i=parseInt(o[2],16),r=parseInt(o[3],16),s=void 0!==o[4]?parseInt(o[4],16):15;return new e((n+=16*n)/255,(i+=16*i)/255,(r+=16*r)/255,(s+=16*s)/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},e.fromRgbaString=function(t){var o=t.match(e.rgbRe);if(o)return new e(+o[1]/255,+o[2]/255,+o[3]/255);if(o=t.match(e.rgbaRe))return new e(+o[1]/255,+o[2]/255,+o[3]/255,+o[4]);throw new Error("Malformed rgb/rgba color string: '"+t+"'")},e.fromArray=function(t){if(4===t.length)return new e(t[0],t[1],t[2],t[3]);if(3===t.length)return new e(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},e.fromHSB=function(t,o,n,i){void 0===i&&(i=1);var r=e.HSBtoRGB(t,o,n);return new e(r[0],r[1],r[2],i)},e.padHex=function(e){return 1===e.length?"0"+e:e},e.prototype.toHexString=function(){var t="#"+e.padHex(Math.round(255*this.r).toString(16))+e.padHex(Math.round(255*this.g).toString(16))+e.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=e.padHex(Math.round(255*this.a).toString(16))),t},e.prototype.toRgbaString=function(e){void 0===e&&(e=3);var t=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],o=Math.pow(10,e);return 1!==this.a?(t.push(Math.round(this.a*o)/o),"rgba("+t.join(", ")+")"):"rgb("+t.join(", ")+")"},e.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},e.prototype.toHSB=function(){return e.RGBtoHSB(this.r,this.g,this.b)},e.RGBtoHSB=function(e,t,o){var n=Math.min(e,t,o),i=Math.max(e,t,o),r=NaN;if(n!==i){var s=i-n,a=(i-e)/s,l=(i-t)/s,u=(i-o)/s;r=e===i?u-l:t===i?2+a-u:4+l-a,(r/=6)<0&&(r+=1)}return[360*r,0!==i?(i-n)/i:0,i]},e.HSBtoRGB=function(e,t,o){isNaN(e)&&(e=0),e=(e%360+360)%360/360;var n=0,i=0,r=0;if(0===t)n=i=r=o;else{var s=6*(e-Math.floor(e)),a=s-Math.floor(s),l=o*(1-t),u=o*(1-t*a),c=o*(1-t*(1-a));switch(s>>0){case 0:n=o,i=c,r=l;break;case 1:n=u,i=o,r=l;break;case 2:n=l,i=o,r=c;break;case 3:n=l,i=u,r=o;break;case 4:n=c,i=l,r=o;break;case 5:n=o,i=l,r=u}}return[n,i,r]},e.prototype.derive=function(t,o,n,i){var r=e.RGBtoHSB(this.r,this.g,this.b),s=r[2];0==s&&n>1&&(s=.05);var a=((r[0]+t)%360+360)%360,l=Math.max(Math.min(r[1]*o,1),0);s=Math.max(Math.min(s*n,1),0);var u=Math.max(Math.min(this.a*i,1),0),c=e.HSBtoRGB(a,l,s);return c.push(u),e.fromArray(c)},e.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},e.prototype.darker=function(){return this.derive(0,1,.7,1)},e.hexRe=/\s*#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?\s*$/,e.shortHexRe=/\s*#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?\s*$/,e.rgbRe=/\s*rgb\((\d+),\s*(\d+),\s*(\d+)\)\s*/,e.rgbaRe=/\s*rgba\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)\s*/,e.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),e}();function i(e,t){void 0===t&&(t=",");for(var o,n,i,r=[],s=function(e){return"\r"===e||"\n"===e},a=!1,l=function(l,u,c){var p=e[c-1],d=e[c],h=e[c+1],f=function(){r[l]||(r[l]=[]),r[l][u]||(r[l][u]="")};if(f(),'"'===d){if(a)return'"'===h?(r[l][u]+='"',c++):a=!1,o=l,n=u,i=c,"continue";if(void 0===p||p===t||s(p))return a=!0,o=l,n=u,i=c,"continue"}if(!a){if(d===t)return u++,f(),o=l,n=u,i=c,"continue";if(s(d))return u=0,l++,f(),"\r"===d&&"\n"===h&&c++,o=l,n=u,i=c,"continue"}r[l][u]+=d,o=l,n=u,i=c},u=0,c=0,p=0;p<e.length;p++)l(u,c,p),u=o,c=n,p=i;return r}var r,s,a,l,u,c,p=Object.freeze({__proto__:null,stringToArray:i});function d(){return void 0===s&&(s=!!document.documentMode),s}function h(){return void 0===a&&(a=!d()&&!!window.StyleMedia),a}function f(){if(void 0===r){var e=window;r=Object.prototype.toString.call(e.HTMLElement).indexOf("Constructor")>0||(t=e.safari&&e.safari.pushNotification)&&"[object SafariRemoteNotification]"===t.toString()}var t;return r}function g(){if(void 0===l){var e=window;l=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return l}function m(){if(void 0===u){var e=window;u=void 0!==e.InstallTrigger}return u}var y=Object.freeze({__proto__:null,isBrowserIE:d,isBrowserEdge:h,isBrowserSafari:f,isBrowserChrome:g,isBrowserFirefox:m,isIOSUserAgent:function(){return void 0===c&&(c=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),c},getTabIndex:function(e){if(!e)return null;var t=e.tabIndex,o=e.getAttribute("tabIndex");return d()&&0===t&&null===e.getAttribute("tabIndex")?!0==={a:!0,body:!0,button:!0,frame:!0,iframe:!0,img:!0,input:!0,isindex:!0,object:!0,select:!0,textarea:!0}[e.nodeName.toLowerCase()]?"0":null:-1!==t||null!==o&&(""!==o||m())?t.toString():null},getMaxDivHeight:function(){if(!document.body)return-1;var e=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,o=document.createElement("div");for(document.body.appendChild(o);;){var n=2*e;if(o.style.height=n+"px",n>t||o.clientHeight!==n)break;e=n}return document.body.removeChild(o),e},getScrollbarWidth:function(){var e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);var o=t.offsetWidth-t.clientWidth;return t.parentNode&&t.parentNode.removeChild(t),o},hasOverflowScrolling:function(){var e=["webkit","moz","o","ms"],t=document.createElement("div"),o=!1;document.getElementsByTagName("body")[0].appendChild(t),t.setAttribute("style",e.map(function(e){return"-"+e+"-overflow-scrolling: touch"}).concat("overflow-scrolling: touch").join(";"));var n=window.getComputedStyle(t);if("touch"===n.overflowScrolling&&(o=!0),!o)for(var i=0,r=e;i<r.length;i++)if("touch"===n[r[i]+"OverflowScrolling"]){o=!0;break}return t.parentNode&&t.parentNode.removeChild(t),o},getBodyWidth:function(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1},getBodyHeight:function(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}});function v(e){return null==e||""===e?null:e}function C(e,t){return void 0===t&&(t=!1),null!=e&&(t||""!==e)}function b(e){return!C(e)}function w(e){return C(e)&&e.toString?e.toString():null}function E(e){if(e instanceof Set||e instanceof Map){var t=[];return e.forEach(function(e){return t.push(e)}),t}return Object.keys(e).map(function(t){return e[t]})}var R=Object.freeze({__proto__:null,makeNull:v,exists:C,missing:b,missingOrEmpty:function(e){return!e||b(e)||0===e.length},toStringOrNull:w,referenceCompare:function(e,t){return null==e&&null==t||(null!=e||null==t)&&(null==e||null!=t)&&e===t},jsonEquals:function(e,t){return(e?JSON.stringify(e):null)===(t?JSON.stringify(t):null)},defaultComparator:function(e,t,o){void 0===o&&(o=!1);var n=null==e,i=null==t;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&i)return 0;if(n)return-1;if(i)return 1;function r(e,t){return e>t?1:e<t?-1:0}if("string"==typeof e){if(!o)return r(e,t);try{return e.localeCompare(t)}catch(s){return r(e,t)}}return r(e,t)},find:function e(t,o,n){if(null==t)return null;if(!Array.isArray(t))return e(E(t),o,n);for(var i=t,r=null,s=0;s<i.length;s++){var a=i[s];if("string"==typeof o){if(a[o]===n){r=a;break}}else if(o(a)){r=a;break}}return r},values:E}),_=/[&<>"']/g,S={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function O(e){return null==e?null:e.replace(/([A-Z])/g,function(e){return"-"+e[0].toLowerCase()})}function D(e){return null==e?null:e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})}var P=Object.freeze({__proto__:null,utf8_encode:function(e){var t=String.fromCharCode;function o(e,o){return t(e>>o&63|128)}function n(e){if(0==(4294967168&e))return t(e);var n="";return 0==(4294965248&e)?n=t(e>>6&31|192):0==(4294901760&e)?(function(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}(e),n=t(e>>12&15|224),n+=o(e,6)):0==(4292870144&e)&&(n=t(e>>18&7|240),n+=o(e,12),n+=o(e,6)),n+t(63&e|128)}for(var i=function(e){for(var t,o,n=[],i=0,r=e.length;i<r;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<r?56320==(64512&(o=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&o)+65536):(n.push(t),i--):n.push(t);return n}(e),r=i.length,s=-1,a="";++s<r;)a+=n(i[s]);return a},camelCaseToHyphen:O,hyphenToCamelCase:D,capitalise:function(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()},escape:function(e){return null!=e&&e.replace?e.replace(_,function(e){return S[e]}):e},camelCaseToHumanText:function(e){return e&&null!=e?e.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map(function(e){return e.substring(0,1).toUpperCase()+(e.length>1?e.substring(1,e.length):"")}).join(" "):null}});function T(e,t){if(t&&0!==t.length){if(!(t.indexOf(" ")>=0)){if(e.classList)e.classList.add(t);else if(e.className&&e.className.length>0){var o=e.className.split(" ");o.indexOf(t)<0&&(o.push(t),e.setAttribute("class",o.join(" ")))}else e.setAttribute("class",t);return e}t.split(" ").forEach(function(t){return T(e,t)})}}function A(e,t){if(e.classList)e.classList.remove(t);else if(e.className&&e.className.length>0){var o=e.className.split(" ").filter(function(e){return e!==t}).join(" ");e.setAttribute("class",o)}}function F(e,t,o){o?T(e,t):A(e,t)}function N(e,t){if(e.classList)return e.classList.contains(t);if(e.className){var o=e.className===t,n=e.className.indexOf(" "+t+" ")>=0,i=0===e.className.indexOf(t+" "),r=e.className.lastIndexOf(" "+t)===e.className.length-t.length-1;return o||n||i||r}return!1}function x(e,t){F(e,"ag-hidden",!t)}function I(e,t){t?e.setAttribute("disabled",""):e.removeAttribute("disabled")}function M(e){var t=window.getComputedStyle(e),o=t.width,n=t.paddingTop,i=t.paddingRight,r=t.paddingBottom,s=t.paddingLeft,a=t.marginTop,l=t.marginRight,u=t.marginBottom,c=t.marginLeft,p=t.boxSizing;return{height:parseFloat(t.height),width:parseFloat(o),paddingTop:parseFloat(n),paddingRight:parseFloat(i),paddingBottom:parseFloat(r),paddingLeft:parseFloat(s),marginTop:parseFloat(a),marginRight:parseFloat(l),marginBottom:parseFloat(u),marginLeft:parseFloat(c),boxSizing:p}}function L(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function G(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function k(e){var t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function V(e,t){for(var o=0;o<t.length;o++){var n=t[o],i=e.children[o];i!==n&&e.insertBefore(n,i)}}function H(e,t){"flex"===t?(e.style.width=null,e.style.minWidth=null,e.style.maxWidth=null,e.style.flex="1 1 auto"):W(e,t)}function W(e,t){t=j(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function B(e,t){t=j(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function j(e){return"number"==typeof e?e+"px":e}function U(e){return"function"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}function z(e){return"function"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}function K(e){return U(e)||z(e)}var Y=Object.freeze({__proto__:null,addCssClass:T,removeCssClass:A,addOrRemoveCssClass:F,radioCssClass:function(e,t,o){for(var n=e.parentElement.firstChild;n;)t&&F(n,t,n===e),o&&F(n,o,n!==e),n=n.nextSibling},containsClass:N,setDisplayed:x,setVisible:function(e,t){F(e,"ag-invisible",!t)},setDisabled:I,isElementChildOfClass:function(e,t,o){for(var n=0;e;){if(N(e,t))return!0;if(e=e.parentElement,o&&++n>o)break}return!1},getElementSize:M,getInnerHeight:function(e){var t=M(e);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height},getInnerWidth:function(e){var t=M(e);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width},getAbsoluteHeight:function(e){var t=M(e);return Math.ceil(e.offsetHeight+(t.marginBottom+t.marginTop))},getAbsoluteWidth:function(e){var t=M(e);return Math.ceil(e.offsetWidth+(t.marginLeft+t.marginRight))},getScrollLeft:function(e,t){var o=e.scrollLeft;return t&&(o=Math.abs(o),g()&&(o=e.scrollWidth-e.clientWidth-o)),o},setScrollLeft:function(e,t,o){o&&((f()||g())&&(t=e.scrollWidth-e.clientWidth-t),m()&&(t*=-1)),e.scrollLeft=t},clearElement:L,removeElement:function(e,t){G(e.querySelector(t))},removeFromParent:G,isVisible:function(e){return null!==e.offsetParent},loadTemplate:k,appendHtml:function(e,t){e.lastChild?e.insertAdjacentHTML("afterbegin",t):e.innerHTML=t},getElementAttribute:function(e,t){return e.attributes&&e.attributes[t]?e.attributes[t].value:null},offsetHeight:function(e){return e&&e.clientHeight?e.clientHeight:0},offsetWidth:function(e){return e&&e.clientWidth?e.clientWidth:0},ensureDomOrder:function(e,t,o){o&&o.nextSibling===t||(o?o.nextSibling?e.insertBefore(t,o.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t))},setDomChildOrder:V,insertTemplateWithDomOrder:function(e,t,o){var n;return o?(o.insertAdjacentHTML("afterend",t),n=o.nextSibling):(e.firstChild?e.insertAdjacentHTML("afterbegin",t):e.innerHTML=t,n=e.firstChild),n},prependDC:function(e,t){C(e.firstChild)?e.insertBefore(t,e.firstChild):e.appendChild(t)},addStylesToElement:function(e,t){t&&Object.keys(t).forEach(function(o){var n=D(o);n&&(e.style[n]=t[o])})},isHorizontalScrollShowing:function(e){return e.clientWidth<e.scrollWidth},isVerticalScrollShowing:function(e){return e.clientHeight<e.scrollHeight},setElementWidth:H,setFixedWidth:W,setElementHeight:function(e,t){"flex"===t?(e.style.height=null,e.style.minHeight=null,e.style.maxHeight=null,e.style.flex="1 1 auto"):B(e,t)},setFixedHeight:B,formatSize:j,isNode:U,isElement:z,isNodeOrElement:K,copyNodeList:function(e){for(var t=e?e.length:0,o=[],n=0;n<t;n++)o.push(e[n]);return o},iterateNamedNodeMap:function(e,t){if(e)for(var o=0;o<e.length;o++){var n=e[o];t(n.name,n.value)}},setCheckboxState:function(e,t){"boolean"==typeof t?(e.checked=t,e.indeterminate=!1):e.indeterminate=!0}});function q(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var o=0;o<e.length;o++){var n=e[o];if(C(n))return n}return null}function $(e){if(e&&e.length)return e[e.length-1]}function Q(e,t,o){return null==e&&null==t||null!=e&&null!=t&&e.length===t.length&&te(e,function(e,n){return o?o(e,t[n]):t[n]===e})}function X(e,t){var o=e.indexOf(t);o>=0&&e.splice(o,1)}function Z(e,t){ne(t,function(t){return X(e,t)})}function J(e,t,o){e.splice(o,0,t)}function ee(e,t){return e.indexOf(t)>-1}function te(e,t){if(null==e)return!0;for(var o=0;o<e.length;o++)if(!t(e[o],o))return!1;return!0}function oe(e,t){if(null==e)return!1;for(var o=0;o<e.length;o++)if(t(e[o],o))return!0;return!1}function ne(e,t){if(null!=e)for(var o=0;o<e.length;o++)t(e[o],o)}function ie(e,t){if(null==e)return null;for(var o=[],n=0;n<e.length;n++)o.push(t(e[n],n));return o}var re=Object.freeze({__proto__:null,firstExistingValue:q,anyExists:function(e){return e&&null!=q(e)},existsAndNotEmpty:function(e){return null!=e&&e.length>0},last:$,areEqual:Q,compareArrays:function(e,t){return Q(e,t)},shallowCompare:function(e,t){return Q(e,t)},sortNumerically:function(e){return e.sort(function(e,t){return e-t})},removeRepeatsFromArray:function(e,t){if(e)for(var o=e.length-2;o>=0;o--)e[o]===t&&e[o+1]===t&&e.splice(o+1,1)},removeFromArray:X,removeAllFromArray:Z,insertIntoArray:J,insertArrayIntoArray:function(e,t,o){if(null!=e&&null!=t)for(var n=t.length-1;n>=0;n--)J(e,t[n],o)},moveInArray:function(e,t,o){Z(e,t),ne(t.slice().reverse(),function(t){return J(e,t,o)})},includes:ee,flatten:function(e){return[].concat.apply([],e)},pushAll:function(e,t){null!=t&&null!=e&&ne(t,function(t){return e.push(t)})},toStrings:function(e){return ie(e,w)},findIndex:function(e,t){for(var o=0;o<e.length;o++)if(t(e[o],o,e))return o;return-1},every:te,some:oe,forEach:ne,map:ie,filter:function(e,t){if(null==e)return null;for(var o=[],n=0;n<e.length;n++)t(e[n],n)&&o.push(e[n]);return o},reduce:function(e,t,o){if(null==e||null==o)return null;for(var n=o,i=0;i<e.length;i++)n=t(n,e[i],i);return n},forEachSnapshotFirst:function(e,t){e&&e.slice(0).forEach(t)}});function se(e,t){null!=e&&(Array.isArray(e)?ne(e,function(e,o){return t(""+o,e)}):ne(Object.keys(e),function(o){return t(o,e[o])}))}function ae(e){for(var t={},o=Object.keys(e),n=0;n<o.length;n++){var i=o[n];t[i]=e[i]}return t}function le(e,t){return e[t]}function ue(e,t,o){e[t]=o}function ce(e,t,o,n){var i=le(e,o);void 0!==i&&ue(t,o,n?n(i):i)}function pe(e,t,o){void 0===o&&(o=!0),C(t)&&se(t,function(t,n){var i=e[t];i!==n&&("object"!=typeof i||"object"!=typeof n||Array.isArray(i)?(o||void 0!==n)&&(e[t]=n):pe(i,n))})}function de(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];return ne(t,function(t){return se(t,function(t,o){return e[t]=o})}),e}var he=Object.freeze({__proto__:null,iterateObject:se,cloneObject:ae,deepCloneObject:function(e){return JSON.parse(JSON.stringify(e))},getProperty:le,setProperty:ue,copyPropertiesIfPresent:function(e,t){for(var o=[],n=2;n<arguments.length;n++)o[n-2]=arguments[n];ne(o,function(o){return ce(e,t,o)})},copyPropertyIfPresent:ce,getAllKeysInObjects:function(e){var t={};return e.filter(function(e){return null!=e}).forEach(function(e){ne(Object.keys(e),function(e){return t[e]=null})}),Object.keys(t)},mergeDeep:pe,assign:de,missingOrEmptyObject:function(e){return b(e)||0===Object.keys(e).length},get:function(e,t,o){if(null==e)return o;for(var n=t.split("."),i=e;n.length>1;)if(null==(i=i[n.shift()]))return o;var r=i[n[0]];return null!=r?r:o},set:function(e,t,o){if(null!=e){for(var n=t.split("."),i=e;n.length>1;)if(null==(i=i[n.shift()]))return;i[n[0]]=o}},deepFreeze:function e(t){return Object.freeze(t),ne(E(t),function(t){null==t||"object"!=typeof t&&"function"!=typeof t||e(t)}),t},getValueUsingField:function(e,t,o){if(t&&e){if(!o)return e[t];for(var n=t.split("."),i=e,r=0;r<n.length;r++)if(b(i=i[n[r]]))return null;return i}}}),fe=Object.freeze({__proto__:null,getNameOfClass:function(e){var t=e.toString(),o=/function (.{1,})\(/.exec(t);return o&&o.length>1?o[1]:""},findLineByLeastSquares:function(e){var t=e.length,o=0;if(t<=1)return e;for(var n=0;n<e.length;n++){var i=e[n];Math.floor(i)!==i&&(o=Math.max(o,i.toString().split(".")[1].length))}for(var r=0,s=0,a=0,l=0,u=0,c=0;c<t;c++)r+=c,s+=u=e[c],l+=c*c,a+=c*u;var p=(t*a-r*s)/(t*l-r*r),d=s/t-p*r/t,h=[];for(c=0;c<=t;c++)h.push(parseFloat((c*p+d).toFixed(o)));return h},cssStyleObjectToMarkup:function(e){if(!e)return"";var t=[];return se(e,function(e,o){var n=O(e);t.push(n+": "+o+";")}),t.join(" ")},message:function(e){var t=document.createElement("div"),o=document.querySelector("#__ag__message");t.innerHTML=e,o||(o=k('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(o)),o.insertBefore(t,o.children[0])},bindCellRendererToHtmlElement:function(e,t){e.then(function(e){var o=e.getGui();null!=o&&("object"==typeof o?t.appendChild(o):t.innerHTML=o)})}});function ge(e,t){for(var o=""+e;o.length<t;)o="0"+o;return o}function me(e){return"number"!=typeof e?"":e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}var ye=Object.freeze({__proto__:null,padStart:ge,createArrayOfNumbers:function(e,t){for(var o=[],n=e;n<=t;n++)o.push(n);return o},isNumeric:function(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)},getMaxSafeInteger:function(){return Number.MAX_SAFE_INTEGER||9007199254740991},cleanNumber:function(e){return"string"==typeof e&&(e=parseInt(e,10)),"number"==typeof e?Math.floor(e):null},decToHex:function(e,t){for(var o="",n=0;n<t;n++)o+=String.fromCharCode(255&e),e>>>=8;return o},formatNumberTwoDecimalPlacesAndCommas:function(e){return"number"!=typeof e?"":me(Math.round(100*e)/100)},formatNumberCommas:me,sum:function(e){return null==e?null:e.reduce(function(e,t){return e+t},0)}});function ve(e,t,o){if(void 0===t&&(t=!0),void 0===o&&(o="-"),!e)return null;var n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(function(e){return ge(e,2)}).join(o);return t&&(n+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(function(e){return ge(e,2)}).join(":")),n}function Ce(e){if(!e)return null;var t=e.split(" "),o=t[0],n=t[1];if(!o)return null;var i=o.split("-").map(function(e){return parseInt(e,10)});if(3!==i.filter(function(e){return!isNaN(e)}).length)return null;var r=i[0],s=i[1],a=i[2],l=new Date(r,s-1,a);if(l.getFullYear()!==r||l.getMonth()!==s-1||l.getDate()!==a)return null;if(!n||"00:00:00"===n)return l;var u=n.split(":").map(function(e){return parseInt(e,10)}),c=u[0],p=u[1],d=u[2];return c>=0&&c<24&&l.setHours(c),p>=0&&p<60&&l.setMinutes(p),d>=0&&d<60&&l.setSeconds(d),l}var be,we=Object.freeze({__proto__:null,serialiseDate:ve,parseDateTimeFromString:Ce}),Ee=["touchstart","touchend","touchmove","touchcancel"],Re=["mouseover","mouseout","mouseenter","mouseleave"],_e={},Se=(be={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},function(e){if("boolean"==typeof _e[e])return _e[e];var t=document.createElement(be[e]||"div"),o=(e="on"+e)in t;return o||(t.setAttribute(e,"return;"),o="function"==typeof t[e]),t=null,_e[e]=o});function Oe(e){return e.target||e.srcElement}function De(e){for(var t=[],o=Oe(e);o;)t.push(o),o=o.parentElement;return t}function Pe(e){var t=e;return t.deepPath?t.deepPath():t.path?t.path:t.composedPath?t.composedPath():t.__agGridEventPath?t.__agGridEventPath:De(e)}var Te=Object.freeze({__proto__:null,stopPropagationForAgGrid:function(e){e.__ag_Grid_Stop_Propagation=!0},isStopPropagationForAgGrid:function(e){return!0===e.__ag_Grid_Stop_Propagation},isEventSupported:Se,getCellCompForEvent:function(e,t){for(var o=Oe(t);o;){var n=e.getDomData(o,"cellComp");if(n)return n;o=o.parentElement}return null},addChangeListener:function(e,t){e.addEventListener("changed",t),e.addEventListener("paste",t),e.addEventListener("input",t),e.addEventListener("keydown",t),e.addEventListener("keyup",t)},getTarget:Oe,isElementInEventPath:function(e,t){return!(!t||!e)&&Pe(t).indexOf(e)>=0},createEventPath:De,addAgGridEventPath:function(e){e.__agGridEventPath=Pe(e)},getEventPath:Pe,addSafePassiveEventListener:function(e,t,o,n){var i=ee(Ee,o)?{passive:!0}:void 0;ee(Re,o)?e&&e.addEventListenerOutsideAngular&&e.addEventListenerOutsideAngular(t,o,n,i):t.addEventListener(o,n,i)}}),Ae=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Fe=/([^\s,]+)/g,Ne={};function xe(e,t){void 0===t&&(t=0),e.length>0&&window.setTimeout(function(){return e.forEach(function(e){return e()})},t)}function Ie(e,t,o){var n;return void 0===o&&(o=!1),function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var s=this,a=o&&!n;window.clearTimeout(n),n=window.setTimeout(function(){n=null,o||e.apply(s,i)},t),a&&e.apply(s,i)}}var Me=Object.freeze({__proto__:null,doOnce:function(e,t){Ne[t]||(e(),Ne[t]=!0)},getFunctionParameters:function(e){var t=e.toString().replace(Ae,"");return t.slice(t.indexOf("(")+1,t.indexOf(")")).match(Fe)||[]},isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},executeInAWhile:function(e){xe(e,400)},executeNextVMTurn:function(e){xe(e,0)},executeAfter:xe,debounce:Ie,compose:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduce(function(e,t){return t(e)},t)}},callIfPresent:function(e){e&&e()}});function Le(e,t,o,n){var i=n?Ve:ke,r=t.map(function(t){return{value:t,relevance:i(e.toLowerCase(),t.toLocaleLowerCase())}});return r.sort(function(e,t){return t.relevance-e.relevance}),o&&(r=r.filter(function(e){return 0!==e.relevance})),r.map(function(e){return e.value})}function Ge(e){var t,o,n,i=e.toLowerCase(),r=new Array(i.length-1);for(t=o=0,n=r.length;o<=n;t=o+=1)r[t]=i.slice(t,t+2);return r}function ke(e,t){if(0===e.length&&0===t.length)return 0;var o,n,i=Ge(e),r=Ge(t),s=i.length+r.length,a=0;for(o=0,n=i.length;o<n;o++){var l,u=i[o],c=void 0;for(c=0,l=r.length;c<l;c++)u===r[c]&&a++}return a>0?2*a/s:0}function Ve(e,t){for(var o=e.replace(/\s/g,""),n=t.replace(/\s/g,""),i=0,r=0;r<o.length;r++){var s=n.indexOf(o[r]);-1!==s&&(i+=100*(n.length-s)/n.length,i*=i)}return i}var He=Object.freeze({__proto__:null,fuzzyCheckStrings:function(e,t,o){var n={},i=e.filter(function(e){return!t.some(function(t){return t===e})});return i.length>0&&i.forEach(function(e){return n[e]=Le(e,o)}),n},fuzzySuggestions:Le,get_bigrams:Ge,string_distances:ke,string_weighted_distances:Ve}),We={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function Be(e,t,o,n){var i=null,r=o&&o.getColDef().icons;if(r&&(i=r[e]),t&&!i){var s=t.getIcons();s&&(i=s[e])}if(!i){var a=document.createElement("span"),l=We[e];return l||(n?l=e:(console.warn("ag-Grid: Did not find icon "+e),l="")),a.setAttribute("class","ag-icon ag-icon-"+l),a.setAttribute("unselectable","on"),a}var u=void 0;if("function"==typeof i)u=i();else{if("string"!=typeof i)throw new Error("icon from grid options needs to be a string or a function");u=i}return"string"==typeof u?k(u):K(u)?u:void console.warn("ag-Grid: iconRenderer should return back a string or a dom object")}var je=Object.freeze({__proto__:null,iconNameClassMap:We,createIcon:function(e,t,o){var n=Be(e,t,o);if(n.className.indexOf("ag-icon")>-1)return n;var i=document.createElement("span");return i.appendChild(n),i},createIconNoSpan:Be}),Ue=function(){function e(){}return e.STEP_EVERYTHING=0,e.STEP_FILTER=1,e.STEP_SORT=2,e.STEP_MAP=3,e.STEP_AGGREGATE=4,e.STEP_PIVOT=5,e.ROW_BUFFER_SIZE=10,e.LAYOUT_INTERVAL=500,e.BATCH_WAIT_MILLIS=50,e.EXPORT_TYPE_DRAG_COPY="dragCopy",e.EXPORT_TYPE_CLIPBOARD="clipboard",e.EXPORT_TYPE_EXCEL="excel",e.EXPORT_TYPE_CSV="csv",e.KEY_BACKSPACE=8,e.KEY_TAB=9,e.KEY_NEW_LINE=10,e.KEY_ENTER=13,e.KEY_SHIFT=16,e.KEY_ESCAPE=27,e.KEY_SPACE=32,e.KEY_LEFT=37,e.KEY_UP=38,e.KEY_RIGHT=39,e.KEY_DOWN=40,e.KEY_DELETE=46,e.KEY_A=65,e.KEY_C=67,e.KEY_V=86,e.KEY_D=68,e.KEY_Z=90,e.KEY_Y=89,e.KEY_F2=113,e.KEY_PAGE_UP=33,e.KEY_PAGE_DOWN=34,e.KEY_PAGE_HOME=36,e.KEY_PAGE_END=35,e.ROW_MODEL_TYPE_INFINITE="infinite",e.ROW_MODEL_TYPE_VIEWPORT="viewport",e.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",e.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",e.DEPRECATED_ROW_MODEL_TYPE_NORMAL="normal",e.ALWAYS="always",e.ONLY_WHEN_GROUPING="onlyWhenGrouping",e.PINNED_TOP="top",e.PINNED_BOTTOM="bottom",e.DOM_LAYOUT_NORMAL="normal",e.DOM_LAYOUT_PRINT="print",e.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",e.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",e.SOURCE_PASTE="paste",e.PINNED_RIGHT="right",e.PINNED_LEFT="left",e.SORT_ASC="asc",e.SORT_DESC="desc",e}();function ze(e,t){return(e.which||e.keyCode)===t}var Ke=Object.freeze({__proto__:null,isKeyPressed:ze,isCharacterKey:function(e){var t=e.which;return"number"==typeof t&&t?!e.ctrlKey&&!e.metaKey&&!e.altKey&&8!==e.which&&16!==e.which:void 0===t},isEventFromPrintableCharacter:function(e){var t=String.fromCharCode(e.charCode);if(ze(e,Ue.KEY_NEW_LINE))return!1;if(e.altKey||e.ctrlKey)return!1;if(C(e.key)){var o=1===e.key.length,n=function(e){return(h()||d())&&"Del"===e.key&&46===e.charCode}(e);return o||n}return"qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM1234567890!\"\xa3$%^&*()_+-=[];'#,./\\|<>?:@~{}".indexOf(t)>=0},isUserSuppressingKeyboardEvent:function(e,t,o,n,i){var r=e.getSuppressKeyboardEventFunc(),s=n.getColDef().suppressKeyboardEvent;if(!r&&!s)return!1;var a={event:t,editing:i,column:n,api:e.getApi(),node:o,data:o.data,colDef:n.getColDef(),context:e.getContext(),columnApi:e.getColumnApi()};return!(!s||!s(a))||!!r&&r(a)}}),Ye=Object.freeze({__proto__:null,keys:function(e){var t=[];return e.forEach(function(e,o){return t.push(o)}),t}}),qe=Object.freeze({__proto__:null,normalizeWheel:function(e){var t=0,o=0,n=0,i=0;return"detail"in e&&(o=e.detail),"wheelDelta"in e&&(o=-e.wheelDelta/120),"wheelDeltaY"in e&&(o=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=o,o=0),n=10*t,i=10*o,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(n=e.deltaX),(n||i)&&e.deltaMode&&(1==e.deltaMode?(n*=40,i*=40):(n*=800,i*=800)),n&&!t&&(t=n<1?-1:1),i&&!o&&(o=i<1?-1:1),{spinX:t,spinY:o,pixelX:n,pixelY:i}},isLeftClick:function(e){return"buttons"in e?1==e.buttons:1==(e.which||e.button)},areEventsNear:function(e,t,o){if(0===o)return!1;var n=Math.abs(e.clientX-t.clientX),i=Math.abs(e.clientY-t.clientY);return Math.max(n,i)<=o}}),$e=Object.freeze({__proto__:null,sortRowNodesByOrder:function(e,t){if(e){for(var o=function(e,o){var n=t[e.id],i=t[o.id],r=void 0!==n,s=void 0!==i;return r&&s?n-i:r||s?r?1:-1:e.__objectId-o.__objectId},n=!1,i=0;i<e.length-1;i++)if(o(e[i],e[i+1])>0){n=!0;break}n&&e.sort(o)}},traverseNodesWithKey:function(e,t){var o=[];!function e(n){n.forEach(function(n){if(n.group||n.hasChildren()){o.push(n.key);var i=o.join("|");t(n,i),e(n.childrenAfterGroup),o.pop()}})}(e)}});function Qe(e){var t=new Set;return e.forEach(function(e){return t.add(e)}),t}var Xe,Ze=Object.freeze({__proto__:null,convertToSet:Qe}),Je=function(){return(Je=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},et=Je(Je(Je(Je(Je(Je(Je(Je(Je(Je(Je(Je(Je(Je(Je(Je(Je(Je(Je({},fe),re),y),p),we),Y),Te),Me),He),R),je),Ke),Ye),qe),ye),he),$e),Ze),P),tt=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=1),this.nextValue=e,this.step=t}return e.prototype.next=function(){var e=this.nextValue;return this.nextValue+=this.step,e},e.prototype.peek=function(){return this.nextValue},e.prototype.skip=function(e){this.nextValue+=e},e}();(Xe=t.PromiseStatus||(t.PromiseStatus={}))[Xe.IN_PROGRESS=0]="IN_PROGRESS",Xe[Xe.RESOLVED=1]="RESOLVED";var ot=function(){function e(e){var o=this;this.status=t.PromiseStatus.IN_PROGRESS,this.resolution=null,this.waiters=[],e(function(e){return o.onDone(e)},function(e){return o.onReject(e)})}return e.all=function(t){return new e(function(e){var o=t.length,n=new Array(o);ne(t,function(t,i){t.then(function(t){n[i]=t,0==--o&&e(n)})})})},e.resolve=function(t){return void 0===t&&(t=null),new e(function(e){return e(t)})},e.prototype.then=function(o){var n=this;return new e(function(e){n.status===t.PromiseStatus.RESOLVED?e(o(n.resolution)):n.waiters.push(function(t){return e(o(t))})})},e.prototype.resolveNow=function(e,o){return this.status===t.PromiseStatus.RESOLVED?o(this.resolution):e},e.prototype.onDone=function(e){this.status=t.PromiseStatus.RESOLVED,this.resolution=e,ne(this.waiters,function(t){return t(e)})},e.prototype.onReject=function(e){console.warn("TBI")},e}(),nt=function(){function e(){this.timestamp=(new Date).getTime()}return e.prototype.print=function(e){var t=(new Date).getTime()-this.timestamp;console.info(e+" = "+t),this.timestamp=(new Date).getTime()},e}(),it=function(){function e(){this.existingKeys={}}return e.prototype.addExistingKeys=function(e){for(var t=0;t<e.length;t++)this.existingKeys[e[t]]=!0},e.prototype.getUniqueKey=function(e,t){e=et.toStringOrNull(e);for(var o=0;;){var n=void 0;if(e?(n=e,0!==o&&(n+="_"+o)):t?(n=t,0!==o&&(n+="_"+o)):n=""+o,!this.existingKeys[n])return this.existingKeys[n]=!0,n;o++}},e}(),rt=function(){function e(e,t){if(this.beanWrappers={},this.destroyed=!1,e&&e.beanClasses){this.contextParams=e,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();var o=this.getBeanInstances();this.wireBeans(o),this.logger.log(">> ag-Application Context ready - component is alive")}}return e.prototype.getBeanInstances=function(){return et.values(this.beanWrappers).map(function(e){return e.beanInstance})},e.prototype.createBean=function(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.wireBeans([e],t),e},e.prototype.wireBeans=function(e,t){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),et.exists(t)&&e.forEach(t),this.callLifeCycleMethods(e,"postConstructMethods")},e.prototype.createBeans=function(){var e=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),et.iterateObject(this.beanWrappers,function(t,o){var n;o.bean.__agBeanMetaData&&o.bean.__agBeanMetaData.autowireMethods&&o.bean.__agBeanMetaData.autowireMethods.agConstructor&&(n=o.bean.__agBeanMetaData.autowireMethods.agConstructor);var i,r,s=e.getBeansForParameters(n,o.bean.name),a=(i=o.bean,r=[null].concat(s),new(i.bind.apply(i,r)));o.beanInstance=a});var t=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+t)},e.prototype.createBeanWrapper=function(e){var t=e.__agBeanMetaData;t?this.beanWrappers[t.beanName]={bean:e,beanInstance:null,beanName:t.beanName}:console.error("context item "+(e.prototype.constructor?e.prototype.constructor.name:""+e)+" is not a bean")},e.prototype.autoWireBeans=function(e){var t=this;e.forEach(function(e){t.forEachMetaDataInHierarchy(e,function(o,n){var i=o.agClassAttributes;i&&i.forEach(function(o){var i=t.lookupBeanInstance(n,o.beanName,o.optional);e[o.attributeName]=i})})})},e.prototype.methodWireBeans=function(e){var t=this;e.forEach(function(e){t.forEachMetaDataInHierarchy(e,function(o,n){et.iterateObject(o.autowireMethods,function(o,i){if("agConstructor"!==o){var r=t.getBeansForParameters(i,n);e[o].apply(e,r)}})})})},e.prototype.forEachMetaDataInHierarchy=function(e,t){for(var o=Object.getPrototypeOf(e);null!=o;){var n=o.constructor;n.hasOwnProperty("__agBeanMetaData")&&t(n.__agBeanMetaData,this.getBeanName(n)),o=Object.getPrototypeOf(o)}},e.prototype.getBeanName=function(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;var t=e.toString();return t.substring(9,t.indexOf("("))},e.prototype.getBeansForParameters=function(e,t){var o=this,n=[];return e&&et.iterateObject(e,function(e,i){var r=o.lookupBeanInstance(t,i);n[Number(e)]=r}),n},e.prototype.lookupBeanInstance=function(e,t,o){if(void 0===o&&(o=!1),"context"===t)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];var n=this.beanWrappers[t];return n?n.beanInstance:(o||console.error("ag-Grid: unable to find bean reference "+t+" while initialising "+e),null)},e.prototype.callLifeCycleMethods=function(e,t){var o=this;e.forEach(function(e){o.callLifeCycleMethodsOneBean(e,t)})},e.prototype.callLifeCycleMethodsOneBean=function(e,t,o){var n={};this.forEachMetaDataInHierarchy(e,function(e){var i=e[t];i&&i.forEach(function(e){e!=o&&(n[e]=!0)})}),Object.keys(n).forEach(function(t){return e[t]()})},e.prototype.getBean=function(e){return this.lookupBeanInstance("getBean",e,!0)},e.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var e=this.getBeanInstances();this.destroyBeans(e),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},e.prototype.destroyBean=function(e){e&&this.destroyBeans([e])},e.prototype.destroyBeans=function(e){var t=this;return e?(e.forEach(function(e){t.callLifeCycleMethodsOneBean(e,"preDestroyMethods","destroy"),e.destroy&&e.destroy()}),[]):[]},e}();function st(e,t,o){var n=ft(e.constructor);n.preConstructMethods||(n.preConstructMethods=[]),n.preConstructMethods.push(t)}function at(e,t,o){var n=ft(e.constructor);n.postConstructMethods||(n.postConstructMethods=[]),n.postConstructMethods.push(t)}function lt(e,t,o){var n=ft(e.constructor);n.preDestroyMethods||(n.preDestroyMethods=[]),n.preDestroyMethods.push(t)}function ut(e){return function(t){ft(t).beanName=e}}function ct(e){return function(t,o,n){dt(t,e,!1,0,o,null)}}function pt(e){return function(t,o,n){dt(t,e,!0,0,o,null)}}function dt(e,t,o,n,i,r){if(null!==t)if("number"!=typeof r){var s=ft(e.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:i,beanName:t,optional:o})}else console.error("ag-Grid: Autowired should be on an attribute");else console.error("ag-Grid: Autowired name should not be null")}function ht(e){return function(t,o,n){var i,r="function"==typeof t?t:t.constructor;if("number"==typeof n){var s=void 0;o?(i=ft(r),s=o):(i=ft(r),s="agConstructor"),i.autowireMethods||(i.autowireMethods={}),i.autowireMethods[s]||(i.autowireMethods[s]={}),i.autowireMethods[s][n]=e}}}function ft(e){return e.hasOwnProperty("__agBeanMetaData")||(e.__agBeanMetaData={}),e.__agBeanMetaData}var gt,mt=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},yt=function(e,t){return function(o,n){t(o,n,e)}},vt=function(){function e(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return e.prototype.setBeans=function(e,t,o){if(void 0===o&&(o=null),this.logger=e.create("EventService"),o){var n=t.useAsyncEvents();this.addGlobalListener(o,n)}},e.prototype.getListeners=function(e,t){var o=t?this.allAsyncListeners:this.allSyncListeners,n=o.get(e);return n||(n=new Set,o.set(e,n)),n},e.prototype.addEventListener=function(e,t,o){void 0===o&&(o=!1),this.getListeners(e,o).add(t)},e.prototype.removeEventListener=function(e,t,o){void 0===o&&(o=!1),this.getListeners(e,o).delete(t)},e.prototype.addGlobalListener=function(e,t){void 0===t&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)},e.prototype.removeGlobalListener=function(e,t){void 0===t&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)},e.prototype.dispatchEvent=function(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0},e.prototype.dispatchEventOnce=function(e){this.firedEvents[e.type]||this.dispatchEvent(e)},e.prototype.dispatchToListeners=function(e,t){var o=this,n=e.type;this.getListeners(n,t).forEach(function(n){t?o.dispatchAsync(function(){return n(e)}):n(e)}),(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(i){t?o.dispatchAsync(function(){return i(n,e)}):i(n,e)})},e.prototype.dispatchAsync=function(e){this.asyncFunctionsQueue.push(e),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},e.prototype.flushAsyncQueue=function(){this.scheduled=!1;var e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(function(e){return e()})},mt([yt(0,ht("loggerFactory")),yt(1,ht("gridOptionsWrapper")),yt(2,ht("globalEventListener"))],e.prototype,"setBeans",null),mt([ut("eventService")],e)}();(gt=t.ModuleNames||(t.ModuleNames={})).CommunityCoreModule="@ag-grid-community/core",gt.CommunityAllModules="@ag-grid-community/all",gt.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",gt.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",gt.CsvExportModule="@ag-grid-community/csv-export",gt.RowNodeCache="@ag-grid-community/row-node-cache",gt.EnterpriseCoreModule="@ag-grid-enterprise/core",gt.EnterpriseAllModules="@ag-grid-enterprise/all",gt.RowGroupingModule="@ag-grid-enterprise/row-grouping",gt.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",gt.FiltersToolPanelModule="@ag-grid-enterprise/filters-tool-panel",gt.MenuModule="@ag-grid-enterprise/menu",gt.SetFilterModule="@ag-grid-enterprise/set-filter",gt.StatusBarModule="@ag-grid-enterprise/status-bar",gt.SideBarModule="@ag-grid-enterprise/side-bar",gt.RangeSelectionModule="@ag-grid-enterprise/range-selection",gt.MasterDetailModule="@ag-grid-enterprise/master-detail",gt.RichSelectModule="@ag-grid-enterprise/rich-select",gt.GridChartsModule="@ag-grid-enterprise/charts",gt.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",gt.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",gt.ExcelExportModule="@ag-grid-enterprise/excel-export",gt.ClipboardModule="@ag-grid-enterprise/clipboard",gt.DateTimeCellEditorModule="@ag-grid-enterprise/date-time-cell-editor",gt.AngularModule="@ag-grid-community/angular",gt.ReactModule="@ag-grid-community/react",gt.VueModule="@ag-grid-community/vue",gt.PolymerModule="@ag-grid-community/polymer";var Ct,bt=function(){function e(){}return e.register=function(t,o){void 0===o&&(o=!0),e.modulesMap[t.moduleName]=t,void 0===e.moduleBased?e.moduleBased=o:e.moduleBased!==o&&et.doOnce(function(){console.warn("ag-Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid-packages-modules/ for more information.")},"ModulePackageCheck")},e.registerModules=function(t,o){void 0===o&&(o=!0),t&&t.forEach(function(t){return e.register(t,o)})},e.assertRegistered=function(e,t){if(this.isRegistered(e))return!0;var o="ag-Grid: unable to use "+t+" as module "+e+" is not present. Please see: https://www.ag-grid.com/javascript-grid-modules/";return et.doOnce(function(){console.warn(o)},t+e),!1},e.isRegistered=function(t){return!!e.modulesMap[t]},e.getRegisteredModules=function(){return et.values(e.modulesMap)},e.isPackageBased=function(){return!e.moduleBased},e.modulesMap={},e}(),wt=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Et=function(){function e(e,t,o,n){this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new vt,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.visible=!e.hide,this.sort=e.sort,this.sortedAt=e.sortedAt,this.colId=o,this.primary=n}return e.prototype.setColDef=function(e,t){this.colDef=e,this.userProvidedColDef=t},e.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},e.prototype.setParent=function(e){this.parent=e},e.prototype.getParent=function(){return this.parent},e.prototype.setOriginalParent=function(e){this.originalParent=e},e.prototype.getOriginalParent=function(){return this.originalParent},e.prototype.initialise=function(){this.setPinned(this.colDef.pinned);var e=this.gridOptionsWrapper.getMinColWidth(),t=this.gridOptionsWrapper.getMaxColWidth();this.minWidth=this.colDef.minWidth?this.colDef.minWidth:e,this.maxWidth=this.colDef.maxWidth?this.colDef.maxWidth:t,this.colDef.flex&&(this.flex=this.colDef.flex),this.resetActualWidth();var o=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=et.exists(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!o,this.tooltipFieldContainsDots=et.exists(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!o,this.validate()},e.prototype.resetActualWidth=function(){this.actualWidth=this.columnUtils.calculateColInitialWidth(this.colDef)},e.prototype.isEmptyGroup=function(){return!1},e.prototype.isRowGroupDisplayed=function(e){return!(et.missing(this.colDef)||et.missing(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==e)},e.prototype.getUniqueId=function(){return this.getId()},e.prototype.isPrimary=function(){return this.primary},e.prototype.isFilterAllowed=function(){return this.primary&&(!!this.colDef.filter||!!this.colDef.filterFramework)},e.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},e.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},e.prototype.validate=function(){var e=this.colDef;function o(e,t,o){et.doOnce(function(){o?console.warn(e,o):et.doOnce(function(){return console.warn(e)},t)},t)}bt.isRegistered(t.ModuleNames.RowGroupingModule)||["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach(function(n){et.exists(e[n])&&(bt.isPackageBased()?o("ag-Grid: "+n+" is only valid in ag-grid-enterprise, your column definition should not have "+n,"ColumnRowGroupingMissing"+n):o("ag-Grid: "+n+" is only valid with ag-Grid Enterprise Module "+t.ModuleNames.RowGroupingModule+" - your column definition should not have "+n,"ColumnRowGroupingMissing"+n))}),bt.isRegistered(t.ModuleNames.RichSelectModule)||"agRichSelect"!==this.colDef.cellEditor&&"agRichSelectCellEditor"!==this.colDef.cellEditor||(bt.isPackageBased()?o("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):o("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-Grid Enterprise Module "+t.ModuleNames.RichSelectModule,"ColumnRichSelectMissing")),bt.isRegistered(t.ModuleNames.DateTimeCellEditorModule)||"agRichSelect"!==this.colDef.cellEditor&&"agDateTimeCellEditor"!==this.colDef.cellEditor||(bt.isPackageBased()?o("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnDateTimeMissing"):o("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-Grid Enterprise Module "+t.ModuleNames.DateTimeCellEditorModule,"ColumnDateTimeMissing")),this.gridOptionsWrapper.isTreeData()&&["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach(function(t){et.exists(e[t])&&o("ag-Grid: "+t+" is not possible when doing tree data, your column definition should not have "+t,"TreeDataCannotRowGroup")}),et.exists(this.colDef.width)&&"number"!=typeof this.colDef.width&&o("ag-Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef"),et.get(this,"colDef.cellRendererParams.restrictToOneGroup",null)&&o("ag-Grid: Since ag-grid 11.0.0 cellRendererParams.restrictToOneGroup is deprecated. You should use showRowGroup","ColumnCheck_sksldjf"),et.get(this,"colDef.cellRendererParams.keyMap",null)&&o("ag-Grid: Since ag-grid 11.0.0 cellRendererParams.keyMap is deprecated. You should use colDef.keyCreator","ColumnCheck_ieiruhgdf"),et.get(this,"colDef.cellRendererParams.keyMap",null)&&o("ag-Grid: Since ag-grid 11.0.0 cellRendererParams.keyMap is deprecated. You should use colDef.keyCreator","ColumnCheck_uitolghj"),e.floatingCellRenderer&&(o("ag-Grid: since v11, floatingCellRenderer is now pinnedRowCellRenderer","ColumnCheck_soihwewe"),this.colDef.pinnedRowCellRenderer=e.floatingCellRenderer),e.floatingRendererFramework&&(o("ag-Grid: since v11, floatingRendererFramework is now pinnedRowCellRendererFramework","ColumnCheck_zdkiouhwer"),this.colDef.pinnedRowCellRendererFramework=e.floatingRendererFramework),e.floatingRendererParams&&(console.warn("ag-Grid: since v11, floatingRendererParams is now pinnedRowCellRendererParams","ColumnCheck_retiuhjs"),this.colDef.pinnedRowCellRendererParams=e.floatingRendererParams),e.floatingValueFormatter&&(o("ag-Grid: since v11, floatingValueFormatter is now pinnedRowValueFormatter","ColumnCheck_qwroeihjdf"),this.colDef.pinnedRowValueFormatter=e.floatingValueFormatter),e.cellFormatter&&(o("ag-Grid: since v12, cellFormatter is now valueFormatter","ColumnCheck_eoireknml"),et.missing(this.colDef.valueFormatter)&&(this.colDef.valueFormatter=e.cellFormatter)),e.headerCellTemplate&&o("ag-Grid: since v15, headerCellTemplate is gone, use header component instead.","ColumnCheck_eroihxcm"),e.headerCellRenderer&&o("ag-Grid: since v15, headerCellRenderer is gone, use header component instead.","ColumnCheck_terteuh"),e.volatile&&o("ag-Grid: since v16, colDef.volatile is gone, please check refresh docs on how to refresh specific cells.","ColumnCheck_weoihjxcv"),e.suppressSorting&&(o("ag-Grid: since v20, colDef.suppressSorting is gone, instead use colDef.sortable=false.","ColumnCheck_43ljrer",this.colDef),this.colDef.sortable=!1),e.suppressFilter&&(o("ag-Grid: since v20, colDef.suppressFilter is gone, instead use colDef.filter=false.","ColumnCheck_erlkhfdm",this.colDef),this.colDef.filter=!1),e.suppressResize&&(o("ag-Grid: since v20, colDef.suppressResize is gone, instead use colDef.resizable=false.","ColumnCheck_weoihjxcv",this.colDef),this.colDef.resizable=!1),e.tooltip&&(o("ag-Grid: since v20.1, colDef.tooltip is gone, instead use colDef.tooltipValueGetter.","ColumnCheck_adslknjwef",this.colDef),this.colDef.tooltipValueGetter=e.tooltip),e.suppressToolPanel&&(o("ag-Grid: since v22, colDef.suppressToolPanel is gone, instead use suppressColumnsToolPanel / suppressFiltersToolPanel.","ColumnCheck_weihjlsjkdf",this.colDef),this.colDef.suppressColumnsToolPanel=!0)},e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.createIsColumnFuncParams=function(e){return{node:e,data:e.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},e.prototype.isSuppressNavigable=function(e){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var t=this.createIsColumnFuncParams(e);return(0,this.colDef.suppressNavigable)(t)}return!1},e.prototype.isCellEditable=function(e){return!(e.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(e,this.colDef.editable)},e.prototype.isRowDrag=function(e){return this.isColumnFunc(e,this.colDef.rowDrag)},e.prototype.isDndSource=function(e){return this.isColumnFunc(e,this.colDef.dndSource)},e.prototype.isCellCheckboxSelection=function(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)},e.prototype.isSuppressPaste=function(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)},e.prototype.isResizable=function(){return!0===this.colDef.resizable},e.prototype.isColumnFunc=function(e,t){return"boolean"==typeof t?t:"function"==typeof t&&t(this.createIsColumnFuncParams(e))},e.prototype.setMoving=function(t,o){void 0===o&&(o="api"),this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_MOVING_CHANGED,o))},e.prototype.createColumnEvent=function(e,t){return{api:this.gridApi,columnApi:this.columnApi,type:e,column:this,columns:[this],source:t}},e.prototype.isMoving=function(){return this.moving},e.prototype.getSort=function(){return this.sort},e.prototype.setSort=function(t,o){void 0===o&&(o="api"),this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_SORT_CHANGED,o)))},e.prototype.setMenuVisible=function(t,o){void 0===o&&(o="api"),this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_MENU_VISIBLE_CHANGED,o)))},e.prototype.isMenuVisible=function(){return this.menuVisible},e.prototype.isSortAscending=function(){return this.sort===Ue.SORT_ASC},e.prototype.isSortDescending=function(){return this.sort===Ue.SORT_DESC},e.prototype.isSortNone=function(){return et.missing(this.sort)},e.prototype.isSorting=function(){return et.exists(this.sort)},e.prototype.getSortedAt=function(){return this.sortedAt},e.prototype.setSortedAt=function(e){this.sortedAt=e},e.prototype.setAggFunc=function(e){this.aggFunc=e},e.prototype.getAggFunc=function(){return this.aggFunc},e.prototype.getLeft=function(){return this.left},e.prototype.getOldLeft=function(){return this.oldLeft},e.prototype.getRight=function(){return this.left+this.actualWidth},e.prototype.setLeft=function(t,o){void 0===o&&(o="api"),this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_LEFT_CHANGED,o)))},e.prototype.isFilterActive=function(){return this.filterActive},e.prototype.setFilterActive=function(t,o,n){void 0===o&&(o="api"),this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_FILTER_ACTIVE_CHANGED,o)));var i=this.createColumnEvent(e.EVENT_FILTER_CHANGED,o);n&&et.mergeDeep(i,n),this.eventService.dispatchEvent(i)},e.prototype.setPinned=function(e){this.pinned=!0===e||e===Ue.PINNED_LEFT?Ue.PINNED_LEFT:e===Ue.PINNED_RIGHT?Ue.PINNED_RIGHT:null},e.prototype.setFirstRightPinned=function(t,o){void 0===o&&(o="api"),this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_FIRST_RIGHT_PINNED_CHANGED,o)))},e.prototype.setLastLeftPinned=function(t,o){void 0===o&&(o="api"),this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_LAST_LEFT_PINNED_CHANGED,o)))},e.prototype.isFirstRightPinned=function(){return this.firstRightPinned},e.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},e.prototype.isPinned=function(){return this.pinned===Ue.PINNED_LEFT||this.pinned===Ue.PINNED_RIGHT},e.prototype.isPinnedLeft=function(){return this.pinned===Ue.PINNED_LEFT},e.prototype.isPinnedRight=function(){return this.pinned===Ue.PINNED_RIGHT},e.prototype.getPinned=function(){return this.pinned},e.prototype.setVisible=function(t,o){void 0===o&&(o="api");var n=!0===t;this.visible!==n&&(this.visible=n,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_VISIBLE_CHANGED,o)))},e.prototype.isVisible=function(){return this.visible},e.prototype.getColDef=function(){return this.colDef},e.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},e.prototype.getColId=function(){return this.colId},e.prototype.getId=function(){return this.getColId()},e.prototype.getDefinition=function(){return this.colDef},e.prototype.getActualWidth=function(){return this.actualWidth},e.prototype.createBaseColDefParams=function(e){return{node:e,data:e.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},e.prototype.getColSpan=function(e){if(et.missing(this.colDef.colSpan))return 1;var t=this.createBaseColDefParams(e),o=this.colDef.colSpan(t);return Math.max(o,1)},e.prototype.getRowSpan=function(e){if(et.missing(this.colDef.rowSpan))return 1;var t=this.createBaseColDefParams(e),o=this.colDef.rowSpan(t);return Math.max(o,1)},e.prototype.setActualWidth=function(t,o){void 0===o&&(o="api"),null!=this.minWidth&&(t=Math.max(t,this.minWidth)),null!=this.maxWidth&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.flex&&"flex"!==o&&(this.flex=0),this.actualWidth=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_WIDTH_CHANGED,o)))},e.prototype.isGreaterThanMax=function(e){return null!=this.maxWidth&&e>this.maxWidth},e.prototype.getMinWidth=function(){return this.minWidth},e.prototype.getMaxWidth=function(){return this.maxWidth},e.prototype.getFlex=function(){return this.flex||0},e.prototype.setFlex=function(e){this.flex!==e&&(this.flex=e)},e.prototype.setMinimum=function(e){void 0===e&&(e="api"),this.setActualWidth(this.minWidth,e)},e.prototype.setRowGroupActive=function(t,o){void 0===o&&(o="api"),this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_ROW_GROUP_CHANGED,o)))},e.prototype.isRowGroupActive=function(){return this.rowGroupActive},e.prototype.setPivotActive=function(t,o){void 0===o&&(o="api"),this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_PIVOT_CHANGED,o)))},e.prototype.isPivotActive=function(){return this.pivotActive},e.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},e.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},e.prototype.setValueActive=function(t,o){void 0===o&&(o="api"),this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_VALUE_CHANGED,o)))},e.prototype.isValueActive=function(){return this.aggregationActive},e.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},e.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},e.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},e.prototype.getMenuTabs=function(e){var t=this.getColDef().menuTabs;return null==t&&(t=e),t},e.prototype.isLockPosition=function(){return console.warn("ag-Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},e.prototype.isLockVisible=function(){return console.warn("ag-Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},e.prototype.isLockPinned=function(){return console.warn("ag-Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},e.EVENT_MOVING_CHANGED="movingChanged",e.EVENT_LEFT_CHANGED="leftChanged",e.EVENT_WIDTH_CHANGED="widthChanged",e.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",e.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",e.EVENT_VISIBLE_CHANGED="visibleChanged",e.EVENT_FILTER_CHANGED="filterChanged",e.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",e.EVENT_SORT_CHANGED="sortChanged",e.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",e.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",e.EVENT_PIVOT_CHANGED="columnPivotChanged",e.EVENT_VALUE_CHANGED="columnValueChanged",wt([ct("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),wt([ct("columnUtils")],e.prototype,"columnUtils",void 0),wt([ct("columnApi")],e.prototype,"columnApi",void 0),wt([ct("gridApi")],e.prototype,"gridApi",void 0),wt([ct("context")],e.prototype,"context",void 0),wt([at],e.prototype,"initialise",null),e}(),Rt=function(){function e(e,t,o,n){this.displayedChildren=[],this.localEventService=new vt,this.groupId=t,this.instanceId=o,this.originalColumnGroup=e,this.pinned=n}return e.createUniqueId=function(e,t){return e+"_"+t},e.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},e.prototype.getParent=function(){return this.parent},e.prototype.setParent=function(e){this.parent=e},e.prototype.getUniqueId=function(){return e.createUniqueId(this.groupId,this.instanceId)},e.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},e.prototype.isMoving=function(){var e=this.getOriginalColumnGroup().getLeafColumns();return!(!e||0===e.length)&&e.every(function(e){return e.isMoving()})},e.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(t){t instanceof e&&t.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var t=et.last(this.displayedChildren).getLeft();this.setLeft(t)}else{var o=this.displayedChildren[0].getLeft();this.setLeft(o)}else this.setLeft(null)},e.prototype.getLeft=function(){return this.left},e.prototype.getOldLeft=function(){return this.oldLeft},e.prototype.setLeft=function(t){this.oldLeft=t,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_LEFT_CHANGED)))},e.prototype.getPinned=function(){return this.pinned},e.prototype.createAgEvent=function(e){return{type:e}},e.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},e.prototype.getGroupId=function(){return this.groupId},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.isChildInThisGroupDeepSearch=function(t){var o=!1;return this.children.forEach(function(n){t===n&&(o=!0),n instanceof e&&n.isChildInThisGroupDeepSearch(t)&&(o=!0)}),o},e.prototype.getActualWidth=function(){var e=0;return this.displayedChildren&&this.displayedChildren.forEach(function(t){e+=t.getActualWidth()}),e},e.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var e=!1;return this.displayedChildren.forEach(function(t){t.isResizable()&&(e=!0)}),e},e.prototype.getMinWidth=function(){var e=0;return this.displayedChildren.forEach(function(t){e+=t.getMinWidth()}),e},e.prototype.addChild=function(e){this.children||(this.children=[]),this.children.push(e)},e.prototype.getDisplayedChildren=function(){return this.displayedChildren},e.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},e.prototype.getDisplayedLeafColumns=function(){var e=[];return this.addDisplayedLeafColumns(e),e},e.prototype.getDefinition=function(){return this.originalColumnGroup.getColGroupDef()},e.prototype.getColGroupDef=function(){return this.originalColumnGroup.getColGroupDef()},e.prototype.isPadding=function(){return this.originalColumnGroup.isPadding()},e.prototype.isExpandable=function(){return this.originalColumnGroup.isExpandable()},e.prototype.isExpanded=function(){return this.originalColumnGroup.isExpanded()},e.prototype.setExpanded=function(e){this.originalColumnGroup.setExpanded(e)},e.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach(function(o){o instanceof Et?t.push(o):o instanceof e&&o.addDisplayedLeafColumns(t)})},e.prototype.addLeafColumns=function(t){this.children.forEach(function(o){o instanceof Et?t.push(o):o instanceof e&&o.addLeafColumns(t)})},e.prototype.getChildren=function(){return this.children},e.prototype.getColumnGroupShow=function(){return this.originalColumnGroup.getColumnGroupShow()},e.prototype.getOriginalColumnGroup=function(){return this.originalColumnGroup},e.prototype.getPaddingLevel=function(){var e=this.getParent();return this.isPadding()&&e&&e.isPadding()?1+e.getPaddingLevel():0},e.prototype.calculateDisplayedColumns=function(){var t=this;this.displayedChildren=[];var o=this;if(this.isPadding())for(;o.getParent()&&o.isPadding();)o=o.getParent();o.originalColumnGroup.isExpandable()?this.children.forEach(function(n){switch(n.getColumnGroupShow()){case e.HEADER_GROUP_SHOW_OPEN:o.originalColumnGroup.isExpanded()&&t.displayedChildren.push(n);break;case e.HEADER_GROUP_SHOW_CLOSED:o.originalColumnGroup.isExpanded()||t.displayedChildren.push(n);break;default:n instanceof e&&n.isPadding()&&!n.displayedChildren.length||t.displayedChildren.push(n)}}):this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_DISPLAYED_CHILDREN_CHANGED))},e.HEADER_GROUP_SHOW_OPEN="open",e.HEADER_GROUP_SHOW_CLOSED="closed",e.HEADER_GROUP_PADDING="padding",e.EVENT_LEFT_CHANGED="leftChanged",e.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([ct("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(),_t=function(){function e(e,t,o,n){this.localEventService=new vt,this.expandable=!1,this.colGroupDef=e,this.groupId=t,this.expanded=e&&!!e.openByDefault,this.padding=o,this.level=n}return e.prototype.setOriginalParent=function(e){this.originalParent=e},e.prototype.getOriginalParent=function(){return this.originalParent},e.prototype.getLevel=function(){return this.level},e.prototype.isVisible=function(){return!!this.children&&this.children.some(function(e){return e.isVisible()})},e.prototype.isPadding=function(){return this.padding},e.prototype.setExpanded=function(t){this.expanded=void 0!==t&&t,this.localEventService.dispatchEvent({type:e.EVENT_EXPANDED_CHANGED})},e.prototype.isExpandable=function(){return this.expandable},e.prototype.isExpanded=function(){return this.expanded},e.prototype.getGroupId=function(){return this.groupId},e.prototype.getId=function(){return this.getGroupId()},e.prototype.setChildren=function(e){this.children=e},e.prototype.getChildren=function(){return this.children},e.prototype.getColGroupDef=function(){return this.colGroupDef},e.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},e.prototype.addLeafColumns=function(t){this.children&&this.children.forEach(function(o){o instanceof Et?t.push(o):o instanceof e&&o.addLeafColumns(t)})},e.prototype.getColumnGroupShow=function(){return this.padding?Rt.HEADER_GROUP_PADDING:this.colGroupDef.columnGroupShow},e.prototype.setupExpandable=function(){var e=this;this.setExpandable(),this.getLeafColumns().forEach(function(t){return t.addEventListener(Et.EVENT_VISIBLE_CHANGED,e.onColumnVisibilityChanged.bind(e))})},e.prototype.setExpandable=function(){if(!this.isPadding()){for(var t=!1,o=!1,n=!1,i=this.findChildren(),r=0,s=i.length;r<s;r++){var a=i[r];if(a.isVisible()){var l=a.getColumnGroupShow();l===Rt.HEADER_GROUP_SHOW_OPEN?(t=!0,n=!0):l===Rt.HEADER_GROUP_SHOW_CLOSED?(o=!0,n=!0):(t=!0,o=!0,l===Rt.HEADER_GROUP_PADDING&&(n=n||a.children.some(function(e){return void 0!==e.getColumnGroupShow()})))}}var u=t&&o&&n;this.expandable!==u&&(this.expandable=u,this.localEventService.dispatchEvent({type:e.EVENT_EXPANDABLE_CHANGED}))}},e.prototype.findChildren=function(){var t=this.children,o=t[0];if(o&&(!o.isPadding||!o.isPadding()))return t;for(;1===t.length&&t[0]instanceof e;)t=t[0].children;return t},e.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},e.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},e.EVENT_EXPANDED_CHANGED="expandedChanged",e.EVENT_EXPANDABLE_CHANGED="expandableChanged",e}(),St={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},Ot=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Dt=function(){function e(){var e=this;this.destroyFunctions=[],this.destroyed=!1,this.getContext=function(){return e.context},this.isAlive=function(){return!e.destroyed}}return e.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},e.prototype.destroy=function(){this.destroyFunctions.forEach(function(e){return e()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:e.EVENT_DESTROYED})},e.prototype.addEventListener=function(e,t){this.localEventService||(this.localEventService=new vt),this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)},e.prototype.dispatchEventAsync=function(e){var t=this;window.setTimeout(function(){return t.dispatchEvent(e)},0)},e.prototype.dispatchEvent=function(e){this.localEventService&&this.localEventService.dispatchEvent(e)},e.prototype.addManagedListener=function(e,t,o){var n=this;if(!this.destroyed){e instanceof HTMLElement?et.addSafePassiveEventListener(this.getFrameworkOverrides(),e,t,o):e.addEventListener(t,o);var i=function(){return e.removeEventListener(t,o),n.destroyFunctions=n.destroyFunctions.filter(function(e){return e!==i}),null};return this.destroyFunctions.push(i),i}},e.prototype.addDestroyFunc=function(e){this.isAlive()?this.destroyFunctions.push(e):e()},e.prototype.createManagedBean=function(e,t){var o=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),o},e.prototype.createBean=function(e,t,o){return(t||this.getContext()).createBean(e,o)},e.prototype.destroyBean=function(e,t){return(t||this.getContext()).destroyBean(e)},e.prototype.destroyBeans=function(e,t){var o=this;return e&&e.forEach(function(e){return o.destroyBean(e,t)}),[]},e.EVENT_DESTROYED="destroyed",Ot([ct("frameworkOverrides")],e.prototype,"frameworkOverrides",void 0),Ot([ct("context")],e.prototype,"context",void 0),Ot([ct("eventService")],e.prototype,"eventService",void 0),Ot([lt],e.prototype,"destroy",null),e}(),Pt=(Ct=function(e,t){return(Ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}Ct(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),Tt=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},At=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pt(t,e),t.prototype.setBeans=function(e){this.logger=e.create("ColumnFactory")},t.prototype.createColumnTree=function(e,t,o){var n=new it;if(o){var i=o.map(function(e){return e.getId()});n.addExistingKeys(i)}var r=o?o.slice():null,s=this.recursivelyCreateColumns(e,0,t,r,n,null),a=this.findMaxDept(s,0);this.logger.log("Number of levels for grouped columns is "+a);var l=this.balanceColumnTree(s,0,a,n);return this.columnUtils.depthFirstOriginalTreeSearch(null,l,function(e,t){e instanceof _t&&e.setupExpandable(),e.setOriginalParent(t)}),{columnTree:l,treeDept:a}},t.prototype.createForAutoGroups=function(e,t){var o=this,n=[];return e.forEach(function(e){var i=o.createAutoGroupTreeItem(t,e);n.push(i)}),n},t.prototype.createAutoGroupTreeItem=function(e,t){for(var o=t,n=this.findDepth(e)-1;n>=0;n--){var i=new _t(null,"FAKE_PATH_"+t.getId()+"}_"+n,!0,n);this.context.createBean(i),i.setChildren([o]),o.setOriginalParent(i),o=i}return o},t.prototype.findDepth=function(e){for(var t=0,o=e;o&&o[0]&&o[0]instanceof _t;)t++,o=o[0].getChildren();return t},t.prototype.balanceColumnTree=function(e,t,o,n){for(var i=[],r=0;r<e.length;r++){var s=e[r];if(s instanceof _t){var a=s,l=this.balanceColumnTree(a.getChildren(),t+1,o,n);a.setChildren(l),i.push(a)}else{for(var u=void 0,c=void 0,p=o-1;p>=t;p--){var d=n.getUniqueKey(null,null),h=this.createMergedColGroupDef(null),f=new _t(h,d,!0,t);this.context.createBean(f),c&&c.setChildren([f]),c=f,u||(u=c)}if(u){if(i.push(u),e.some(function(e){return e instanceof _t})){c.setChildren([s]);continue}c.setChildren(e);break}i.push(s)}}return i},t.prototype.findMaxDept=function(e,t){for(var o=t,n=0;n<e.length;n++){var i=e[n];if(i instanceof _t){var r=this.findMaxDept(i.getChildren(),t+1);o<r&&(o=r)}}return o},t.prototype.recursivelyCreateColumns=function(e,t,o,n,i,r){var s=this,a=[];return e?(e.forEach(function(e){var l;l=s.isColumnGroup(e)?s.createColumnGroup(o,e,t,n,i,r):s.createColumn(o,e,n,i,r),a.push(l)}),a):a},t.prototype.createColumnGroup=function(e,t,o,n,i,r){var s=this.createMergedColGroupDef(t),a=i.getUniqueKey(s.groupId,null),l=new _t(s,a,!1,o);this.context.createBean(l);var u=this.recursivelyCreateColumns(s.children,o+1,e,n,i,l);return l.setChildren(u),l},t.prototype.createMergedColGroupDef=function(e){var t={};return et.assign(t,this.gridOptionsWrapper.getDefaultColGroupDef()),et.assign(t,e),this.checkForDeprecatedItems(t),t},t.prototype.createColumn=function(e,t,o,n,i){var r=this.mergeColDefs(t);this.checkForDeprecatedItems(r);var s=this.findExistingColumn(t,o);if(s)s.setColDef(r,t);else{var a=n.getUniqueKey(r.colId,r.field);s=new Et(r,t,a,e),this.context.createBean(s)}return s},t.prototype.findExistingColumn=function(e,t){var o=et.find(t,function(t){var o=t.getUserProvidedColDef();return!(!o||o!==e&&(null==o.colId||o.colId!==e.colId))});return o&&et.removeFromArray(t,o),o},t.prototype.mergeColDefs=function(e){var t={};return et.assign(t,this.gridOptionsWrapper.getDefaultColDef()),e.type&&this.assignColumnTypes(e,t),et.assign(t,e),t},t.prototype.assignColumnTypes=function(e,t){var o;if(e.type instanceof Array)e.type.some(function(e){return"string"!=typeof e})?console.warn("ag-grid: if colDef.type is supplied an array it should be of type 'string[]'"):o=e.type;else{if("string"!=typeof e.type)return void console.warn("ag-grid: colDef.type should be of type 'string' | 'string[]'");o=e.type.split(",")}var n=et.assign({},St),i=this.gridOptionsWrapper.getColumnTypes()||{};et.iterateObject(i,function(e,t){e in n?console.warn("ag-Grid: the column type '"+e+"' is a default column type and cannot be overridden."):n[e]=t}),o.forEach(function(e){var o=n[e.trim()];o?et.assign(t,o):console.warn("ag-grid: colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes")})},t.prototype.checkForDeprecatedItems=function(e){if(e){var t=e;void 0!==t.group&&console.warn("ag-grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.headerGroup&&console.warn("ag-grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.headerGroupShow&&console.warn("ag-grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.suppressRowGroup&&console.warn("ag-grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==t.suppressAggregation&&console.warn("ag-grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(t.suppressRowGroup||t.suppressAggregation)&&console.warn("ag-grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),t.displayName&&(console.warn("ag-grid: Found displayName "+t.displayName+", please use headerName instead, displayName is deprecated."),t.headerName=t.displayName)}},t.prototype.isColumnGroup=function(e){return void 0!==e.children},Tt([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Tt([ct("columnUtils")],t.prototype,"columnUtils",void 0),Tt([(0,o=ht("loggerFactory"),function(e,t){o(e,t,0)})],t.prototype,"setBeans",null),Tt([ut("columnFactory")],t);var o}(Dt),Ft=function(){function e(){}return e.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",e.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",e.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",e.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",e.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",e.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",e.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",e.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",e.EVENT_COLUMN_MOVED="columnMoved",e.EVENT_COLUMN_VISIBLE="columnVisible",e.EVENT_COLUMN_PINNED="columnPinned",e.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",e.EVENT_COLUMN_RESIZED="columnResized",e.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",e.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",e.EVENT_ROW_GROUP_OPENED="rowGroupOpened",e.EVENT_ROW_DATA_CHANGED="rowDataChanged",e.EVENT_ROW_DATA_UPDATED="rowDataUpdated",e.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",e.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",e.EVENT_CHART_CREATED="chartCreated",e.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",e.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",e.EVENT_CHART_DESTROYED="chartDestroyed",e.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",e.EVENT_MODEL_UPDATED="modelUpdated",e.EVENT_PASTE_START="pasteStart",e.EVENT_PASTE_END="pasteEnd",e.EVENT_FILL_START="fillStart",e.EVENT_FILL_END="fillEnd",e.EVENT_CELL_CLICKED="cellClicked",e.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",e.EVENT_CELL_MOUSE_DOWN="cellMouseDown",e.EVENT_CELL_CONTEXT_MENU="cellContextMenu",e.EVENT_CELL_VALUE_CHANGED="cellValueChanged",e.EVENT_ROW_VALUE_CHANGED="rowValueChanged",e.EVENT_CELL_FOCUSED="cellFocused",e.EVENT_ROW_SELECTED="rowSelected",e.EVENT_SELECTION_CHANGED="selectionChanged",e.EVENT_CELL_KEY_DOWN="cellKeyDown",e.EVENT_CELL_KEY_PRESS="cellKeyPress",e.EVENT_CELL_MOUSE_OVER="cellMouseOver",e.EVENT_CELL_MOUSE_OUT="cellMouseOut",e.EVENT_FILTER_CHANGED="filterChanged",e.EVENT_FILTER_MODIFIED="filterModified",e.EVENT_FILTER_OPENED="filterOpened",e.EVENT_SORT_CHANGED="sortChanged",e.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",e.EVENT_ROW_CLICKED="rowClicked",e.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",e.EVENT_GRID_READY="gridReady",e.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",e.EVENT_VIEWPORT_CHANGED="viewportChanged",e.EVENT_FIRST_DATA_RENDERED="firstDataRendered",e.EVENT_DRAG_STARTED="dragStarted",e.EVENT_DRAG_STOPPED="dragStopped",e.EVENT_CHECKBOX_CHANGED="checkboxChanged",e.EVENT_ROW_EDITING_STARTED="rowEditingStarted",e.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",e.EVENT_CELL_EDITING_STARTED="cellEditingStarted",e.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",e.EVENT_BODY_SCROLL="bodyScroll",e.EVENT_ANIMATION_QUEUE_EMPTY="animationQueueEmpty",e.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",e.EVENT_PAGINATION_CHANGED="paginationChanged",e.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",e.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",e.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",e.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",e.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",e.EVENT_FLASH_CELLS="flashCells",e.EVENT_ROW_DRAG_ENTER="rowDragEnter",e.EVENT_ROW_DRAG_MOVE="rowDragMove",e.EVENT_ROW_DRAG_LEAVE="rowDragLeave",e.EVENT_ROW_DRAG_END="rowDragEnd",e.EVENT_POPUP_TO_FRONT="popupToFront",e.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",e.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",e.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",e.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",e.EVENT_KEYBOARD_FOCUS="keyboardFocus",e.EVENT_MOUSE_FOCUS="mouseFocus",e}(),Nt=function(){function e(){this.existingIds={}}return e.prototype.getInstanceIdForKey=function(e){var t,o=this.existingIds[e];return this.existingIds[e]=t="number"!=typeof o?0:o+1,t},e}(),xt=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),It=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Mt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.primaryHeaderRowCount=0,t.secondaryHeaderRowCount=0,t.secondaryColumnsPresent=!1,t.gridHeaderRowCount=0,t.displayedLeftColumns=[],t.displayedRightColumns=[],t.displayedCenterColumns=[],t.allDisplayedColumns=[],t.allDisplayedVirtualColumns=[],t.allDisplayedCenterVirtualColumns=[],t.rowGroupColumns=[],t.valueColumns=[],t.pivotColumns=[],t.ready=!1,t.autoGroupsNeedBuilding=!1,t.forceRecreateAutoGroups=!1,t.pivotMode=!1,t.bodyWidth=0,t.leftWidth=0,t.rightWidth=0,t.bodyWidthDirty=!0,t.flexActive=!1,t}return xt(t,e),t.prototype.init=function(){this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var e=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,"autoGroupColumnDef",this.onAutoGroupColumnDefChanged.bind(this))},t.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},t.prototype.setColumnDefs=function(e,t){void 0===t&&(t="api");var o=!!this.columnDefs;this.columnDefs=e,this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var n=this.primaryColumns,i=this.columnFactory.createColumnTree(e,!0,n);this.primaryColumnTree=i.columnTree,this.primaryHeaderRowCount=i.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.extractRowGroupColumns(t,n),this.extractPivotColumns(t,n),this.createValueColumns(t,n),this.ready=!0,this.updateGridColumns(),this.updateDisplayedColumns(t),this.checkDisplayedVirtualColumns(),this.gridOptionsWrapper.isImmutableColumns()&&o&&this.resetColumnState(!0,t),this.eventService.dispatchEvent({type:Ft.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:t}),this.eventService.dispatchEvent({type:Ft.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi}),this.flexActive=this.getDisplayedCenterColumns().some(function(e){return!!e.getFlex()})},t.prototype.isAutoRowHeightActive=function(){return this.autoRowHeightColumns&&this.autoRowHeightColumns.length>0},t.prototype.getAllAutoRowHeightCols=function(){return this.autoRowHeightColumns},t.prototype.setVirtualViewportLeftAndRight=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},t.prototype.getDisplayedColumnsStartingAt=function(e){for(var t=e,o=[];null!=t;)o.push(t),t=this.getDisplayedColAfter(t);return o},t.prototype.checkDisplayedVirtualColumns=function(){if(null!=this.displayedCenterColumns){var e=this.allDisplayedVirtualColumns.map(function(e){return e.getId()}).join("#");this.updateVirtualSets(),e!==this.allDisplayedVirtualColumns.map(function(e){return e.getId()}).join("#")&&this.eventService.dispatchEvent({type:Ft.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})}},t.prototype.setVirtualViewportPosition=function(e,t){(e!==this.scrollWidth||t!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=t,this.bodyWidthDirty=!0,this.setVirtualViewportLeftAndRight(),this.ready&&this.checkDisplayedVirtualColumns())},t.prototype.isPivotMode=function(){return this.pivotMode},t.prototype.isPivotSettingAllowed=function(e){return!e||!this.gridOptionsWrapper.isTreeData()||(console.warn("ag-Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},t.prototype.setPivotMode=function(e,t){void 0===t&&(t="api"),e!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=e,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(t),this.eventService.dispatchEvent({type:Ft.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.getSecondaryPivotColumn=function(e,t){if(!this.secondaryColumnsPresent||!this.secondaryColumns)return null;var o=this.getPrimaryColumn(t),n=null;return this.secondaryColumns.forEach(function(t){var i=t.getColDef().pivotKeys,r=t.getColDef().pivotValueColumn;Q(i,e)&&r===o&&(n=t)}),n},t.prototype.setBeans=function(e){this.logger=e.create("ColumnController")},t.prototype.setFirstRightAndLastLeftPinned=function(e){var t,o;this.gridOptionsWrapper.isEnableRtl()?(t=this.displayedLeftColumns?this.displayedLeftColumns[0]:null,o=this.displayedRightColumns?et.last(this.displayedRightColumns):null):(t=this.displayedLeftColumns?et.last(this.displayedLeftColumns):null,o=this.displayedRightColumns?this.displayedRightColumns[0]:null),this.gridColumns.forEach(function(n){n.setLastLeftPinned(n===t,e),n.setFirstRightPinned(n===o,e)})},t.prototype.autoSizeColumns=function(e,t,o){var n=this;void 0===o&&(o="api"),this.animationFrameService.flushAllFrames();var i=[],r=-1;for(null==t&&(t=this.gridOptionsWrapper.isSkipHeaderOnAutoSize());0!==r;)r=0,this.actionOnGridColumns(e,function(e){if(i.indexOf(e)>=0)return!1;var s=n.autoWidthCalculator.getPreferredWidthForColumn(e,t);if(s>0){var a=n.normaliseColumnWidth(e,s);e.setActualWidth(a,o),i.push(e),r++}return!0},o);i.length&&this.eventService.dispatchEvent({type:Ft.EVENT_COLUMN_RESIZED,columns:i,column:1===i.length?i[0]:null,finished:!0,api:this.gridApi,columnApi:this.columnApi,source:"autosizeColumns"})},t.prototype.autoSizeColumn=function(e,t,o){void 0===o&&(o="api"),e&&this.autoSizeColumns([e],t,o)},t.prototype.autoSizeAllColumns=function(e,t){void 0===t&&(t="api");var o=this.getAllDisplayedColumns();this.autoSizeColumns(o,e,t)},t.prototype.getColumnsFromTree=function(e){var t=[],o=function(e){for(var n=0;n<e.length;n++){var i=e[n];i instanceof Et?t.push(i):i instanceof _t&&o(i.getChildren())}};return o(e),t},t.prototype.getAllDisplayedColumnGroups=function(){return this.displayedLeftColumnTree&&this.displayedRightColumnTree&&this.displayedCentreColumnTree?this.displayedLeftColumnTree.concat(this.displayedCentreColumnTree).concat(this.displayedRightColumnTree):null},t.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},t.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},t.prototype.getLeftDisplayedColumnGroups=function(){return this.displayedLeftColumnTree},t.prototype.getRightDisplayedColumnGroups=function(){return this.displayedRightColumnTree},t.prototype.getCenterDisplayedColumnGroups=function(){return this.displayedCentreColumnTree},t.prototype.getDisplayedColumnGroups=function(e){switch(e){case Ue.PINNED_LEFT:return this.getLeftDisplayedColumnGroups();case Ue.PINNED_RIGHT:return this.getRightDisplayedColumnGroups();default:return this.getCenterDisplayedColumnGroups()}},t.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},t.prototype.getAllDisplayedColumns=function(){return this.allDisplayedColumns},t.prototype.getAllDisplayedVirtualColumns=function(){return this.allDisplayedVirtualColumns},t.prototype.getDisplayedLeftColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedLeftColumns):this.displayedLeftColumns},t.prototype.getDisplayedRightColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedRightColumns):this.displayedRightColumns},t.prototype.getDisplayedColumnsForRow=function(e,t,o,n){for(var i,r=[],s=null,a=function(a){var l,u=t[a],c=t.length-a,p=Math.min(u.getColSpan(e),c),d=[u];if(p>1){for(var h=p-1,f=1;f<=h;f++)d.push(t[a+f]);a+=h}o?(l=!1,d.forEach(function(e){o(e)&&(l=!0)})):l=!0,l&&(0===r.length&&s&&n&&n(u)&&r.push(s),r.push(u)),s=u,i=a},l=0;l<t.length;l++)a(l),l=i;return r},t.prototype.getAllDisplayedCenterVirtualColumnsForRow=function(e){var t=this;if(!this.colSpanActive)return this.allDisplayedCenterVirtualColumns;var o=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedCenterColumns,o,function(e){return e.getLeft()>t.viewportLeft})},t.prototype.isColumnInViewport=function(e){var t=e.getLeft(),o=e.getLeft()+e.getActualWidth(),n=this.viewportLeft-200,i=this.viewportRight+200;return!(t<n&&o<n||t>i&&o>i)},t.prototype.getPinnedLeftContainerWidth=function(){return this.getWidthOfColsInList(this.displayedLeftColumns)},t.prototype.getPinnedRightContainerWidth=function(){return this.getWidthOfColsInList(this.displayedRightColumns)},t.prototype.updatePrimaryColumnList=function(e,t,o,n,i,r){var s=this;if(void 0===r&&(r="api"),e&&!et.missingOrEmpty(e)){var a=!1;e.forEach(function(e){var i=s.getPrimaryColumn(e);if(i){if(o){if(t.indexOf(i)>=0)return;t.push(i)}else{if(t.indexOf(i)<0)return;et.removeFromArray(t,i)}n(i),a=!0}}),a&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(r),this.eventService.dispatchEvent({type:i,columns:t,column:1===t.length?t[0]:null,api:this.gridApi,columnApi:this.columnApi,source:r}))}},t.prototype.setRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,Ft.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),t)},t.prototype.setRowGroupActive=function(e,t,o){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,o),e||this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()||t.setVisible(!0,o))},t.prototype.addRowGroupColumn=function(e,t){void 0===t&&(t="api"),e&&this.addRowGroupColumns([e],t)},t.prototype.addRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),Ft.EVENT_COLUMN_ROW_GROUP_CHANGED,t)},t.prototype.removeRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),Ft.EVENT_COLUMN_ROW_GROUP_CHANGED,t)},t.prototype.removeRowGroupColumn=function(e,t){void 0===t&&(t="api"),e&&this.removeRowGroupColumns([e],t)},t.prototype.addPivotColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!0,function(e){return e.setPivotActive(!0,t)},Ft.EVENT_COLUMN_PIVOT_CHANGED,t)},t.prototype.setPivotColumns=function(e,t){void 0===t&&(t="api"),this.setPrimaryColumnList(e,this.pivotColumns,Ft.EVENT_COLUMN_PIVOT_CHANGED,function(e,o){o.setPivotActive(e,t)},t)},t.prototype.addPivotColumn=function(e,t){void 0===t&&(t="api"),this.addPivotColumns([e],t)},t.prototype.removePivotColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!1,function(e){return e.setPivotActive(!1,t)},Ft.EVENT_COLUMN_PIVOT_CHANGED,t)},t.prototype.removePivotColumn=function(e,t){void 0===t&&(t="api"),this.removePivotColumns([e],t)},t.prototype.setPrimaryColumnList=function(e,t,o,n,i){var r=this;t.length=0,et.exists(e)&&e.forEach(function(e){var o=r.getPrimaryColumn(e);o&&t.push(o)}),this.primaryColumns.forEach(function(e){var o=t.indexOf(e)>=0;n(o,e)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(i),this.eventService.dispatchEvent({type:o,columns:t,column:1===t.length?t[0]:null,api:this.gridApi,columnApi:this.columnApi,source:i})},t.prototype.setValueColumns=function(e,t){void 0===t&&(t="api"),this.setPrimaryColumnList(e,this.valueColumns,Ft.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),t)},t.prototype.setValueActive=function(e,t,o){if(e!==t.isValueActive()&&(t.setValueActive(e,o),e&&!t.getAggFunc())){var n=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(n)}},t.prototype.addValueColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),Ft.EVENT_COLUMN_VALUE_CHANGED,t)},t.prototype.addValueColumn=function(e,t){void 0===t&&(t="api"),e&&this.addValueColumns([e],t)},t.prototype.removeValueColumn=function(e,t){void 0===t&&(t="api"),this.removeValueColumns([e],t)},t.prototype.removeValueColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),Ft.EVENT_COLUMN_VALUE_CHANGED,t)},t.prototype.normaliseColumnWidth=function(e,t){return t<e.getMinWidth()&&(t=e.getMinWidth()),e.isGreaterThanMax(t)&&(t=e.getMaxWidth()),t},t.prototype.getPrimaryOrGridColumn=function(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)},t.prototype.setColumnWidths=function(e,t,o,n){var i=this;void 0===n&&(n="api");var r=[];e.forEach(function(e){var o=i.getPrimaryOrGridColumn(e.key);if(o&&(r.push({width:e.newWidth,ratios:[1],columns:[o]}),"shift"===i.gridOptionsWrapper.getColResizeDefault()&&(t=!t),t)){var n=i.getDisplayedColAfter(o);if(!n)return;var s=o.getActualWidth()-e.newWidth,a=n.getActualWidth()+s;r.push({width:a,ratios:[1],columns:[n]})}}),0!==r.length&&(this.resizeColumnSets(r,o,n),this.flexActive&&this.refreshFlexedColumns())},t.prototype.checkMinAndMaxWidthsForSet=function(e){var t=e.width,o=0,n=0,i=!0;return e.columns.forEach(function(e){o+=e.getMinWidth(),e.getMaxWidth()>0?n+=e.getMaxWidth():i=!1}),t>=o&&(!i||t<=n)},t.prototype.resizeColumnSets=function(e,t,o){if(!e||e.every(this.checkMinAndMaxWidthsForSet.bind(this))){var n=[],i=[];e.forEach(function(e){var t=e.width,r=e.columns,s=e.ratios,a={},l={};r.forEach(function(e){return i.push(e)});for(var u=!0,c=0,p=function(){if(++c>1e3)return console.error("ag-Grid: infinite loop in resizeColumnSets"),"break";u=!1;var e=[],o=0,n=t;r.forEach(function(t,i){l[t.getId()]?n-=a[t.getId()]:(e.push(t),o+=s[i])});var i=1/o;e.forEach(function(o,r){var c;r===e.length-1?c=n:(c=Math.round(s[r]*t*i),n-=c),c<o.getMinWidth()?(c=o.getMinWidth(),l[o.getId()]=!0,u=!0):o.getMaxWidth()>0&&c>o.getMaxWidth()&&(c=o.getMaxWidth(),l[o.getId()]=!0,u=!0),a[o.getId()]=c})};u&&"break"!==p(););r.forEach(function(e){var t=a[e.getId()];e.getActualWidth()!==t&&(e.setActualWidth(t,o),n.push(e))})});var r=n.length>0;r&&(this.setLeftValues(o),this.updateBodyWidths(),this.checkDisplayedVirtualColumns()),(r||t)&&this.eventService.dispatchEvent({type:Ft.EVENT_COLUMN_RESIZED,columns:i,column:1===i.length?i[0]:null,finished:t,api:this.gridApi,columnApi:this.columnApi,source:o})}else if(t){var s=e&&e.length>0?e[0].columns:null;this.eventService.dispatchEvent({type:Ft.EVENT_COLUMN_RESIZED,columns:s,column:s&&1===s.length?s[0]:null,finished:t,api:this.gridApi,columnApi:this.columnApi,source:o})}},t.prototype.setColumnAggFunc=function(e,t,o){void 0===o&&(o="api"),e&&(e.setAggFunc(t),this.eventService.dispatchEvent({type:Ft.EVENT_COLUMN_VALUE_CHANGED,columns:[e],column:e,api:this.gridApi,columnApi:this.columnApi,source:o}))},t.prototype.moveRowGroupColumn=function(e,t,o){void 0===o&&(o="api");var n=this.rowGroupColumns[e];this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(t,0,n),this.eventService.dispatchEvent({type:Ft.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:o})},t.prototype.moveColumns=function(e,t,o){if(void 0===o&&(o="api"),this.columnAnimationService.start(),t>this.gridColumns.length-e.length)return console.warn("ag-Grid: tried to insert columns in invalid location, toIndex = "+t),void console.warn("ag-Grid: remember that you should not count the moving columns when calculating the new index");var n=this.getGridColumns(e);!this.doesMovePassRules(n,t)||(et.moveInArray(this.gridColumns,n,t),this.updateDisplayedColumns(o),this.eventService.dispatchEvent({type:Ft.EVENT_COLUMN_MOVED,columns:n,column:1===n.length?n[0]:null,toIndex:t,api:this.gridApi,columnApi:this.columnApi,source:o}),this.columnAnimationService.finish())},t.prototype.doesMovePassRules=function(e,t){var o=this.gridColumns.slice();return et.moveInArray(o,e,t),!!this.doesMovePassMarryChildren(o)&&!!this.doesMovePassLockedPositions(o)},t.prototype.doesMovePassLockedPositions=function(e){var t=!1,o=!0;return e.forEach(function(e){e.getColDef().lockPosition?t&&(o=!1):t=!0}),o},t.prototype.doesMovePassMarryChildren=function(e){var t=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(o){if(o instanceof _t){var n=o;if(n.getColGroupDef()&&n.getColGroupDef().marryChildren){var i=[];n.getLeafColumns().forEach(function(t){var o=e.indexOf(t);i.push(o)}),Math.max.apply(Math,i)-Math.min.apply(Math,i)>n.getLeafColumns().length-1&&(t=!1)}}}),t},t.prototype.moveColumn=function(e,t,o){void 0===o&&(o="api"),this.moveColumns([e],t,o)},t.prototype.moveColumnByIndex=function(e,t,o){void 0===o&&(o="api"),this.moveColumn(this.gridColumns[e],t,o)},t.prototype.getBodyContainerWidth=function(){return this.bodyWidth},t.prototype.getContainerWidth=function(e){switch(e){case Ue.PINNED_LEFT:return this.leftWidth;case Ue.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},t.prototype.updateBodyWidths=function(){var e=this.getWidthOfColsInList(this.displayedCenterColumns),t=this.getWidthOfColsInList(this.displayedLeftColumns),o=this.getWidthOfColsInList(this.displayedRightColumns);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==o)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=o,this.eventService.dispatchEvent({type:Ft.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},t.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},t.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},t.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},t.prototype.getDisplayedCenterColumns=function(){return this.displayedCenterColumns},t.prototype.getDisplayedLeftColumns=function(){return this.displayedLeftColumns},t.prototype.getDisplayedRightColumns=function(){return this.displayedRightColumns},t.prototype.getDisplayedColumns=function(e){switch(e){case Ue.PINNED_LEFT:return this.getDisplayedLeftColumns();case Ue.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},t.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},t.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},t.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},t.prototype.getAllGridColumns=function(){return this.gridColumns},t.prototype.isEmpty=function(){return et.missingOrEmpty(this.gridColumns)},t.prototype.isRowGroupEmpty=function(){return et.missingOrEmpty(this.rowGroupColumns)},t.prototype.setColumnVisible=function(e,t,o){void 0===o&&(o="api"),this.setColumnsVisible([e],t,o)},t.prototype.setColumnsVisible=function(e,t,o){var n=this;void 0===o&&(o="api"),this.columnAnimationService.start(),this.actionOnGridColumns(e,function(e){return e.isVisible()!==t&&(e.setVisible(t,o),!0)},o,function(){return{type:Ft.EVENT_COLUMN_VISIBLE,visible:t,column:null,columns:null,api:n.gridApi,columnApi:n.columnApi,source:o}}),this.columnAnimationService.finish()},t.prototype.setColumnPinned=function(e,t,o){void 0===o&&(o="api"),e&&this.setColumnsPinned([e],t,o)},t.prototype.setColumnsPinned=function(e,t,o){var n,i=this;void 0===o&&(o="api"),"print"!==this.gridOptionsWrapper.getDomLayout()?(this.columnAnimationService.start(),n=!0===t||t===Ue.PINNED_LEFT?Ue.PINNED_LEFT:t===Ue.PINNED_RIGHT?Ue.PINNED_RIGHT:null,this.actionOnGridColumns(e,function(e){return e.getPinned()!==n&&(e.setPinned(n),!0)},o,function(){return{type:Ft.EVENT_COLUMN_PINNED,pinned:n,column:null,columns:null,api:i.gridApi,columnApi:i.columnApi,source:o}}),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},t.prototype.actionOnGridColumns=function(e,t,o,n){var i=this;if(!et.missingOrEmpty(e)){var r=[];if(e.forEach(function(e){var o=i.getGridColumn(e);o&&!1!==t(o)&&r.push(o)}),r.length&&(this.updateDisplayedColumns(o),et.exists(n)&&n)){var s=n();s.columns=r,s.column=1===r.length?r[0]:null,this.eventService.dispatchEvent(s)}}},t.prototype.getDisplayedColBefore=function(e){var t=this.getAllDisplayedColumns(),o=t.indexOf(e);return o>0?t[o-1]:null},t.prototype.getDisplayedColAfter=function(e){var t=this.getAllDisplayedColumns(),o=t.indexOf(e);return o<t.length-1?t[o+1]:null},t.prototype.getDisplayedGroupAfter=function(e){return this.getDisplayedGroupAtDirection(e,"After")},t.prototype.getDisplayedGroupBefore=function(e){return this.getDisplayedGroupAtDirection(e,"Before")},t.prototype.getDisplayedGroupAtDirection=function(e,t){for(var o=e.getOriginalColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),i="After"===t?et.last(n):n[0],r="getDisplayedCol"+t;;){var s=this[r](i);if(!s)return null;var a=this.getColumnGroupAtLevel(s,o);if(a!==e)return a}},t.prototype.getColumnGroupAtLevel=function(e,t){for(var o=e.getParent();!(o.getOriginalColumnGroup().getLevel()+o.getPaddingLevel()<=t);)o=o.getParent();return o},t.prototype.isPinningLeft=function(){return this.displayedLeftColumns.length>0},t.prototype.isPinningRight=function(){return this.displayedRightColumns.length>0},t.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var e=this.primaryColumns?this.primaryColumns.slice(0):[];return this.groupAutoColumns&&et.exists(this.groupAutoColumns)&&this.groupAutoColumns.forEach(function(t){return e.push(t)}),this.secondaryColumnsPresent&&this.secondaryColumns&&this.secondaryColumns.forEach(function(t){return e.push(t)}),e},t.prototype.createStateItemFromColumn=function(e){var t=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,o=e.isPivotActive()?this.pivotColumns.indexOf(e):null,n=e.isValueActive()?e.getAggFunc():null;return{colId:e.getColId(),hide:!e.isVisible(),aggFunc:n,width:e.getActualWidth(),pivotIndex:o,pinned:e.getPinned(),rowGroupIndex:t,flex:e.getFlex()}},t.prototype.getColumnState=function(){if(et.missing(this.primaryColumns))return[];var e=this.primaryColumns.map(this.createStateItemFromColumn.bind(this)),t=(this.groupAutoColumns?this.groupAutoColumns.map(this.createStateItemFromColumn.bind(this)):[]).concat(e);return this.pivotMode||this.orderColumnStateList(t),t},t.prototype.orderColumnStateList=function(e){var t=this.gridColumns.map(function(e){return e.getColId()});e.sort(function(e,o){return t.indexOf(e.colId)-t.indexOf(o.colId)})},t.prototype.resetColumnState=function(e,t){void 0===e&&(e=!1),void 0===t&&(t="api");var o=this.getColumnsFromTree(this.primaryColumnTree),n=[],i=1e3,r=1e3;o&&o.forEach(function(e){var t=e.getColDef().rowGroupIndex,o=e.getColDef().rowGroup,s=e.getColDef().pivotIndex,a=e.getColDef().pivot,l={colId:e.getColId(),aggFunc:e.getColDef().aggFunc,hide:e.getColDef().hide,pinned:e.getColDef().pinned,rowGroupIndex:t,pivotIndex:e.getColDef().pivotIndex,width:e.getColDef().width};et.missing(t)&&o&&(l.rowGroupIndex=i++),et.missing(s)&&a&&(l.pivotIndex=r++),n.push(l)}),this.setColumnState(n,e,t)},t.prototype.setColumnState=function(e,t,o){var n=this;if(void 0===t&&(t=!1),void 0===o&&(o="api"),et.missingOrEmpty(this.primaryColumns))return!1;var i=this.getColumnState();this.autoGroupsNeedBuilding=!0;var r=this.primaryColumns.slice();this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[];var s=!0,a={},l={},u=[];if(e&&(e.forEach(function(e){if(et.exists(n.getAutoColumn(e.colId)))u.push(e);else{var t=n.getPrimaryColumn(e.colId);t?(n.syncColumnWithStateItem(t,e,a,l,o),et.removeFromArray(r,t)):(console.warn("ag-grid: column "+e.colId+" not found"),s=!1)}}),this.flexActive&&this.refreshFlexedColumns(void 0,void 0,!0)),r.forEach(this.syncColumnWithNoState.bind(this)),this.rowGroupColumns.sort(this.sortColumnListUsingIndexes.bind(this,a)),this.pivotColumns.sort(this.sortColumnListUsingIndexes.bind(this,l)),this.updateGridColumns(),u.forEach(function(e){var t=n.getAutoColumn(e.colId);n.syncColumnWithStateItem(t,e,a,l,o)}),e){var c=e.map(function(e){return e.colId});this.gridColumns.sort(function(e,t){return c.indexOf(e.getId())-c.indexOf(t.getId())})}return this.putFixedColumnsFirst(),this.updateDisplayedColumns(o),t||this.eventService.dispatchEvent({type:Ft.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:o}),this.raiseColumnEvents(i,o),s},t.prototype.raiseColumnEvents=function(e,t){var o=this;if(!this.gridOptionsWrapper.isSuppressSetColumnStateEvents()){var n=this.getColumnState(),i=function(i,r,s){Q(e.map(r).sort(),n.map(r).sort())||o.eventService.dispatchEvent({type:i,columns:s,column:1===s.length?s[0]:null,api:o.gridApi,columnApi:o.columnApi,source:t})},r=function(t){var n=[],i={};return e.forEach(function(e){i[e.colId]=e}),o.gridColumns.forEach(function(e){var o=i[e.getColId()];o&&!t(o,e)||n.push(e)}),n};i(Ft.EVENT_COLUMN_VALUE_CHANGED,function(e){return e.colId+"-"+e.aggFunc},this.valueColumns),i(Ft.EVENT_COLUMN_PIVOT_CHANGED,function(e){return e.colId+"-"+e.pivotIndex},this.pivotColumns),i(Ft.EVENT_COLUMN_ROW_GROUP_CHANGED,function(e){return e.colId+"-"+e.rowGroupIndex},this.rowGroupColumns),this.raiseColumnPinnedEvent(r(function(e,t){return e.pinned!==t.getPinned()}),t);var s=r(function(e,t){return e.hide===t.isVisible()});this.raiseColumnVisibleEvent(s,t),this.raiseColumnResizeEvent(r(function(e,t){return e.width!==t.getActualWidth()}),t),this.raiseColumnMovedEvent(e,t)}},t.prototype.raiseColumnPinnedEvent=function(e,t){e.length&&this.eventService.dispatchEvent({type:Ft.EVENT_COLUMN_PINNED,pinned:null,columns:e,column:null,api:this.gridApi,columnApi:this.columnApi,source:t})},t.prototype.raiseColumnVisibleEvent=function(e,t){e.length&&this.eventService.dispatchEvent({type:Ft.EVENT_COLUMN_VISIBLE,visible:void 0,columns:e,column:null,api:this.gridApi,columnApi:this.columnApi,source:t})},t.prototype.raiseColumnResizeEvent=function(e,t){e.length&&this.eventService.dispatchEvent({type:Ft.EVENT_COLUMN_RESIZED,columns:e,column:null,finished:!0,api:this.gridApi,columnApi:this.columnApi,source:t})},t.prototype.raiseColumnMovedEvent=function(e,t){for(var o=[],n=this.getColumnState(),i=function(t){var i=e[t],s=n[t];if(!i||s.hide)return"continue";if(i.colId!==s.colId){var a=et.find(r.allDisplayedColumns,function(e){return e.getColId()===s.colId});o.push(a)}},r=this,s=0;s<n.length;s++)i(s);o.length&&this.eventService.dispatchEvent({type:Ft.EVENT_COLUMN_MOVED,columns:o,column:null,toIndex:void 0,api:this.gridApi,columnApi:this.columnApi,source:t})},t.prototype.sortColumnListUsingIndexes=function(e,t,o){return e[t.getId()]-e[o.getId()]},t.prototype.syncColumnWithNoState=function(e,t){e.setVisible(!1,t),e.setAggFunc(null),e.setPinned(null),e.setRowGroupActive(!1,t),e.setPivotActive(!1,t),e.setValueActive(!1,t)},t.prototype.syncColumnWithStateItem=function(e,t,o,n,i){if(e){e.setVisible(!t.hide,i),e.setPinned(t.pinned);var r=this.gridOptionsWrapper.getMinColWidth();null!=t.flex&&(e.setFlex(t.flex),!this.flexActive&&t.flex&&(this.flexActive=!0)),t.width&&r&&t.width>=r&&e.setActualWidth(t.width,i),"string"==typeof t.aggFunc?(e.setAggFunc(t.aggFunc),e.setValueActive(!0,i),this.valueColumns.push(e)):(et.exists(t.aggFunc)&&console.warn("ag-Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.setAggFunc(null),e.setValueActive(!1,i)),"number"==typeof t.rowGroupIndex?(this.rowGroupColumns.push(e),e.setRowGroupActive(!0,i),o[e.getId()]=t.rowGroupIndex):e.setRowGroupActive(!1,i),"number"==typeof t.pivotIndex?(this.pivotColumns.push(e),e.setPivotActive(!0,i),n[e.getId()]=t.pivotIndex):e.setPivotActive(!1,i)}},t.prototype.getGridColumns=function(e){return this.getColumns(e,this.getGridColumn.bind(this))},t.prototype.getColumns=function(e,t){var o=[];return e&&e.forEach(function(e){var n=t(e);n&&o.push(n)}),o},t.prototype.getColumnWithValidation=function(e){if(null==e)return null;var t=this.getGridColumn(e);return t||console.warn("ag-Grid: could not find column "+e),t},t.prototype.getPrimaryColumn=function(e){return this.getColumn(e,this.primaryColumns)},t.prototype.getGridColumn=function(e){return this.getColumn(e,this.gridColumns)},t.prototype.getColumn=function(e,t){if(!e)return null;for(var o=0;o<t.length;o++)if(this.columnsMatch(t[o],e))return t[o];return this.getAutoColumn(e)},t.prototype.getAutoColumn=function(e){var t=this;return this.groupAutoColumns&&et.exists(this.groupAutoColumns)&&!et.missing(this.groupAutoColumns)?et.find(this.groupAutoColumns,function(o){return t.columnsMatch(o,e)}):null},t.prototype.columnsMatch=function(e,t){var o=e===t,n=e.getColDef()===t,i=e.getColId()==t;return o||n||i},t.prototype.getDisplayNameForColumn=function(e,t,o){if(void 0===o&&(o=!1),!e)return null;var n=this.getHeaderName(e.getColDef(),e,null,null,t);return o?this.wrapHeaderNameWithAggFunc(e,n):n},t.prototype.getDisplayNameForOriginalColumnGroup=function(e,t,o){var n=t?t.getColGroupDef():null;return n?this.getHeaderName(n,null,e,t,o):null},t.prototype.getDisplayNameForColumnGroup=function(e,t){return this.getDisplayNameForOriginalColumnGroup(e,e.getOriginalColumnGroup(),t)},t.prototype.getHeaderName=function(e,t,o,n,i){var r=e.headerValueGetter;if(r){var s={colDef:e,column:t,columnGroup:o,originalColumnGroup:n,location:i,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof r?r(s):"string"==typeof r?this.expressionService.evaluate(r,s):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?et.camelCaseToHumanText(e.field):""},t.prototype.wrapHeaderNameWithAggFunc=function(e,t){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return t;var o,n=e.getColDef().pivotValueColumn,i=null;if(et.exists(n))i=n?n.getAggFunc():null,o=!0;else{var r=e.isValueActive(),s=this.pivotMode||!this.isRowGroupEmpty();r&&s?(i=e.getAggFunc(),o=!0):o=!1}if(o){var a="string"==typeof i?i:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(a,a)+"("+t+")"}return t},t.prototype.getColumnGroup=function(e,t){if(!e)return null;if(e instanceof Rt)return e;var o=this.getAllDisplayedColumnGroups(),n="number"==typeof t,i=null;return this.columnUtils.depthFirstAllColumnTreeSearch(o,function(o){if(o instanceof Rt){var r=o;(n?e===r.getGroupId()&&t===r.getInstanceId():e===r.getGroupId())&&(i=r)}}),i},t.prototype.isReady=function(){return this.ready},t.prototype.createValueColumns=function(e,t){this.valueColumns=this.extractColumns(t,this.valueColumns,function(t,o){return t.setValueActive(o,e)},function(){return null},function(e){return!!e.aggFunc}),this.valueColumns.forEach(function(e){e.getAggFunc()||e.setAggFunc(e.getColDef().aggFunc)})},t.prototype.extractRowGroupColumns=function(e,t){this.rowGroupColumns=this.extractColumns(t,this.rowGroupColumns,function(t,o){return t.setRowGroupActive(o,e)},function(e){return e.rowGroupIndex},function(e){return e.rowGroup})},t.prototype.extractColumns=function(e,t,o,n,i){var r=this;t||(t=[]);var s=t.filter(function(e){return r.primaryColumns.indexOf(e)<0}),a=t.filter(function(e){return r.primaryColumns.indexOf(e)>=0}),l=this.primaryColumns.filter(function(t){return!e||e.indexOf(t)<0});s.forEach(function(e){return o(e,!1)});var u=[];return l.forEach(function(e){"number"==typeof n(e.getColDef())&&u.push(e)}),u.sort(function(e,t){var o=n(e.getColDef()),i=n(t.getColDef());return o===i?0:o<i?-1:1}),l.forEach(function(e){if(i(e.getColDef())){if(u.indexOf(e)>=0)return;u.push(e)}}),u.forEach(function(e){return o(e,!0)}),a.concat(u)},t.prototype.extractPivotColumns=function(e,t){this.pivotColumns=this.extractColumns(t,this.pivotColumns,function(t,o){return t.setPivotActive(o,e)},function(e){return e.pivotIndex},function(e){return e.pivot})},t.prototype.resetColumnGroupState=function(e){void 0===e&&(e="api");var t=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(e){if(e instanceof _t){var o={groupId:e.getGroupId(),open:e.getColGroupDef().openByDefault};t.push(o)}}),this.setColumnGroupState(t,e)},t.prototype.getColumnGroupState=function(){var e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(t){if(t instanceof _t){var o=t;e.push({groupId:o.getGroupId(),open:o.isExpanded()})}}),e},t.prototype.setColumnGroupState=function(e,t){var o=this;void 0===t&&(t="api"),this.columnAnimationService.start();var n=[];e.forEach(function(e){var t=e.open,i=o.getOriginalColumnGroup(e.groupId);i&&i.isExpanded()!==t&&(o.logger.log("columnGroupOpened("+i.getGroupId()+","+t+")"),i.setExpanded(t),n.push(i))}),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t),n.forEach(function(e){o.eventService.dispatchEvent({type:Ft.EVENT_COLUMN_GROUP_OPENED,columnGroup:e,api:o.gridApi,columnApi:o.columnApi})}),this.columnAnimationService.finish()},t.prototype.setColumnGroupOpened=function(e,t,o){var n;void 0===o&&(o="api"),n=e instanceof _t?e.getId():e,this.setColumnGroupState([{groupId:n,open:t}],o)},t.prototype.getOriginalColumnGroup=function(e){if(e instanceof _t)return e;"string"!=typeof e&&console.error("ag-Grid: group key must be a string");var t=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(o){if(o instanceof _t){var n=o;n.getId()===e&&(t=n)}}),t},t.prototype.calculateColumnsForDisplay=function(){var e=this;return this.gridColumns.filter(this.pivotMode&&!this.secondaryColumnsPresent?function(t){var o=e.groupAutoColumns&&et.includes(e.groupAutoColumns,t),n=e.valueColumns&&et.includes(e.valueColumns,t);return o||n}:function(t){return e.groupAutoColumns&&et.includes(e.groupAutoColumns,t)||t.isVisible()})},t.prototype.checkColSpanActiveInCols=function(e){var t=!1;return e.forEach(function(e){et.exists(e.getColDef().colSpan)&&(t=!0)}),t},t.prototype.calculateColumnsForGroupDisplay=function(){var e=this;this.groupDisplayColumns=[];var t=function(t){var o=t.getColDef();o&&et.exists(o.showRowGroup)&&e.groupDisplayColumns.push(t)};this.gridColumns.forEach(t),this.groupAutoColumns&&this.groupAutoColumns.forEach(t)},t.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},t.prototype.updateDisplayedColumns=function(e){var t=this.calculateColumnsForDisplay();this.buildDisplayedTrees(t),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)},t.prototype.isSecondaryColumnsPresent=function(){return this.secondaryColumnsPresent},t.prototype.setSecondaryColumns=function(e,t){void 0===t&&(t="api");var o=e&&e.length>0;if(o||this.secondaryColumnsPresent){if(o){this.processSecondaryColumnDefinitions(e);var n=this.columnFactory.createColumnTree(e,!1);this.secondaryBalancedTree=n.columnTree,this.secondaryHeaderRowCount=n.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsPresent=!0}else this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsPresent=!1;this.updateGridColumns(),this.updateDisplayedColumns(t)}},t.prototype.processSecondaryColumnDefinitions=function(e){var t=this.gridOptionsWrapper.getProcessSecondaryColDefFunc(),o=this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();if(t||o){var n=function(e){e.forEach(function(e){if(et.exists(e.children)){var i=e;o&&o(i),n(i.children)}else t&&t(e)})};e&&n(e)}},t.prototype.updateGridColumns=function(){this.gridColsArePrimary&&(this.lastPrimaryOrder=this.gridColumns),this.secondaryColumns&&this.secondaryBalancedTree?(this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1):(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLikeLastPrimary()),this.addAutoGroupToGridColumns(),this.autoRowHeightColumns=this.gridColumns.filter(function(e){return e.getColDef().autoHeight}),this.putFixedColumnsFirst(),this.setupQuickFilterColumns(),this.clearDisplayedColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.eventService.dispatchEvent({type:Ft.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.orderGridColsLikeLastPrimary=function(){var e=this;if(!et.missing(this.lastPrimaryOrder)){var t=!0;if(this.gridColumns.forEach(function(o){e.lastPrimaryOrder.indexOf(o)>=0&&(t=!1)}),!t){var o=this.lastPrimaryOrder.filter(function(t){return e.gridColumns.indexOf(t)>=0}),n=this.gridColumns.filter(function(e){return o.indexOf(e)<0}),i=o.slice();n.forEach(function(e){var t=e.getOriginalParent();if(t){for(var o=[];!o.length&&t;)t.getLeafColumns().forEach(function(e){var t=i.indexOf(e)>=0,n=o.indexOf(e)<0;t&&n&&o.push(e)}),t=t.getOriginalParent();if(o.length){var n=o.map(function(e){return i.indexOf(e)}),r=Math.max.apply(Math,n);et.insertIntoArray(i,e,r+1)}else i.push(e)}else i.push(e)}),this.gridColumns=i}}},t.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},t.prototype.setupQuickFilterColumns=function(){this.columnsForQuickFilter=this.groupAutoColumns?this.primaryColumns.concat(this.groupAutoColumns):this.primaryColumns},t.prototype.putFixedColumnsFirst=function(){var e=this.gridColumns.filter(function(e){return e.getColDef().lockPosition}),t=this.gridColumns.filter(function(e){return!e.getColDef().lockPosition});this.gridColumns=e.concat(t)},t.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!et.missing(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=e.concat(this.gridBalancedTree)}},t.prototype.clearDisplayedColumns=function(){this.displayedLeftColumnTree=[],this.displayedRightColumnTree=[],this.displayedCentreColumnTree=[],this.displayedLeftHeaderRows={},this.displayedRightHeaderRows={},this.displayedCentreHeaderRows={},this.displayedLeftColumns=[],this.displayedRightColumns=[],this.displayedCenterColumns=[],this.allDisplayedColumns=[],this.allDisplayedVirtualColumns=[]},t.prototype.updateGroupsAndDisplayedColumns=function(e){this.updateOpenClosedVisibilityInColumnGroups(),this.updateDisplayedColumnsFromTrees(e),this.updateVirtualSets(),this.refreshFlexedColumns(void 0,void 0,!0),this.updateBodyWidths(),this.eventService.dispatchEvent({type:Ft.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.updateDisplayedColumnsFromTrees=function(e){this.addToDisplayedColumns(this.displayedLeftColumnTree,this.displayedLeftColumns),this.addToDisplayedColumns(this.displayedCentreColumnTree,this.displayedCenterColumns),this.addToDisplayedColumns(this.displayedRightColumnTree,this.displayedRightColumns),this.setupAllDisplayedColumns(),this.setLeftValues(e)},t.prototype.setupAllDisplayedColumns=function(){this.allDisplayedColumns=this.gridOptionsWrapper.isEnableRtl()?this.displayedRightColumns.concat(this.displayedCenterColumns).concat(this.displayedLeftColumns):this.displayedLeftColumns.concat(this.displayedCenterColumns).concat(this.displayedRightColumns)},t.prototype.setLeftValues=function(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()},t.prototype.setLeftValuesOfColumns=function(e){var t=this,o=this.primaryColumns.slice(0),n=this.gridOptionsWrapper.isEnableRtl();[this.displayedLeftColumns,this.displayedRightColumns,this.displayedCenterColumns].forEach(function(i){if(n){var r=t.getWidthOfColsInList(i);i.forEach(function(t){r-=t.getActualWidth(),t.setLeft(r,e)})}else{var s=0;i.forEach(function(t){t.setLeft(s,e),s+=t.getActualWidth()})}et.removeAllFromArray(o,i)}),o.forEach(function(t){t.setLeft(null,e)})},t.prototype.setLeftValuesOfGroups=function(){[this.displayedLeftColumnTree,this.displayedRightColumnTree,this.displayedCentreColumnTree].forEach(function(e){e.forEach(function(e){e instanceof Rt&&e.checkLeft()})})},t.prototype.addToDisplayedColumns=function(e,t){t.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,function(e){e instanceof Et&&t.push(e)})},t.prototype.updateDisplayedCenterVirtualColumns=function(){this.allDisplayedCenterVirtualColumns=this.suppressColumnVirtualisation?this.displayedCenterColumns:this.filterOutColumnsWithinViewport(),this.allDisplayedVirtualColumns=this.allDisplayedCenterVirtualColumns.concat(this.displayedLeftColumns).concat(this.displayedRightColumns);var e={};return this.allDisplayedVirtualColumns.forEach(function(t){e[t.getId()]=!0}),e},t.prototype.getVirtualHeaderGroupRow=function(e,t){var o;switch(e){case Ue.PINNED_LEFT:o=this.displayedLeftHeaderRows[t];break;case Ue.PINNED_RIGHT:o=this.displayedRightHeaderRows[t];break;default:o=this.displayedCentreHeaderRows[t]}return et.missing(o)&&(o=[]),o},t.prototype.updateDisplayedVirtualGroups=function(e){this.displayedLeftHeaderRows={},this.displayedRightHeaderRows={},this.displayedCentreHeaderRows={};var t=function(o,n,i){for(var r=!1,s=0;s<o.length;s++){var a=o[s];(a instanceof Et?!0===e[a.getId()]:t(a.getDisplayedChildren(),n,i+1))&&(r=!0,n[i]||(n[i]=[]),n[i].push(a))}return r};t(this.displayedLeftColumnTree,this.displayedLeftHeaderRows,0),t(this.displayedRightColumnTree,this.displayedRightHeaderRows,0),t(this.displayedCentreColumnTree,this.displayedCentreHeaderRows,0)},t.prototype.updateVirtualSets=function(){var e=this.updateDisplayedCenterVirtualColumns();this.updateDisplayedVirtualGroups(e)},t.prototype.filterOutColumnsWithinViewport=function(){return this.displayedCenterColumns.filter(this.isColumnInViewport.bind(this))},t.prototype.refreshFlexedColumns=function(e,t,o){if(void 0===t&&(t="flex"),this.flexActive&&(this.flexViewportWidth=e||this.flexViewportWidth,this.flexViewportWidth)){var n=this.displayedCenterColumns.filter(function(e){return!e.getFlex()}),i=this.displayedCenterColumns.filter(function(e){return e.getFlex()});if(i.length){var r,s=[];e:for(;;){var a=i.reduce(function(e,t){return e+t.getFlex()},0);r=this.flexViewportWidth-this.getWidthOfColsInList(n);for(var l=0;l<i.length;l++){var u=i[l],c=r*u.getFlex()/a,p=void 0;if(c<u.getMinWidth()?p=u.getMinWidth():null!=u.getMaxWidth()&&c>u.getMaxWidth()&&(p=u.getMaxWidth()),p){u.setActualWidth(p,t),et.removeFromArray(i,u),n.push(u);continue e}s[l]=Math.round(c)}break}var d=r;i.forEach(function(e,o){e.setActualWidth(Math.min(s[o],d),t),d-=s[o]}),this.setLeftValues(t),o||(this.updateBodyWidths(),this.fireResizedEventForColumns(i,t))}else this.flexActive=!1}},t.prototype.sizeColumnsToFit=function(e,t,o){void 0===t&&(t="sizeColumnsToFit");var n=this.getAllDisplayedColumns();if(!(e<=0)&&n.length){var i=[],r=[];n.forEach(function(e){!0===e.getColDef().suppressSizeToFit?r.push(e):i.push(e)});var s=i.slice(0),a=!1,l=function(e){et.removeFromArray(i,e),r.push(e)};for(i.forEach(function(e){return e.resetActualWidth()});!a;){a=!0;var u=e-this.getWidthOfColsInList(r);if(u<=0)i.forEach(function(e){e.setMinimum(t)});else for(var c=u/this.getWidthOfColsInList(i),p=u,d=i.length-1;d>=0;d--){var h=i[d],f=Math.round(h.getActualWidth()*c);f<h.getMinWidth()?(h.setMinimum(t),l(h),a=!1):h.isGreaterThanMax(f)?(h.setActualWidth(h.getMaxWidth(),t),l(h),a=!1):h.setActualWidth(0===d?p:f,t),p-=f}}this.setLeftValues(t),this.updateBodyWidths(),o||this.fireResizedEventForColumns(s,t)}},t.prototype.fireResizedEventForColumns=function(e,t){var o=this;e.forEach(function(e){o.eventService.dispatchEvent({type:Ft.EVENT_COLUMN_RESIZED,column:e,columns:[e],finished:!0,api:o.gridApi,columnApi:o.columnApi,source:t})})},t.prototype.buildDisplayedTrees=function(e){var t=[],o=[],n=[];e.forEach(function(e){switch(e.getPinned()){case"left":t.push(e);break;case"right":o.push(e);break;default:n.push(e)}});var i=new Nt;this.displayedLeftColumnTree=this.displayedGroupCreator.createDisplayedGroups(t,this.gridBalancedTree,i,Ue.PINNED_LEFT,this.displayedLeftColumnTree),this.displayedRightColumnTree=this.displayedGroupCreator.createDisplayedGroups(o,this.gridBalancedTree,i,Ue.PINNED_RIGHT,this.displayedRightColumnTree),this.displayedCentreColumnTree=this.displayedGroupCreator.createDisplayedGroups(n,this.gridBalancedTree,i,null,this.displayedCentreColumnTree)},t.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var e=this.getAllDisplayedColumnGroups();this.columnUtils.depthFirstAllColumnTreeSearch(e,function(e){e instanceof Rt&&e.calculateDisplayedColumns()})},t.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},t.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var e=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),t=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn(),o=this.gridOptionsWrapper.isGroupSuppressRow();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||t||e||o)this.groupAutoColumns=null;else{var n=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);(!this.autoColsEqual(n,this.groupAutoColumns)||this.forceRecreateAutoGroups)&&(this.groupAutoColumns=n)}}},t.prototype.autoColsEqual=function(e,t){return Q(e,t,function(e,t){return e.getColId()===t.getColId()})},t.prototype.getWidthOfColsInList=function(e){return e.reduce(function(e,t){return e+t.getActualWidth()},0)},t.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},t.prototype.hasFloatingFilters=function(){var e=this.gridOptionsWrapper.getDefaultColDef();return null!=e&&!0===e.floatingFilter||null!=this.columnDefs&&this.columnDefs.some(function(e){return!0===e.floatingFilter})},t.prototype.getFirstDisplayedColumn=function(){var e=this.gridOptionsWrapper.isEnableRtl(),t=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&t.reverse();for(var o=0;o<t.length;o++){var n=this[t[o]]();if(n.length)return e?et.last(n):n[0]}return null},It([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),It([ct("expressionService")],t.prototype,"expressionService",void 0),It([ct("columnFactory")],t.prototype,"columnFactory",void 0),It([ct("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),It([ct("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),It([ct("columnUtils")],t.prototype,"columnUtils",void 0),It([ct("columnAnimationService")],t.prototype,"columnAnimationService",void 0),It([ct("autoGroupColService")],t.prototype,"autoGroupColService",void 0),It([pt("aggFuncService")],t.prototype,"aggFuncService",void 0),It([pt("valueCache")],t.prototype,"valueCache",void 0),It([pt("animationFrameService")],t.prototype,"animationFrameService",void 0),It([ct("columnApi")],t.prototype,"columnApi",void 0),It([ct("gridApi")],t.prototype,"gridApi",void 0),It([at],t.prototype,"init",null),It([(0,o=ht("loggerFactory"),function(e,t){o(e,t,0)})],t.prototype,"setBeans",null),It([ut("columnController")],t);var o}(Dt),Lt=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Gt=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},kt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lt(t,e),t.prototype.calculateColInitialWidth=function(e){var t=this.gridOptionsWrapper,o=null!=e.minWidth?e.minWidth:t.getMinColWidth(),n=null!=e.maxWidth?e.maxWidth:t.getMaxColWidth()||et.getMaxSafeInteger(),i=null!=e.width?e.width:t.getColWidth();return Math.max(Math.min(i,n),o)},t.prototype.getOriginalPathForColumn=function(e,t){var o=[],n=!1,i=function(t,r){for(var s=0;s<t.length;s++){if(n)return;var a=t[s];a instanceof _t?(i(a.getChildren(),r+1),o[r]=a):a===e&&(n=!0)}};return i(t,0),n?o:null},t.prototype.depthFirstOriginalTreeSearch=function(e,t,o){var n=this;t&&t.forEach(function(t){t instanceof _t&&n.depthFirstOriginalTreeSearch(t,t.getChildren(),o),o(t,e)})},t.prototype.depthFirstAllColumnTreeSearch=function(e,t){var o=this;e&&e.forEach(function(e){e instanceof Rt&&o.depthFirstAllColumnTreeSearch(e.getChildren(),t),t(e)})},t.prototype.depthFirstDisplayedColumnTreeSearch=function(e,t){var o=this;e&&e.forEach(function(e){e instanceof Rt&&o.depthFirstDisplayedColumnTreeSearch(e.getDisplayedChildren(),t),t(e)})},Gt([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Gt([ut("columnUtils")],t)}(Dt),Vt=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ht=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Wt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vt(t,e),t.prototype.createDisplayedGroups=function(e,t,o,n,i){var r,s,a=this,l=[],u=this.mapOldGroupsById(i);return e.forEach(function(e){for(var i=a.getOriginalPathForColumn(t,e),c=[],p=!s,d=0;d<i.length;d++)if(p||i[d]!==s[d]){var h=a.createColumnGroup(i[d],o,u,n);c[d]=h,0==d?l.push(h):c[d-1].addChild(h)}else c[d]=r[d];0===c.length?l.push(e):et.last(c).addChild(e),r=c,s=i}),this.setupParentsIntoColumns(l,null),l},t.prototype.createColumnGroup=function(e,t,o,n){var i=e.getGroupId(),r=t.getInstanceIdForKey(i),s=o[Rt.createUniqueId(i,r)];return s&&s.getOriginalColumnGroup()!==e&&(s=null),et.exists(s)?s.reset():(s=new Rt(e,i,r,n),this.context.createBean(s)),s},t.prototype.mapOldGroupsById=function(e){var t={},o=function(e){e.forEach(function(e){if(e instanceof Rt){var n=e;t[e.getUniqueId()]=n,o(n.getChildren())}})};return e&&o(e),t},t.prototype.setupParentsIntoColumns=function(e,t){var o=this;e.forEach(function(e){if(e.setParent(t),e instanceof Rt){var n=e;o.setupParentsIntoColumns(n.getChildren(),n)}})},t.prototype.getOriginalPathForColumn=function(e,t){var o=[],n=!1,i=function(e,r){for(var s=0;s<e.length;s++){if(n)return;var a=e[s];a instanceof _t?(i(a.getChildren(),r+1),o[r]=a):a===t&&(n=!0)}};return i(e,0),n?o:(console.warn("could not get path"),null)},Ht([ct("columnUtils")],t.prototype,"columnUtils",void 0),Ht([ut("displayedGroupCreator")],t)}(Dt),Bt=function(){function e(){}return e.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDeliminator","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow"],e.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","groupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","columnTypes","rowClassRules","detailGridOptions","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","reduxStore","statusBar","sideBar"],e.ARRAY_PROPERTIES=["slaveGrids","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData"],e.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","paginationStartPage","infiniteBlockSize","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay"],e.BOOLEAN_PROPERTIES=["toolPanelSuppressRowGroups","toolPanelSuppressValues","toolPanelSuppressPivots","toolPanelSuppressPivotMode","toolPanelSuppressSideButtons","toolPanelSuppressColumnFilter","toolPanelSuppressColumnSelectAll","toolPanelSuppressColumnExpandAll","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableColResize","enableCellExpressions","enableSorting","enableServerSideSorting","enableFilter","enableServerSideFilter","angularCompileRows","angularCompileFilters","angularCompileHeaders","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressRow","groupSuppressBlankHeader","forPrint","suppressMenuHide","rowDeselection","unSortIcon","suppressMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","showToolPanel","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","suppressMenuFilterPanel","suppressMenuMainPanel","suppressMenuColumnPanel","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressUseColIdForGroups","suppressCopyRowsToClipboard","copyHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","enableMultiRowDragging","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressTabbing","suppressPaginationPanel","floatingFilter","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","pivotTotals","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","contractColumnSelection","suppressEnterpriseResetOnNewColumns","enableOldSetFilterModel","suppressRowHoverHighlight","gridAutoHeight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","serverSideSortingAlwaysResets","reactNext","suppressSetColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn"],e.ALL_PROPERTIES=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,i++)n[i]=r[s];return n}(e.ARRAY_PROPERTIES,e.OBJECT_PROPERTIES,e.STRING_PROPERTIES,e.NUMBER_PROPERTIES,e.FUNCTION_PROPERTIES=["localeTextFunc","groupRowInnerRenderer","groupRowInnerRendererFramework","dateComponent","dateComponentFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getRowClassRules","traverseNode","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getNodeChildDetails","groupRowAggNodes","getRowNodeId","isFullWidthCell","fullWidthCellRenderer","fullWidthCellRendererFramework","doesDataFlower","processSecondaryColDef","processSecondaryColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextCell","tabToNextCell","getDetailRowData","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","defaultGroupSortComparator","isRowMaster","isRowSelectable","postSort","processHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","processChartOptions","getChartToolbarItems","fillOperation"],e.BOOLEAN_PROPERTIES),e.FRAMEWORK_PROPERTIES=["__ob__","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],e}(),jt=function(){function e(){}return e.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","template","templateUrl","filter","aggFunc","cellRenderer","cellEditor","pinned","chartDataType"],e.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRendererParams","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData"],e.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],e.NUMBER_PROPERTIES=["sortedAt","flex","width","minWidth","maxWidth","rowGroupIndex","pivotIndex"],e.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","rowGroup","pivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressSorting","suppressMovable","suppressFilter","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressResize","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","sortable","resizable","singleClickEdit","floatingFilter"],e.ALL_PROPERTIES=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,i++)n[i]=r[s];return n}(e.ARRAY_PROPERTIES,e.OBJECT_PROPERTIES,e.STRING_PROPERTIES,e.NUMBER_PROPERTIES,e.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","cellRenderer","cellRendererFramework","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltip","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],e.BOOLEAN_PROPERTIES),e.FRAMEWORK_PROPERTIES=["__ob__","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],e}(),Ut=function(){function e(){}return e.parse=function(t){if(!t)return null;if(!0===t)return{toolPanels:[e.DEFAULT_COLUMN_COMP,e.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof t)return e.parse([t]);if(Array.isArray(t)){var o=[];return t.forEach(function(t){var n=e.DEFAULT_BY_KEY[t];n?o.push(n):console.warn("ag-grid: the key "+t+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(e.DEFAULT_BY_KEY).join(","))}),0===o.length?null:{toolPanels:o,defaultToolPanel:o[0].id}}return{toolPanels:e.parseComponents(t.toolPanels),defaultToolPanel:t.defaultToolPanel,hiddenByDefault:t.hiddenByDefault,position:t.position}},e.parseComponents=function(t){var o=[];return t.forEach(function(t){var n=null;if("string"==typeof t){var i=e.DEFAULT_BY_KEY[t];if(!i)return void console.warn("ag-grid: the key "+t+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(e.DEFAULT_BY_KEY).join(","));n=i}else n=t;o.push(n)}),o},e.DEFAULT_BY_KEY={columns:e.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},filters:e.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}},e}(),zt=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Kt=function(e,t){return function(o,n){t(o,n,e)}},Yt=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,i++)n[i]=r[s];return n};function qt(e){return!0===e||"true"===e}var $t=function(){function e(){this.propertyEventService=new vt,this.domDataKey="__AG_"+Math.random().toString(),this.layoutElements=[]}var o;return o=e,e.prototype.agWire=function(e,t){this.gridOptions.api=e,this.gridOptions.columnApi=t,this.checkForDeprecated(),this.checkForViolations()},e.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.removeEventListener(o.PROP_DOM_LAYOUT,this.updateLayoutClassesListener)},e.prototype.init=function(){var e=this;!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties());var n=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),n),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("ag-Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("ag-Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("ag-Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("ag-Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!"),this.isRowModelServerSide()){var i=function(e){return"ag-Grid: '"+e+"' is not supported on the Server-Side Row Model"};et.exists(this.gridOptions.groupDefaultExpanded)&&console.warn(i("groupDefaultExpanded")),et.exists(this.gridOptions.groupDefaultExpanded)&&console.warn(i("groupIncludeFooter")),et.exists(this.gridOptions.groupDefaultExpanded)&&console.warn(i("groupIncludeTotalFooter"))}this.isEnableRangeSelection()&&bt.assertRegistered(t.ModuleNames.RangeSelectionModule,"enableRangeSelection"),this.isEnableRangeSelection()||!this.isEnableRangeHandle()&&!this.isEnableFillHandle()||console.warn("ag-Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var r=function(t){e.gridOptions.icons&&e.gridOptions.icons[t]&&console.warn("gridOptions.icons."+t+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};r("radioButtonOff"),r("radioButtonOn"),r("checkboxChecked"),r("checkboxUnchecked"),r("checkboxIndeterminate"),this.updateLayoutClassesListener=this.updateLayoutClasses.bind(this),this.addEventListener(o.PROP_DOM_LAYOUT,this.updateLayoutClassesListener)},e.prototype.checkColumnDefProperties=function(){var e=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(function(t){var o=Object.getOwnPropertyNames(t),n=Yt(jt.ALL_PROPERTIES,jt.FRAMEWORK_PROPERTIES);e.checkProperties(o,n,n,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")})},e.prototype.checkGridOptionsProperties=function(){var e=Object.getOwnPropertyNames(this.gridOptions),t=Yt(Bt.ALL_PROPERTIES,Bt.FRAMEWORK_PROPERTIES,et.values(Ft).map(function(e){return Xt.getCallbackForEvent(e)})),o=Yt(t,["api","columnApi"]);this.checkProperties(e,o,t,"gridOptions","https://www.ag-grid.com/javascript-grid-properties/")},e.prototype.checkProperties=function(e,t,o,n,i){var r=et.fuzzyCheckStrings(e,t,o);et.iterateObject(r,function(e,t){console.warn("ag-grid: invalid "+n+" property '"+e+"' did you mean any of these: "+t.slice(0,8).join(", "))}),Object.keys(r).length>0&&console.warn("ag-grid: to see all the valid "+n+" properties please check: "+i)},e.prototype.getDomData=function(e,t){var o=e[this.domDataKey];return o?o[t]:void 0},e.prototype.setDomData=function(e,t,o){var n=e[this.domDataKey];et.missing(n)&&(e[this.domDataKey]=n={}),n[t]=o},e.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},e.prototype.isRowDeselection=function(){return qt(this.gridOptions.rowDeselection)},e.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},e.prototype.isRowMultiSelectWithClick=function(){return qt(this.gridOptions.rowMultiSelectWithClick)},e.prototype.getContext=function(){return this.gridOptions.context},e.prototype.isPivotMode=function(){return qt(this.gridOptions.pivotMode)},e.prototype.isPivotTotals=function(){return qt(this.gridOptions.pivotTotals)},e.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},e.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},e.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===Ue.ROW_MODEL_TYPE_INFINITE},e.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===Ue.ROW_MODEL_TYPE_VIEWPORT},e.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===Ue.ROW_MODEL_TYPE_SERVER_SIDE},e.prototype.isRowModelDefault=function(){return et.missing(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===Ue.ROW_MODEL_TYPE_CLIENT_SIDE||this.gridOptions.rowModelType===Ue.DEPRECATED_ROW_MODEL_TYPE_NORMAL},e.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},e.prototype.isSuppressFocusAfterRefresh=function(){return qt(this.gridOptions.suppressFocusAfterRefresh)},e.prototype.isSuppressBrowserResizeObserver=function(){return qt(this.gridOptions.suppressBrowserResizeObserver)},e.prototype.isSuppressMaintainUnsortedOrder=function(){return qt(this.gridOptions.suppressMaintainUnsortedOrder)},e.prototype.isSuppressClearOnFillReduction=function(){return qt(this.gridOptions.suppressClearOnFillReduction)},e.prototype.isShowToolPanel=function(){return qt(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},e.prototype.getSideBar=function(){return this.gridOptions.sideBar},e.prototype.isSuppressTouch=function(){return qt(this.gridOptions.suppressTouch)},e.prototype.isSuppressRowTransform=function(){return qt(this.gridOptions.suppressRowTransform)},e.prototype.isSuppressSetColumnStateEvents=function(){return qt(this.gridOptions.suppressSetColumnStateEvents)},e.prototype.isAllowDragFromColumnsToolPanel=function(){return qt(this.gridOptions.allowDragFromColumnsToolPanel)},e.prototype.useAsyncEvents=function(){return!qt(this.gridOptions.suppressAsyncEvents)},e.prototype.isEnableCellChangeFlash=function(){return qt(this.gridOptions.enableCellChangeFlash)},e.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},e.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},e.prototype.isGroupSelectsChildren=function(){var e=qt(this.gridOptions.groupSelectsChildren);return e&&this.isTreeData()?(console.warn("ag-Grid: groupSelectsChildren does not work with tree data"),!1):e},e.prototype.isSuppressRowHoverHighlight=function(){return qt(this.gridOptions.suppressRowHoverHighlight)},e.prototype.isGroupSelectsFiltered=function(){return qt(this.gridOptions.groupSelectsFiltered)},e.prototype.isGroupHideOpenParents=function(){return qt(this.gridOptions.groupHideOpenParents)},e.prototype.isGroupMultiAutoColumn=function(){return qt(this.gridOptions.groupMultiAutoColumn)||qt(this.gridOptions.groupHideOpenParents)},e.prototype.isGroupRemoveSingleChildren=function(){return qt(this.gridOptions.groupRemoveSingleChildren)},e.prototype.isGroupRemoveLowestSingleChildren=function(){return qt(this.gridOptions.groupRemoveLowestSingleChildren)},e.prototype.isGroupIncludeFooter=function(){return qt(this.gridOptions.groupIncludeFooter)},e.prototype.isGroupIncludeTotalFooter=function(){return qt(this.gridOptions.groupIncludeTotalFooter)},e.prototype.isGroupSuppressBlankHeader=function(){return qt(this.gridOptions.groupSuppressBlankHeader)},e.prototype.isSuppressRowClickSelection=function(){return qt(this.gridOptions.suppressRowClickSelection)},e.prototype.isSuppressCellSelection=function(){return qt(this.gridOptions.suppressCellSelection)},e.prototype.isSuppressMultiSort=function(){return qt(this.gridOptions.suppressMultiSort)},e.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},e.prototype.isGroupSuppressAutoColumn=function(){return qt(this.gridOptions.groupSuppressAutoColumn)},e.prototype.isPivotSuppressAutoColumn=function(){return qt(this.gridOptions.pivotSuppressAutoColumn)},e.prototype.isSuppressDragLeaveHidesColumns=function(){return qt(this.gridOptions.suppressDragLeaveHidesColumns)},e.prototype.isSuppressScrollOnNewData=function(){return qt(this.gridOptions.suppressScrollOnNewData)},e.prototype.isRowDragManaged=function(){return qt(this.gridOptions.rowDragManaged)},e.prototype.isSuppressRowDrag=function(){return qt(this.gridOptions.suppressRowDrag)},e.prototype.isSuppressMoveWhenRowDragging=function(){return qt(this.gridOptions.suppressMoveWhenRowDragging)},e.prototype.isEnableMultiRowDragging=function(){return qt(this.gridOptions.enableMultiRowDragging)},e.prototype.getDomLayout=function(){var e=this.gridOptions.domLayout||Ue.DOM_LAYOUT_NORMAL;return-1===[Ue.DOM_LAYOUT_PRINT,Ue.DOM_LAYOUT_AUTO_HEIGHT,Ue.DOM_LAYOUT_NORMAL].indexOf(e)?(et.doOnce(function(){return console.warn("ag-Grid: "+e+" is not valid for DOM Layout, valid values are "+Ue.DOM_LAYOUT_NORMAL+", "+Ue.DOM_LAYOUT_AUTO_HEIGHT+" and "+Ue.DOM_LAYOUT_PRINT)},"warn about dom layout values"),Ue.DOM_LAYOUT_NORMAL):e},e.prototype.isSuppressHorizontalScroll=function(){return qt(this.gridOptions.suppressHorizontalScroll)},e.prototype.isSuppressMaxRenderedRowRestriction=function(){return qt(this.gridOptions.suppressMaxRenderedRowRestriction)},e.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return qt(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},e.prototype.isAlwaysShowVerticalScroll=function(){return qt(this.gridOptions.alwaysShowVerticalScroll)},e.prototype.isSuppressLoadingOverlay=function(){return qt(this.gridOptions.suppressLoadingOverlay)},e.prototype.isSuppressNoRowsOverlay=function(){return qt(this.gridOptions.suppressNoRowsOverlay)},e.prototype.isSuppressFieldDotNotation=function(){return qt(this.gridOptions.suppressFieldDotNotation)},e.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},e.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},e.prototype.isFunctionsPassive=function(){return qt(this.gridOptions.functionsPassive)},e.prototype.isSuppressTabbing=function(){return qt(this.gridOptions.suppressTabbing)},e.prototype.isSuppressChangeDetection=function(){return qt(this.gridOptions.suppressChangeDetection)},e.prototype.isSuppressAnimationFrame=function(){return qt(this.gridOptions.suppressAnimationFrame)},e.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},e.prototype.isCacheQuickFilter=function(){return qt(this.gridOptions.cacheQuickFilter)},e.prototype.isUnSortIcon=function(){return qt(this.gridOptions.unSortIcon)},e.prototype.isSuppressMenuHide=function(){return qt(this.gridOptions.suppressMenuHide)},e.prototype.isEnterMovesDownAfterEdit=function(){return qt(this.gridOptions.enterMovesDownAfterEdit)},e.prototype.isEnterMovesDown=function(){return qt(this.gridOptions.enterMovesDown)},e.prototype.isUndoRedoCellEditing=function(){return qt(this.gridOptions.undoRedoCellEditing)},e.prototype.getUndoRedoCellEditingLimit=function(){return this.gridOptions.undoRedoCellEditingLimit},e.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},e.prototype.getRowClass=function(){return this.gridOptions.rowClass},e.prototype.getRowStyleFunc=function(){return this.gridOptions.getRowStyle},e.prototype.getRowClassFunc=function(){return this.gridOptions.getRowClass},e.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},e.prototype.getCreateChartContainerFunc=function(){return this.gridOptions.createChartContainer},e.prototype.getPopupParent=function(){return this.gridOptions.popupParent},e.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},e.prototype.getPostProcessPopupFunc=function(){return this.gridOptions.postProcessPopup},e.prototype.getDoesDataFlowerFunc=function(){return this.gridOptions.doesDataFlower},e.prototype.getPaginationNumberFormatterFunc=function(){return this.gridOptions.paginationNumberFormatter},e.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},e.prototype.getDefaultGroupSortComparator=function(){return this.gridOptions.defaultGroupSortComparator},e.prototype.getIsFullWidthCellFunc=function(){return this.gridOptions.isFullWidthCell},e.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},e.prototype.isEmbedFullWidthRows=function(){return qt(this.gridOptions.embedFullWidthRows)||qt(this.gridOptions.deprecatedEmbedFullWidthRows)},e.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},e.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},e.prototype.getApi=function(){return this.gridOptions.api},e.prototype.getColumnApi=function(){return this.gridOptions.columnApi},e.prototype.isImmutableData=function(){return qt(this.gridOptions.immutableData)},e.prototype.isImmutableColumns=function(){return qt(this.gridOptions.immutableColumns)},e.prototype.isEnsureDomOrder=function(){return qt(this.gridOptions.ensureDomOrder)},e.prototype.isEnableCharts=function(){return!!qt(this.gridOptions.enableCharts)&&bt.assertRegistered(t.ModuleNames.GridChartsModule,"enableCharts")},e.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},e.prototype.isSingleClickEdit=function(){return qt(this.gridOptions.singleClickEdit)},e.prototype.isSuppressClickEdit=function(){return qt(this.gridOptions.suppressClickEdit)},e.prototype.isStopEditingWhenGridLosesFocus=function(){return qt(this.gridOptions.stopEditingWhenGridLosesFocus)},e.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},e.prototype.getMaxConcurrentDatasourceRequests=function(){return this.gridOptions.maxConcurrentDatasourceRequests},e.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},e.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},e.prototype.getPaginationPageSize=function(){return this.gridOptions.paginationPageSize},e.prototype.isPaginateChildRows=function(){return!!(this.isGroupSuppressRow()||this.isGroupRemoveSingleChildren()||this.isGroupRemoveLowestSingleChildren())||qt(this.gridOptions.paginateChildRows)},e.prototype.getCacheBlockSize=function(){return this.gridOptions.cacheBlockSize},e.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},e.prototype.isPurgeClosedRowNodes=function(){return qt(this.gridOptions.purgeClosedRowNodes)},e.prototype.isSuppressPaginationPanel=function(){return qt(this.gridOptions.suppressPaginationPanel)},e.prototype.getRowData=function(){return this.gridOptions.rowData},e.prototype.isGroupUseEntireRow=function(e){return!e&&qt(this.gridOptions.groupUseEntireRow)},e.prototype.isEnableRtl=function(){return qt(this.gridOptions.enableRtl)},e.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},e.prototype.isGroupSuppressRow=function(){return qt(this.gridOptions.groupSuppressRow)},e.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},e.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},e.prototype.isAngularCompileRows=function(){return qt(this.gridOptions.angularCompileRows)},e.prototype.isAngularCompileFilters=function(){return qt(this.gridOptions.angularCompileFilters)},e.prototype.isAngularCompileHeaders=function(){return qt(this.gridOptions.angularCompileHeaders)},e.prototype.isDebug=function(){return qt(this.gridOptions.debug)},e.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},e.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},e.prototype.getDatasource=function(){return this.gridOptions.datasource},e.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},e.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},e.prototype.isAccentedSort=function(){return qt(this.gridOptions.accentedSort)},e.prototype.isEnableBrowserTooltips=function(){return qt(this.gridOptions.enableBrowserTooltips)},e.prototype.isEnableCellExpressions=function(){return qt(this.gridOptions.enableCellExpressions)},e.prototype.isEnableGroupEdit=function(){return qt(this.gridOptions.enableGroupEdit)},e.prototype.isSuppressMiddleClickScrolls=function(){return qt(this.gridOptions.suppressMiddleClickScrolls)},e.prototype.isPreventDefaultOnContextMenu=function(){return qt(this.gridOptions.preventDefaultOnContextMenu)},e.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return qt(this.gridOptions.suppressPreventDefaultOnMouseWheel)},e.prototype.isSuppressColumnVirtualisation=function(){return qt(this.gridOptions.suppressColumnVirtualisation)},e.prototype.isSuppressContextMenu=function(){return qt(this.gridOptions.suppressContextMenu)},e.prototype.isAllowContextMenuWithControlKey=function(){return qt(this.gridOptions.allowContextMenuWithControlKey)},e.prototype.isSuppressCopyRowsToClipboard=function(){return qt(this.gridOptions.suppressCopyRowsToClipboard)},e.prototype.isCopyHeadersToClipboard=function(){return qt(this.gridOptions.copyHeadersToClipboard)},e.prototype.isSuppressClipboardPaste=function(){return qt(this.gridOptions.suppressClipboardPaste)},e.prototype.isSuppressLastEmptyLineOnPaste=function(){return qt(this.gridOptions.suppressLastEmptyLineOnPaste)},e.prototype.isPagination=function(){return qt(this.gridOptions.pagination)},e.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return qt(this.gridOptions.suppressEnterpriseResetOnNewColumns)},e.prototype.getProcessDataFromClipboardFunc=function(){return this.gridOptions.processDataFromClipboard},e.prototype.getAsyncTransactionWaitMillis=function(){return et.exists(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:Ue.BATCH_WAIT_MILLIS},e.prototype.isSuppressMovableColumns=function(){return qt(this.gridOptions.suppressMovableColumns)},e.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&qt(this.gridOptions.animateRows)},e.prototype.isSuppressColumnMoveAnimation=function(){return qt(this.gridOptions.suppressColumnMoveAnimation)},e.prototype.isSuppressAggFuncInHeader=function(){return qt(this.gridOptions.suppressAggFuncInHeader)},e.prototype.isSuppressAggAtRootLevel=function(){return qt(this.gridOptions.suppressAggAtRootLevel)},e.prototype.isEnableRangeSelection=function(){return bt.isRegistered(t.ModuleNames.RangeSelectionModule)&&qt(this.gridOptions.enableRangeSelection)},e.prototype.isEnableRangeHandle=function(){return qt(this.gridOptions.enableRangeHandle)},e.prototype.isEnableFillHandle=function(){return qt(this.gridOptions.enableFillHandle)},e.prototype.getFillOperation=function(){return this.gridOptions.fillOperation},e.prototype.isSuppressMultiRangeSelection=function(){return qt(this.gridOptions.suppressMultiRangeSelection)},e.prototype.isPaginationAutoPageSize=function(){return qt(this.gridOptions.paginationAutoPageSize)},e.prototype.isRememberGroupStateWhenNewData=function(){return qt(this.gridOptions.rememberGroupStateWhenNewData)},e.prototype.getIcons=function(){return this.gridOptions.icons},e.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},e.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},e.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},e.prototype.isMasterDetail=function(){return!!qt(this.gridOptions.masterDetail)&&bt.assertRegistered(t.ModuleNames.MasterDetailModule,"masterDetail")},e.prototype.isKeepDetailRows=function(){return qt(this.gridOptions.keepDetailRows)},e.prototype.getKeepDetailRowsCount=function(){return this.gridOptions.keepDetailRowsCount>0?this.gridOptions.keepDetailRowsCount:10},e.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},e.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},e.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},e.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},e.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},e.prototype.isSuppressAutoSize=function(){return qt(this.gridOptions.suppressAutoSize)},e.prototype.isEnableCellTextSelection=function(){return qt(this.gridOptions.enableCellTextSelection)},e.prototype.isSuppressParentsInRowNodes=function(){return qt(this.gridOptions.suppressParentsInRowNodes)},e.prototype.isFunctionsReadOnly=function(){return qt(this.gridOptions.functionsReadOnly)},e.prototype.isFloatingFilter=function(){return this.gridOptions.floatingFilter},e.prototype.isEnableCellTextSelect=function(){return qt(this.gridOptions.enableCellTextSelection)},e.prototype.isEnableOldSetFilterModel=function(){return qt(this.gridOptions.enableOldSetFilterModel)},e.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},e.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},e.prototype.getDefaultExportParams=function(){return this.gridOptions.defaultExportParams},e.prototype.isSuppressCsvExport=function(){return qt(this.gridOptions.suppressCsvExport)},e.prototype.isAllowShowChangeAfterFilter=function(){return qt(this.gridOptions.allowShowChangeAfterFilter)},e.prototype.isSuppressExcelExport=function(){return qt(this.gridOptions.suppressExcelExport)},e.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return qt(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},e.prototype.getNodeChildDetailsFunc=function(){return this.gridOptions.getNodeChildDetails},e.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},e.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},e.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},e.prototype.getGroupRowAggNodesFunc=function(){return this.gridOptions.groupRowAggNodes},e.prototype.getContextMenuItemsFunc=function(){return this.gridOptions.getContextMenuItems},e.prototype.getMainMenuItemsFunc=function(){return this.gridOptions.getMainMenuItems},e.prototype.getChartToolbarItemsFunc=function(){return this.gridOptions.getChartToolbarItems},e.prototype.getRowNodeIdFunc=function(){return this.gridOptions.getRowNodeId},e.prototype.getNavigateToNextCellFunc=function(){return this.gridOptions.navigateToNextCell},e.prototype.getTabToNextCellFunc=function(){return this.gridOptions.tabToNextCell},e.prototype.isTreeData=function(){return!!qt(this.gridOptions.treeData)&&bt.assertRegistered(t.ModuleNames.RowGroupingModule,"Tree Data")},e.prototype.isValueCache=function(){return qt(this.gridOptions.valueCache)},e.prototype.isValueCacheNeverExpires=function(){return qt(this.gridOptions.valueCacheNeverExpires)},e.prototype.isDeltaSort=function(){return qt(this.gridOptions.deltaSort)},e.prototype.isAggregateOnlyChangedColumns=function(){return qt(this.gridOptions.aggregateOnlyChangedColumns)},e.prototype.getProcessSecondaryColDefFunc=function(){return this.gridOptions.processSecondaryColDef},e.prototype.getProcessSecondaryColGroupDefFunc=function(){return this.gridOptions.processSecondaryColGroupDef},e.prototype.getSendToClipboardFunc=function(){return this.gridOptions.sendToClipboard},e.prototype.getProcessRowPostCreateFunc=function(){return this.gridOptions.processRowPostCreate},e.prototype.getProcessCellForClipboardFunc=function(){return this.gridOptions.processCellForClipboard},e.prototype.getProcessHeaderForClipboardFunc=function(){return this.gridOptions.processHeaderForClipboard},e.prototype.getProcessCellFromClipboardFunc=function(){return this.gridOptions.processCellFromClipboard},e.prototype.getViewportRowModelPageSize=function(){return(e=this.gridOptions.viewportRowModelPageSize)>0?e:5;var e},e.prototype.getViewportRowModelBufferSize=function(){return(e=this.gridOptions.viewportRowModelBufferSize)>=0?e:5;var e},e.prototype.isServerSideSortingAlwaysResets=function(){return qt(this.gridOptions.serverSideSortingAlwaysResets)},e.prototype.getPostSortFunc=function(){return this.gridOptions.postSort},e.prototype.getProcessChartOptionsFunc=function(){return this.gridOptions.processChartOptions},e.prototype.getClipboardDeliminator=function(){return et.exists(this.gridOptions.clipboardDeliminator)?this.gridOptions.clipboardDeliminator:"\t"},e.prototype.setProperty=function(e,t,o){void 0===o&&(o=!1);var n=this.gridOptions,i=n[e];(o||i!==t)&&(n[e]=t,this.propertyEventService.dispatchEvent({type:e,currentValue:t,previousValue:i}))},e.prototype.addLayoutElement=function(e){this.layoutElements.push(e),this.updateLayoutClasses()},e.prototype.updateLayoutClasses=function(){var e=this.getDomLayout(),t=e===Ue.DOM_LAYOUT_AUTO_HEIGHT,o=e===Ue.DOM_LAYOUT_PRINT,n=e===Ue.DOM_LAYOUT_NORMAL;this.layoutElements.forEach(function(e){et.addOrRemoveCssClass(e,"ag-layout-auto-height",t),et.addOrRemoveCssClass(e,"ag-layout-normal",n),et.addOrRemoveCssClass(e,"ag-layout-print",o)})},e.prototype.addEventListener=function(e,t){o.checkEventDeprecation(e),this.propertyEventService.addEventListener(e,t)},e.checkEventDeprecation=function(e){"floatingRowDataChanged"===e&&console.warn("ag-Grid: floatingRowDataChanged is now called pinnedRowDataChanged")},e.prototype.removeEventListener=function(e,t){this.propertyEventService.removeEventListener(e,t)},e.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},e.prototype.getAutoSizePadding=function(){return this.gridOptions.autoSizePadding&&this.gridOptions.autoSizePadding>0?this.gridOptions.autoSizePadding:20},e.prototype.getHeaderHeight=function(){return"number"==typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},e.prototype.getFloatingFiltersHeight=function(){return"number"==typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},e.prototype.getGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},e.prototype.getPivotHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},e.prototype.getPivotGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},e.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent()},e.prototype.doesExternalFilterPass=function(e){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(e)},e.prototype.getTooltipShowDelay=function(){var e=this.gridOptions.tooltipShowDelay;return et.exists(e)?(e<0&&console.warn("ag-grid: tooltipShowDelay should not be lower than 0"),Math.max(200,e)):null},e.prototype.isTooltipMouseTrack=function(){return qt(this.gridOptions.tooltipMouseTrack)},e.prototype.getDocument=function(){var e=null;return this.gridOptions.getDocument&&et.exists(this.gridOptions.getDocument)&&(e=this.gridOptions.getDocument()),e&&et.exists(e)?e:document},e.prototype.getMinColWidth=function(){if(this.gridOptions.minColWidth>o.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var e=this.getFromTheme(null,"headerCellMinWidth");return Math.max(e,o.MIN_COL_WIDTH)},e.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>o.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},e.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<o.MIN_COL_WIDTH?200:this.gridOptions.colWidth},e.prototype.getRowBuffer=function(){var e=this.gridOptions.rowBuffer;return"number"==typeof e?e<0&&(et.doOnce(function(){return console.warn("ag-Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),this.gridOptions.rowBuffer=e=0):e=Ue.ROW_BUFFER_SIZE,e},e.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},e.prototype.getScrollbarWidth=function(){return null==this.scrollWidth&&(this.scrollWidth="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:et.getScrollbarWidth()),this.scrollWidth},e.prototype.checkForDeprecated=function(){var e=this,t=this.gridOptions;t.suppressUnSort&&console.warn("ag-grid: as of v1.12.4 suppressUnSort is not used. Please use sortingOrder instead."),t.suppressDescSort&&console.warn("ag-grid: as of v1.12.4 suppressDescSort is not used. Please use sortingOrder instead."),t.groupAggFields&&console.warn("ag-grid: as of v3 groupAggFields is not used. Please add appropriate agg fields to your columns."),t.groupHidePivotColumns&&console.warn("ag-grid: as of v3 groupHidePivotColumns is not used as pivot columns are now called rowGroup columns. Please refer to the documentation"),t.groupKeys&&console.warn("ag-grid: as of v3 groupKeys is not used. You need to set rowGroupIndex on the columns to group. Please refer to the documentation"),"boolean"==typeof t.groupDefaultExpanded&&console.warn("ag-grid: groupDefaultExpanded can no longer be boolean. for groupDefaultExpanded=true, use groupDefaultExpanded=9999 instead, to expand all the groups"),(t.onRowDeselected||t.rowDeselected)&&console.warn("ag-grid: since version 3.4 event rowDeselected no longer exists, please check the docs"),t.rowsAlreadyGrouped&&console.warn("ag-grid: since version 3.4 rowsAlreadyGrouped no longer exists, please use getNodeChildDetails() instead"),t.groupAggFunction&&console.warn("ag-grid: since version 4.3.x groupAggFunction is now called groupRowAggNodes"),t.checkboxSelection&&console.warn("ag-grid: since version 8.0.x checkboxSelection is not supported as a grid option. If you want this on all columns, use defaultColDef instead and set it there"),t.paginationInitialRowCount&&console.warn("ag-grid: since version 9.0.x paginationInitialRowCount is now called infiniteInitialRowCount"),t.infinitePageSize&&console.warn("ag-grid: since version 9.0.x infinitePageSize is now called cacheBlockSize"),t.infiniteBlockSize&&console.warn("ag-grid: since version 10.0.x infiniteBlockSize is now called cacheBlockSize"),t.maxPagesInCache&&console.warn("ag-grid: since version 10.0.x maxPagesInCache is now called maxBlocksInCache"),t.paginationOverflowSize&&console.warn("ag-grid: since version 10.0.x paginationOverflowSize is now called cacheOverflowSize"),t.suppressMenuFilterPanel&&console.warn("ag-grid: since version 11.0.x, use property colDef.menuTabs=['generalMenuTab','columnsMenuTab'] instead of suppressMenuFilterPanel=true"),t.suppressMenuMainPanel&&console.warn("ag-grid: since version 11.0.x, use property colDef.menuTabs=['filterMenuTab','columnsMenuTab'] instead of suppressMenuMainPanel=true"),t.suppressMenuColumnPanel&&console.warn("ag-grid: since version 11.0.x, use property colDef.menuTabs=['generalMenuTab','filterMenuTab'] instead of suppressMenuColumnPanel=true"),t.suppressUseColIdForGroups&&console.warn("ag-grid: since version 11.0.x, this is not in use anymore. You should be able to remove it from your definition"),t.groupSuppressRow&&console.warn("ag-grid: since version 18.2.x, 'groupSuppressRow' should not be used anymore. Instead remove row groups and perform custom sorting."),t.groupColumnDef&&console.warn("ag-grid: since version 11.0.x, groupColumnDef has been renamed, this property is now called autoGroupColumnDef. Please change your configuration accordingly"),t.slaveGrids&&console.warn("ag-grid: since version 12.x, slaveGrids has been renamed, this property is now called alignedGrids. Please change your configuration accordingly"),t.floatingTopRowData&&console.warn("ag-grid: since version 12.x, floatingTopRowData is now called pinnedTopRowData"),t.floatingBottomRowData&&console.warn("ag-grid: since version 12.x, floatingBottomRowData is now called pinnedBottomRowData"),t.paginationStartPage&&console.warn("ag-grid: since version 12.x, paginationStartPage is gone, please call api.paginationGoToPage("+t.paginationStartPage+") instead."),t.getHeaderCellTemplate&&console.warn("ag-grid: since version 15.x, getHeaderCellTemplate is gone, please check the header documentation on how to set header templates."),t.headerCellTemplate&&console.warn("ag-grid: since version 15.x, headerCellTemplate is gone, please check the header documentation on how to set header templates."),t.headerCellRenderer&&console.warn("ag-grid: since version 15.x, headerCellRenderer is gone, please check the header documentation on how to set header templates."),t.angularCompileHeaders&&console.warn("ag-grid: since version 15.x, angularCompileHeaders is gone, please see the getting started for Angular 1 docs to see how to do headers in Angular 1.x."),t.pivotTotals&&(console.warn("ag-grid: since version 18.x, pivotTotals has been removed, instead if using pivotTotals, set pivotColumnGroupTotals='before'|'after'."),t.pivotColumnGroupTotals="before"),"inMemory"===t.rowModelType&&(console.warn("ag-grid: since version 18.x, The In Memory Row Model has been renamed to the Client Side Row Model, set rowModelType='clientSide' instead."),t.rowModelType="clientSide"),"enterprise"===t.rowModelType&&(console.warn("ag-grid: since version 18.x, The Enterprise Row Model has been renamed to the Server Side Row Model, set rowModelType='serverSide' instead."),t.rowModelType="serverSide"),t.layoutInterval&&console.warn("ag-grid: since version 18.x, layoutInterval is no longer a property. This is because the grid now uses CSS Flex for layout."),t.gridAutoHeight&&(console.warn("ag-grid: since version 19.x, gridAutoHeight is gone, please use domLayout=autoHeight instead"),t.domLayout="autoHeight"),!0===t.showToolPanel&&(console.warn("ag-grid: since version 19.x, showToolPanel is gone, please specify toolPanel components. See https://www.ag-grid.com/javascript-grid-tool-panel/"),t.showToolPanel=void 0,t.sideBar=t.sideBar||!0),!1===t.showToolPanel&&(console.warn("ag-grid: since version 19.x, showToolPanel is gone, please specify toolPanel components. See https://www.ag-grid.com/javascript-grid-tool-panel/"),t.showToolPanel=void 0,t.sideBar=t.sideBar||!1);var o={toolPanelSuppressRowGroups:"suppressRowGroups",toolPanelSuppressValues:"suppressValues",toolPanelSuppressPivots:"suppressPivots",toolPanelSuppressPivotMode:"suppressPivotMode",toolPanelSuppressColumnFilter:"suppressColumnFilter",toolPanelSuppressColumnSelectAll:"suppressColumnSelectAll",toolPanelSuppressSideButtons:"suppressSideButtons",toolPanelSuppressColumnExpandAll:"suppressColumnExpandAll",contractColumnSelection:"contractColumnSelection"},n={};Object.keys(o).forEach(function(t){var i=o[t],r=e.gridOptions[t];if(void 0!==r){if("toolPanelSuppressSideButtons"===t)return void console.warn("ag-grid: since v19.0 toolPanelSuppressSideButtons has been completely removed. See https://www.ag-grid.com/javascript-grid-tool-panel/");console.warn("ag-grid: since v19.0 gridOptions."+t+" is deprecated, please use gridOptions.sideBar.toolPanel[columnsIndex].componentParams."+i),n[i]=r}}),Object.keys(n).length>0&&!et.exists(t.sideBar)&&(console.warn("ag-grid: since version 19.x, sideBar is mandatory if using toolPanel related properties. See https://www.ag-grid.com/javascript-grid-tool-panel/"),t.sideBar=!0),null!=t.sideBar&&(t.sideBar=Ut.parse(t.sideBar));var i=this.gridOptions.sideBar;if(Object.keys(n).length>0&&i&&i.toolPanels){var r=i.toolPanels.filter(function(e){return"columns"===e.id});1===r.length&&et.mergeDeep(r[0],{componentParams:n})}t.enableStatusBar&&(console.warn("ag-grid: since version 19.x, enableStatusBar is gone, please specify statusBar components"),t.statusBar=t.statusBar||{components:[{component:"agAggregationComponent"}]}),t.alwaysShowStatusBar&&console.warn("ag-grid: since version 19.x, alwaysShowStatusBar is gone. Please specify a min-height on the ag-status-bar css class, eg .ag-status-bar {min-height: 35px; }"),(t.enableServerSideSorting||t.enableSorting)&&(console.warn("ag-Grid: since v20, grid options enableSorting and enableServerSideSorting are gone. Instead set sortable=true on the column definition for the columns sorting are allowed on. To migrate from gridOption.enableSorting=true, set gridOptions.defaultColDef.sortable=true"),t.defaultColDef||(t.defaultColDef={}),t.defaultColDef.sortable||(t.defaultColDef.sortable=!0)),(t.enableFilter||t.enableServerSideFilter)&&(console.warn("ag-Grid: since v20, grid options enableFilter and enableServerSideFilter are gone. Instead set filter=true (if not already specifying a specific filter) on the column definition for the columns filtering is allowed on. To migrate from gridOptions.enableFilter=true, set gridOptions.defaultColDef.filter=true. If you are explicitly setting specific filters for each column (ie colDef.filter is already set) the you don't need to do anything."),t.defaultColDef||(t.defaultColDef={}),t.defaultColDef.filter||(t.defaultColDef.filter=!0)),t.enableColResize&&(console.warn("ag-Grid: since v20, grid options enableColResize is gone. Instead set resizable=true on the column definition for the columns resizing are allowed on. To migrate from gridOption.enableColResize=true, set gridOptions.defaultColDef.resizable=true"),t.defaultColDef||(t.defaultColDef={}),t.defaultColDef.resizable||(t.defaultColDef.resizable=!0)),t.deprecatedEmbedFullWidthRows&&console.warn("ag-Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),t.suppressTabbing&&console.warn("ag-Grid: since v20.1, suppressTabbing is replaced with the more powerful grid callback suppressKeyboardEvent(params) which can suppress any keyboard event including tabbing."),t.doesDataFlower&&console.warn("ag-Grid: since v21.1, doesDataFlower is deprecated. Master/Detail is the new way for showing child data for a row and was introduced over a year ago. Please migrate your code to use master/detail instead."),t.enableOldSetFilterModel&&console.warn("ag-Grid: since v22.x, enableOldSetFilterModel is deprecated. Please move to the new Set Filter Model as the old one may not be supported in v23 onwards."),t.floatingFilter&&(console.warn("ag-Grid: since v23.1, floatingFilter on the gridOptions is deprecated. Please use floatingFilter on the colDef instead."),t.defaultColDef||(t.defaultColDef={}),null==t.defaultColDef.floatingFilter&&(t.defaultColDef.floatingFilter=!0));var s=function(e,o,n){null!=t[e]&&(console.warn("ag-grid: since version "+n+", '"+e+"' is deprecated / renamed, please use the new property name '"+o+"' instead."),null==t[o]&&(t[o]=t[e]))};s("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),s("deltaRowDataMode","immutableData","23.1.x"),s("deltaColumnMode","immutableColumns","23.1.x")},e.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},e.prototype.treeDataViolations=function(){this.isRowModelDefault()&&et.missing(this.getDataPathFunc())&&console.warn("ag-Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(et.missing(this.getIsServerSideGroupFunc())&&console.warn("ag-Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),et.missing(this.getServerSideGroupKeyFunc())&&console.warn("ag-Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},e.prototype.getLocaleTextFunc=function(){if(this.gridOptions.localeTextFunc)return this.gridOptions.localeTextFunc;var e=this.gridOptions.localeText;return function(t,o){return e&&e[t]?e[t]:o}},e.prototype.globalEventHandler=function(e,t){var o=Xt.getCallbackForEvent(e);"function"==typeof this.gridOptions[o]&&this.gridOptions[o](t)},e.prototype.getRowHeightAsNumber=function(){return!this.gridOptions.rowHeight||et.missing(this.gridOptions.rowHeight)?this.getDefaultRowHeight():this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:(console.warn("ag-Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},e.prototype.getRowHeightForNode=function(e,t){if(void 0===t&&(t=!1),"function"==typeof this.gridOptions.getRowHeight){if(t)return{height:this.getDefaultRowHeight(),estimated:!0};var o=this.gridOptions.getRowHeight({node:e,data:e.data,api:this.gridOptions.api,context:this.gridOptions.context});if(null!=o)return{height:o,estimated:!1}}if(e.detail&&this.isMasterDetail())return this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1};var n=this.getDefaultRowHeight(),i=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:n,r=Math.min(n,i);if(this.columnController.isAutoRowHeightActive()){if(t)return{height:i,estimated:!0};var s=this.autoHeightCalculator.getPreferredHeightForRow(e);return{height:Math.max(s,r),estimated:!1}}return{height:i,estimated:!1}},e.prototype.isDynamicRowHeight=function(){return"function"==typeof this.gridOptions.getRowHeight},e.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},e.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},e.prototype.isNumeric=function(e){return!isNaN(e)&&"number"==typeof e},e.prototype.getFromTheme=function(e,t){var o=this.environment.getTheme().theme;return o&&0===o.indexOf("ag-theme")?this.environment.getSassVariable(o,t):e},e.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},e.MIN_COL_WIDTH=10,e.PROP_HEADER_HEIGHT="headerHeight",e.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",e.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",e.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",e.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",e.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",e.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",e.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",e.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",e.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",e.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",e.PROP_POPUP_PARENT="popupParent",e.PROP_DOM_LAYOUT="domLayout",zt([ct("gridOptions")],e.prototype,"gridOptions",void 0),zt([ct("columnController")],e.prototype,"columnController",void 0),zt([ct("eventService")],e.prototype,"eventService",void 0),zt([ct("environment")],e.prototype,"environment",void 0),zt([ct("autoHeightCalculator")],e.prototype,"autoHeightCalculator",void 0),zt([Kt(0,ht("gridApi")),Kt(1,ht("columnApi"))],e.prototype,"agWire",null),zt([lt],e.prototype,"destroy",null),zt([at],e.prototype,"init",null),o=zt([ut("gridOptionsWrapper")],e)}(),Qt=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,i++)n[i]=r[s];return n},Xt=function(){function e(){}return e.getEventCallbacks=function(){return e.EVENT_CALLBACKS||(e.EVENT_CALLBACKS=e.EVENTS.map(function(t){return e.getCallbackForEvent(t)})),e.EVENT_CALLBACKS},e.copyAttributesToGridOptions=function(t,o,n){void 0===n&&(n=!1),Zt(o),"object"!=typeof t&&(t={});var i=t,r=function(e){return void 0!==o[e]};return Qt(e.ARRAY_PROPERTIES,e.STRING_PROPERTIES,e.OBJECT_PROPERTIES,e.FUNCTION_PROPERTIES,e.getEventCallbacks()).filter(r).forEach(function(e){return i[e]=o[e]}),e.BOOLEAN_PROPERTIES.filter(r).forEach(function(t){return i[t]=e.toBoolean(o[t])}),e.NUMBER_PROPERTIES.filter(r).forEach(function(t){return i[t]=e.toNumber(o[t])}),n||e.EVENTS.filter(function(t){return r(t)||r(e.getCallbackForEvent(t))}).forEach(function(e){return $t.checkEventDeprecation(e)}),t},e.getCallbackForEvent=function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substr(1)},e.processOnChange=function(t,o,n,i){if(t){Zt(t);var r=o,s=function(e){return t[e]};Qt(e.ARRAY_PROPERTIES,e.OBJECT_PROPERTIES,e.STRING_PROPERTIES,e.getEventCallbacks()).filter(s).forEach(function(e){return r[e]=t[e].currentValue}),e.BOOLEAN_PROPERTIES.filter(s).forEach(function(o){return r[o]=e.toBoolean(t[o].currentValue)}),e.NUMBER_PROPERTIES.filter(s).forEach(function(o){return r[o]=e.toNumber(t[o].currentValue)}),t.enableCellTextSelection&&n.setEnableCellTextSelection(e.toBoolean(t.enableCellTextSelection.currentValue)),t.showToolPanel&&n.showToolPanel(e.toBoolean(t.showToolPanel.currentValue)),t.quickFilterText&&n.setQuickFilter(t.quickFilterText.currentValue),t.rowData&&n.setRowData(t.rowData.currentValue),t.pinnedTopRowData&&n.setPinnedTopRowData(t.pinnedTopRowData.currentValue),t.pinnedBottomRowData&&n.setPinnedBottomRowData(t.pinnedBottomRowData.currentValue),t.autoGroupColumnDef&&n.setAutoGroupColumnDef(t.autoGroupColumnDef.currentValue,"gridOptionsChanged"),t.columnDefs&&n.setColumnDefs(t.columnDefs.currentValue,"gridOptionsChanged"),t.datasource&&n.setDatasource(t.datasource.currentValue),t.headerHeight&&n.setHeaderHeight(e.toNumber(t.headerHeight.currentValue)),t.paginationPageSize&&n.paginationSetPageSize(e.toNumber(t.paginationPageSize.currentValue)),t.pivotMode&&i.setPivotMode(e.toBoolean(t.pivotMode.currentValue)),t.groupRemoveSingleChildren&&n.setGroupRemoveSingleChildren(e.toBoolean(t.groupRemoveSingleChildren.currentValue)),t.suppressRowDrag&&n.setSuppressRowDrag(e.toBoolean(t.suppressRowDrag.currentValue)),t.suppressMoveWhenRowDragging&&n.setSuppressMoveWhenRowDragging(e.toBoolean(t.suppressMoveWhenRowDragging.currentValue)),t.suppressRowClickSelection&&n.setSuppressRowClickSelection(e.toBoolean(t.suppressRowClickSelection.currentValue)),t.gridAutoHeight&&n.setGridAutoHeight(e.toBoolean(t.gridAutoHeight.currentValue)),t.suppressClipboardPaste&&n.setSuppressClipboardPaste(e.toBoolean(t.suppressClipboardPaste.currentValue)),t.sideBar&&n.setSideBar(t.sideBar.currentValue);var a={type:Ft.EVENT_COMPONENT_STATE_CHANGED,api:o.api,columnApi:o.columnApi};et.iterateObject(t,function(e,t){a[e]=t}),n.dispatchEvent(a)}},e.toBoolean=function(e){return"boolean"==typeof e?e:"string"==typeof e&&("TRUE"===e.toUpperCase()||""==e)},e.toNumber=function(e){return"number"==typeof e?e:"string"==typeof e?Number(e):void 0},e.EVENTS=[],e.STRING_PROPERTIES=Bt.STRING_PROPERTIES,e.OBJECT_PROPERTIES=Bt.OBJECT_PROPERTIES,e.ARRAY_PROPERTIES=Bt.ARRAY_PROPERTIES,e.NUMBER_PROPERTIES=Bt.NUMBER_PROPERTIES,e.BOOLEAN_PROPERTIES=Bt.BOOLEAN_PROPERTIES,e.FUNCTION_PROPERTIES=Bt.FUNCTION_PROPERTIES,e.ALL_PROPERTIES=Bt.ALL_PROPERTIES,e}();function Zt(e){(e.rowDeselected||e.onRowDeselected)&&console.warn("ag-grid: as of v3.4 rowDeselected no longer exists. Please check the docs.")}Xt.EVENTS=et.values(Ft);var Jt=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),eo=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},to=new tt,oo=function(e){function t(t){var o=e.call(this)||this;return o.annotatedGuiListeners=[],o.displayed=!0,o.visible=!0,o.compId=to.next(),t&&o.setTemplate(t),o}return Jt(t,e),t.prototype.getCompId=function(){return this.compId},t.prototype.createChildComponentsFromTags=function(e,t){var o=this,n=et.copyNodeList(e.childNodes);et.forEach(n,function(n){if(n instanceof HTMLElement){var i=o.createComponentFromElement(n,function(e){o.copyAttributesFromNode(n,e.getGui())},t);if(i){if(i.addItems&&n.children.length){o.createChildComponentsFromTags(n);var r=Array.prototype.slice.call(n.children);i.addItems(r)}o.swapComponentForNode(i,e,n)}else n.childNodes&&o.createChildComponentsFromTags(n)}})},t.prototype.createComponentFromElement=function(e,t,o){var n=e.nodeName,i=o?o[e.getAttribute("ref")]:void 0,r=this.agStackComponentsRegistry.getComponentClass(n);if(r){var s=new r(i);return this.createBean(s,null,t),s}return null},t.prototype.copyAttributesFromNode=function(e,t){et.iterateNamedNodeMap(e.attributes,function(e,o){return t.setAttribute(e,o)})},t.prototype.swapComponentForNode=function(e,t,o){var n=e.getGui();t.replaceChild(n,o),t.insertBefore(document.createComment(o.nodeName),n),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,o)},t.prototype.swapInComponentForQuerySelectors=function(e,t){var o=this;this.iterateOverQuerySelectors(function(n){o[n.attributeName]===t&&(o[n.attributeName]=e)})},t.prototype.iterateOverQuerySelectors=function(e){for(var t=Object.getPrototypeOf(this);null!=t;){var o=t.__agComponentMetaData,n=t.constructor.name;o&&o[n]&&o[n].querySelectors&&et.forEach(o[n].querySelectors,function(t){return e(t)}),t=Object.getPrototypeOf(t)}},t.prototype.setTemplate=function(e,t){var o=et.loadTemplate(e);this.setTemplateFromElement(o,t)},t.prototype.setTemplateFromElement=function(e,t){this.eGui=e,this.eGui.__agComponent=this,this.addAnnotatedGuiEventListeners(),this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),t)},t.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},t.prototype.wireQuerySelectors=function(){var e=this;if(this.eGui){var t=this;this.iterateOverQuerySelectors(function(o){var n=e.eGui.querySelector(o.querySelector);n&&(t[o.attributeName]=n.__agComponent||n)})}},t.prototype.addAnnotatedGuiEventListeners=function(){var e=this;if(this.removeAnnotatedGuiEventListeners(),this.eGui){var t=this.getAgComponentMetaData("guiListenerMethods");t&&(this.annotatedGuiListeners||(this.annotatedGuiListeners=[]),t.forEach(function(t){var o=e.getRefElement(t.ref);if(o){var n=e[t.methodName].bind(e);o.addEventListener(t.eventName,n),e.annotatedGuiListeners.push({eventName:t.eventName,listener:n,element:o})}}))}},t.prototype.addAnnotatedGridEventListeners=function(){var e=this,t=this.getAgComponentMetaData("gridListenerMethods");t&&t.forEach(function(t){var o=e[t.methodName].bind(e);e.addManagedListener(e.eventService,t.eventName,o)})},t.prototype.getAgComponentMetaData=function(e){for(var t=[],o=Object.getPrototypeOf(this);null!=o;){var n=o.__agComponentMetaData,i=o.constructor.name;if(void 0===i){var r=/function\s([^(]{1,})\(/.exec(o.constructor.toString());r&&r.length>1&&(i=r[1].trim())}n&&n[i]&&n[i][e]&&(t=t.concat(n[i][e])),o=Object.getPrototypeOf(o)}return t},t.prototype.removeAnnotatedGuiEventListeners=function(){this.annotatedGuiListeners&&(et.forEach(this.annotatedGuiListeners,function(e){e.element.removeEventListener(e.eventName,e.listener)}),this.annotatedGuiListeners=[])},t.prototype.getGui=function(){return this.eGui},t.prototype.getFocusableElement=function(){return this.eGui},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setGui=function(e){this.eGui=e},t.prototype.queryForHtmlElement=function(e){return this.eGui.querySelector(e)},t.prototype.queryForHtmlInputElement=function(e){return this.eGui.querySelector(e)},t.prototype.appendChild=function(e,t){if(t||(t=this.eGui),et.isNodeOrElement(e))t.appendChild(e);else{var o=e;t.appendChild(o.getGui()),this.addDestroyFunc(this.destroyBean.bind(this,o))}},t.prototype.isDisplayed=function(){return this.displayed},t.prototype.setVisible=function(e){e!==this.visible&&(this.visible=e,et.setVisible(this.eGui,e))},t.prototype.setDisplayed=function(e){e!==this.displayed&&(this.displayed=e,et.setDisplayed(this.eGui,e),this.dispatchEvent({type:t.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},t.prototype.destroy=function(){this.removeAnnotatedGuiEventListeners(),e.prototype.destroy.call(this)},t.prototype.addGuiEventListener=function(e,t){var o=this;this.eGui.addEventListener(e,t),this.addDestroyFunc(function(){return o.eGui.removeEventListener(e,t)})},t.prototype.addCssClass=function(e){et.addCssClass(this.eGui,e)},t.prototype.removeCssClass=function(e){et.removeCssClass(this.eGui,e)},t.prototype.addOrRemoveCssClass=function(e,t){et.addOrRemoveCssClass(this.eGui,e,t)},t.prototype.getAttribute=function(e){var t=this.eGui;return t?t.getAttribute(e):null},t.prototype.getRefElement=function(e){return this.queryForHtmlElement('[ref="'+e+'"]')},t.EVENT_DISPLAYED_CHANGED="displayedChanged",eo([ct("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),eo([st],t.prototype,"createChildComponentsPreConstruct",null),eo([at],t.prototype,"addAnnotatedGridEventListeners",null),t}(Dt),no=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),io=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return no(t,e),t.prototype.isPopup=function(){return!0},t.prototype.setParentComponent=function(t){et.addCssClass(t.getGui(),"ag-has-popup"),e.prototype.setParentComponent.call(this,t)},t.prototype.destroy=function(){var t=this.parentComponent;t&&t.isAlive()&&et.removeCssClass(t.getGui(),"ag-has-popup"),e.prototype.destroy.call(this)},t}(oo);function ro(e){return so.bind(this,"[ref="+e+"]")}function so(e,t,o,n){null!==e?"number"!=typeof n?uo(t,"querySelectors",{attributeName:o,querySelector:e}):console.error("ag-Grid: QuerySelector should be on an attribute"):console.error("ag-Grid: QuerySelector selector should not be null")}function ao(e,t,o){null!=e?uo(t,"gridListenerMethods",{methodName:o,eventName:e}):console.error("ag-Grid: GridListener eventName is missing")}function lo(e,t,o,n){null!=t?uo(o,"guiListenerMethods",{methodName:n,eventName:t,ref:e}):console.error("ag-Grid: GuiListener eventName is missing")}function uo(e,t,o){var n=function(e,t){return e.__agComponentMetaData||(e.__agComponentMetaData={}),e.__agComponentMetaData[t]||(e.__agComponentMetaData[t]={}),e.__agComponentMetaData[t]}(e,e.constructor.name);n[t]||(n[t]=[]),n[t].push(o)}var co,po=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ho=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return po(t,e),t.prototype.init=function(e){this.params=e;var t,o=this.eInput;e.cellStartedEdit?(this.focusAfterAttached=!0,e.keyPress===Ue.KEY_BACKSPACE||e.keyPress===Ue.KEY_DELETE?t="":e.charPress?t=e.charPress:(t=this.getStartValue(e),e.keyPress!==Ue.KEY_F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,t=this.getStartValue(e)),et.exists(t)&&o.setValue(t,!0),this.addManagedListener(o.getGui(),"keydown",function(e){(e.keyCode===Ue.KEY_PAGE_UP||e.keyCode===Ue.KEY_PAGE_DOWN)&&e.preventDefault()})},t.prototype.afterGuiAttached=function(){if(this.focusAfterAttached){var e=this.eInput;et.isBrowserSafari()||e.getFocusableElement().focus();var t=e.getInputElement();if(this.highlightAllOnFocus)t.select();else{var o=e.getValue(),n=et.exists(o)&&o.length||0;n&&t.setSelectionRange(n,n)}}},t.prototype.focusIn=function(){var e=this.eInput,t=e.getFocusableElement(),o=e.getInputElement();t.focus(),o.select()},t.prototype.focusOut=function(){var e=this.eInput.getInputElement();et.isBrowserIE()&&e.setSelectionRange(0,0)},t.prototype.getValue=function(){return this.params.parseValue(this.eInput.getValue())},t.prototype.getStartValue=function(e){return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value},t.prototype.isPopup=function(){return!1},t.TEMPLATE='<div class="ag-cell-edit-wrapper"><ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field></div>',function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([ro("eInput")],t.prototype,"eInput",void 0),t}(io),fo=function(){function e(e,t,o,n){var i=this;this.alive=!0,this.context=e,t.newDateComponent(o).then(function(t){i.alive?(i.dateComp=t,n.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached(),i.tempValue&&t.setDate(i.tempValue)):e.destroyBean(t)})}return e.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},e.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},e.prototype.setDate=function(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e},e.prototype.setInputPlaceholder=function(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)},e}(),go=function(){function e(){this.customFilterOptions={}}return e.prototype.init=function(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)},e.prototype.getFilterOptions=function(){return this.filterOptions},e.prototype.mapCustomOptions=function(){var e=this;this.filterOptions&&this.filterOptions.forEach(function(t){"string"!=typeof t&&te(["displayKey","displayName","test"],function(e){return!!t[e]||(console.warn("ag-Grid: ignoring FilterOptionDef as it doesn't contain a '"+e+"'"),!1)})&&(e.customFilterOptions[t.displayKey]=t)})},e.prototype.selectDefaultItem=function(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){var t=this.filterOptions[0];"string"==typeof t?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("ag-Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("ag-Grid: no filter options for filter")},e.prototype.getDefaultOption=function(){return this.defaultOption},e.prototype.getCustomOption=function(e){return this.customFilterOptions[e]},e}(),mo=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),yo=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},vo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.applyActive=!1,t.hidePopup=null,t.appliedModel=null,t}return mo(t,e),t.prototype.onFilterChanged=function(){console.warn("ag-Grid: you should not call onFilterChanged() directly on the filter, please call\n        gridApi.onFilterChanged() instead. onFilterChanged is not part of the exposed filter interface (it was\n        a method that existed on an old version of the filters that was not intended for public use."),this.providedFilterParams.filterChangedCallback()},t.prototype.isFilterActive=function(){return!!this.appliedModel},t.prototype.postConstruct=function(){var e='\n            <div>\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </div>";this.setTemplate(e)},t.prototype.init=function(e){var t=this;this.setParams(e),this.resetUiToDefaults(!0).then(function(){t.updateUiVisibility(),t.setupOnBtApplyDebounce()})},t.prototype.setParams=function(e){t.checkForDeprecatedParams(e),this.providedFilterParams=e,this.newRowsActionKeep="keep"===e.newRowsAction||"clear"!==e.newRowsAction&&[Ue.ROW_MODEL_TYPE_SERVER_SIDE,Ue.ROW_MODEL_TYPE_INFINITE].indexOf(this.rowModel.getType())>=0,this.applyActive=t.isUseApplyButton(e),this.createButtonPanel()},t.prototype.createButtonPanel=function(){var e=this,t=this.providedFilterParams.buttons;if(t&&!(t.length<1)){var o=this.gridOptionsWrapper.getLocaleTextFunc(),n=document.createElement("div");T(n,"ag-filter-apply-panel"),new Set(t).forEach(function(t){return function(t){var i,r;switch(t){case"apply":i=o("applyFilter","Apply Filter"),r=function(t){return e.onBtApply(!1,!1,t)};break;case"clear":i=o("clearFilter","Clear Filter"),r=function(){return e.onBtClear()};break;case"reset":i=o("resetFilter","Reset Filter"),r=function(){return e.onBtReset()};break;case"cancel":i=o("cancelFilter","Cancel Filter"),r=function(t){e.onBtCancel(t)};break;default:return void console.warn("Unknown button type specified")}var s=k('<button\n                    type="button"\n                    ref="'+t+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button">'+i+"</button>");n.appendChild(s),e.addManagedListener(s,"click",r)}(t)}),this.getGui().appendChild(n)}},t.checkForDeprecatedParams=function(e){var t=e.buttons||[];if(!(t.length>0)){var o=e.applyButton,n=e.resetButton;e.clearButton&&(console.warn("ag-Grid: as of ag-Grid v23.2, filterParams.clearButton is deprecated. Please use filterParams.buttons instead"),t.push("clear")),n&&(console.warn("ag-Grid: as of ag-Grid v23.2, filterParams.resetButton is deprecated. Please use filterParams.buttons instead"),t.push("reset")),o&&(console.warn("ag-Grid: as of ag-Grid v23.2, filterParams.applyButton is deprecated. Please use filterParams.buttons instead"),t.push("apply")),e.apply&&(console.warn("ag-Grid: as of ag-Grid v21, filterParams.apply is deprecated. Please use filterParams.buttons instead"),t.push("apply")),e.buttons=t}},t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.setupOnBtApplyDebounce=function(){var e=t.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=Ie(this.onBtApply.bind(this),e)},t.prototype.getModel=function(){return this.appliedModel},t.prototype.setModel=function(e){var t=this;return(e?this.setModelIntoUi(e):this.resetUiToDefaults()).then(function(){t.updateUiVisibility(),t.applyModel()})},t.prototype.onBtCancel=function(e){var t=this;this.setModelIntoUi(this.getModel()).then(function(){t.onUiChanged(!1,"prevent"),t.providedFilterParams.closeOnApply&&t.close(e)})},t.prototype.onBtClear=function(){var e=this;this.resetUiToDefaults().then(function(){return e.onUiChanged()})},t.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},t.prototype.applyModel=function(){var e=this.getModelFromUi();if(!this.isModelValid(e))return!1;var t=this.appliedModel;return this.appliedModel=e,!this.areModelsEqual(t,e)},t.prototype.isModelValid=function(e){return!0},t.prototype.onBtApply=function(e,t,o){void 0===e&&(e=!1),void 0===t&&(t=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t}),this.providedFilterParams.closeOnApply&&!e&&this.applyActive&&this.close(o)},t.prototype.onNewRowsLoaded=function(){var e=this;this.newRowsActionKeep||this.resetUiToDefaults().then(function(){return e.appliedModel=null})},t.prototype.close=function(e){if(this.hidePopup){var t,o=e&&e.key;"Enter"!==o&&"Space"!==o||(t={keyboardEvent:e}),this.hidePopup(t),this.hidePopup=null}},t.prototype.isNewRowsActionKeep=function(){return this.newRowsActionKeep},t.prototype.onUiChanged=function(e,t){if(void 0===e&&(e=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive){var o=this.isModelValid(this.getModelFromUi());I(this.getRefElement("applyFilterButton"),!o)}e&&!t||"immediately"===t?this.onBtApply(e):(this.applyActive||t)&&"debounce"!==t||this.onBtApplyDebounce()},t.prototype.afterGuiAttached=function(e){this.hidePopup=e.hidePopup},t.getDebounceMs=function(e,o){return t.isUseApplyButton(e)?(null!=e.debounceMs&&console.warn("ag-Grid: debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:o},t.isUseApplyButton=function(e){return t.checkForDeprecatedParams(e),e.buttons&&e.buttons.indexOf("apply")>=0},t.prototype.destroy=function(){this.hidePopup=null,e.prototype.destroy.call(this)},yo([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),yo([ct("rowModel")],t.prototype,"rowModel",void 0),yo([at],t.prototype,"postConstruct",null),t}(oo),Co=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),bo=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.One=0]="One",e[e.Two=1]="Two"}(co||(co={}));var wo,Eo={filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",andCondition:"AND",orCondition:"OR"},Ro=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Co(t,e),t.prototype.showValueFrom=function(e){return!this.doesFilterHaveHiddenInput(e)&&e!==t.EMPTY},t.prototype.showValueTo=function(e){return e===t.IN_RANGE},t.prototype.onFloatingFilterChanged=function(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)},t.prototype.setTypeFromFloatingFilter=function(e){this.eType1.setValue(e),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.eJoinOperatorAnd.setValue(!0)},t.prototype.getModelFromUi=function(){return this.isConditionUiComplete(co.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(co.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(co.One),condition2:this.createCondition(co.Two)}:this.createCondition(co.One):null},t.prototype.getCondition1Type=function(){return this.eType1.getValue()},t.prototype.getCondition2Type=function(){return this.eType2.getValue()},t.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},t.prototype.areModelsEqual=function(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;var o,n=!e.operator,i=!t.operator;if(!n&&i||n&&!i)return!1;if(n)o=this.areSimpleModelsEqual(e,t);else{var r=e,s=t;o=r.operator===s.operator&&this.areSimpleModelsEqual(r.condition1,s.condition1)&&this.areSimpleModelsEqual(r.condition2,s.condition2)}return o},t.prototype.setModelIntoUi=function(e){if(e.operator){var t=e,o="OR"===t.operator;this.eJoinOperatorAnd.setValue(!o),this.eJoinOperatorOr.setValue(o),this.eType1.setValue(t.condition1.type),this.eType2.setValue(t.condition2.type),this.setConditionIntoUi(t.condition1,co.One),this.setConditionIntoUi(t.condition2,co.Two)}else{var n=e;this.eJoinOperatorAnd.setValue(!0),this.eJoinOperatorOr.setValue(!1),this.eType1.setValue(n.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(n,co.One),this.setConditionIntoUi(null,co.Two)}return ot.resolve()},t.prototype.doesFilterPass=function(e){var t=this.getModel();if(t.operator){var o=t,n=this.individualConditionPasses(e,o.condition1),i=this.individualConditionPasses(e,o.condition2);return"AND"===o.operator?n&&i:n||i}return this.individualConditionPasses(e,t)},t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.optionsFactory=new go,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.allowTwoConditions=!t.suppressAndOrCondition,this.putOptionsIntoDropdown(),this.addChangedListeners()},t.prototype.putOptionsIntoDropdown=function(){var e=this,t=this.optionsFactory.getFilterOptions();ne(t,function(t){var o,n;if("string"==typeof t)n=e.translate(o=t);else{var i=e.optionsFactory.getCustomOption(o=t.displayKey);n=i?i.displayName:e.translate(o)}var r=function(){return{value:o,text:n}};e.eType1.addOption(r()),e.eType2.addOption(r())});var o=t.length<=1;this.eType1.setDisabled(o),this.eType2.setDisabled(o)},t.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},t.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(co.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(co.Two)},t.prototype.getCssIdentifier=function(){return"simple-filter"},t.prototype.updateUiVisibility=function(){var e=this.isConditionUiComplete(co.One),t=this.allowTwoConditions&&e;x(this.eCondition2Body,t),x(this.eType2.getGui(),t),x(this.eJoinOperatorPanel,t)},t.prototype.resetUiToDefaults=function(e){var t="ag-simple-filter-and-or-"+this.getCompId(),o=this.optionsFactory.getDefaultOption();return this.eType1.setValue(o,e),this.eType2.setValue(o,e),this.eJoinOperatorAnd.setValue(!0,e).setName(t).setLabel(this.translate("andCondition")),this.eJoinOperatorOr.setValue(!1,e).setName(t).setLabel(this.translate("orCondition")),ot.resolve()},t.prototype.translate=function(e){return this.gridOptionsWrapper.getLocaleTextFunc()(e,Eo[e])},t.prototype.addChangedListeners=function(){var e=this,t=function(){return e.onUiChanged()};this.eType1.onValueChange(t),this.eType2.onValueChange(t),this.eJoinOperatorOr.onValueChange(t),this.eJoinOperatorAnd.onValueChange(t)},t.prototype.doesFilterHaveHiddenInput=function(e){var t=this.optionsFactory.getCustomOption(e);return t&&t.hideFilterInput},t.EMPTY="empty",t.EQUALS="equals",t.NOT_EQUAL="notEqual",t.LESS_THAN="lessThan",t.LESS_THAN_OR_EQUAL="lessThanOrEqual",t.GREATER_THAN="greaterThan",t.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",t.IN_RANGE="inRange",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.STARTS_WITH="startsWith",t.ENDS_WITH="endsWith",bo([ro("eOptions1")],t.prototype,"eType1",void 0),bo([ro("eOptions2")],t.prototype,"eType2",void 0),bo([ro("eJoinOperatorAnd")],t.prototype,"eJoinOperatorAnd",void 0),bo([ro("eJoinOperatorOr")],t.prototype,"eJoinOperatorOr",void 0),bo([ro("eCondition2Body")],t.prototype,"eCondition2Body",void 0),bo([ro("eJoinOperatorPanel")],t.prototype,"eJoinOperatorPanel",void 0),t}(vo),_o=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),So=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _o(t,e),t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.scalarFilterParams=t,this.checkDeprecatedParams()},t.prototype.checkDeprecatedParams=function(){this.scalarFilterParams.nullComparator&&(console.warn("ag-Grid: Since v21.0, the property filterParams.nullComparator is deprecated. Please use filterParams.includeBlanksInEquals, filterParams.includeBlanksInLessThan and filterParams.includeBlanksInGreaterThan instead."),this.scalarFilterParams.includeBlanksInEquals=this.scalarFilterParams.nullComparator.equals,this.scalarFilterParams.includeBlanksInLessThan=this.scalarFilterParams.nullComparator.lessThan,this.scalarFilterParams.includeBlanksInGreaterThan=this.scalarFilterParams.nullComparator.greaterThan)},t.prototype.nullComparator=function(e,o,n){if(null==n)switch(e){case t.EMPTY:return 0;case t.EQUALS:return this.scalarFilterParams.includeBlanksInEquals?0:1;case t.NOT_EQUAL:return this.scalarFilterParams.includeBlanksInEquals?1:0;case t.GREATER_THAN:case t.GREATER_THAN_OR_EQUAL:return this.scalarFilterParams.includeBlanksInGreaterThan?1:-1;case t.LESS_THAN:case t.LESS_THAN_OR_EQUAL:return this.scalarFilterParams.includeBlanksInLessThan?-1:1}return this.comparator()(o,n)},t.prototype.individualConditionPasses=function(e,o){var n=this.scalarFilterParams.valueGetter(e.node),i=this.mapRangeFromModel(o),r=i.from,s=i.to,a=o.type,l=this.optionsFactory.getCustomOption(a);if(l&&(null!=r||l.hideFilterInput))return l.test(r,n);var u=this.nullComparator(a,r,n);switch(a){case t.EQUALS:return 0===u;case t.NOT_EQUAL:return 0!==u;case t.GREATER_THAN:return u>0;case t.GREATER_THAN_OR_EQUAL:return u>=0;case t.LESS_THAN:return u<0;case t.LESS_THAN_OR_EQUAL:return u<=0;case t.IN_RANGE:var c=this.nullComparator(a,s,n);return this.scalarFilterParams.inRangeInclusive?u>=0&&c<=0:u>0&&c<0;default:throw new Error("Unexpected type of filter: "+a)}},t}(Ro),Oo=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Do=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Po=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Oo(t,e),t.prototype.mapRangeFromModel=function(e){return{from:Ce(e.dateFrom),to:Ce(e.dateTo)}},t.prototype.setValueFromFloatingFilter=function(e){if(null!=e){var t=Ce(e);this.dateCondition1FromComp.setDate(t)}else this.dateCondition1FromComp.setDate(null);this.dateCondition1ToComp.setDate(null),this.dateCondition2FromComp.setDate(null),this.dateCondition2ToComp.setDate(null)},t.prototype.setConditionIntoUi=function(e,t){var o=e?[Ce(e.dateFrom),Ce(e.dateTo)]:[null,null],n=o[0],i=o[1],r=this.getFromToComponents(t),s=r[1];r[0].setDate(n),s.setDate(i)},t.prototype.resetUiToDefaults=function(t){var o=this;return e.prototype.resetUiToDefaults.call(this,t).then(function(){o.dateCondition1FromComp.setDate(null),o.dateCondition1ToComp.setDate(null),o.dateCondition2FromComp.setDate(null),o.dateCondition2ToComp.setDate(null)})},t.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},t.prototype.defaultComparator=function(e,t){return null==t||t<e?-1:t>e?1:0},t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.dateFilterParams=t,this.createDateComponents()},t.prototype.createDateComponents=function(){var e=this,t={onDateChanged:function(){return e.onUiChanged()},filterParams:this.dateFilterParams};this.dateCondition1FromComp=new fo(this.getContext(),this.userComponentFactory,t,this.eCondition1PanelFrom),this.dateCondition1ToComp=new fo(this.getContext(),this.userComponentFactory,t,this.eCondition1PanelTo),this.dateCondition2FromComp=new fo(this.getContext(),this.userComponentFactory,t,this.eCondition2PanelFrom),this.dateCondition2ToComp=new fo(this.getContext(),this.userComponentFactory,t,this.eCondition2PanelTo),this.addDestroyFunc(function(){e.dateCondition1FromComp.destroy(),e.dateCondition1ToComp.destroy(),e.dateCondition2FromComp.destroy(),e.dateCondition2ToComp.destroy()})},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var t=e===co.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+t+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+t+'PanelFrom">\n                </div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+t+'PanelTo">\n                </div>\n            </div>'},t.prototype.isConditionUiComplete=function(e){var t=e===co.One?this.getCondition1Type():this.getCondition2Type();if(t===Ro.EMPTY)return!1;if(this.doesFilterHaveHiddenInput(t))return!0;var o=this.getFromToComponents(e),n=o[1];return null!=o[0].getDate()&&(t!==Ro.IN_RANGE||null!=n.getDate())},t.prototype.areSimpleModelsEqual=function(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type},t.prototype.getFilterType=function(){return t.FILTER_TYPE},t.prototype.createCondition=function(e){var o=e===co.One?this.getCondition1Type():this.getCondition2Type(),n=this.getFromToComponents(e),i=n[1];return{dateFrom:ve(n[0].getDate()),dateTo:ve(i.getDate()),type:o,filterType:t.FILTER_TYPE}},t.prototype.resetPlaceholder=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc()("dateFormatOoo","yyyy-mm-dd");this.dateCondition1FromComp.setInputPlaceholder(e),this.dateCondition1ToComp.setInputPlaceholder(e),this.dateCondition2FromComp.setInputPlaceholder(e),this.dateCondition2ToComp.setInputPlaceholder(e)},t.prototype.updateUiVisibility=function(){e.prototype.updateUiVisibility.call(this),this.resetPlaceholder();var t=this.getCondition1Type();x(this.eCondition1PanelFrom,this.showValueFrom(t)),x(this.eCondition1PanelTo,this.showValueTo(t));var o=this.getCondition2Type();x(this.eCondition2PanelFrom,this.showValueFrom(o)),x(this.eCondition2PanelTo,this.showValueTo(o))},t.prototype.getFromToComponents=function(e){return e===co.One?[this.dateCondition1FromComp,this.dateCondition1ToComp]:[this.dateCondition2FromComp,this.dateCondition2ToComp]},t.FILTER_TYPE="date",t.DEFAULT_FILTER_OPTIONS=[So.EQUALS,So.GREATER_THAN,So.LESS_THAN,So.NOT_EQUAL,So.IN_RANGE],Do([ro("eCondition1PanelFrom")],t.prototype,"eCondition1PanelFrom",void 0),Do([ro("eCondition1PanelTo")],t.prototype,"eCondition1PanelTo",void 0),Do([ro("eCondition2PanelFrom")],t.prototype,"eCondition2PanelFrom",void 0),Do([ro("eCondition2PanelTo")],t.prototype,"eCondition2PanelTo",void 0),Do([ct("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(So),To=function(){function e(e,t){var o=this;void 0===t&&(t=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new vt,this.eElement=e,this.preventMouseClick=t;var n=this.onTouchStart.bind(this),i=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",n,{passive:!0}),this.eElement.addEventListener("touchmove",i,{passive:!0}),this.eElement.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push(function(){o.eElement.removeEventListener("touchstart",n,{passive:!0}),o.eElement.removeEventListener("touchmove",i,{passive:!0}),o.eElement.removeEventListener("touchend",r,{passive:!1})})}return e.prototype.getActiveTouch=function(e){for(var t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null},e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.onTouchStart=function(t){var o=this;if(!this.touching){this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;var n=this.touchStart;window.setTimeout(function(){o.touching&&o.touchStart===n&&!o.moved&&(o.moved=!0,o.eventService.dispatchEvent({type:e.EVENT_LONG_TAP,touchStart:o.touchStart,touchEvent:t}))},500)}},e.prototype.onTouchMove=function(e){if(this.touching){var t=this.getActiveTouch(e.touches);t&&!et.areEventsNear(t,this.touchStart,4)&&(this.moved=!0)}},e.prototype.onTouchEnd=function(t){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:e.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&t.preventDefault(),this.touching=!1)},e.prototype.checkForDoubleTap=function(){var t=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&t-this.lastTapTime>e.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:e.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=t},e.prototype.destroy=function(){this.destroyFuncs.forEach(function(e){return e()})},e.EVENT_TAP="tap",e.EVENT_DOUBLE_TAP="doubleTap",e.EVENT_LONG_TAP="longTap",e.DOUBLE_TAP_MILLIS=500,e}(),Ao=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Fo=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},No=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastMovingChanged=0,t}return Ao(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var o=et.firstExistingValue(e.template,t.TEMPLATE);o=o&&o.trim?o.trim():o,this.setTemplate(o),this.params=e,this.setupTap(),this.setupIcons(e.column),this.setupMenu(),this.setupSort(),this.setupFilterIcon(),this.setupText(e.displayName)},t.prototype.setupText=function(e){var t=et.escape(e);this.eText&&(this.eText.innerHTML=t)},t.prototype.setupIcons=function(e){this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addInIcon("menu",this.eMenu,e),this.addInIcon("filter",this.eFilter,e)},t.prototype.addInIcon=function(e,t,o){if(null!=t){var n=et.createIconNoSpan(e,this.gridOptionsWrapper,o);t.appendChild(n)}},t.prototype.setupTap=function(){var e=this,t=this.gridOptionsWrapper;if(!t.isSuppressTouch()){var o=new To(this.getGui(),!0),n=t.isSuppressMenuHide(),i=n&&et.exists(this.eMenu),r=i?new To(this.eMenu,!0):o;this.params.enableMenu&&this.addManagedListener(r,To[i?"EVENT_TAP":"EVENT_LONG_TAP"],function(o){t.getApi().showColumnMenuAfterMouseClick(e.params.column,o.touchStart)}),this.params.enableSorting&&this.addManagedListener(o,To.EVENT_TAP,function(t){n&&e.eMenu.contains(t.touchStart.target)||e.sortController.progressSort(e.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(function(){return o.destroy()}),i&&this.addDestroyFunc(function(){return r.destroy()})}},t.prototype.setupMenu=function(){var e=this;if(this.eMenu){var t=this.gridOptionsWrapper.isSuppressMenuHide();if(!this.params.enableMenu||et.isIOSUserAgent()&&!t)et.removeFromParent(this.eMenu);else{this.addManagedListener(this.eMenu,"click",function(){return e.showMenu(e.eMenu)}),t||(this.eMenu.style.opacity="0");var o=this.eMenu.style;o.transition="opacity 0.2s, border 0.2s",o["-webkit-transition"]="opacity 0.2s, border 0.2s"}}},t.prototype.setActiveParent=function(e){this.gridOptionsWrapper.isSuppressMenuHide()||(this.eMenu.style.opacity=e?"1":"0")},t.prototype.showMenu=function(e){e||(e=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,e)},t.prototype.removeSortIcons=function(){et.removeFromParent(this.eSortAsc),et.removeFromParent(this.eSortDesc),et.removeFromParent(this.eSortNone),et.removeFromParent(this.eSortOrder)},t.prototype.setupSort=function(){var e=this;if(this.params.enableSorting){var t=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,Et.EVENT_MOVING_CHANGED,function(){e.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(o){var n=e.params.column.isMoving(),i=(new Date).getTime();n||i-e.lastMovingChanged<50||e.params.progressSort(t?o.ctrlKey||o.metaKey:o.shiftKey)}),this.addManagedListener(this.params.column,Et.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.onSortChanged(),this.addManagedListener(this.eventService,Ft.EVENT_SORT_CHANGED,this.setMultiSortOrder.bind(this)),this.setMultiSortOrder()}else this.removeSortIcons()},t.prototype.onSortChanged=function(){if(et.addOrRemoveCssClass(this.getGui(),"ag-header-cell-sorted-asc",this.params.column.isSortAscending()),et.addOrRemoveCssClass(this.getGui(),"ag-header-cell-sorted-desc",this.params.column.isSortDescending()),et.addOrRemoveCssClass(this.getGui(),"ag-header-cell-sorted-none",this.params.column.isSortNone()),this.eSortAsc&&et.addOrRemoveCssClass(this.eSortAsc,"ag-hidden",!this.params.column.isSortAscending()),this.eSortDesc&&et.addOrRemoveCssClass(this.eSortDesc,"ag-hidden",!this.params.column.isSortDescending()),this.eSortNone){var e=!this.params.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();et.addOrRemoveCssClass(this.eSortNone,"ag-hidden",e||!this.params.column.isSortNone())}},t.prototype.setMultiSortOrder=function(){if(this.eSortOrder){var e=this.params.column,t=this.sortController.getColumnsWithSortingOrdered(),o=t.indexOf(e),n=t.length>1,i=e.isSorting()&&n;et.setDisplayed(this.eSortOrder,i),o>=0?this.eSortOrder.innerHTML=(o+1).toString():et.clearElement(this.eSortOrder)}},t.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,Et.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},t.prototype.onFilterChanged=function(){var e=this.params.column.isFilterActive();et.addOrRemoveCssClass(this.eFilter,"ag-hidden",!e)},t.TEMPLATE='<div class="ag-cell-label-container">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation" unselectable="on">\n                <span ref="eText" class="ag-header-cell-text" role="columnheader" unselectable="on"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <span ref="eSortOrder" class="ag-header-icon ag-header-label-icon ag-sort-order" aria-hidden="true"></span>\n                <span ref="eSortAsc" class="ag-header-icon ag-header-label-icon ag-sort-ascending-icon" aria-hidden="true"></span>\n                <span ref="eSortDesc" class="ag-header-icon ag-header-label-icon ag-sort-descending-icon" aria-hidden="true"></span>\n                <span ref="eSortNone" class="ag-header-icon ag-header-label-icon ag-sort-none-icon" aria-hidden="true"></span>\n            </div>\n        </div>',Fo([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Fo([ct("sortController")],t.prototype,"sortController",void 0),Fo([ct("menuFactory")],t.prototype,"menuFactory",void 0),Fo([ro("eFilter")],t.prototype,"eFilter",void 0),Fo([ro("eSortAsc")],t.prototype,"eSortAsc",void 0),Fo([ro("eSortDesc")],t.prototype,"eSortDesc",void 0),Fo([ro("eSortNone")],t.prototype,"eSortNone",void 0),Fo([ro("eSortOrder")],t.prototype,"eSortOrder",void 0),Fo([ro("eMenu")],t.prototype,"eMenu",void 0),Fo([ro("eLabel")],t.prototype,"eLabel",void 0),Fo([ro("eText")],t.prototype,"eText",void 0),t}(oo),xo=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Io=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Mo=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return xo(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e,this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},t.prototype.setupExpandIcons=function(){var e=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var t=function(t){if(!et.isStopPropagationForAgGrid(t)){var o=!e.params.columnGroup.isExpanded();e.columnController.setColumnGroupOpened(e.params.columnGroup.getOriginalColumnGroup(),o,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,t),this.addTouchAndClickListeners(this.eOpenIcon,t);var o=function(e){et.stopPropagationForAgGrid(e)};this.addManagedListener(this.eCloseIcon,"dblclick",o),this.addManagedListener(this.eOpenIcon,"dblclick",o),this.addManagedListener(this.getGui(),"dblclick",t),this.updateIconVisibility();var n=this.params.columnGroup.getOriginalColumnGroup();this.addManagedListener(n,_t.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(n,_t.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},t.prototype.addTouchAndClickListeners=function(e,t){var o=new To(e);this.addManagedListener(o,To.EVENT_TAP,t),this.addDestroyFunc(function(){return o.destroy()}),this.addManagedListener(e,"click",t)},t.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var e=this.params.columnGroup.isExpanded();et.setDisplayed(this.eOpenIcon,e),et.setDisplayed(this.eCloseIcon,!e)}else et.setDisplayed(this.eOpenIcon,!1),et.setDisplayed(this.eCloseIcon,!1)},t.prototype.addInIcon=function(e,t){var o=et.createIconNoSpan(e,this.gridOptionsWrapper,null);this.getRefElement(t).appendChild(o)},t.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return et.setDisplayed(this.eOpenIcon,!1),void et.setDisplayed(this.eCloseIcon,!1)},t.prototype.setupLabel=function(){var e=this.params.displayName;if(et.exists(e)){var t=et.escape(e);this.getRefElement("agLabel").innerHTML=t}},t.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="columnheader"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',Io([ct("columnController")],t.prototype,"columnController",void 0),Io([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Io([ro("agOpened")],t.prototype,"eOpenIcon",void 0),Io([ro("agClosed")],t.prototype,"eCloseIcon",void 0),t}(oo),Lo=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Go=function(){function e(){this.childrenMapped={},this.selectable=!0,this.__objectId=e.OBJECT_ID_SEQUENCE++,this.alreadyRendered=!1,this.highlighted=null,this.selected=!1}return e.prototype.setData=function(e){var t=this.data;this.data=e,this.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var o=this.createDataChangedEvent(e,t,!1);this.dispatchLocalEvent(o)},e.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},e.prototype.createDataChangedEvent=function(t,o,n){return{type:e.EVENT_DATA_CHANGED,node:this,oldData:o,newData:t,update:n}},e.prototype.createLocalRowEvent=function(e){return{type:e,node:this}},e.prototype.updateData=function(e){var t=this.data;this.data=e,this.updateDataOnDetailNode(),this.checkRowSelectable(),this.updateDataOnDetailNode();var o=this.createDataChangedEvent(e,t,!0);this.dispatchLocalEvent(o)},e.prototype.getRowIndexString=function(){return this.rowPinned===Ue.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===Ue.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},e.prototype.createDaemonNode=function(){var t=new e;return this.context.createBean(t),t.id=this.id,t.data=this.data,t.daemon=!0,t.selected=this.selected,t.level=this.level,t},e.prototype.setDataAndId=function(e,t){var o=et.exists(this.id)?this.createDaemonNode():null,n=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.selectionController.syncInRowNode(this,o),this.checkRowSelectable();var i=this.createDataChangedEvent(e,n,!1);this.dispatchLocalEvent(i)},e.prototype.checkRowSelectable=function(){var e=this.gridOptionsWrapper.getIsRowSelectableFunc(),t=e&&et.exists(this);this.setRowSelectable(!t||e(this))},e.prototype.setRowSelectable=function(t){this.selectable!==t&&(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_SELECTABLE_CHANGED)))},e.prototype.setId=function(t){var o=this.gridOptionsWrapper.getRowNodeIdFunc();o?this.data?(this.id=o(this.data),this.id&&this.id.startsWith&&this.id.startsWith(e.ID_PREFIX_ROW_GROUP)&&console.error("ag-Grid: Row ID's cannot start with "+e.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for ag-Grid's row grouping feature.")):this.id=void 0:this.id=t},e.prototype.isPixelInRange=function(e){return e>=this.rowTop&&e<this.rowTop+this.rowHeight},e.prototype.clearRowTop=function(){this.oldRowTop=this.rowTop,this.setRowTop(null)},e.prototype.setFirstChild=function(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_FIRST_CHILD_CHANGED)))},e.prototype.setLastChild=function(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_LAST_CHILD_CHANGED)))},e.prototype.setChildIndex=function(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_CHILD_INDEX_CHANGED)))},e.prototype.setRowTop=function(t){this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_TOP_CHANGED)))},e.prototype.setDragging=function(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_DRAGGING_CHANGED)))},e.prototype.setHighlighted=function(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HIGHLIGHT_CHANGED)))},e.prototype.setAllChildrenCount=function(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},e.prototype.setMaster=function(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_MASTER_CHANGED)))},e.prototype.setRowHeight=function(t,o){void 0===o&&(o=!1),this.rowHeight=t,this.rowHeightEstimated=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HEIGHT_CHANGED))},e.prototype.setRowIndex=function(t){this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_ROW_INDEX_CHANGED))},e.prototype.setUiLevel=function(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_UI_LEVEL_CHANGED)))},e.prototype.setExpanded=function(t){if(this.expanded!==t){this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_EXPANDED_CHANGED));var o=et.assign({},this.createGlobalRowEvent(Ft.EVENT_ROW_GROUP_OPENED),{expanded:t});this.mainEventService.dispatchEvent(o),this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridApi.redrawRows({rowNodes:[this]})}},e.prototype.createGlobalRowEvent=function(e){return{type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},e.prototype.dispatchLocalEvent=function(e){this.eventService&&this.eventService.dispatchEvent(e)},e.prototype.setDataValue=function(e,t){var o=this.columnController.getPrimaryColumn(e),n=this.valueService.getValue(o,this);this.valueService.setValue(this,o,t),this.dispatchCellChangedEvent(o,t,n)},e.prototype.setGroupValue=function(e,t){var o=this.columnController.getGridColumn(e);et.missing(this.groupData)&&(this.groupData={});var n=o.getColId(),i=this.groupData[n];i!==t&&(this.groupData[n]=t,this.dispatchCellChangedEvent(o,t,i))},e.prototype.setAggData=function(e){var t=this,o=et.getAllKeysInObjects([this.aggData,e]),n=this.aggData;this.aggData=e,this.eventService&&o.forEach(function(e){var o=t.columnController.getGridColumn(e);t.dispatchCellChangedEvent(o,t.aggData?t.aggData[e]:void 0,n?n[e]:void 0)})},e.prototype.hasChildren=function(){return this.group||this.childrenAfterGroup&&this.childrenAfterGroup.length>0},e.prototype.isEmptyRowGroupNode=function(){return this.group&&et.missingOrEmpty(this.childrenAfterGroup)},e.prototype.dispatchCellChangedEvent=function(t,o,n){this.dispatchLocalEvent({type:e.EVENT_CELL_CHANGED,node:this,column:t,newValue:o,oldValue:n})},e.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},e.prototype.isExpandable=function(){return this.hasChildren()||this.master},e.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},e.prototype.depthFirstSearch=function(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(t){return t.depthFirstSearch(e)}),e(this)},e.prototype.calculateSelectedFromChildren=function(){var e=!1,t=!1,o=!1;if(this.childrenAfterGroup)for(var n=0;n<this.childrenAfterGroup.length;n++){var i=this.childrenAfterGroup[n];if(i.selectable)switch(i.isSelected()){case!0:e=!0;break;case!1:t=!0;break;default:o=!0}}this.selectThisNode(o?void 0:!(!e||t)||!(!e&&t)&&void 0)},e.prototype.setSelectedInitialValue=function(e){this.selected=e},e.prototype.setSelected=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1),this.setSelectedParams({newValue:e,clearSelection:t,suppressFinishActions:o,rangeSelect:!1})},e.prototype.isRowPinned=function(){return this.rowPinned===Ue.PINNED_TOP||this.rowPinned===Ue.PINNED_BOTTOM},e.prototype.setSelectedParams=function(e){var t=this.gridOptionsWrapper.isGroupSelectsChildren(),o=!0===e.newValue,n=!0===e.clearSelection,i=!0===e.suppressFinishActions,r=!0===e.rangeSelect,s=t&&!0===e.groupSelectsFiltered;if(void 0===this.id)return console.warn("ag-Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("ag-Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(e);if(r){var a=this.selectionController.getLastSelectedNode()!==this,l=this.gridOptionsWrapper.isRowSelectionMulti();if(a&&l)return this.doRowRangeSelection()}var u=0;return s&&this.group||this.selectThisNode(o)&&u++,t&&this.group&&(u+=this.selectChildNodes(o,s)),i||(o&&(n||!this.gridOptionsWrapper.isRowSelectionMulti())&&(u+=this.selectionController.clearOtherNodes(this)),u>0&&(this.selectionController.updateGroupsFromChildrenSelections(),this.mainEventService.dispatchEvent({type:Ft.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})),o&&this.selectionController.setLastSelectedNode(this)),u},e.prototype.doRowRangeSelection=function(){var e=this.gridOptionsWrapper.isGroupSelectsChildren(),t=this.selectionController.getLastSelectedNode(),o=this.rowModel.getNodesInRangeForSelection(this,t),n=0;return o.forEach(function(t){t.group&&e||t.selectThisNode(!0)&&n++}),this.selectionController.updateGroupsFromChildrenSelections(),this.mainEventService.dispatchEvent({type:Ft.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi}),n},e.prototype.isParentOfNode=function(e){for(var t=this.parent;t;){if(t===e)return!0;t=t.parent}return!1},e.prototype.selectThisNode=function(t){if(!this.selectable&&t||this.selected===t)return!1;this.selected=t,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_ROW_SELECTED));var o=this.createGlobalRowEvent(Ft.EVENT_ROW_SELECTED);return this.mainEventService.dispatchEvent(o),!0},e.prototype.selectChildNodes=function(e,t){var o=t?this.childrenAfterFilter:this.childrenAfterGroup;if(!et.missing(o)){for(var n=0,i=0;i<o.length;i++)n+=o[i].setSelectedParams({newValue:e,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:t});return n}},e.prototype.addEventListener=function(e,t){this.eventService||(this.eventService=new vt),this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_MOUSE_ENTER))},e.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_MOUSE_LEAVE))},e.prototype.getFirstChildOfFirstChild=function(e){for(var t,o=this,n=!0,i=!1;n&&!i;){var r=o.parent;et.exists(r)&&o.firstChild?r.rowGroupColumn===e&&(i=!0,t=r):n=!1,o=r}return i?t:null},e.prototype.isFullWidthCell=function(){var e=this.gridOptionsWrapper.getIsFullWidthCellFunc();return!!e&&e(this)},e.ID_PREFIX_ROW_GROUP="row-group-",e.ID_PREFIX_TOP_PINNED="t-",e.ID_PREFIX_BOTTOM_PINNED="b-",e.OBJECT_ID_SEQUENCE=0,e.EVENT_ROW_SELECTED="rowSelected",e.EVENT_DATA_CHANGED="dataChanged",e.EVENT_CELL_CHANGED="cellChanged",e.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",e.EVENT_MASTER_CHANGED="masterChanged",e.EVENT_MOUSE_ENTER="mouseEnter",e.EVENT_MOUSE_LEAVE="mouseLeave",e.EVENT_HEIGHT_CHANGED="heightChanged",e.EVENT_TOP_CHANGED="topChanged",e.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",e.EVENT_LAST_CHILD_CHANGED="lastChildChanged",e.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",e.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",e.EVENT_EXPANDED_CHANGED="expandedChanged",e.EVENT_SELECTABLE_CHANGED="selectableChanged",e.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",e.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",e.EVENT_DRAGGING_CHANGED="draggingChanged",Lo([ct("eventService")],e.prototype,"mainEventService",void 0),Lo([ct("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Lo([ct("selectionController")],e.prototype,"selectionController",void 0),Lo([ct("columnController")],e.prototype,"columnController",void 0),Lo([ct("valueService")],e.prototype,"valueService",void 0),Lo([ct("rowModel")],e.prototype,"rowModel",void 0),Lo([ct("context")],e.prototype,"context",void 0),Lo([ct("valueCache")],e.prototype,"valueCache",void 0),Lo([ct("columnApi")],e.prototype,"columnApi",void 0),Lo([ct("gridApi")],e.prototype,"gridApi",void 0),e}(),ko=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Vo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labelSeparator="",t.labelAlignment="left",t.config={},t.label="",t}return ko(t,e),t.prototype.postConstruct=function(){et.addCssClass(this.getGui(),"ag-labeled"),et.addCssClass(this.eLabel,"ag-label");var e=this.config,t=e.labelSeparator,o=e.label,n=e.labelWidth,i=e.labelAlignment;null!=t&&this.setLabelSeparator(t),null!=o&&this.setLabel(o),null!=n&&this.setLabelWidth(n),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel()},t.prototype.refreshLabel=function(){this.eLabel.innerText=this.label+this.labelSeparator,et.addOrRemoveCssClass(this.eLabel,"ag-hidden",""===this.label)},t.prototype.setLabelSeparator=function(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this},t.prototype.setLabel=function(e){return this.label===e||(this.label=e,this.refreshLabel()),this},t.prototype.setLabelAlignment=function(e){var t=this.getGui();return et.addOrRemoveCssClass(t,"ag-label-align-left","left"===e),et.addOrRemoveCssClass(t,"ag-label-align-right","right"===e),et.addOrRemoveCssClass(t,"ag-label-align-top","top"===e),this},t.prototype.setLabelWidth=function(e){return null==this.label||et.setElementWidth(this.eLabel,e),this},function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([at],t.prototype,"postConstruct",null),t}(oo),Ho=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Wo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.disabled=!1,t}return Ho(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),T(this.getGui(),this.className)},t.prototype.onValueChange=function(e){var o=this;return this.addManagedListener(this,t.EVENT_CHANGED,function(){return e(o.getValue())}),this},t.prototype.getWidth=function(){return this.getGui().clientWidth},t.prototype.setWidth=function(e){return W(this.getGui(),e),this},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e,o){return this.value===e||(this.value=e,o||this.dispatchEvent({type:t.EVENT_CHANGED})),this},t.prototype.setDisabled=function(e){e=!!e;var t=this.getGui();return I(t,e),F(t,"ag-disabled",e),this.disabled=e,this},t.prototype.isDisabled=function(){return!!this.disabled},t.EVENT_CHANGED="valueChange",t}(Vo),Bo=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),jo=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Uo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.config={},t.TEMPLATE='\n        <div role="presentation">\n            <label ref="eLabel" class="ag-input-field-label"></label>\n            <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                <%displayField% ref="eInput" class="ag-input-field-input"></%displayField%>\n            </div>\n        </div>',t}return Bo(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.setInputType(),T(this.eLabel,this.className+"-label"),T(this.eWrapper,this.className+"-input-wrapper"),T(this.eInput,this.className+"-input"),T(this.getGui(),"ag-input-field");var t=this.eInput.id?this.eInput.id:"ag-input-id-"+this.getCompId();this.eLabel.htmlFor=t,this.eInput.id=t;var o=this.config,n=o.width,i=o.value;null!=n&&this.setWidth(n),null!=i&&this.setValue(i),this.addInputListeners()},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(t){e.setValue(t.target.value)})},t.prototype.setInputType=function(){this.inputType&&this.eInput.setAttribute("type",this.inputType)},t.prototype.getInputElement=function(){return this.eInput},t.prototype.setInputWidth=function(e){return H(this.eWrapper,e),this},t.prototype.setInputName=function(e){return this.getInputElement().setAttribute("name",e),this},t.prototype.getFocusableElement=function(){return this.eInput},t.prototype.setMaxLength=function(e){return this.eInput.maxLength=e,this},t.prototype.setInputPlaceholder=function(e){var t=this.eInput;return e?t.setAttribute("placeholder",e):t.removeAttribute("placeholder"),this},t.prototype.setDisabled=function(t){return I(this.eInput,t),e.prototype.setDisabled.call(this,t)},t.prototype.setInputAriaLabel=function(e){return this.eInput.setAttribute("aria-label",e),this},jo([ro("eLabel")],t.prototype,"eLabel",void 0),jo([ro("eWrapper")],t.prototype,"eWrapper",void 0),jo([ro("eInput")],t.prototype,"eInput",void 0),t}(Wo),zo=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ko=function(e){function t(){var t=e.call(this)||this;return t.className="ag-checkbox",t.displayTag="input",t.inputType="checkbox",t.labelAlignment="right",t.selected=!1,t.readOnly=!1,t.passive=!1,t.setTemplate(t.TEMPLATE.replace(/%displayField%/g,t.displayTag)),t}return zo(t,e),t.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this))},t.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},t.prototype.setPassive=function(e){this.passive=e},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setReadOnly=function(e){et.addOrRemoveCssClass(this.eWrapper,"ag-disabled",e),this.eInput.disabled=e,this.readOnly=e},t.prototype.setDisabled=function(t){return et.addOrRemoveCssClass(this.eWrapper,"ag-disabled",t),e.prototype.setDisabled.call(this,t)},t.prototype.toggle=function(){var e=this.getNextValue();this.passive?this.dispatchChange(e):this.setValue(e)},t.prototype.getValue=function(){return this.isSelected()},t.prototype.setValue=function(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this},t.prototype.setName=function(e){return this.getInputElement().name=e,this},t.prototype.isSelected=function(){return this.selected},t.prototype.setSelected=function(e,t){this.isSelected()!==e&&(this.selected="boolean"==typeof e?e:void 0,this.eInput.checked=this.selected,this.eInput.indeterminate=void 0===this.selected,t||this.dispatchChange(this.selected))},t.prototype.dispatchChange=function(e,o){this.dispatchEvent({type:t.EVENT_CHANGED,selected:e,event:o});var n=this.getInputElement();this.eventService.dispatchEvent({type:Ft.EVENT_CHECKBOX_CHANGED,id:n.id,name:n.name,selected:e})},t.prototype.onCheckboxClick=function(e){this.selected=e.target.checked,this.refreshSelectedClass(this.selected),this.dispatchChange(this.selected,e)},t.prototype.refreshSelectedClass=function(e){et.addOrRemoveCssClass(this.eWrapper,"ag-checked",!0===e),et.addOrRemoveCssClass(this.eWrapper,"ag-indeterminate",null==e)},function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(Uo),Yo=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),qo=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},$o=function(e){function t(){return e.call(this,'\n            <div class="ag-selection-checkbox">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return Yo(t,e),t.prototype.onDataChanged=function(){this.onSelectionChanged()},t.prototype.onSelectableChanged=function(){this.showOrHideSelect()},t.prototype.onSelectionChanged=function(){var e=this.rowNode.isSelected();this.eCheckbox.setValue(e,!0)},t.prototype.onCheckedClicked=function(){var e=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,groupSelectsFiltered:e})},t.prototype.onUncheckedClicked=function(e){var t=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:e.shiftKey,groupSelectsFiltered:t})},t.prototype.init=function(e){var t=this;this.rowNode=e.rowNode,this.column=e.column,this.onSelectionChanged(),this.addGuiEventListener("click",function(e){return et.stopPropagationForAgGrid(e)}),this.addGuiEventListener("dblclick",function(e){return et.stopPropagationForAgGrid(e)}),this.addManagedListener(this.eCheckbox,Ko.EVENT_CHANGED,function(e){e.selected?t.onUncheckedClicked(e.event||{}):t.onCheckedClicked()}),this.addManagedListener(this.rowNode,Go.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Go.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Go.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc(),(this.isRowSelectableFunc||this.checkboxCallbackExists())&&(this.addManagedListener(this.eventService,Ft.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelect.bind(this)),this.showOrHideSelect()),this.eCheckbox.setInputAriaLabel("Toggle Row Selection")},t.prototype.showOrHideSelect=function(){var e=this.rowNode.selectable;e&&this.checkboxCallbackExists()&&(e=this.column.isCellCheckboxSelection(this.rowNode)),this.setDisplayed(e)},t.prototype.checkboxCallbackExists=function(){var e=this.column?this.column.getColDef():null;return e&&"function"==typeof e.checkboxSelection},qo([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),qo([ro("eCheckbox")],t.prototype,"eCheckbox",void 0),t}(oo),Qo={propertyName:"dateComponent",isCellRenderer:function(){return!1}},Xo={propertyName:"headerComponent",isCellRenderer:function(){return!1}},Zo={propertyName:"headerGroupComponent",isCellRenderer:function(){return!1}},Jo={propertyName:"groupRowInnerRenderer",isCellRenderer:function(){return!0}},en={propertyName:"cellRenderer",isCellRenderer:function(){return!0}},tn={propertyName:"pinnedRowCellRenderer",isCellRenderer:function(){return!0}},on={propertyName:"cellEditor",isCellRenderer:function(){return!1}},nn={propertyName:"innerRenderer",isCellRenderer:function(){return!0}},rn={propertyName:"loadingOverlayComponent",isCellRenderer:function(){return!1}},sn={propertyName:"noRowsOverlayComponent",isCellRenderer:function(){return!1}},an={propertyName:"tooltipComponent",isCellRenderer:function(){return!1}},ln={propertyName:"filter",isCellRenderer:function(){return!1}},un={propertyName:"floatingFilterComponent",isCellRenderer:function(){return!1}},cn={propertyName:"toolPanel",isCellRenderer:function(){return!1}},pn={propertyName:"statusPanel",isCellRenderer:function(){return!1}},dn=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),hn=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.REGISTERED_BY_NAME=1]="REGISTERED_BY_NAME",e[e.HARDCODED=2]="HARDCODED"}(wo||(wo={}));var fn,gn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return dn(t,e),t.prototype.newDateComponent=function(e){return this.createAndInitUserComponent(this.gridOptions,e,Qo,"agDateInput")},t.prototype.newHeaderComponent=function(e){return this.createAndInitUserComponent(e.column.getColDef(),e,Xo,"agColumnHeader")},t.prototype.newHeaderGroupComponent=function(e){return this.createAndInitUserComponent(e.columnGroup.getColGroupDef(),e,Zo,"agColumnGroupHeader")},t.prototype.newFullWidthGroupRowInnerCellRenderer=function(e){return this.createAndInitUserComponent(this.gridOptions,e,Jo,null,!0)},t.prototype.newFullWidthCellRenderer=function(e,t,o){return this.createAndInitUserComponent(null,e,{propertyName:t,isCellRenderer:function(){return!0}},o)},t.prototype.newCellRenderer=function(e,t,o){return void 0===o&&(o=!1),this.createAndInitUserComponent(e,t,o?tn:en,null,!0)},t.prototype.newCellEditor=function(e,t){return this.createAndInitUserComponent(e,t,on,"agCellEditor")},t.prototype.newInnerCellRenderer=function(e,t){return this.createAndInitUserComponent(e,t,nn,null)},t.prototype.newLoadingOverlayComponent=function(e){return this.createAndInitUserComponent(this.gridOptions,e,rn,"agLoadingOverlay")},t.prototype.newNoRowsOverlayComponent=function(e){return this.createAndInitUserComponent(this.gridOptions,e,sn,"agNoRowsOverlay")},t.prototype.newTooltipComponent=function(e){return this.createAndInitUserComponent(e.colDef,e,an,"agTooltipComponent")},t.prototype.newFilterComponent=function(e,t,o,n){return this.createAndInitUserComponent(e,t,ln,o,!1,n)},t.prototype.newSetFilterCellRenderer=function(e,t){return this.createAndInitUserComponent(e,t,en,null,!0)},t.prototype.newFloatingFilterComponent=function(e,t,o){return this.createAndInitUserComponent(e,t,un,o,!0)},t.prototype.newToolPanelComponent=function(e,t){return this.createAndInitUserComponent(e,t,cn)},t.prototype.newStatusPanelComponent=function(e,t){return this.createAndInitUserComponent(e,t,pn)},t.prototype.createAndInitUserComponent=function(e,t,o,n,i,r){void 0===i&&(i=!1),e||(e=this.gridOptions);var s=this.createComponentInstance(e,o,t,n,i);if(!s)return null;var a=s.componentInstance,l=this.createFinalParams(e,o.propertyName,t,s.paramsFromSelector);this.addReactHacks(l);var u=r?r(l,a):l,c=this.initComponent(a,u);return null==c?ot.resolve(a):c.then(function(){return a})},t.prototype.addReactHacks=function(e){var t=this.context.getBean("agGridReact");t&&(e.agGridReact=ae(t));var o=this.context.getBean("frameworkComponentWrapper");o&&(e.frameworkComponentWrapper=o)},t.prototype.createUserComponentFromConcreteClass=function(e,t){var o=new e;return this.initComponent(o,t),o},t.prototype.lookupComponentClassDef=function(e,t,o,n){void 0===o&&(o=null);var i,r=null,s=null,a=null,l=null;if(null!=e){var u=e[t];null==u||!0===u||("string"==typeof u?r=u:"boolean"==typeof u||(this.agComponentUtils.doesImplementIComponent(u)?s=u:a=u)),l=e[t+"Framework"],i=e[t+"Selector"]}if(s&&l||r&&l||a&&l)throw Error("ag-grid: you are trying to specify: "+t+" twice as a component.");if(l&&!this.frameworkComponentWrapper)throw Error("ag-grid: you are specifying a framework component but you are not using a framework version of ag-grid for : "+t);if(i&&(r||s||a||l))throw Error("ag-grid: you can't specify both, the selector and the component of ag-grid for : "+t);if(l)return{componentFromFramework:!0,component:l,source:wo.HARDCODED,paramsFromSelector:null};if(s)return{componentFromFramework:!1,component:s,source:wo.HARDCODED,paramsFromSelector:null};if(a)return this.agComponentUtils.adaptFunction(t,a,!1,wo.HARDCODED);var c,p=i?i(o):null;if(!(c=p&&p.component?p.component:r||n))return null;var d=this.lookupFromRegisteredComponents(t,c);return d?{componentFromFramework:d.componentFromFramework,component:d.component,source:d.source,paramsFromSelector:p?p.params:null}:null},t.prototype.lookupFromRegisteredComponents=function(e,t){var o=this.userComponentRegistry.retrieve(null!=t?t:e);return null==o?null:o.componentFromFramework?{component:o.component,componentFromFramework:!0,source:wo.REGISTERED_BY_NAME,paramsFromSelector:null}:this.agComponentUtils.doesImplementIComponent(o.component)?{component:o.component,componentFromFramework:!1,source:o.source==fn.REGISTERED?wo.REGISTERED_BY_NAME:wo.DEFAULT,paramsFromSelector:null}:this.agComponentUtils.adaptFunction(e,o.component,o.componentFromFramework,o.source==fn.REGISTERED?wo.REGISTERED_BY_NAME:wo.DEFAULT)},t.prototype.createFinalParams=function(e,t,o,n){void 0===n&&(n=null);var i={};pe(i,o);var r=e?e[t+"Params"]:null;return null!=r&&("function"==typeof r?pe(i,r(o)):"object"==typeof r&&pe(i,r)),pe(i,n),i},t.prototype.createComponentInstance=function(e,t,o,n,i){var r,s=t.propertyName,a=this.lookupComponentClassDef(e,s,o,n);if(!a||!a.component)return i||console.error("Could not find component "+((e?e[s]:n)||n)+", did you forget to configure this component?"),null;if(a.componentFromFramework){var l=a.component,u=this.componentMetadataProvider.retrieve(s);r=this.frameworkComponentWrapper.wrap(l,u.mandatoryMethodList,u.optionalMethodList,t,n)}else r=new a.component;return{componentInstance:r,paramsFromSelector:a.paramsFromSelector}},t.prototype.initComponent=function(e,t){if(this.context.createBean(e),null!=e.init)return e.init(t)},hn([ct("gridOptions")],t.prototype,"gridOptions",void 0),hn([ct("agComponentUtils")],t.prototype,"agComponentUtils",void 0),hn([ct("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),hn([ct("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),hn([pt("frameworkComponentWrapper")],t.prototype,"frameworkComponentWrapper",void 0),hn([ut("userComponentFactory")],t)}(Dt),mn=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),yn=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},vn=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return mn(t,e),t.prototype.init=function(e){this.params=e,this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&this.assignBlankValueToGroupFooterCell(e);var t=this.isEmbeddedRowMismatch(),o=null==e.value,n=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var i=e.node;i.footer&&(n=(e.colDef&&e.colDef.showRowGroup)!==(i.rowGroupColumn&&i.rowGroupColumn.getColId()))}this.cellIsBlank=t||o||n,this.cellIsBlank||(this.setupDragOpenParents(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent())},t.prototype.assignBlankValueToGroupFooterCell=function(e){e.value||-1!=e.node.level||(e.value="")},t.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var e=this.params.pinned===Ue.PINNED_LEFT,t=this.params.pinned===Ue.PINNED_RIGHT,o=!e&&!t;return this.gridOptionsWrapper.isEnableRtl()?this.columnController.isPinningLeft()?!t:!o:this.columnController.isPinningLeft()?!e:!o},t.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var e=this.params,t=e.node.uiLevel;e.padding>=0?this.setPaddingDeprecatedWay(t,e.padding):(this.indentClass&&this.removeCssClass(this.indentClass),this.indentClass="ag-row-group-indent-"+t,this.addCssClass(this.indentClass))}},t.prototype.setPaddingDeprecatedWay=function(e,t){et.doOnce(function(){return console.warn("ag-Grid: since v14.2, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the ag-Grid documentation page for Themes, in particular the property $row-group-indent-size.")},"groupCellRenderer->doDeprecatedWay");var o=e*t,n=this.getGui(),i=this.gridOptionsWrapper.isEnableRtl()?"paddingRight":"paddingLeft";n.style[i]=o+"px"},t.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,Go.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},t.prototype.addValueElement=function(){var e=this.params,t=this.displayedGroup;t.footer?this.createFooterCell():t.hasChildren()||et.get(e.colDef,"cellRendererParams.innerRenderer",null)||et.get(e.colDef,"cellRendererParams.innerRendererFramework",null)?(this.createGroupCell(),t.hasChildren()&&this.addChildCount()):this.createLeafCell()},t.prototype.createFooterCell=function(){var e,t=this.params.footerValueGetter;if(t){var o=et.cloneObject(this.params);o.value=this.params.value,"function"==typeof t?e=t(o):"string"==typeof t?e=this.expressionService.evaluate(t,o):console.warn("ag-Grid: footerValueGetter should be either a function or a string (expression)")}else e="Total "+this.params.value;this.eValue.innerHTML=e},t.prototype.createGroupCell=function(){var e,t=this,o=this.params,n=this.displayedGroup.rowGroupColumn||o.column,i=n?this.valueFormatterService.formatValue(n,o.node,o.scope,this.params.value):null;o.valueFormatted=i,(e=o.fullWidth?this.useFullWidth(o):this.useInnerRenderer(this.params.colDef.cellRendererParams,n.getColDef(),o))&&e.then(function(e){t.innerCellRenderer=e})},t.prototype.useInnerRenderer=function(e,t,o){var n=this,i=null,r=this.userComponentFactory.lookupComponentClassDef(e,"innerRenderer");if(r&&null!=r.component&&r.source!=wo.DEFAULT)i=this.userComponentFactory.newInnerCellRenderer(e,o);else{var s=this.userComponentFactory.lookupComponentClassDef(t,"cellRenderer");i=s&&s.source!=wo.DEFAULT?this.userComponentFactory.newCellRenderer(t,o):s&&s.source==wo.DEFAULT&&et.get(t,"cellRendererParams.innerRenderer",null)?this.userComponentFactory.newInnerCellRenderer(t.cellRendererParams,o):this.userComponentFactory.newCellRenderer({},o)}return null!=i?i.then(function(e){null!=e?et.bindCellRendererToHtmlElement(i,n.eValue):n.eValue.innerText=null!=o.valueFormatted?o.valueFormatted:o.value}):this.eValue.innerText=null!=o.valueFormatted?o.valueFormatted:o.value,i},t.prototype.useFullWidth=function(e){var t=this.userComponentFactory.newFullWidthGroupRowInnerCellRenderer(e);return null!=t?et.bindCellRendererToHtmlElement(t,this.eValue):this.eValue.innerText=null!=e.valueFormatted?e.valueFormatted:e.value,t},t.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroup,Go.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},t.prototype.updateChildCount=function(){var e=this.displayedGroup.allChildrenCount;this.eChildCount.innerHTML=e>=0?"("+e+")":""},t.prototype.createLeafCell=function(){et.exists(this.params.value)&&(this.eValue.innerText=this.params.valueFormatted?this.params.valueFormatted:this.params.value)},t.prototype.isUserWantsSelected=function(){var e=this.params.checkbox;return"function"==typeof e?e(this.params):!0===e},t.prototype.addCheckboxIfNeeded=function(){var e=this,t=this.displayedGroup,o=this.isUserWantsSelected()&&!t.footer&&!t.rowPinned&&!t.detail;if(o){var n=new $o;this.getContext().createBean(n),n.init({rowNode:t,column:this.params.column}),this.eCheckbox.appendChild(n.getGui()),this.addDestroyFunc(function(){return e.getContext().destroyBean(n)})}et.addOrRemoveCssClass(this.eCheckbox,"ag-invisible",!o)},t.prototype.addExpandAndContract=function(){var e=this.params,t=e.eGridCell,o=et.createIconNoSpan("groupExpanded",this.gridOptionsWrapper,null),n=et.createIconNoSpan("groupContracted",this.gridOptionsWrapper,null);this.eExpanded.appendChild(o),this.eContracted.appendChild(n),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(e.node,Go.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons(),this.addManagedListener(this.displayedGroup,Go.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.onRowNodeIsExpandableChanged.bind(this)),this.addManagedListener(this.displayedGroup,Go.EVENT_MASTER_CHANGED,this.onRowNodeIsExpandableChanged.bind(this)),this.gridOptionsWrapper.isEnableGroupEdit()||!this.isExpandable()||e.suppressDoubleClickExpand||this.addManagedListener(t,"dblclick",this.onCellDblClicked.bind(this))},t.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent()},t.prototype.onKeyDown=function(e){et.isKeyPressed(e,Ue.KEY_ENTER)&&!this.params.suppressEnterExpand&&(this.params.column&&this.params.column.isCellEditable(this.params.node)||(e.preventDefault(),this.onExpandOrContract()))},t.prototype.setupDragOpenParents=function(){var e=this.params.column,t=this.params.node;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(t.hasChildren()){var o=t.rowGroupColumn;this.draggedFromHideOpenParents=!!o&&!e.isRowGroupDisplayed(o.getId())}else this.draggedFromHideOpenParents=!0;else this.draggedFromHideOpenParents=!1;if(this.draggedFromHideOpenParents)for(var n=t.parent;!et.missing(n);){if(n.rowGroupColumn&&e.isRowGroupDisplayed(n.rowGroupColumn.getId())){this.displayedGroup=n;break}n=n.parent}et.missing(this.displayedGroup)&&(this.displayedGroup=t)},t.prototype.onExpandClicked=function(e){et.isStopPropagationForAgGrid(e)||(et.stopPropagationForAgGrid(e),this.onExpandOrContract())},t.prototype.onCellDblClicked=function(e){et.isStopPropagationForAgGrid(e)||et.isElementInEventPath(this.eExpanded,e)||et.isElementInEventPath(this.eContracted,e)||this.onExpandOrContract()},t.prototype.onExpandOrContract=function(){var e=this.displayedGroup;e.setExpanded(!e.expanded)},t.prototype.isExpandable=function(){var e=this.params.node,t=this.columnController.isPivotMode()&&e.leafGroup;return this.draggedFromHideOpenParents||e.isExpandable()&&!e.footer&&!t},t.prototype.showExpandAndContractIcons=function(){var e=this.params.node;if(this.isExpandable()){var t=!!this.draggedFromHideOpenParents||e.expanded;et.setDisplayed(this.eContracted,!t),et.setDisplayed(this.eExpanded,t)}else et.setDisplayed(this.eExpanded,!1),et.setDisplayed(this.eContracted,!1);var o=this.displayedGroup,n=this.columnController.isPivotMode()&&o.leafGroup,i=!o.isExpandable(),r=o.footer||i||n;this.addOrRemoveCssClass("ag-row-group",!r),this.addOrRemoveCssClass("ag-row-group-leaf-indent",r)},t.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),e.prototype.destroy.call(this)},t.prototype.refresh=function(){return!1},t.TEMPLATE='<span class="ag-cell-wrapper"><span class="ag-group-expanded" ref="eExpanded"></span><span class="ag-group-contracted" ref="eContracted"></span><span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span><span class="ag-group-value" ref="eValue"></span><span class="ag-group-child-count" ref="eChildCount"></span></span>',yn([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),yn([ct("expressionService")],t.prototype,"expressionService",void 0),yn([ct("valueFormatterService")],t.prototype,"valueFormatterService",void 0),yn([ct("columnController")],t.prototype,"columnController",void 0),yn([ct("userComponentFactory")],t.prototype,"userComponentFactory",void 0),yn([ro("eExpanded")],t.prototype,"eExpanded",void 0),yn([ro("eContracted")],t.prototype,"eContracted",void 0),yn([ro("eCheckbox")],t.prototype,"eCheckbox",void 0),yn([ro("eValue")],t.prototype,"eValue",void 0),yn([ro("eChildCount")],t.prototype,"eChildCount",void 0),t}(oo),Cn=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),bn=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.refreshCount=0,o}return Cn(t,e),t.prototype.init=function(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e)},t.prototype.showDelta=function(e,t){var o=Math.abs(t),n=e.formatValue(o),i=et.exists(n)?n:o,r=t>=0;this.eDelta.innerHTML=r?"\u2191"+i:"\u2193"+i,et.addOrRemoveCssClass(this.eDelta,"ag-value-change-delta-up",r),et.addOrRemoveCssClass(this.eDelta,"ag-value-change-delta-down",!r)},t.prototype.setTimerToRemoveDelta=function(){var e=this;this.refreshCount++;var t=this.refreshCount;window.setTimeout(function(){t===e.refreshCount&&e.hideDeltaValue()},2e3)},t.prototype.hideDeltaValue=function(){et.removeCssClass(this.eValue,"ag-value-change-value-highlight"),et.clearElement(this.eDelta)},t.prototype.refresh=function(e){var t=e.value;if(t!==this.lastValue&&(et.exists(e.valueFormatted)?this.eValue.innerHTML=e.valueFormatted:et.exists(e.value)?this.eValue.innerHTML=t:et.clearElement(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return"number"==typeof t&&"number"==typeof this.lastValue&&this.showDelta(e,t-this.lastValue),this.lastValue&&et.addCssClass(this.eValue,"ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=t,!0},t.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([ct("filterManager")],t.prototype,"filterManager",void 0),t}(oo),wn=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),En=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.refreshCount=0,o.eCurrent=o.queryForHtmlElement(".ag-value-slide-current"),o}return wn(t,e),t.prototype.init=function(e){this.params=e,this.refresh(e)},t.prototype.addSlideAnimation=function(){var e=this;this.refreshCount++;var t=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=et.loadTemplate('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){t===e.refreshCount&&et.addCssClass(e.ePrevious,"ag-value-slide-out-end")},50),window.setTimeout(function(){t===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)},3e3)},t.prototype.refresh=function(e){var t=e.value;if(et.missing(t)&&(t=""),t!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering())return this.addSlideAnimation(),this.lastValue=t,et.exists(e.valueFormatted)?this.eCurrent.innerHTML=e.valueFormatted:et.exists(e.value)?this.eCurrent.innerHTML=t:et.clearElement(this.eCurrent),!0},t.TEMPLATE='<span><span class="ag-value-slide-current"></span></span>',function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([ct("filterManager")],t.prototype,"filterManager",void 0),t}(oo),Rn=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),_n=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Sn=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Rn(t,e),t.prototype.init=function(e){var t=et.createIconNoSpan("groupLoading",this.gridOptionsWrapper,null);this.eLoadingIcon.appendChild(t);var o=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=o("loadingOoo","Loading")},t.prototype.refresh=function(e){return!1},t.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',_n([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),_n([ro("eLoadingIcon")],t.prototype,"eLoadingIcon",void 0),_n([ro("eLoadingText")],t.prototype,"eLoadingText",void 0),t}(oo),On=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Dn=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Pn=function(e){function t(){return e.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this}return On(t,e),t.prototype.init=function(e){var t=this;this.focusAfterAttached=e.cellStartedEdit,et.missing(e.values)?console.warn("ag-Grid: no values found for select cellEditor"):(e.values.forEach(function(o){var n={value:o},i=t.valueFormatterService.formatValue(e.column,null,null,o);n.text=null!=i?i:o,t.eSelect.addOption(n)}),this.eSelect.setValue(e.value,!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange(function(){return e.stopEditing()}))},t.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus()},t.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},t.prototype.getValue=function(){return this.eSelect.getValue()},t.prototype.isPopup=function(){return!1},Dn([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Dn([ct("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Dn([ro("eSelect")],t.prototype,"eSelect",void 0),t}(io),Tn=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),An=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tn(t,e),t.prototype.isPopup=function(){return!0},t}(ho),Fn=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Nn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fn(t,e),t.prototype.isPopup=function(){return!0},t}(Pn),xn=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),In=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return xn(t,e),t.prototype.init=function(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),et.exists(e.value)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},t.prototype.onKeyDown=function(e){var t=e.which||e.keyCode;(t==Ue.KEY_LEFT||t==Ue.KEY_UP||t==Ue.KEY_RIGHT||t==Ue.KEY_DOWN||e.shiftKey&&t==Ue.KEY_ENTER)&&e.stopPropagation()},t.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},t.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},t.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([ro("eTextArea")],t.prototype,"eTextArea",void 0),t}(io),Mn=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ln=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Gn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mn(t,e),t.prototype.mapRangeFromModel=function(e){return{from:e.filter,to:e.filterTo}},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.resetUiToDefaults=function(t){var o=this;return e.prototype.resetUiToDefaults.call(this,t).then(function(){[o.eValueFrom1,o.eValueFrom2,o.eValueTo1,o.eValueTo2].forEach(function(e){return e.setValue(null,t)}),o.resetPlaceholder()})},t.prototype.setConditionIntoUi=function(e,t){var o=t===co.One,n=o?this.eValueTo1:this.eValueTo2;(o?this.eValueFrom1:this.eValueFrom2).setValue(e?""+e.filter:null),n.setValue(e?""+e.filterTo:null)},t.prototype.setValueFromFloatingFilter=function(e){this.eValueFrom1.setValue(e),this.eValueFrom2.setValue(null),this.eValueTo1.setValue(null),this.eValueTo2.setValue(null)},t.prototype.comparator=function(){return function(e,t){return e===t?0:e<t?1:-1}},t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.addValueChangedListeners()},t.prototype.addValueChangedListeners=function(){var e=this,t=function(){return e.onUiChanged()};this.eValueFrom1.onValueChange(t),this.eValueFrom2.onValueChange(t),this.eValueTo1.onValueChange(t),this.eValueTo2.onValueChange(t)},t.prototype.resetPlaceholder=function(){var e=this.getCondition1Type()===So.IN_RANGE,t=this.getCondition2Type()===So.IN_RANGE;this.eValueFrom1.setInputPlaceholder(this.translate(e?"inRangeStart":"filterOoo")),this.eValueTo1.setInputPlaceholder(this.translate(e?"inRangeEnd":"filterOoo")),this.eValueFrom2.setInputPlaceholder(this.translate(t?"inRangeStart":"filterOoo")),this.eValueTo2.setInputPlaceholder(this.translate(t?"inRangeEnd":"filterOoo"))},t.prototype.afterGuiAttached=function(t){e.prototype.afterGuiAttached.call(this,t),this.resetPlaceholder(),this.eValueFrom1.getInputElement().focus()},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var t=e===co.One?"1":"2";return'<div class="ag-filter-body" ref="eCondition'+t+'Body" role="presentation">\n                    <ag-input-number-field class="ag-filter-from ag-filter-filter" ref="eValueFrom'+t+'"></ag-input-number-field>\n                    <ag-input-number-field class="ag-filter-to ag-filter-filter" ref="eValueTo'+t+'"></ag-input-number-field>\n                </div>'},t.prototype.isConditionUiComplete=function(e){var t=e===co.One,o=t?this.getCondition1Type():this.getCondition2Type(),n=t?this.eValueTo1:this.eValueTo2,i=this.stringToFloat((t?this.eValueFrom1:this.eValueFrom2).getValue()),r=this.stringToFloat(n.getValue());return o!==Ro.EMPTY&&(!!this.doesFilterHaveHiddenInput(o)||(o===Ro.IN_RANGE?null!=i&&null!=r:null!=i))},t.prototype.areSimpleModelsEqual=function(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type},t.prototype.getFilterType=function(){return t.FILTER_TYPE},t.prototype.stringToFloat=function(e){if("number"==typeof e)return e;var t=v(e);return t&&""===t.trim()&&(t=null),null!=t?parseFloat(t):null},t.prototype.createCondition=function(e){var o=e===co.One,n=o?this.getCondition1Type():this.getCondition2Type(),i=this.stringToFloat((o?this.eValueFrom1:this.eValueFrom2).getValue()),r=this.stringToFloat((o?this.eValueTo1:this.eValueTo2).getValue()),s={filterType:t.FILTER_TYPE,type:n};return this.doesFilterHaveHiddenInput(n)||(s.filter=i,s.filterTo=r),s},t.prototype.updateUiVisibility=function(){e.prototype.updateUiVisibility.call(this),this.resetPlaceholder();var t=this.showValueFrom(this.getCondition1Type());x(this.eValueFrom1.getGui(),t);var o=this.showValueTo(this.getCondition1Type());x(this.eValueTo1.getGui(),o);var n=this.showValueFrom(this.getCondition2Type());x(this.eValueFrom2.getGui(),n);var i=this.showValueTo(this.getCondition2Type());x(this.eValueTo2.getGui(),i)},t.FILTER_TYPE="number",t.DEFAULT_FILTER_OPTIONS=[So.EQUALS,So.NOT_EQUAL,So.LESS_THAN,So.LESS_THAN_OR_EQUAL,So.GREATER_THAN,So.GREATER_THAN_OR_EQUAL,So.IN_RANGE],Ln([ro("eValueFrom1")],t.prototype,"eValueFrom1",void 0),Ln([ro("eValueFrom2")],t.prototype,"eValueFrom2",void 0),Ln([ro("eValueTo1")],t.prototype,"eValueTo1",void 0),Ln([ro("eValueTo2")],t.prototype,"eValueTo2",void 0),t}(So),kn=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Vn=function(e){function t(){return e.call(this)||this}return kn(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var o=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():t.DEFAULT_LOADING_OVERLAY_TEMPLATE,n=this.gridOptionsWrapper.getLocaleTextFunc(),i=o.replace("[LOADING...]",n("loadingOoo","Loading..."));this.setTemplate(i)},t.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(oo),Hn=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Wn=function(e){function t(){return e.call(this)||this}return Hn(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var o=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():t.DEFAULT_NO_ROWS_TEMPLATE,n=this.gridOptionsWrapper.getLocaleTextFunc(),i=o.replace("[NO_ROWS_TO_SHOW]",n("noRowsToShow","No Rows To Show"));this.setTemplate(i)},t.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(oo),Bn=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),jn=function(e){function t(){return e.call(this,'<div class="ag-tooltip"></div>')||this}return Bn(t,e),t.prototype.init=function(e){var t=e.value;this.getGui().innerHTML=t},t}(io),Un=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),zn=function(e){function t(){return e.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return Un(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var t=this;this.shouldUseBrowserDatePicker(e)&&(d()?console.warn("ag-grid: browserDatePicker is specified to true, but it is not supported in IE 11, reverting to plain text date picker"):this.eDateInput.getInputElement().type="date"),this.listener=e.onDateChanged,this.addManagedListener(this.eDateInput.getInputElement(),"input",function(e){e.target===document.activeElement&&t.listener()})},t.prototype.getDate=function(){return Ce(this.eDateInput.getValue())},t.prototype.setDate=function(e){this.eDateInput.setValue(ve(e,!1))},t.prototype.setInputPlaceholder=function(e){this.eDateInput.setInputPlaceholder(e)},t.prototype.shouldUseBrowserDatePicker=function(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:g()||m()},function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([ro("eDateInput")],t.prototype,"eDateInput",void 0),t}(oo),Kn=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Yn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kn(t,e),t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.getTextFromModel=function(e){if(!e)return null;if(e.operator){var t=e,o=this.conditionToString(t.condition1),n=this.conditionToString(t.condition2);return o+" "+t.operator+" "+n}return this.conditionToString(e)},t.prototype.isEventFromFloatingFilter=function(e){return e&&e.afterFloatingFilter},t.prototype.getLastType=function(){return this.lastType},t.prototype.setLastTypeFromModel=function(e){this.lastType=e?(e.operator?e.condition1:e).type:this.optionsFactory.getDefaultOption()},t.prototype.canWeEditAfterModelFromParentFilter=function(e){return e?!e.operator&&this.isTypeEditable(e.type):this.isTypeEditable(this.lastType)},t.prototype.init=function(e){this.optionsFactory=new go,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption();var t=this.isTypeEditable(this.lastType);this.setEditable(t)},t.prototype.doesFilterHaveHiddenInput=function(e){var t=this.optionsFactory.getCustomOption(e);return t&&t.hideFilterInput},t.prototype.isTypeEditable=function(e){return!this.doesFilterHaveHiddenInput(e)&&e&&e!==Ro.IN_RANGE&&e!==Ro.EMPTY},t}(oo),qn=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),$n=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Qn=function(e){function t(){return e.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex; overflow: hidden;"></div>\n            </div>')||this}return qn(t,e),t.prototype.getDefaultFilterOptions=function(){return Po.DEFAULT_FILTER_OPTIONS},t.prototype.conditionToString=function(e){return e.type===Ro.IN_RANGE?e.dateFrom+"-"+e.dateTo:null!=e.dateFrom?""+e.dateFrom:""+e.type},t.prototype.init=function(t){e.prototype.init.call(this,t),this.params=t,this.createDateComponent(),this.eReadOnlyText.setDisabled(!0).setInputAriaLabel("Date Filter Input")},t.prototype.setEditable=function(e){x(this.eDateWrapper,e),x(this.eReadOnlyText.getGui(),!e)},t.prototype.onParentModelChanged=function(t,o){if(!this.isEventFromFloatingFilter(o)){e.prototype.setLastTypeFromModel.call(this,t);var n=this.canWeEditAfterModelFromParentFilter(t);this.setEditable(n),n?(this.dateComp.setDate(t?Ce(t.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.getTextFromModel(t)),this.dateComp.setDate(null))}},t.prototype.onDateChanged=function(){var e=this,t=ve(this.dateComp.getDate());this.params.parentFilterInstance(function(o){o&&o.onFloatingFilterChanged(e.getLastType(),t)})},t.prototype.createDateComponent=function(){var e=this,t=vo.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),o={onDateChanged:Ie(this.onDateChanged.bind(this),t),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new fo(this.getContext(),this.userComponentFactory,o,this.eDateWrapper),this.addDestroyFunc(function(){return e.dateComp.destroy()})},$n([ct("userComponentFactory")],t.prototype,"userComponentFactory",void 0),$n([ro("eReadOnlyText")],t.prototype,"eReadOnlyText",void 0),$n([ro("eDateWrapper")],t.prototype,"eDateWrapper",void 0),t}(Yn),Xn=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Zn=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Jn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xn(t,e),t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.getValue=function(e){var t=e.getValue();return(t=v(t))&&""===t.trim()&&(t=null),t},t.prototype.addValueChangedListeners=function(){var e=this,t=function(){return e.onUiChanged()};this.eValue1.onValueChange(t),this.eValue2.onValueChange(t)},t.prototype.setParams=function(o){e.prototype.setParams.call(this,o),this.textFilterParams=o,this.comparator=this.textFilterParams.textCustomComparator||t.DEFAULT_COMPARATOR,this.formatter=this.textFilterParams.textFormatter||(1==this.textFilterParams.caseSensitive?t.DEFAULT_FORMATTER:t.DEFAULT_LOWERCASE_FORMATTER),this.addValueChangedListeners()},t.prototype.setConditionIntoUi=function(e,t){(t===co.One?this.eValue1:this.eValue2).setValue(e?e.filter:null)},t.prototype.createCondition=function(e){var o=e===co.One,n=o?this.getCondition1Type():this.getCondition2Type(),i=this.getValue(o?this.eValue1:this.eValue2),r={filterType:t.FILTER_TYPE,type:n};return this.doesFilterHaveHiddenInput(n)||(r.filter=i),r},t.prototype.getFilterType=function(){return t.FILTER_TYPE},t.prototype.areSimpleModelsEqual=function(e,t){return e.filter===t.filter&&e.type===t.type},t.prototype.resetUiToDefaults=function(t){var o=this;return e.prototype.resetUiToDefaults.call(this,t).then(function(){o.forEachInput(function(e){return e.setValue(null,t)}),o.resetPlaceholder()})},t.prototype.resetPlaceholder=function(){var e=this.translate("filterOoo");this.forEachInput(function(t){return t.setInputPlaceholder(e)})},t.prototype.forEachInput=function(e){ne([this.eValue1,this.eValue2],e)},t.prototype.setValueFromFloatingFilter=function(e){this.eValue1.setValue(e),this.eValue2.setValue(null)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var t=e===co.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+t+'Body" role="presentation">\n                <ag-input-text-field class="ag-filter-filter" ref="eValue'+t+'"></ag-input-text-field>\n            </div>'},t.prototype.updateUiVisibility=function(){e.prototype.updateUiVisibility.call(this);var t=this.showValueFrom(this.getCondition1Type());x(this.eValue1.getGui(),t);var o=this.showValueFrom(this.getCondition2Type());x(this.eValue2.getGui(),o)},t.prototype.afterGuiAttached=function(t){e.prototype.afterGuiAttached.call(this,t),this.resetPlaceholder(),this.eValue1.getInputElement().focus()},t.prototype.isConditionUiComplete=function(e){var t=e===co.One,o=t?this.getCondition1Type():this.getCondition2Type();return o!==Ro.EMPTY&&(!!this.doesFilterHaveHiddenInput(o)||null!=this.getValue(t?this.eValue1:this.eValue2))},t.prototype.individualConditionPasses=function(e,t){var o=t.filter,n=t.type,i=this.textFilterParams.valueGetter(e.node),r=this.formatter(i),s=this.optionsFactory.getCustomOption(n);if(s&&(null!=o||s.hideFilterInput))return s.test(o,r);if(null==i)return n===Ro.NOT_EQUAL||n===Ro.NOT_CONTAINS;var a=this.formatter(o);return this.comparator(n,r,a)},t.FILTER_TYPE="text",t.DEFAULT_FILTER_OPTIONS=[Ro.CONTAINS,Ro.NOT_CONTAINS,Ro.EQUALS,Ro.NOT_EQUAL,Ro.STARTS_WITH,Ro.ENDS_WITH],t.DEFAULT_FORMATTER=function(e){return e},t.DEFAULT_LOWERCASE_FORMATTER=function(e){return null==e?null:e.toString().toLowerCase()},t.DEFAULT_COMPARATOR=function(e,o,n){switch(e){case t.CONTAINS:return o.indexOf(n)>=0;case t.NOT_CONTAINS:return-1===o.indexOf(n);case t.EQUALS:return o===n;case t.NOT_EQUAL:return o!=n;case t.STARTS_WITH:return 0===o.indexOf(n);case t.ENDS_WITH:var i=o.lastIndexOf(n);return i>=0&&i===o.length-n.length;default:return console.warn("invalid filter type "+e),!1}},Zn([ro("eValue1")],t.prototype,"eValue1",void 0),Zn([ro("eValue2")],t.prototype,"eValue2",void 0),t}(Ro),ei=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ti=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},oi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ei(t,e),t.prototype.postConstruct=function(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>')},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.onParentModelChanged=function(e,t){if(!this.isEventFromFloatingFilter(t)){this.setLastTypeFromModel(e);var o=this.getTextFromModel(e);this.eFloatingFilterInput.setValue(o);var n=this.canWeEditAfterModelFromParentFilter(e);this.setEditable(n)}},t.prototype.init=function(t){e.prototype.init.call(this,t),this.params=t,this.applyActive=vo.isUseApplyButton(this.params.filterParams);var o=vo.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),n=Ie(this.syncUpWithParentFilter.bind(this),o),i=this.eFloatingFilterInput.getGui();this.addManagedListener(i,"input",n),this.addManagedListener(i,"keypress",n),this.addManagedListener(i,"keydown",n);var r=t.column.getDefinition();r.filterParams&&r.filterParams.filterOptions&&1===r.filterParams.filterOptions.length&&"inRange"===r.filterParams.filterOptions[0]&&this.eFloatingFilterInput.setDisabled(!0);var s=this.columnController.getDisplayNameForColumn(t.column,"header",!0);this.eFloatingFilterInput.setInputAriaLabel(s+" Filter Input")},t.prototype.syncUpWithParentFilter=function(e){var t=this,o=this.eFloatingFilterInput.getValue(),n=ze(e,Ue.KEY_ENTER);this.applyActive&&!n||this.params.parentFilterInstance(function(e){e&&e.onFloatingFilterChanged(t.getLastType(),o)})},t.prototype.setEditable=function(e){this.eFloatingFilterInput.setDisabled(!e)},ti([ct("columnController")],t.prototype,"columnController",void 0),ti([ro("eFloatingFilterInput")],t.prototype,"eFloatingFilterInput",void 0),ti([at],t.prototype,"postConstruct",null),t}(Yn),ni=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ii=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ni(t,e),t.prototype.getDefaultFilterOptions=function(){return Gn.DEFAULT_FILTER_OPTIONS},t.prototype.conditionToString=function(e){return e.type==Ro.IN_RANGE?e.filter+"-"+e.filterTo:null!=e.filter?""+e.filter:""+e.type},t}(oi),ri=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),si=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ri(t,e),t.prototype.conditionToString=function(e){return null!=e.filter?""+e.filter:""+e.type},t.prototype.getDefaultFilterOptions=function(){return Jn.DEFAULT_FILTER_OPTIONS},t}(oi),ai=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),li=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.REGISTERED=1]="REGISTERED"}(fn||(fn={}));var ui,ci,pi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.agGridDefaults={agDateInput:zn,agColumnHeader:No,agColumnGroupHeader:Mo,agTextColumnFloatingFilter:si,agNumberColumnFloatingFilter:ii,agDateColumnFloatingFilter:Qn,agAnimateShowChangeCellRenderer:bn,agAnimateSlideCellRenderer:En,agGroupCellRenderer:vn,agGroupRowRenderer:vn,agLoadingCellRenderer:Sn,agCellEditor:ho,agTextCellEditor:ho,agSelectCellEditor:Pn,agPopupTextCellEditor:An,agPopupSelectCellEditor:Nn,agLargeTextCellEditor:In,agTextColumnFilter:Jn,agNumberColumnFilter:Gn,agDateColumnFilter:Po,agLoadingOverlay:Vn,agNoRowsOverlay:Wn,agTooltipComponent:jn},t.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},t.jsComponents={},t.frameworkComponents={},t}return ai(t,e),t.prototype.init=function(){var e=this;null!=this.gridOptions.components&&Object.keys(this.gridOptions.components).forEach(function(t){e.registerComponent(t,e.gridOptions.components[t])}),null!=this.gridOptions.frameworkComponents&&Object.keys(this.gridOptions.frameworkComponents).forEach(function(t){e.registerFwComponent(t,e.gridOptions.frameworkComponents[t])})},t.prototype.registerDefaultComponent=function(e,t){var o=this.translateIfDeprecated(e);this.agGridDefaults[o]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[o]=t},t.prototype.registerComponent=function(e,t){var o=this.translateIfDeprecated(e);this.frameworkComponents[o]?console.error("Trying to register a component that you have already registered for frameworks: "+o):this.jsComponents[o]=t},t.prototype.registerFwComponent=function(e,t){var o=this.translateIfDeprecated(e);this.jsComponents[o]?console.error("Trying to register a component that you have already registered for plain javascript: "+o):this.frameworkComponents[o]=t},t.prototype.retrieve=function(e){var t=this.translateIfDeprecated(e);return this.frameworkComponents[t]?{componentFromFramework:!0,component:this.frameworkComponents[t],source:fn.REGISTERED}:this.jsComponents[t]?{componentFromFramework:!1,component:this.jsComponents[t],source:fn.REGISTERED}:this.agGridDefaults[t]?this.agGridDefaults[t]?{componentFromFramework:!1,component:this.agGridDefaults[t],source:fn.DEFAULT}:null:(Object.keys(this.agGridDefaults).indexOf(t)<0&&console.warn("ag-Grid: Looking for component ["+t+"] but it wasn't found."),null)},t.prototype.translateIfDeprecated=function(e){var t=this.agDeprecatedNames[e];return null!=t?(et.doOnce(function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+t.propertyHolder+":"+e+" to "+t.propertyHolder+":"+t.newComponentName)},"DEPRECATE_COMPONENT_"+e),t.newComponentName):e},li([ct("gridOptions")],t.prototype,"gridOptions",void 0),li([at],t.prototype,"init",null),li([ut("userComponentRegistry")],t)}(Dt),di=function(){function e(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}return e.prototype.setInactive=function(){this.active=!1},e.prototype.isActive=function(){return this.active},e.prototype.depthFirstSearchChangedPath=function(e,t){if(e.children)for(var o=0;o<e.children.length;o++)this.depthFirstSearchChangedPath(e.children[o],t);t(e.rowNode)},e.prototype.depthFirstSearchEverything=function(e,t,o){if(e.childrenAfterGroup)for(var n=0;n<e.childrenAfterGroup.length;n++){var i=e.childrenAfterGroup[n];i.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[n],t,o):o&&t(i)}t(e)},e.prototype.forEachChangedNodeDepthFirst=function(e,t){void 0===t&&(t=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)},e.prototype.executeFromRootNode=function(e){e(this.pathRoot.rowNode)},e.prototype.createPathItems=function(e){for(var t=e,o=0;!this.mapToItems[t.id];)this.mapToItems[t.id]={rowNode:t,children:null},o++,t=t.parent;return o},e.prototype.populateColumnsMap=function(e,t){var o=this;if(this.keepingColumns&&t)for(var n=e;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach(function(e){return o.nodeIdsToColumns[n.id][e.getId()]=!0}),n=n.parent},e.prototype.linkPathItems=function(e,t){for(var o=e,n=0;n<t;n++){var i=this.mapToItems[o.id],r=this.mapToItems[o.parent.id];r.children||(r.children=[]),r.children.push(i),o=o.parent}},e.prototype.addParentNode=function(e,t){if(e&&!e.isRowPinned()){var o=this.createPathItems(e);this.linkPathItems(e,o),this.populateColumnsMap(e,t)}},e.prototype.canSkip=function(e){return this.active&&!this.mapToItems[e.id]},e.prototype.getValueColumnsForNode=function(e,t){if(!this.keepingColumns)return t;var o=this.nodeIdsToColumns[e.id];return t.filter(function(e){return o[e.getId()]})},e.prototype.getNotValueColumnsForNode=function(e,t){if(!this.keepingColumns)return null;var o=this.nodeIdsToColumns[e.id];return t.filter(function(e){return!o[e.getId()]})},e}(),hi=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),fi=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},gi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hi(t,e),t.prototype.setBeans=function(e){this.logger=e.create("SelectionController"),this.reset(),this.gridOptionsWrapper.isRowModelDefault()&&this.addManagedListener(this.eventService,Ft.EVENT_ROW_DATA_CHANGED,this.reset.bind(this))},t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,Ft.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},t.prototype.setLastSelectedNode=function(e){this.lastSelectedNode=e},t.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},t.prototype.getSelectedNodes=function(){var e=[];return et.iterateObject(this.selectedNodes,function(t,o){o&&e.push(o)}),e},t.prototype.getSelectedRows=function(){var e=[];return et.iterateObject(this.selectedNodes,function(t,o){o&&o.data&&e.push(o.data)}),e},t.prototype.removeGroupsFromSelection=function(){var e=this;et.iterateObject(this.selectedNodes,function(t,o){o&&o.group&&(e.selectedNodes[o.id]=void 0)})},t.prototype.updateGroupsFromChildrenSelections=function(e){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===Ue.ROW_MODEL_TYPE_CLIENT_SIDE){var t=this.rowModel.getRootNode();e||(e=new di(!0,t)).setInactive(),e.forEachChangedNodeDepthFirst(function(e){e!==t&&e.calculateSelectedFromChildren()})}},t.prototype.getNodeForIdIfSelected=function(e){return this.selectedNodes[e]},t.prototype.clearOtherNodes=function(e){var t=this,o={},n=0;return et.iterateObject(this.selectedNodes,function(i,r){r&&r.id!==e.id&&(n+=t.selectedNodes[r.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),t.groupSelectsChildren&&r.parent&&(o[r.parent.id]=r.parent))}),et.iterateObject(o,function(e,t){t.calculateSelectedFromChildren()}),n},t.prototype.onRowSelected=function(e){var t=e.node;this.groupSelectsChildren&&t.group||(this.selectedNodes[t.id]=t.isSelected()?t:void 0)},t.prototype.syncInRowNode=function(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)},t.prototype.syncInOldRowNode=function(e,t){et.exists(t)&&e.id!==t.id&&et.exists(this.selectedNodes[t.id])&&(this.selectedNodes[t.id]=t)},t.prototype.syncInNewRowNode=function(e){et.exists(this.selectedNodes[e.id])?(e.setSelectedInitialValue(!0),this.selectedNodes[e.id]=e):e.setSelectedInitialValue(!1)},t.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},t.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===Ue.ROW_MODEL_TYPE_CLIENT_SIDE){var e=this.rowModel.getTopLevelNodes();if(null!==e){var t=[];return function e(o){for(var n=0,i=o.length;n<i;n++){var r=o[n];r.isSelected()?t.push(r):r.group&&r.children&&e(r.children)}}(e),t}console.warn("selectAll not available doing rowModel=virtual")}else console.warn("getBestCostNodeSelection is only available when using normal row model")},t.prototype.setRowModel=function(e){this.rowModel=e},t.prototype.isEmpty=function(){var e=0;return et.iterateObject(this.selectedNodes,function(t,o){o&&e++}),0===e},t.prototype.deselectAllRowNodes=function(e){void 0===e&&(e=!1);var t=function(e){return e.selectThisNode(!1)},o=this.rowModel.getType()===Ue.ROW_MODEL_TYPE_CLIENT_SIDE;if(e){if(!o)return void console.error("ag-Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(t)}else et.iterateObject(this.selectedNodes,function(e,o){o&&t(o)}),this.reset();o&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:Ft.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.selectAllRowNodes=function(e){if(void 0===e&&(e=!1),this.rowModel.getType()!==Ue.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var t=this.rowModel,o=function(e){return e.selectThisNode(!0)};e?t.forEachNodeAfterFilter(o):t.forEachNode(o),this.rowModel.getType()===Ue.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:Ft.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.selectNode=function(e,t){e&&e.setSelectedParams({newValue:!0,clearSelection:!t})},t.prototype.deselectIndex=function(e){var t=this.rowModel.getRow(e);this.deselectNode(t)},t.prototype.deselectNode=function(e){e&&e.setSelectedParams({newValue:!1,clearSelection:!1})},t.prototype.selectIndex=function(e,t){var o=this.rowModel.getRow(e);this.selectNode(o,t)},fi([ct("rowModel")],t.prototype,"rowModel",void 0),fi([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),fi([ct("columnApi")],t.prototype,"columnApi",void 0),fi([ct("gridApi")],t.prototype,"gridApi",void 0),fi([(0,o=ht("loggerFactory"),function(e,t){o(e,t,0)})],t.prototype,"setBeans",null),fi([at],t.prototype,"init",null),fi([ut("selectionController")],t);var o}(Dt),mi=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},yi=function(){function e(){}return e.prototype.sizeColumnsToFit=function(e){void 0===e&&console.error("ag-Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnController.sizeColumnsToFit(e,"api")},e.prototype.setColumnGroupOpened=function(e,t){this.columnController.setColumnGroupOpened(e,t,"api")},e.prototype.getColumnGroup=function(e,t){return this.columnController.getColumnGroup(e,t)},e.prototype.getOriginalColumnGroup=function(e){return this.columnController.getOriginalColumnGroup(e)},e.prototype.getDisplayNameForColumn=function(e,t){return this.columnController.getDisplayNameForColumn(e,t)||""},e.prototype.getDisplayNameForColumnGroup=function(e,t){return this.columnController.getDisplayNameForColumnGroup(e,t)||""},e.prototype.getColumn=function(e){return this.columnController.getPrimaryColumn(e)},e.prototype.setColumnState=function(e){return this.columnController.setColumnState(e,!1,"api")},e.prototype.getColumnState=function(){return this.columnController.getColumnState()},e.prototype.resetColumnState=function(){this.columnController.resetColumnState(!1,"api")},e.prototype.getColumnGroupState=function(){return this.columnController.getColumnGroupState()},e.prototype.setColumnGroupState=function(e){this.columnController.setColumnGroupState(e,"api")},e.prototype.resetColumnGroupState=function(){this.columnController.resetColumnGroupState("api")},e.prototype.isPinning=function(){return this.columnController.isPinningLeft()||this.columnController.isPinningRight()},e.prototype.isPinningLeft=function(){return this.columnController.isPinningLeft()},e.prototype.isPinningRight=function(){return this.columnController.isPinningRight()},e.prototype.getDisplayedColAfter=function(e){return this.columnController.getDisplayedColAfter(e)},e.prototype.getDisplayedColBefore=function(e){return this.columnController.getDisplayedColBefore(e)},e.prototype.setColumnVisible=function(e,t){this.columnController.setColumnVisible(e,t,"api")},e.prototype.setColumnsVisible=function(e,t){this.columnController.setColumnsVisible(e,t,"api")},e.prototype.setColumnPinned=function(e,t){this.columnController.setColumnPinned(e,t,"api")},e.prototype.setColumnsPinned=function(e,t){this.columnController.setColumnsPinned(e,t,"api")},e.prototype.getAllColumns=function(){return this.columnController.getAllPrimaryColumns()},e.prototype.getAllGridColumns=function(){return this.columnController.getAllGridColumns()},e.prototype.getDisplayedLeftColumns=function(){return this.columnController.getDisplayedLeftColumns()},e.prototype.getDisplayedCenterColumns=function(){return this.columnController.getDisplayedCenterColumns()},e.prototype.getDisplayedRightColumns=function(){return this.columnController.getDisplayedRightColumns()},e.prototype.getAllDisplayedColumns=function(){return this.columnController.getAllDisplayedColumns()},e.prototype.getAllDisplayedVirtualColumns=function(){return this.columnController.getAllDisplayedVirtualColumns()},e.prototype.moveColumn=function(e,t){"number"==typeof e?(console.warn("ag-Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnController.moveColumnByIndex(e,t,"api")):this.columnController.moveColumn(e,t,"api")},e.prototype.moveColumnByIndex=function(e,t){this.columnController.moveColumnByIndex(e,t,"api")},e.prototype.moveColumns=function(e,t){this.columnController.moveColumns(e,t,"api")},e.prototype.moveRowGroupColumn=function(e,t){this.columnController.moveRowGroupColumn(e,t)},e.prototype.setColumnAggFunc=function(e,t){this.columnController.setColumnAggFunc(e,t)},e.prototype.setColumnWidth=function(e,t,o){void 0===o&&(o=!0),this.columnController.setColumnWidths([{key:e,newWidth:t}],!1,o)},e.prototype.setColumnWidths=function(e,t){void 0===t&&(t=!0),this.columnController.setColumnWidths(e,!1,t)},e.prototype.setPivotMode=function(e){this.columnController.setPivotMode(e)},e.prototype.isPivotMode=function(){return this.columnController.isPivotMode()},e.prototype.getSecondaryPivotColumn=function(e,t){return this.columnController.getSecondaryPivotColumn(e,t)},e.prototype.setValueColumns=function(e){this.columnController.setValueColumns(e,"api")},e.prototype.getValueColumns=function(){return this.columnController.getValueColumns()},e.prototype.removeValueColumn=function(e){this.columnController.removeValueColumn(e,"api")},e.prototype.removeValueColumns=function(e){this.columnController.removeValueColumns(e,"api")},e.prototype.addValueColumn=function(e){this.columnController.addValueColumn(e,"api")},e.prototype.addValueColumns=function(e){this.columnController.addValueColumns(e,"api")},e.prototype.setRowGroupColumns=function(e){this.columnController.setRowGroupColumns(e,"api")},e.prototype.removeRowGroupColumn=function(e){this.columnController.removeRowGroupColumn(e,"api")},e.prototype.removeRowGroupColumns=function(e){this.columnController.removeRowGroupColumns(e,"api")},e.prototype.addRowGroupColumn=function(e){this.columnController.addRowGroupColumn(e,"api")},e.prototype.addRowGroupColumns=function(e){this.columnController.addRowGroupColumns(e,"api")},e.prototype.getRowGroupColumns=function(){return this.columnController.getRowGroupColumns()},e.prototype.setPivotColumns=function(e){this.columnController.setPivotColumns(e,"api")},e.prototype.removePivotColumn=function(e){this.columnController.removePivotColumn(e,"api")},e.prototype.removePivotColumns=function(e){this.columnController.removePivotColumns(e,"api")},e.prototype.addPivotColumn=function(e){this.columnController.addPivotColumn(e,"api")},e.prototype.addPivotColumns=function(e){this.columnController.addPivotColumns(e,"api")},e.prototype.getPivotColumns=function(){return this.columnController.getPivotColumns()},e.prototype.getLeftDisplayedColumnGroups=function(){return this.columnController.getLeftDisplayedColumnGroups()},e.prototype.getCenterDisplayedColumnGroups=function(){return this.columnController.getCenterDisplayedColumnGroups()},e.prototype.getRightDisplayedColumnGroups=function(){return this.columnController.getRightDisplayedColumnGroups()},e.prototype.getAllDisplayedColumnGroups=function(){return this.columnController.getAllDisplayedColumnGroups()},e.prototype.autoSizeColumn=function(e,t){return this.columnController.autoSizeColumn(e,t,"api")},e.prototype.autoSizeColumns=function(e,t){return this.columnController.autoSizeColumns(e,t,"api")},e.prototype.autoSizeAllColumns=function(e){this.columnController.autoSizeAllColumns(e,"api")},e.prototype.setSecondaryColumns=function(e){this.columnController.setSecondaryColumns(e,"api")},e.prototype.getSecondaryColumns=function(){return this.columnController.getSecondaryColumns()},e.prototype.getPrimaryColumns=function(){return this.columnController.getAllPrimaryColumns()},e.prototype.columnGroupOpened=function(e,t){console.error("ag-Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(e,t)},e.prototype.hideColumns=function(e,t){console.error("ag-Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnController.setColumnsVisible(e,!t,"api")},e.prototype.hideColumn=function(e,t){console.error("ag-Grid: hideColumn is deprecated, use setColumnVisible"),this.columnController.setColumnVisible(e,!t,"api")},e.prototype.setState=function(e){return console.error("ag-Grid: setState is deprecated, use setColumnState"),this.setColumnState(e)},e.prototype.getState=function(){return console.error("ag-Grid: getState is deprecated, use getColumnState"),this.getColumnState()},e.prototype.resetState=function(){console.error("ag-Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},e.prototype.getAggregationColumns=function(){return console.error("ag-Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnController.getValueColumns()},e.prototype.removeAggregationColumn=function(e){console.error("ag-Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnController.removeValueColumn(e,"api")},e.prototype.removeAggregationColumns=function(e){console.error("ag-Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnController.removeValueColumns(e,"api")},e.prototype.addAggregationColumn=function(e){console.error("ag-Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnController.addValueColumn(e,"api")},e.prototype.addAggregationColumns=function(e){console.error("ag-Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnController.addValueColumns(e,"api")},e.prototype.setColumnAggFunction=function(e,t){console.error("ag-Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnController.setColumnAggFunc(e,t,"api")},e.prototype.getDisplayNameForCol=function(e){return console.error("ag-Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(e,null)},mi([ct("columnController")],e.prototype,"columnController",void 0),mi([ut("columnApi")],e)}();(ui=t.SelectionHandleType||(t.SelectionHandleType={}))[ui.FILL=0]="FILL",ui[ui.RANGE=1]="RANGE",(ci=t.CellRangeType||(t.CellRangeType={}))[ci.VALUE=0]="VALUE",ci[ci.DIMENSION=1]="DIMENSION";var vi,Ci,bi,wi=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ei=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};(vi=t.DragSourceType||(t.DragSourceType={}))[vi.ToolPanel=0]="ToolPanel",vi[vi.HeaderCell=1]="HeaderCell",vi[vi.RowDrag=2]="RowDrag",vi[vi.ChartPanel=3]="ChartPanel",(Ci=t.VerticalDirection||(t.VerticalDirection={}))[Ci.Up=0]="Up",Ci[Ci.Down=1]="Down",(bi=t.HorizontalDirection||(t.HorizontalDirection={}))[bi.Left=0]="Left",bi[bi.Right=1]="Right";var Ri,_i=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.dragSourceAndParamsList=[],t.dropTargets=[],t}var n;return wi(o,e),n=o,o.prototype.init=function(){this.ePinnedIcon=et.createIcon("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=et.createIcon("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=et.createIcon("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=et.createIcon("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=et.createIcon("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=et.createIcon("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=et.createIcon("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=et.createIcon("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=et.createIcon("dropNotAllowed",this.gridOptionsWrapper,null)},o.prototype.addDragSource=function(e,t){void 0===t&&(t=!1);var o={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:o,dragSource:e}),this.dragService.addDragSource(o,t)},o.prototype.removeDragSource=function(e){var t=et.find(this.dragSourceAndParamsList,function(t){return t.dragSource===e});t&&(this.dragService.removeDragSource(t.params),et.removeFromArray(this.dragSourceAndParamsList,t))},o.prototype.clearDragSourceParamsList=function(){var e=this;this.dragSourceAndParamsList.forEach(function(t){return e.dragService.removeDragSource(t.params)}),this.dragSourceAndParamsList.length=0},o.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},o.prototype.onDragStart=function(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},o.prototype.onDragStop=function(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},o.prototype.onDragging=function(e,t){var o=this.getHorizontalDirection(e),n=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);var i=et.find(this.dropTargets,this.isMouseOnDropTarget.bind(this,e));if(i!==this.lastDropTarget)this.leaveLastTargetIfExists(e,o,n,t),this.enterDragTargetIfExists(i,e,o,n,t),this.lastDropTarget=i;else if(i&&i.onDragging){var r=this.createDropTargetEvent(i,e,o,n,t);i.onDragging(r)}},o.prototype.enterDragTargetIfExists=function(e,t,o,n,i){if(e){if(e.onDragEnter){var r=this.createDropTargetEvent(e,t,o,n,i);e.onDragEnter(r)}this.setGhostIcon(e.getIconName?e.getIconName():null)}},o.prototype.leaveLastTargetIfExists=function(e,t,o,n){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var i=this.createDropTargetEvent(this.lastDropTarget,e,t,o,n);this.lastDropTarget.onDragLeave(i)}this.setGhostIcon(null)}},o.prototype.getAllContainersFromDropTarget=function(e){var t=[e.getContainer()],o=e.getSecondaryContainers?e.getSecondaryContainers():null;return o&&(t=t.concat(o)),t},o.prototype.isMouseOnDropTarget=function(e,t){var o=!1;return this.getAllContainersFromDropTarget(t).filter(function(e){return e}).forEach(function(t){var n=t.getBoundingClientRect();0!==n.width&&0!==n.height&&e.clientX>=n.left&&e.clientX<=n.right&&e.clientY>=n.top&&e.clientY<=n.bottom&&(o=!0)}),o&&t.isInterestedIn(this.dragSource.type)},o.prototype.addDropTarget=function(e){this.dropTargets.push(e)},o.prototype.removeDropTarget=function(e){this.dropTargets=this.dropTargets.filter(function(t){return t.getContainer()!==e.getContainer()})},o.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(e){return e.external})},o.prototype.findExternalZone=function(e){var t=this.dropTargets.filter(function(e){return e.external});return et.find(t,function(t){return t.getContainer()===e.getContainer()})},o.prototype.getHorizontalDirection=function(e){var o=this.eventLastTime.clientX,n=e.clientX;return o===n?null:o>n?t.HorizontalDirection.Left:t.HorizontalDirection.Right},o.prototype.getVerticalDirection=function(e){var o=this.eventLastTime.clientY,n=e.clientY;return o===n?null:o>n?t.VerticalDirection.Up:t.VerticalDirection.Down},o.prototype.createDropTargetEvent=function(e,t,o,n,i){var r=e.getContainer(),s=r.getBoundingClientRect();return{event:t,x:t.clientX-s.left,y:t.clientY-s.top,vDirection:n,hDirection:o,dragSource:this.dragSource,fromNudge:i,dragItem:this.dragItem,api:this.gridApi,columnApi:this.columnApi,dropZoneTarget:r}},o.prototype.positionGhost=function(e){var t=this.eGhost,o=t.getBoundingClientRect().height,n=et.getBodyWidth()-2,i=et.getBodyHeight()-2,r=e.pageY-o/2,s=e.pageX-10,a=this.gridOptionsWrapper.getDocument(),l=window.pageYOffset||a.documentElement.scrollTop,u=window.pageXOffset||a.documentElement.scrollLeft;n>0&&s+t.clientWidth>n+u&&(s=n+u-t.clientWidth),s<0&&(s=0),i>0&&r+t.clientHeight>i+l&&(r=i+l-t.clientHeight),r<0&&(r=0),t.style.left=s+"px",t.style.top=r+"px"},o.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},o.prototype.createGhost=function(){this.eGhost=et.loadTemplate(n.GHOST_TEMPLATE);var e=this.environment.getTheme().theme;e&&et.addCssClass(this.eGhost,e),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var t=this.eGhost.querySelector(".ag-dnd-ghost-label"),o=this.dragSource.dragItemName;et.isFunction(o)&&(o=o()),t.innerHTML=et.escape(o),this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var i=this.gridOptionsWrapper.getDocument();this.eGhostParent=i.querySelector("body"),this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("ag-Grid: could not find document body, it is needed for dragging columns")},o.prototype.setGhostIcon=function(e,t){var o;switch(void 0===t&&(t=!1),et.clearElement(this.eGhostIcon),e||(e=this.dragSource.defaultIconName||n.ICON_NOT_ALLOWED),e){case n.ICON_PINNED:o=this.ePinnedIcon;break;case n.ICON_MOVE:o=this.eMoveIcon;break;case n.ICON_LEFT:o=this.eLeftIcon;break;case n.ICON_RIGHT:o=this.eRightIcon;break;case n.ICON_GROUP:o=this.eGroupIcon;break;case n.ICON_AGGREGATE:o=this.eAggregateIcon;break;case n.ICON_PIVOT:o=this.ePivotIcon;break;case n.ICON_NOT_ALLOWED:o=this.eDropNotAllowedIcon;break;case n.ICON_HIDE:o=this.eHideIcon}et.addOrRemoveCssClass(this.eGhostIcon,"ag-shake-left-to-right",t),o===this.eHideIcon&&this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()||o&&this.eGhostIcon.appendChild(o)},o.ICON_PINNED="pinned",o.ICON_MOVE="move",o.ICON_LEFT="left",o.ICON_RIGHT="right",o.ICON_GROUP="group",o.ICON_AGGREGATE="aggregate",o.ICON_PIVOT="pivot",o.ICON_NOT_ALLOWED="notAllowed",o.ICON_HIDE="hide",o.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',Ei([ct("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),Ei([ct("dragService")],o.prototype,"dragService",void 0),Ei([ct("environment")],o.prototype,"environment",void 0),Ei([ct("columnApi")],o.prototype,"columnApi",void 0),Ei([ct("gridApi")],o.prototype,"gridApi",void 0),Ei([at],o.prototype,"init",null),Ei([lt],o.prototype,"clearDragSourceParamsList",null),n=Ei([ut("dragAndDropService")],o)}(Dt),Si=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Oi=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Di=function(e){function o(t,o,n,i){var r=e.call(this,'<div class="ag-drag-handle ag-row-drag" role="presentation"></div>')||this;return r.rowNode=t,r.column=o,r.cellValue=n,r.beans=i,r}return Si(o,e),o.prototype.postConstruct=function(){this.getGui().appendChild(et.createIconNoSpan("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource(),this.checkCompatibility();var e=this.beans.gridOptionsWrapper.isRowDragManaged()?new Ai(this,this.beans,this.rowNode,this.column):new Ti(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)},o.prototype.getSelectedCount=function(){if(!this.beans.gridOptionsWrapper.isEnableMultiRowDragging())return 1;var e=this.beans.selectionController.getSelectedNodes();return-1!==e.indexOf(this.rowNode)?e.length:1},o.prototype.checkCompatibility=function(){var e=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&e&&et.doOnce(function(){return console.warn("ag-Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},o.prototype.addDragSource=function(){var e=this,o={rowNode:this.rowNode,columns:[this.column],defaultTextValue:this.cellValue},n=this.column.getColDef().rowDragText,i={type:t.DragSourceType.RowDrag,eElement:this.getGui(),dragItemName:function(){var t=e.getSelectedCount();return n?n(o,t):1===t?e.cellValue:t+" rows"},getDragItem:function(){return o},dragStartPixels:0};this.beans.dragAndDropService.addDragSource(i,!0),this.addDestroyFunc(function(){return e.beans.dragAndDropService.removeDragSource(i)})},Oi([at],o.prototype,"postConstruct",null),o}(oo),Pi=function(e){function t(t,o,n){var i=e.call(this)||this;return i.parent=t,i.column=n,i.rowNode=o,i}return Si(t,e),t.prototype.setDisplayedOrVisible=function(e){if(e)this.parent.setDisplayed(!1);else{var t=this.column.isRowDrag(this.rowNode);et.isFunction(this.column.getColDef().rowDrag)?(this.parent.setDisplayed(!0),this.parent.setVisible(t)):this.parent.setDisplayed(t)}},t}(Dt),Ti=function(e){function t(t,o,n,i){var r=e.call(this,t,n,i)||this;return r.beans=o,r}return Si(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Go.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Go.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(e)},Oi([at],t.prototype,"postConstruct",null),t}(Pi),Ai=function(e){function t(t,o,n,i){var r=e.call(this,t,n,i)||this;return r.beans=o,r}return Si(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,Ft.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Ft.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Ft.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Go.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Go.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.gridPanel.getRowDragFeature(),t=e&&e.shouldPreventRowMove(),o=this.beans.gridOptionsWrapper.isSuppressRowDrag(),n=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(t&&!n||o)},Oi([at],t.prototype,"postConstruct",null),t}(Pi),Fi=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ni=function(e){function t(t){var o=e.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return o.getGuiCalledOnChild=!1,o.cellEditor=t,o}return Fi(t,e),t.prototype.onKeyDown=function(e){et.isUserSuppressingKeyboardEvent(this.gridOptionsWrapper,e,this.params.node,this.params.column,!0)||this.params.onKeyDown(e)},t.prototype.getGui=function(){return this.getGuiCalledOnChild||(this.appendChild(this.cellEditor.getGui()),this.getGuiCalledOnChild=!0),e.prototype.getGui.call(this)},t.prototype.init=function(o){var n=this;this.params=o,this.gridOptionsWrapper.setDomData(this.getGui(),t.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addDestroyFunc(function(){return n.destroyBean(n.cellEditor)}),this.addManagedListener(e.prototype.getGui.call(this),"keydown",this.onKeyDown.bind(this))},t.prototype.afterGuiAttached=function(){this.cellEditor.afterGuiAttached&&this.cellEditor.afterGuiAttached()},t.prototype.getValue=function(){return this.cellEditor.getValue()},t.prototype.isCancelBeforeStart=function(){if(this.cellEditor.isCancelBeforeStart)return this.cellEditor.isCancelBeforeStart()},t.prototype.isCancelAfterEnd=function(){if(this.cellEditor.isCancelAfterEnd)return this.cellEditor.isCancelAfterEnd()},t.prototype.getPopupPosition=function(){if(this.cellEditor.getPopupPosition)return this.cellEditor.getPopupPosition()},t.prototype.focusIn=function(){this.cellEditor.focusIn&&this.cellEditor.focusIn()},t.prototype.focusOut=function(){this.cellEditor.focusOut&&this.cellEditor.focusOut()},t.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(io),xi=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ii=function(e){function t(t,o,n,i,r){var s=e.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return s.rowNode=t,s.column=o,s.cellValue=n,s.beans=i,s.eCell=r,s}return xi(t,e),t.prototype.postConstruct=function(){this.getGui().appendChild(et.createIconNoSpan("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource(),this.checkVisibility()},t.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},t.prototype.onDragStart=function(e){var t=this,o=this.column.getColDef().dndSourceOnRowDrag,n=et.isBrowserIE();n||e.dataTransfer.setDragImage(this.eCell,0,0),o?o({rowNode:this.rowNode,dragEvent:e}):function(){try{var o=JSON.stringify(t.rowNode.data);n?e.dataTransfer.setData("text",o):(e.dataTransfer.setData("application/json",o),e.dataTransfer.setData("text/plain",o))}catch(i){}}()},t.prototype.checkVisibility=function(){var e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)},function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([at],t.prototype,"postConstruct",null),t}(oo),Mi=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Li=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.NOTHING=0]="NOTHING",e[e.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",e[e.SHOWING=2]="SHOWING"}(Ri||(Ri={}));var Gi,ki=function(e){function t(t,o){var n=e.call(this)||this;return n.DEFAULT_HIDE_TOOLTIP_TIMEOUT=1e4,n.SHOW_QUICK_TOOLTIP_DIFF=1e3,n.FADE_OUT_TOOLTIP_TIMEOUT=1e3,n.state=Ri.NOTHING,n.tooltipInstanceCount=0,n.tooltipMouseTrack=!1,n.parentComp=t,n.location=o,n}return Mi(t,e),t.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipShowDelay()||2e3,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var e=this.parentComp.getGui();this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this))},t.prototype.destroy=function(){this.setToDoNothing(),e.prototype.destroy.call(this)},t.prototype.onMouseEnter=function(e){var t=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.lastMouseEvent=e,this.state=Ri.WAITING_TO_SHOW},t.prototype.onMouseLeave=function(){this.setToDoNothing()},t.prototype.setToDoNothing=function(){this.state===Ri.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=Ri.NOTHING},t.prototype.onMouseMove=function(e){this.lastMouseEvent=e,this.tooltipMouseTrack&&this.state===Ri.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},t.prototype.onMouseDown=function(){this.setToDoNothing()},t.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),t.lastTooltipHideTime=(new Date).getTime()),this.state=Ri.NOTHING},t.prototype.destroyTooltipComp=function(){var e=this;et.addCssClass(this.tooltipComp.getGui(),"ag-tooltip-hiding");var t=this.tooltipPopupDestroyFunc,o=this.tooltipComp;window.setTimeout(function(){t(),e.getContext().destroyBean(o)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},t.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-t.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},t.prototype.showTooltip=function(){var e=this.parentComp.getTooltipText();if(e){this.state=Ri.SHOWING,this.tooltipInstanceCount++;var t={location:this.location,api:this.gridApi,columnApi:this.columnApi,colDef:this.parentComp.getComponentHolder(),column:this.parentComp.getColumn,context:this.gridOptionsWrapper.getContext(),rowIndex:this.parentComp.getCellPosition&&this.parentComp.getCellPosition().rowIndex,value:e},o=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.newTooltipComponent(t).then(o)}else this.setToDoNothing()},t.prototype.newTooltipComponentCallback=function(e,t){if(this.state!==Ri.SHOWING||this.tooltipInstanceCount!==e)this.getContext().destroyBean(t);else{var o=t.getGui();this.tooltipComp=t,et.containsClass(o,"ag-tooltip")||et.addCssClass(o,"ag-tooltip-custom"),this.tooltipPopupDestroyFunc=this.popupService.addPopup(!1,o,!1),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.DEFAULT_HIDE_TOOLTIP_TIMEOUT)}},t.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18})},t.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},Li([ct("popupService")],t.prototype,"popupService",void 0),Li([ct("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Li([ct("columnApi")],t.prototype,"columnApi",void 0),Li([ct("gridApi")],t.prototype,"gridApi",void 0),Li([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Li([at],t.prototype,"postConstruct",null),t}(Dt),Vi=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Hi=function(){return(Hi=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Wi=function(e){function o(t,o,n,i,r,s,a){var l=e.call(this)||this;return l.hasChartRange=!1,l.editingCell=!1,l.suppressRefreshCell=!1,l.scope=null,l.cellEditorVersion=0,l.cellRendererVersion=0,l.scope=t,l.beans=o,l.column=n,l.rowNode=i,l.rowComp=r,l.autoHeightCell=s,l.printLayout=a,l.createGridCellVo(),l.rangeSelectionEnabled=l.beans.rangeController&&o.gridOptionsWrapper.isEnableRangeSelection(),l.cellFocused=l.beans.focusController.isCellFocused(l.cellPosition),l.firstRightPinned=l.column.isFirstRightPinned(),l.lastLeftPinned=l.column.isLastLeftPinned(),l.rangeSelectionEnabled&&l.beans.rangeController&&(l.rangeCount=l.beans.rangeController.getCellRangeCount(l.cellPosition),l.hasChartRange=l.getHasChartRange()),l.getValueAndFormat(),l.setUsingWrapper(),l.chooseCellRenderer(),l.setupColSpan(),l.rowSpan=l.column.getRowSpan(l.rowNode),l}return Vi(o,e),o.prototype.getCreateTemplate=function(){var e=this.beans.gridOptionsWrapper.isEnableCellTextSelection()?"":'unselectable="on"',t=[],o=this.column,n=this.getCellWidth(),i=this.modifyLeftForPrintLayout(this.getCellLeft()),r=this.getInitialValueToRender(),s=et.get(this.column,"colDef.template",null)?r:et.escape(r);this.tooltip=this.getToolTip();var a=et.escape(this.tooltip),l=et.escape(o.getId()),u="",c="",p=this.preProcessStylesFromColDef(),d=this.getInitialCssClasses(),h=this.getStylesForRowSpanning(),f=et.escape(this.getAriaColumnIndex());return this.usingWrapper&&(u='<div ref="eCellWrapper" class="ag-cell-wrapper" role="presentation">\n                <span ref="eCellValue" role="gridcell" aria-colindex="'+f+'" class="ag-cell-value" '+e+">",c="</span></div>"),t.push("<div"),t.push(' tabindex="-1"'),t.push(" "+e),t.push(' role="'+(this.usingWrapper?"presentation":"gridcell")+'"'),this.usingWrapper||t.push(" aria-colindex="+f),t.push(' comp-id="'+this.getCompId()+'" '),t.push(' col-id="'+l+'"'),t.push(' class="'+et.escape(d.join(" "))+'"'),this.beans.gridOptionsWrapper.isEnableBrowserTooltips()&&et.exists(a)&&t.push('title="'+a+'"'),t.push(' style="width: '+Number(n)+"px; left: "+Number(i)+"px; "+et.escape(p)+" "+et.escape(h)+'" >'),t.push(u),et.exists(s,!0)&&t.push(s),t.push(c),t.push("</div>"),t.join("")},o.prototype.getStylesForRowSpanning=function(){return 1===this.rowSpan?"":"height: "+this.beans.gridOptionsWrapper.getRowHeightAsNumber()*this.rowSpan+"px; z-index: 1;"},o.prototype.afterAttached=function(){var e='[comp-id="'+this.getCompId()+'"]',t=this.eParentRow.querySelector(e);this.setGui(t),this.addDomData(),this.populateTemplate(),this.createCellRendererInstance(!0),this.angular1Compile(),this.refreshHandle(),et.exists(this.tooltip)&&!this.beans.gridOptionsWrapper.isEnableBrowserTooltips()&&this.createManagedBean(new ki(this,"cell"),this.beans.context)},o.prototype.onColumnHover=function(){var e=this.beans.columnHoverService.isHovered(this.column);et.addOrRemoveCssClass(this.getGui(),"ag-column-hover",e)},o.prototype.onCellChanged=function(e){e.column===this.column&&this.refreshCell({})},o.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?et.last(this.colsSpanning):this.column).getLeft()},o.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(e,t){return e+t.getActualWidth()},0):this.column.getActualWidth()},o.prototype.onFlashCells=function(e){var t=this.beans.cellPositionUtils.createId(this.cellPosition);e.cells[t]&&this.animateCell("highlight")},o.prototype.setupColSpan=function(){et.missing(this.getComponentHolder().colSpan)||(this.addManagedListener(this.beans.eventService,Ft.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,Ft.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)),this.colsSpanning=this.getColSpanningList())},o.prototype.getColSpanningList=function(){var e=this.column.getColSpan(this.rowNode),t=[];if(1===e)t.push(this.column);else for(var o=this.column,n=this.column.getPinned(),i=0;o&&i<e&&(t.push(o),(o=this.beans.columnController.getDisplayedColAfter(o))&&!et.missing(o))&&n===o.getPinned();i++);return t},o.prototype.onDisplayColumnsChanged=function(){var e=this.getColSpanningList();et.areEqual(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())},o.prototype.getAriaColumnIndex=function(){return(this.beans.columnController.getAllDisplayedColumns().indexOf(this.column)+1).toString()},o.prototype.refreshAriaIndex=function(){var e=this.getAriaColumnIndex();(this.usingWrapper?this.eCellValue:this.getGui()).setAttribute("aria-colindex",e)},o.prototype.getInitialCssClasses=function(){var e=["ag-cell","ag-cell-not-inline-editing"];return this.autoHeightCell||e.push("ag-cell-auto-height"),!this.beans.gridOptionsWrapper.isSuppressCellSelection()&&this.cellFocused&&e.push("ag-cell-focus"),this.firstRightPinned&&e.push("ag-cell-first-right-pinned"),this.lastLeftPinned&&e.push("ag-cell-last-left-pinned"),this.beans.columnHoverService.isHovered(this.column)&&e.push("ag-column-hover"),et.pushAll(e,this.preProcessClassesFromColDef()),et.pushAll(e,this.preProcessCellClassRules()),et.pushAll(e,this.getInitialRangeClasses()),this.usingWrapper||e.push("ag-cell-value"),e},o.prototype.getInitialValueToRender=function(){if(this.usingCellRenderer)return"string"==typeof this.cellRendererGui?this.cellRendererGui:"";var e=this.getComponentHolder();return e.template?e.template:e.templateUrl?this.beans.templateService.getTemplate(e.templateUrl,this.refreshCell.bind(this,!0))||"":this.getValueToUse()},o.prototype.getRenderedRow=function(){return this.rowComp},o.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},o.prototype.getCellRenderer=function(){return this.cellRenderer},o.prototype.getCellEditor=function(){return this.cellEditor},o.prototype.refreshCell=function(e){if(!this.suppressRefreshCell&&!this.editingCell){var t=this.getComponentHolder(),o=e&&e.newData,n=e&&e.suppressFlash||t.suppressCellFlash,i=e&&e.forceRefresh,r=this.value;this.value=this.getValue();var s=!this.valuesAreEqual(r,this.value);if(i||s){this.valueFormatted=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,this.value),!o&&this.attemptCellRendererRefresh()||this.replaceContentsAfterRefresh();var a=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!n&&!a&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||t.enableCellChangeFlash)&&this.flashCell(),this.postProcessStylesFromColDef(),this.postProcessClassesFromColDef()}this.updateAngular1ScopeAndCompile(),this.refreshToolTip(),this.postProcessCellClassRules()}},o.prototype.flashCell=function(e){this.animateCell("data-changed",e&&e.flashDelay,e&&e.fadeDelay)},o.prototype.animateCell=function(e,t,o){var n="ag-cell-"+e,i="ag-cell-"+e+"-animation",r=this.getGui(),s=this.beans.gridOptionsWrapper;t||(t=s.getCellFlashDelay()),o||(o=s.getCellFadeDelay()),et.addCssClass(r,n),et.removeCssClass(r,i),window.setTimeout(function(){et.removeCssClass(r,n),et.addCssClass(r,i),r.style.transition="background-color "+o+"ms",window.setTimeout(function(){et.removeCssClass(r,i),r.style.transition=null},o)},t)},o.prototype.replaceContentsAfterRefresh=function(){et.clearElement(this.eParentOfValue),this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),this.cellRendererGui=null,this.putDataIntoCellAfterRefresh(),this.updateAngular1ScopeAndCompile()},o.prototype.updateAngular1ScopeAndCompile=function(){this.beans.gridOptionsWrapper.isAngularCompileRows()&&this.scope&&(this.scope.data=Hi({},this.rowNode.data),this.angular1Compile())},o.prototype.angular1Compile=function(){if(this.beans.gridOptionsWrapper.isAngularCompileRows()){var e=this.getGui();if(!e.classList.contains("ng-scope")||0===e.childElementCount){var t=this.beans.$compile(e)(this.scope);this.addDestroyFunc(function(){return t.remove()})}}},o.prototype.postProcessStylesFromColDef=function(){var e=this.processStylesFromColDef();e&&et.addStylesToElement(this.getGui(),e)},o.prototype.preProcessStylesFromColDef=function(){return et.cssStyleObjectToMarkup(this.processStylesFromColDef())},o.prototype.processStylesFromColDef=function(){var e=this.getComponentHolder();if(e.cellStyle){var t=void 0;if("function"==typeof e.cellStyle){var o={value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi()};t=(0,e.cellStyle)(o)}else t=e.cellStyle;return t}},o.prototype.postProcessClassesFromColDef=function(){var e=this;this.processClassesFromColDef(function(t){return et.addCssClass(e.getGui(),t)})},o.prototype.preProcessClassesFromColDef=function(){var e=[];return this.processClassesFromColDef(function(t){return e.push(t)}),e},o.prototype.processClassesFromColDef=function(e){var t=this.getComponentHolder();this.beans.stylingService.processStaticCellClasses(t,{value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:t,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},e)},o.prototype.putDataIntoCellAfterRefresh=function(){var e=this.getComponentHolder();if(e.template)this.eParentOfValue.innerHTML=e.template;else if(e.templateUrl){var t=this.beans.templateService.getTemplate(e.templateUrl,this.refreshCell.bind(this,!0));t&&(this.eParentOfValue.innerHTML=t)}else if(this.chooseCellRenderer(),this.usingCellRenderer)this.createCellRendererInstance();else{var o=this.getValueToUse();null!=o&&(this.eParentOfValue.innerHTML=et.escape(o))}},o.prototype.attemptCellRendererRefresh=function(){if(et.missing(this.cellRenderer)||!this.cellRenderer||et.missing(this.cellRenderer.refresh))return!1;var e=this.createCellRendererParams(),t=this.beans.userComponentFactory.createFinalParams(this.getComponentHolder(),this.cellRendererType,e),o=this.cellRenderer.refresh(t);return!0===o||void 0===o},o.prototype.refreshToolTip=function(){var e=this.getToolTip();if(this.tooltip!==e){var t=et.exists(e);t&&this.tooltip===e.toString()||(et.exists(this.tooltip),this.tooltip=e,this.beans.gridOptionsWrapper.isEnableBrowserTooltips()&&(t?this.eParentOfValue.setAttribute("title",this.tooltip):this.eParentOfValue.removeAttribute("title")))}},o.prototype.valuesAreEqual=function(e,t){var o=this.getComponentHolder(),n=o?o.equals:null;return n?n(e,t):e===t},o.prototype.getToolTip=function(){var e=this.getComponentHolder(),t=this.rowNode.data;if(e.tooltipField&&et.exists(t))return et.getValueUsingField(t,e.tooltipField,this.column.isTooltipFieldContainsDots());var o=e.tooltipValueGetter||e.tooltip;return o?o({api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),colDef:e,column:this.getColumn(),context:this.beans.gridOptionsWrapper.getContext(),value:this.value,valueFormatted:this.valueFormatted,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data}):null},o.prototype.getTooltipText=function(e){return void 0===e&&(e=!0),e?et.escape(this.tooltip):this.tooltip},o.prototype.processCellClassRules=function(e,t){var o=this.getComponentHolder();this.beans.stylingService.processClassRules(o.cellClassRules,{value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:o,rowIndex:this.cellPosition.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext()},e,t)},o.prototype.postProcessCellClassRules=function(){var e=this;this.processCellClassRules(function(t){return et.addCssClass(e.getGui(),t)},function(t){return et.removeCssClass(e.getGui(),t)})},o.prototype.preProcessCellClassRules=function(){var e=[];return this.processCellClassRules(function(t){return e.push(t)},function(e){}),e},o.prototype.setUsingWrapper=function(){var e=this.getComponentHolder();if(this.rowNode.rowPinned)return this.usingWrapper=!1,this.includeSelectionComponent=!1,this.includeRowDraggingComponent=!1,void(this.includeDndSourceComponent=!1);var t="function"==typeof e.rowDrag,o="function"==typeof e.dndSource;this.includeSelectionComponent="function"==typeof e.checkboxSelection||!0===e.checkboxSelection,this.includeRowDraggingComponent=t||!0===e.rowDrag,this.includeDndSourceComponent=o||!0===e.dndSource;var n=this.beans.gridOptionsWrapper.isEnableCellTextSelection();this.usingWrapper=n||this.includeRowDraggingComponent||this.includeSelectionComponent||this.includeDndSourceComponent},o.prototype.chooseCellRenderer=function(){var e=this.getComponentHolder();if(e.template||e.templateUrl)this.usingCellRenderer=!1;else{var t=this.createCellRendererParams(),n=this.beans.userComponentFactory.lookupComponentClassDef(e,"cellRenderer",t);this.beans.userComponentFactory.lookupComponentClassDef(e,"pinnedRowCellRenderer",t)&&this.rowNode.rowPinned?(this.cellRendererType=o.CELL_RENDERER_TYPE_PINNED,this.usingCellRenderer=!0):n?(this.cellRendererType=o.CELL_RENDERER_TYPE_NORMAL,this.usingCellRenderer=!0):this.usingCellRenderer=!1}},o.prototype.createCellRendererInstance=function(e){var t=this;if(void 0===e&&(e=!1),this.usingCellRenderer){var n=this.beans.gridOptionsWrapper.isAngularCompileRows(),i=this.beans.gridOptionsWrapper.isSuppressAnimationFrame();(n||i||this.autoHeightCell)&&(e=!1);var r=this.createCellRendererParams();this.cellRendererVersion++;var s=this.afterCellRendererCreated.bind(this,this.cellRendererVersion),a=this.cellRendererType===o.CELL_RENDERER_TYPE_NORMAL;this.createCellRendererFunc=function(){t.createCellRendererFunc=null;var e=t.beans.userComponentFactory.newCellRenderer(t.getComponentHolder(),r,!a);e&&e.then(s)},e?this.beans.taskQueue.createTask(this.createCellRendererFunc,this.rowNode.rowIndex,"createTasksP2"):this.createCellRendererFunc()}},o.prototype.afterCellRendererCreated=function(e,t){this.isAlive()&&e===this.cellRendererVersion?(this.cellRenderer=t,this.cellRendererGui=this.cellRenderer.getGui(),et.missing(this.cellRendererGui)||this.editingCell||this.eParentOfValue.appendChild(this.cellRendererGui)):this.beans.context.destroyBean(t)},o.prototype.createCellRendererParams=function(){var e=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValue.bind(this),setValue:function(t){return e.beans.valueService.setValue(e.rowNode,e.column,t)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,colDef:this.getComponentHolder(),column:this.column,$scope:this.scope,rowIndex:this.cellPosition.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.eParentOfValue,addRowCompListener:this.rowComp?this.rowComp.addEventListener.bind(this.rowComp):null,addRenderedRowListener:function(t,o){console.warn("ag-Grid: since ag-Grid .v11, params.addRenderedRowListener() is now params.addRowCompListener()"),e.rowComp&&e.rowComp.addEventListener(t,o)}}},o.prototype.formatValue=function(e){var t=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,e);return null!=t?t:e},o.prototype.getValueToUse=function(){return null!=this.valueFormatted?this.valueFormatted:this.value},o.prototype.getValueAndFormat=function(){this.value=this.getValue(),this.valueFormatted=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,this.value)},o.prototype.getValue=function(){var e=this.rowNode.leafGroup&&this.beans.columnController.isPivotMode(),t=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!e,o=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),n=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.beans.valueService.getValue(this.column,this.rowNode,!1,t&&o&&!n)},o.prototype.onMouseEvent=function(e,t){if(!et.isStopPropagationForAgGrid(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t)}},o.prototype.dispatchCellContextMenuEvent=function(e){var t=this.getComponentHolder(),o=this.createEvent(e,Ft.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(o),t.onCellContextMenu&&window.setTimeout(function(){return t.onCellContextMenu(o)},0)},o.prototype.createEvent=function(e,t){var o={node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.getComponentHolder(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:e,type:t,rowIndex:this.rowNode.rowIndex};return this.scope&&(o.$scope=this.scope),o},o.prototype.onMouseOut=function(e){var t=this.createEvent(e,Ft.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.clearMouseOver()},o.prototype.onMouseOver=function(e){var t=this.createEvent(e,Ft.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.setMouseOver([this.column])},o.prototype.onCellDoubleClicked=function(e){var t=this.getComponentHolder(),o=this.createEvent(e,Ft.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(o),"function"==typeof t.onCellDoubleClicked&&window.setTimeout(function(){return t.onCellDoubleClicked(o)},0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.startRowOrCellEdit()},o.prototype.startRowOrCellEdit=function(e,t){this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowComp.startRowEditing(e,t,this):this.startEditingIfEnabled(e,t,!0)},o.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},o.prototype.startEditingIfEnabled=function(e,t,o){if(void 0===e&&(e=null),void 0===t&&(t=null),void 0===o&&(o=!1),this.isCellEditable()&&!this.editingCell){this.editingCell=!0,this.cellEditorVersion++;var n=this.afterCellEditorCreated.bind(this,this.cellEditorVersion),i=this.createCellEditorParams(e,t,o);this.createCellEditor(i).then(n),et.missing(this.cellEditor)&&o&&this.focusCell(!0)}},o.prototype.createCellEditor=function(e){var t=this;return this.beans.userComponentFactory.newCellEditor(this.column.getColDef(),e).then(function(o){if(!o.isPopup||!o.isPopup())return o;t.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("ag-Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var n=new Ni(o);return t.beans.context.createBean(n),n.init(e),n})},o.prototype.afterCellEditorCreated=function(e,t){if(e===this.cellEditorVersion&&this.editingCell){if(t.isCancelBeforeStart&&t.isCancelBeforeStart())return this.beans.context.destroyBean(t),void(this.editingCell=!1);if(!t.getGui)return console.warn("ag-Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),t.render&&console.warn("ag-Grid: we found 'render' on the component, are you trying to set a React renderer but added it as colDef.cellEditor instead of colDef.cellEditorFmk?"),this.beans.context.destroyBean(t),void(this.editingCell=!1);this.cellEditor=t,this.cellEditorInPopup=void 0!==t.isPopup&&t.isPopup(),this.setInlineEditingClass(),this.cellEditorInPopup?this.addPopupCellEditor():this.addInCellEditor(),t.afterGuiAttached&&t.afterGuiAttached();var o=this.createEvent(null,Ft.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(o)}else this.beans.context.destroyBean(t)},o.prototype.addInCellEditor=function(){et.clearElement(this.getGui()),this.cellEditor&&this.getGui().appendChild(this.cellEditor.getGui()),this.angular1Compile()},o.prototype.addPopupCellEditor=function(){var e=this,t=this.cellEditor?this.cellEditor.getGui():null,o=this.beans.gridOptionsWrapper.isStopEditingWhenGridLosesFocus();this.hideEditorPopup=this.beans.popupService.addPopup(o,t,!0,function(){e.onPopupEditorClosed()});var n={column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:t,keepWithinBounds:!0};"under"===(this.cellEditor&&this.cellEditor.getPopupPosition?this.cellEditor.getPopupPosition():"over")?this.beans.popupService.positionPopupUnderComponent(n):this.beans.popupService.positionPopupOverComponent(n),this.angular1Compile()},o.prototype.onPopupEditorClosed=function(){this.editingCell&&(this.stopRowOrCellEdit(),this.beans.focusController.isCellFocused(this.cellPosition)&&this.focusCell(!0))},o.prototype.setInlineEditingClass=function(){if(this.isAlive()){var e=this.editingCell&&!this.cellEditorInPopup,t=this.editingCell&&this.cellEditorInPopup;et.addOrRemoveCssClass(this.getGui(),"ag-cell-inline-editing",e),et.addOrRemoveCssClass(this.getGui(),"ag-cell-not-inline-editing",!e),et.addOrRemoveCssClass(this.getGui(),"ag-cell-popup-editing",t),et.addOrRemoveCssClass(this.getGui().parentNode,"ag-row-inline-editing",e),et.addOrRemoveCssClass(this.getGui().parentNode,"ag-row-not-inline-editing",!e)}},o.prototype.createCellEditorParams=function(e,t,o){return{value:this.getValue(),keyPress:e,charPress:t,column:this.column,colDef:this.column.getColDef(),rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:o,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),$scope:this.scope,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},o.prototype.stopEditingAndFocus=function(e){void 0===e&&(e=!1),this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit()},o.prototype.parseValue=function(e){var t=this.getComponentHolder(),o={node:this.rowNode,data:this.rowNode.data,oldValue:this.value,newValue:e,colDef:t,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},n=t.valueParser;return et.exists(n)?this.beans.expressionService.evaluate(n,o):e},o.prototype.focusCell=function(e){void 0===e&&(e=!1),this.beans.focusController.setFocusedCell(this.cellPosition.rowIndex,this.column,this.rowNode.rowPinned,e)},o.prototype.setFocusInOnEditor=function(){this.editingCell&&(this.cellEditor&&this.cellEditor.focusIn?this.cellEditor.focusIn():this.focusCell(!0))},o.prototype.isEditing=function(){return this.editingCell},o.prototype.onKeyDown=function(e){var t=e.which||e.keyCode;switch(t){case Ue.KEY_ENTER:this.onEnterKeyDown(e);break;case Ue.KEY_F2:this.onF2KeyDown();break;case Ue.KEY_ESCAPE:this.onEscapeKeyDown();break;case Ue.KEY_TAB:this.onTabKeyDown(e);break;case Ue.KEY_BACKSPACE:case Ue.KEY_DELETE:this.onBackspaceOrDeleteKeyPressed(t);break;case Ue.KEY_DOWN:case Ue.KEY_UP:case Ue.KEY_RIGHT:case Ue.KEY_LEFT:this.onNavigationKeyPressed(e,t)}},o.prototype.setFocusOutOnEditor=function(){this.editingCell&&this.cellEditor&&this.cellEditor.focusOut&&this.cellEditor.focusOut()},o.prototype.onNavigationKeyPressed=function(e,t){this.editingCell||(e.shiftKey&&this.rangeSelectionEnabled?this.onShiftRangeSelect(t):this.beans.rowRenderer.navigateToNextCell(e,t,this.cellPosition,!0),e.preventDefault())},o.prototype.onShiftRangeSelect=function(e){if(this.beans.rangeController){var t=this.beans.rangeController.extendLatestRangeInDirection(e);t&&this.beans.rowRenderer.ensureCellVisible(t)}},o.prototype.onTabKeyDown=function(e){this.beans.rowRenderer.onTabKeyDown(this,e)},o.prototype.onBackspaceOrDeleteKeyPressed=function(e){this.editingCell||this.startRowOrCellEdit(e)},o.prototype.onEnterKeyDown=function(e){this.editingCell||this.rowComp.isEditing()?this.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.rowRenderer.navigateToNextCell(null,Ue.KEY_DOWN,this.cellPosition,!1):(e.preventDefault(),this.startRowOrCellEdit(Ue.KEY_ENTER))},o.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.rowRenderer.navigateToNextCell(null,Ue.KEY_DOWN,this.cellPosition,!1)},o.prototype.onF2KeyDown=function(){this.editingCell||this.startRowOrCellEdit(Ue.KEY_F2)},o.prototype.onEscapeKeyDown=function(){this.editingCell&&(this.stopRowOrCellEdit(!0),this.focusCell(!0))},o.prototype.onKeyPress=function(e){if(et.getTarget(e)===this.getGui()&&!this.editingCell){var t=String.fromCharCode(e.charCode);" "===t?this.onSpaceKeyPressed(e):et.isEventFromPrintableCharacter(e)&&(this.startRowOrCellEdit(null,t),e.preventDefault())}},o.prototype.onSpaceKeyPressed=function(e){var t=this.beans.gridOptionsWrapper;if(!this.editingCell&&t.isRowSelection()){var o=!this.rowNode.isSelected();(o||t.isRowDeselection())&&this.rowNode.setSelected(o)}e.preventDefault()},o.prototype.onMouseDown=function(e){var t=e.ctrlKey,o=e.metaKey,n=e.shiftKey,i=e.target,r=this.beans,s=r.eventService,a=r.rangeController;if(!this.isRightClickInExistingRange(e)){if(!n||a&&!a.getCellRanges().length){var l=(et.isBrowserIE()||et.isBrowserEdge())&&!this.editingCell;this.focusCell(l)}else e.preventDefault();if(!this.containsWidget(i)){if(a){var u=this.cellPosition;n?a.extendLatestRangeToCell(u):a.setRangeToCell(u,t||o)}s.dispatchEvent(this.createEvent(e,Ft.EVENT_CELL_MOUSE_DOWN))}}},o.prototype.isRightClickInExistingRange=function(e){var t=this.beans.rangeController;return!(!t||!t.isCellInAnyRange(this.getCellPosition())||2!==e.button)},o.prototype.containsWidget=function(e){return et.isElementChildOfClass(e,"ag-selection-checkbox",3)},o.prototype.isDoubleClickOnIPad=function(){if(!et.isIOSUserAgent()||et.isEventSupported("dblclick"))return!1;var e=(new Date).getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t},o.prototype.onCellClicked=function(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();var t=this.beans,o=t.eventService,n=t.gridOptionsWrapper,i=this.createEvent(e,Ft.EVENT_CELL_CLICKED);o.dispatchEvent(i);var r=this.getComponentHolder();r.onCellClicked&&window.setTimeout(function(){return r.onCellClicked(i)},0),(n.isSingleClickEdit()||r.singleClickEdit)&&!n.isSuppressClickEdit()&&this.startRowOrCellEdit()},o.prototype.createGridCellVo=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,column:this.column}},o.prototype.getCellPosition=function(){return this.cellPosition},o.prototype.getParentRow=function(){return this.eParentRow},o.prototype.setParentRow=function(e){this.eParentRow=e},o.prototype.getColumn=function(){return this.column},o.prototype.getComponentHolder=function(){return this.column.getColDef()},o.prototype.detach=function(){this.eParentRow.removeChild(this.getGui())},o.prototype.destroy=function(){this.createCellRendererFunc&&this.beans.taskQueue.cancelTask(this.createCellRendererFunc),this.stopEditing(),this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),this.beans.context.destroyBean(this.selectionHandle),e.prototype.destroy.call(this)},o.prototype.onLeftChanged=function(){var e=this.modifyLeftForPrintLayout(this.getCellLeft());this.getGui().style.left=e+"px",this.refreshAriaIndex()},o.prototype.modifyLeftForPrintLayout=function(e){return this.printLayout&&this.column.getPinned()!==Ue.PINNED_LEFT?this.column.getPinned()===Ue.PINNED_RIGHT?this.beans.columnController.getPinnedLeftContainerWidth()+this.beans.columnController.getBodyContainerWidth()+e:this.beans.columnController.getPinnedLeftContainerWidth()+e:e},o.prototype.onWidthChanged=function(){var e=this.getCellWidth();this.getGui().style.width=e+"px"},o.prototype.getRangeBorders=function(){var e,t,o=this,n=this.beans.gridOptionsWrapper.isEnableRtl(),i=!1,r=!1,s=!1,a=!1,l=this.cellPosition.column,u=this.beans,c=u.rangeController,p=u.columnController;n?(e=p.getDisplayedColAfter(l),t=p.getDisplayedColBefore(l)):(e=p.getDisplayedColBefore(l),t=p.getDisplayedColAfter(l));var d=c.getCellRanges().filter(function(e){return c.isCellInSpecificRange(o.cellPosition,e)});e||(a=!0),t||(r=!0);for(var h=0;h<d.length&&!(i&&r&&s&&a);h++){var f=d[h],g=c.getRangeStartRow(f),m=c.getRangeEndRow(f);!i&&this.beans.rowPositionUtils.sameRow(g,this.cellPosition)&&(i=!0),!s&&this.beans.rowPositionUtils.sameRow(m,this.cellPosition)&&(s=!0),!a&&f.columns.indexOf(e)<0&&(a=!0),!r&&f.columns.indexOf(t)<0&&(r=!0)}return{top:i,right:r,bottom:s,left:a}},o.prototype.getInitialRangeClasses=function(){var e=[];if(!this.rangeSelectionEnabled||!this.rangeCount)return e;e.push("ag-cell-range-selected"),this.hasChartRange&&e.push("ag-cell-range-chart");var t=Math.min(this.rangeCount,4);if(e.push("ag-cell-range-selected-"+t),this.isSingleCell()&&e.push("ag-cell-range-single-cell"),this.rangeCount>0){var o=this.getRangeBorders();o.top&&e.push("ag-cell-range-top"),o.right&&e.push("ag-cell-range-right"),o.bottom&&e.push("ag-cell-range-bottom"),o.left&&e.push("ag-cell-range-left")}return this.selectionHandle&&e.push("ag-cell-range-handle"),e},o.prototype.onRowIndexChanged=function(){this.createGridCellVo(),this.onCellFocused(),this.onRangeSelectionChanged()},o.prototype.onRangeSelectionChanged=function(){var e=this.beans.rangeController;if(e){var t=this.rangeCount,o=e.getCellRangeCount(this.cellPosition),n=this.getGui();t!==o&&(et.addOrRemoveCssClass(n,"ag-cell-range-selected",0!==o),et.addOrRemoveCssClass(n,"ag-cell-range-selected-1",1===o),et.addOrRemoveCssClass(n,"ag-cell-range-selected-2",2===o),et.addOrRemoveCssClass(n,"ag-cell-range-selected-3",3===o),et.addOrRemoveCssClass(n,"ag-cell-range-selected-4",o>=4),this.rangeCount=o);var i=this.getHasChartRange();i!==this.hasChartRange&&(this.hasChartRange=i,et.addOrRemoveCssClass(n,"ag-cell-range-chart",this.hasChartRange)),this.updateRangeBorders(),et.addOrRemoveCssClass(n,"ag-cell-range-single-cell",this.isSingleCell()),this.refreshHandle()}},o.prototype.getHasChartRange=function(){var e=this.beans.rangeController;if(!this.rangeCount||!e)return!1;var o=e.getCellRanges();return o.length>0&&o.every(function(e){return et.includes([t.CellRangeType.DIMENSION,t.CellRangeType.VALUE],e.type)})},o.prototype.shouldHaveSelectionHandle=function(){var e=this.beans,o=e.gridOptionsWrapper,n=e.rangeController,i=n.getCellRanges(),r=i.length;if(this.rangeCount<1||r<1)return!1;var s=et.last(i),a=this.getCellPosition(),l=1===r&&(o.isEnableFillHandle()||o.isEnableRangeHandle())&&!this.editingCell;if(this.hasChartRange){var u=i[0].type===t.CellRangeType.DIMENSION&&n.isCellInSpecificRange(a,i[0]);et.addOrRemoveCssClass(this.getGui(),"ag-cell-range-chart-category",u),l=s.type===t.CellRangeType.VALUE}return l&&null!=s.endRow&&n.isContiguousRange(s)&&n.isBottomRightCell(s,a)},o.prototype.addSelectionHandle=function(){var e=this.beans,o=e.gridOptionsWrapper,n=et.last(e.rangeController.getCellRanges()).type,i=o.isEnableFillHandle()&&et.missing(n)?t.SelectionHandleType.FILL:t.SelectionHandleType.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==i&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(i)),this.selectionHandle.refresh(this)},o.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},o.prototype.refreshHandle=function(){if(this.beans.rangeController){var e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),et.addOrRemoveCssClass(this.getGui(),"ag-cell-range-handle",!!this.selectionHandle)}},o.prototype.updateRangeBorders=function(){var e=this.getRangeBorders(),t=this.isSingleCell(),o=!t&&e.top,n=!t&&e.right,i=!t&&e.bottom,r=!t&&e.left,s=this.getGui();et.addOrRemoveCssClass(s,"ag-cell-range-top",o),et.addOrRemoveCssClass(s,"ag-cell-range-right",n),et.addOrRemoveCssClass(s,"ag-cell-range-bottom",i),et.addOrRemoveCssClass(s,"ag-cell-range-left",r)},o.prototype.onFirstRightPinnedChanged=function(){var e=this.column.isFirstRightPinned();this.firstRightPinned!==e&&(this.firstRightPinned=e,et.addOrRemoveCssClass(this.getGui(),"ag-cell-first-right-pinned",e))},o.prototype.onLastLeftPinnedChanged=function(){var e=this.column.isLastLeftPinned();this.lastLeftPinned!==e&&(this.lastLeftPinned=e,et.addOrRemoveCssClass(this.getGui(),"ag-cell-last-left-pinned",e))},o.prototype.populateTemplate=function(){this.usingWrapper?(this.eParentOfValue=this.getRefElement("eCellValue"),this.eCellWrapper=this.getRefElement("eCellWrapper"),this.eCellValue=this.getRefElement("eCellValue"),this.includeRowDraggingComponent&&this.addRowDragging(),this.includeDndSourceComponent&&this.addDndSource(),this.includeSelectionComponent&&this.addSelectionCheckbox()):this.eParentOfValue=this.getGui()},o.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},o.prototype.addRowDragging=function(){var e=this.beans.gridOptionsWrapper.isPagination(),t=this.beans.gridOptionsWrapper.isRowDragManaged(),o=this.beans.gridOptionsWrapper.isRowModelDefault();if(t){if(!o)return void et.doOnce(function(){return console.warn("ag-Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");if(e)return void et.doOnce(function(){return console.warn("ag-Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging")}var n=new Di(this.rowNode,this.column,this.getValueToUse(),this.beans);this.createManagedBean(n,this.beans.context),this.eCellWrapper.insertBefore(n.getGui(),this.eParentOfValue)},o.prototype.addDndSource=function(){var e=new Ii(this.rowNode,this.column,this.getValueToUse(),this.beans,this.getGui());this.createManagedBean(e,this.beans.context),this.eCellWrapper.insertBefore(e.getGui(),this.eParentOfValue)},o.prototype.addSelectionCheckbox=function(){var e=this,t=new $o;this.beans.context.createBean(t);var o=this.getComponentHolder().checkboxSelection;t.init({rowNode:this.rowNode,column:this.column,visibleFunc:o="function"==typeof o?o:null}),this.addDestroyFunc(function(){return e.beans.context.destroyBean(t)}),this.eCellWrapper.insertBefore(t.getGui(),this.eParentOfValue)},o.prototype.addDomData=function(){var e=this,t=this.getGui();this.beans.gridOptionsWrapper.setDomData(t,o.DOM_DATA_KEY_CELL_COMP,this),this.addDestroyFunc(function(){return e.beans.gridOptionsWrapper.setDomData(t,o.DOM_DATA_KEY_CELL_COMP,null)})},o.prototype.isSingleCell=function(){var e=this.beans.rangeController;return 1===this.rangeCount&&e&&!e.isMoreThanOneCell()},o.prototype.onCellFocused=function(e){var t=this.beans.focusController.isCellFocused(this.cellPosition);if(t!==this.cellFocused&&(!this.beans.gridOptionsWrapper.isSuppressCellSelection()&&et.addOrRemoveCssClass(this.getGui(),"ag-cell-focus",t),this.cellFocused=t),t&&e&&e.forceBrowserFocus){var o=this.getFocusableElement();o.focus(),document.activeElement&&document.activeElement!==document.body||o.focus()}var n=this.beans.gridOptionsWrapper.isFullRowEdit();t||n||!this.editingCell||this.stopRowOrCellEdit()},o.prototype.stopRowOrCellEdit=function(e){void 0===e&&(e=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowComp.stopRowEditing(e):this.stopEditing(e)},o.prototype.stopEditing=function(e){if(void 0===e&&(e=!1),this.editingCell)if(this.cellEditor){var t,o=this.getValue(),n=!1;if(e||this.cellEditor.isCancelAfterEnd&&this.cellEditor.isCancelAfterEnd()||(t=this.cellEditor.getValue(),n=!0),this.editingCell=!1,this.cellEditor=this.beans.context.destroyBean(this.cellEditor),this.cellEditor=null,this.cellEditorInPopup&&this.hideEditorPopup)this.hideEditorPopup(),this.hideEditorPopup=null;else if(et.clearElement(this.getGui()),this.usingWrapper)this.getGui().appendChild(this.eCellWrapper);else if(this.cellRenderer){var i=this.cellRendererGui;i&&this.getGui().appendChild(i)}this.setInlineEditingClass(),this.refreshHandle(),n&&t!==o&&(this.suppressRefreshCell=!0,this.rowNode.setDataValue(this.column,t),this.suppressRefreshCell=!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0});var r=this.createEvent(null,Ft.EVENT_CELL_EDITING_STOPPED);this.beans.eventService.dispatchEvent(r)}else this.editingCell=!1},o.DOM_DATA_KEY_CELL_COMP="cellComp",o.CELL_RENDERER_TYPE_NORMAL="cellRenderer",o.CELL_RENDERER_TYPE_PINNED="pinnedRowCellRenderer",o}(oo),Bi=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ji=function(){return(ji=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Ui=function(e){function o(t,o,n,i,r,s,a,l,u,c,p){var d=e.call(this)||this;return d.eAllRowContainers=[],d.active=!0,d.rowContainerReadyCount=0,d.refreshNeeded=!1,d.columnRefreshPending=!1,d.cellComps={},d.createSecondPassFuncs=[],d.removeFirstPassFuncs=[],d.removeSecondPassFuncs=[],d.initialised=!1,d.elementOrderChanged=!1,d.lastMouseDownOnDragger=!1,d.parentScope=t,d.beans=a,d.bodyContainerComp=o,d.pinnedLeftContainerComp=n,d.pinnedRightContainerComp=i,d.fullWidthContainerComp=r,d.rowNode=s,d.rowIsEven=d.rowNode.rowIndex%2==0,d.paginationPage=d.beans.paginationProxy.getCurrentPage(),d.useAnimationFrameForCreate=u,d.printLayout=c,d.embedFullWidth=p,d.setAnimateFlags(l),d}return Bi(o,e),o.prototype.init=function(){var e=this;this.rowFocused=this.beans.focusController.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.scope=this.createChildScopeOrNull(this.rowNode.data),this.setupRowContainers(),this.addListeners(),this.slideRowIn&&this.createSecondPassFuncs.push(function(){e.onTopChanged()}),this.fadeRowIn&&this.createSecondPassFuncs.push(function(){e.eAllRowContainers.forEach(function(e){return et.removeCssClass(e,"ag-opacity-zero")})})},o.prototype.createTemplate=function(e,t){void 0===t&&(t=null);var o=[],n=this.rowNode.rowHeight,i=this.getInitialRowClasses(t).join(" "),r=et.escape(this.rowNode.id),s=this.preProcessStylesFromGridOptions(),a=this.getRowBusinessKey(),l=et.escape(a),u=this.getInitialRowTopStyle(),c=this.rowNode.getRowIndexString(),p=this.beans.headerNavigationService.getHeaderRowCount();return o.push("<div"),o.push(' role="row"'),o.push(' row-index="'+c+'" aria-rowindex="'+(p+this.rowNode.rowIndex+1)+'"'),o.push(r?' row-id="'+r+'"':""),o.push(a?' row-business-key="'+l+'"':""),o.push(' comp-id="'+this.getCompId()+'"'),o.push(' class="'+i+'"'),o.push(' style="height: '+n+"px; "+u+" "+s+'">'),o.push(e),o.push("</div>"),o.join("")},o.prototype.getCellForCol=function(e){var t=this.cellComps[e.getColId()];return t?t.getGui():null},o.prototype.afterFlush=function(){this.initialised||(this.initialised=!0,this.executeProcessRowPostCreateFunc())},o.prototype.executeProcessRowPostCreateFunc=function(){var e=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();e&&e({eRow:this.eBodyRow,ePinnedLeftRow:this.ePinnedLeftRow,ePinnedRightRow:this.ePinnedRightRow,node:this.rowNode,api:this.beans.gridOptionsWrapper.getApi(),rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()})},o.prototype.getInitialRowTopStyle=function(){if(this.printLayout)return"";var e=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,t=this.applyPaginationOffset(e),o=this.beans.maxDivHeightScaler.getRealPixelPosition(t);return this.beans.gridOptionsWrapper.isSuppressRowTransform()?"top: "+o+"px; ":"transform: translateY("+o+"px);"},o.prototype.getRowBusinessKey=function(){var e=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"==typeof e)return e(this.rowNode)},o.prototype.areAllContainersReady=function(){return 3===this.rowContainerReadyCount},o.prototype.lazyCreateCells=function(e,t){if(this.active){var o=this.createCells(e);t.innerHTML=o.template,this.callAfterRowAttachedOnCells(o.cellComps,t),this.rowContainerReadyCount++,this.areAllContainersReady()&&this.refreshNeeded&&this.refreshCells()}},o.prototype.createRowContainer=function(e,t,o){var n=this,i=this.useAnimationFrameForCreate,r=i?{cellComps:[],template:""}:this.createCells(t),s=this.createTemplate(r.template);e.appendRowTemplate(s,function(){var s=e.getRowElement(n.getCompId());n.afterRowAttached(e,s),o(s),i?n.beans.taskQueue.createTask(n.lazyCreateCells.bind(n,t,s),n.rowNode.rowIndex,"createTasksP1"):(n.callAfterRowAttachedOnCells(r.cellComps,s),n.rowContainerReadyCount=3)})},o.prototype.createChildScopeOrNull=function(e){if(!this.beans.gridOptionsWrapper.isAngularCompileRows())return null;var t=this.parentScope.$new();return t.data=ji({},e),t.rowNode=this.rowNode,t.context=this.beans.gridOptionsWrapper.getContext(),this.addDestroyFunc(function(){t.$destroy(),t.data=null,t.rowNode=null,t.context=null}),t},o.prototype.setupRowContainers=function(){var e=this.rowNode.isFullWidthCell(),t=this.beans.doingMasterDetail&&this.rowNode.detail,n=this.beans.columnController.isPivotMode(),i=this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(n);this.rowNode.stub?this.createFullWidthRows(o.LOADING_CELL_RENDERER,o.LOADING_CELL_RENDERER_COMP_NAME):t?this.createFullWidthRows(o.DETAIL_CELL_RENDERER,o.DETAIL_CELL_RENDERER_COMP_NAME):e?this.createFullWidthRows(o.FULL_WIDTH_CELL_RENDERER,null):i?this.createFullWidthRows(o.GROUP_ROW_RENDERER,o.GROUP_ROW_RENDERER_COMP_NAME):this.setupNormalRowContainers()},o.prototype.setupNormalRowContainers=function(){var e,t=this,o=[],n=[];this.printLayout?e=this.beans.columnController.getAllDisplayedColumns():(e=this.beans.columnController.getAllDisplayedCenterVirtualColumnsForRow(this.rowNode),o=this.beans.columnController.getDisplayedLeftColumnsForRow(this.rowNode),n=this.beans.columnController.getDisplayedRightColumnsForRow(this.rowNode)),this.createRowContainer(this.bodyContainerComp,e,function(e){return t.eBodyRow=e}),this.createRowContainer(this.pinnedRightContainerComp,n,function(e){return t.ePinnedRightRow=e}),this.createRowContainer(this.pinnedLeftContainerComp,o,function(e){return t.ePinnedLeftRow=e})},o.prototype.createFullWidthRows=function(e,t){var o=this;if(this.fullWidthRow=!0,this.embedFullWidth){if(this.createFullWidthRowContainer(this.bodyContainerComp,null,null,e,t,function(e){o.eFullWidthRowBody=e},function(e){o.fullWidthRowComponentBody=e}),this.printLayout)return;this.createFullWidthRowContainer(this.pinnedLeftContainerComp,Ue.PINNED_LEFT,"ag-cell-last-left-pinned",e,t,function(e){o.eFullWidthRowLeft=e},function(e){o.fullWidthRowComponentLeft=e}),this.createFullWidthRowContainer(this.pinnedRightContainerComp,Ue.PINNED_RIGHT,"ag-cell-first-right-pinned",e,t,function(e){o.eFullWidthRowRight=e},function(e){o.fullWidthRowComponentRight=e})}else this.createFullWidthRowContainer(this.fullWidthContainerComp,null,null,e,t,function(e){o.eFullWidthRow=e},function(e){o.fullWidthRowComponent=e})},o.prototype.setAnimateFlags=function(e){if(e){var t=et.exists(this.rowNode.oldRowTop);this.slideRowIn=t,this.fadeRowIn=!t}else this.slideRowIn=!1,this.fadeRowIn=!1},o.prototype.isEditing=function(){return this.editingRow},o.prototype.stopRowEditing=function(e){this.stopEditing(e)},o.prototype.isFullWidth=function(){return this.fullWidthRow},o.prototype.refreshFullWidth=function(){var e=this,t=function(t,o,n){if(!t||!o)return!0;if(!o.refresh)return!1;var i=e.createFullWidthParams(t,n);return o.refresh(i)},o=t(this.eFullWidthRow,this.fullWidthRowComponent,null),n=t(this.eFullWidthRowBody,this.fullWidthRowComponentBody,null),i=t(this.eFullWidthRowLeft,this.fullWidthRowComponentLeft,Ue.PINNED_LEFT),r=t(this.eFullWidthRowRight,this.fullWidthRowComponentRight,Ue.PINNED_RIGHT);return o&&n&&i&&r},o.prototype.addListeners=function(){this.addManagedListener(this.rowNode,Go.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,Go.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,Go.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Go.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Go.EVENT_EXPANDED_CHANGED,this.onExpandedChanged.bind(this)),this.addManagedListener(this.rowNode,Go.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Go.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,Go.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Go.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this));var e=this.beans.eventService;this.addManagedListener(e,Ft.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,Ft.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,Ft.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,Ft.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(e,Ft.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,Ft.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,Ft.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(e,Ft.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},o.prototype.addListenersForCellComps=function(){var e=this;this.addManagedListener(this.rowNode,Go.EVENT_ROW_INDEX_CHANGED,function(){e.forEachCellComp(function(e){return e.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,Go.EVENT_CELL_CHANGED,function(t){e.forEachCellComp(function(e){return e.onCellChanged(t)})})},o.prototype.onRowNodeDataChanged=function(e){this.forEachCellComp(function(t){return t.refreshCell({suppressFlash:!e.update,newData:!e.update})}),this.onRowSelected(),this.postProcessCss()},o.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},o.prototype.postProcessCss=function(){this.postProcessStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},o.prototype.onRowNodeHighlightChanged=function(){var e=this.rowNode.highlighted;this.eAllRowContainers.forEach(function(t){et.removeCssClass(t,"ag-row-highlight-above"),et.removeCssClass(t,"ag-row-highlight-below"),e&&et.addCssClass(t,"ag-row-highlight-"+e)})},o.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},o.prototype.postProcessRowDragging=function(){var e=this.rowNode.dragging;this.eAllRowContainers.forEach(function(t){return et.addOrRemoveCssClass(t,"ag-row-dragging",e)})},o.prototype.onExpandedChanged=function(){var e=this.rowNode;this.eAllRowContainers.forEach(function(t){return et.addOrRemoveCssClass(t,"ag-row-group-expanded",e.expanded)}),this.eAllRowContainers.forEach(function(t){return et.addOrRemoveCssClass(t,"ag-row-group-contracted",!e.expanded)})},o.prototype.onDisplayedColumnsChanged=function(){this.fullWidthRow||this.refreshCells()},o.prototype.destroyFullWidthComponents=function(){this.fullWidthRowComponent&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,null,this.fullWidthRowComponent),this.fullWidthRowComponent=null),this.fullWidthRowComponentBody&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,null,this.fullWidthRowComponentBody),this.fullWidthRowComponent=null),this.fullWidthRowComponentLeft&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,Ue.PINNED_LEFT,this.fullWidthRowComponentLeft),this.fullWidthRowComponentLeft=null),this.fullWidthRowComponentRight&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,Ue.PINNED_RIGHT,this.fullWidthRowComponentRight),this.fullWidthRowComponent=null)},o.prototype.getContainerForCell=function(e){switch(e){case Ue.PINNED_LEFT:return this.ePinnedLeftRow;case Ue.PINNED_RIGHT:return this.ePinnedRightRow;default:return this.eBodyRow}},o.prototype.onVirtualColumnsChanged=function(){this.fullWidthRow||this.refreshCells()},o.prototype.onColumnResized=function(){this.fullWidthRow||this.refreshCells()},o.prototype.refreshCells=function(){if(this.areAllContainersReady())if(this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout)this.refreshCellsInAnimationFrame();else{if(this.columnRefreshPending)return;this.beans.taskQueue.createTask(this.refreshCellsInAnimationFrame.bind(this),this.rowNode.rowIndex,"createTasksP1")}else this.refreshNeeded=!0},o.prototype.refreshCellsInAnimationFrame=function(){if(this.active){var e,t,o;this.columnRefreshPending=!1,this.printLayout?(e=this.beans.columnController.getAllDisplayedColumns(),t=[],o=[]):(e=this.beans.columnController.getAllDisplayedCenterVirtualColumnsForRow(this.rowNode),t=this.beans.columnController.getDisplayedLeftColumnsForRow(this.rowNode),o=this.beans.columnController.getDisplayedRightColumnsForRow(this.rowNode)),this.insertCellsIntoContainer(this.eBodyRow,e),this.insertCellsIntoContainer(this.ePinnedLeftRow,t),this.insertCellsIntoContainer(this.ePinnedRightRow,o),this.elementOrderChanged=!1;var n=Object.keys(this.cellComps);e.forEach(function(e){return et.removeFromArray(n,e.getId())}),t.forEach(function(e){return et.removeFromArray(n,e.getId())}),o.forEach(function(e){return et.removeFromArray(n,e.getId())});var i=n.filter(this.isCellEligibleToBeRemoved.bind(this));this.removeRenderedCells(i)}},o.prototype.onColumnMoved=function(){this.elementOrderChanged=!0},o.prototype.removeRenderedCells=function(e){var t=this;e.forEach(function(e){var o=t.cellComps[e];et.missing(o)||(o.detach(),o.destroy(),t.cellComps[e]=null)})},o.prototype.isCellEligibleToBeRemoved=function(e){var t=this.beans.columnController.getAllDisplayedColumns(),o=this.cellComps[e];if(!o||this.isCellInWrongRow(o))return!0;var n=o.isEditing(),i=this.beans.focusController.isCellFocused(o.getCellPosition());if(n||i){var r=o.getColumn();return!(t.indexOf(r)>=0)}return!0},o.prototype.ensureCellInCorrectContainer=function(e){if(!this.printLayout){var t=e.getGui(),o=e.getColumn().getPinned(),n=this.getContainerForCell(o),i=e.getParentRow();i!==n&&(i&&i.removeChild(t),n.appendChild(t),e.setParentRow(n),this.elementOrderChanged=!0)}},o.prototype.isCellInWrongRow=function(e){var t=e.getColumn(),o=this.getContainerForCell(t.getPinned());return e.getParentRow()!==o},o.prototype.insertCellsIntoContainer=function(e,t){var o=this;if(e){var n=[],i=[];if(t.forEach(function(t){var r=t.getId(),s=o.cellComps[r];s?o.ensureCellInCorrectContainer(s):o.createNewCell(t,e,n,i)}),n.length>0&&(et.appendHtml(e,n.join("")),this.callAfterRowAttachedOnCells(i,e)),this.elementOrderChanged&&this.beans.gridOptionsWrapper.isEnsureDomOrder()){var r=t.map(function(e){return o.getCellForCol(e)});et.setDomChildOrder(e,r)}}},o.prototype.addDomData=function(e){var t=this.beans.gridOptionsWrapper;t.setDomData(e,o.DOM_DATA_KEY_RENDERED_ROW,this),this.addDestroyFunc(function(){t.setDomData(e,o.DOM_DATA_KEY_RENDERED_ROW,null)})},o.prototype.createNewCell=function(e,t,o,n){var i=new Wi(this.scope,this.beans,e,this.rowNode,this,!1,this.printLayout),r=i.getCreateTemplate();o.push(r),n.push(i),this.cellComps[e.getId()]=i,i.setParentRow(t),this.elementOrderChanged=!0},o.prototype.onMouseEvent=function(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"mousedown":this.onRowMouseDown(t)}},o.prototype.createRowEvent=function(e,t){return{type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:t}},o.prototype.createRowEventWithSource=function(e,t){var o=this.createRowEvent(e,t);return o.source=this,o},o.prototype.onRowDblClick=function(e){if(!et.isStopPropagationForAgGrid(e)){var t=this.createRowEventWithSource(Ft.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(t)}},o.prototype.onRowMouseDown=function(e){this.lastMouseDownOnDragger=et.isElementChildOfClass(e.target,"ag-row-drag",3)},o.prototype.onRowClick=function(e){if(!et.isStopPropagationForAgGrid(e)&&!this.lastMouseDownOnDragger){var t=this.createRowEventWithSource(Ft.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(t);var o=e.ctrlKey||e.metaKey,n=e.shiftKey;if(!this.rowNode.group&&this.rowNode.selectable&&!this.rowNode.rowPinned&&this.beans.gridOptionsWrapper.isRowSelection()&&!this.beans.gridOptionsWrapper.isSuppressRowClickSelection()){var i=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),r=this.beans.gridOptionsWrapper.isRowDeselection();this.rowNode.isSelected()?i?this.rowNode.setSelectedParams({newValue:!1}):o?r&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!0}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!i&&!o,rangeSelect:n})}}},o.prototype.createFullWidthRowContainer=function(e,o,n,i,r,s,a){var l=this,u=this.createTemplate("",n);e.appendRowTemplate(u,function(){var n=e.getRowElement(l.getCompId()),u=l.createFullWidthParams(n,o),c=function(e){if(l.isAlive()){var t=e.getGui();n.appendChild(t),a(e)}else l.beans.context.destroyBean(e)},p=l.beans.detailRowCompCache.get(l.rowNode,o);if(p)c(p);else{var d=l.beans.userComponentFactory.newFullWidthCellRenderer(u,i,r);if(!d){var h=bt.isRegistered(t.ModuleNames.MasterDetailModule);return void("agDetailCellRenderer"!==r||h?console.error("ag-Grid: fullWidthCellRenderer "+r+" not found"):console.warn("ag-Grid: cell renderer agDetailCellRenderer (for master detail) not found. Did you forget to include the master detail module?"))}d.then(c)}l.afterRowAttached(e,n),s(n),l.angular1Compile(n)})},o.prototype.angular1Compile=function(e){this.scope&&this.beans.$compile(e)(this.scope)},o.prototype.createFullWidthParams=function(e,t){return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,$scope:this.scope?this.scope:this.parentScope,$compile:this.beans.$compile,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this)}},o.prototype.getInitialRowClasses=function(e){var t=[],o=this.beans.gridOptionsWrapper.isTreeData(),n=this.rowNode;return et.exists(e)&&t.push(e),t.push("ag-row"),t.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeRowIn&&t.push("ag-opacity-zero"),t.push(this.rowIsEven?"ag-row-even":"ag-row-odd"),n.isRowPinned()&&t.push("ag-row-pinned"),n.isSelected()&&t.push("ag-row-selected"),n.group?(t.push("ag-row-group"),t.push("ag-row-level-"+n.level),n.footer&&t.push("ag-row-footer")):t.push("ag-row-level-"+(n.parent?n.parent.level+1:"0")),n.stub&&t.push("ag-row-loading"),this.fullWidthRow&&t.push("ag-full-width-row"),(o?n.allChildrenCount:n.group&&!n.footer)&&t.push(n.expanded?"ag-row-group-expanded":"ag-row-group-contracted"),n.dragging&&t.push("ag-row-dragging"),et.pushAll(t,this.processClassesFromGridOptions()),et.pushAll(t,this.preProcessRowClassRules()),t.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.firstRowOnPage=this.isFirstRowOnPage(),this.lastRowOnPage=this.isLastRowOnPage(),this.firstRowOnPage&&t.push("ag-row-first"),this.lastRowOnPage&&t.push("ag-row-last"),t},o.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},o.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},o.prototype.onModelUpdated=function(){var e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.eAllRowContainers.forEach(function(t){return et.addOrRemoveCssClass(t,"ag-row-first",e)})),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.eAllRowContainers.forEach(function(e){return et.addOrRemoveCssClass(e,"ag-row-last",t)}))},o.prototype.preProcessRowClassRules=function(){var e=[];return this.processRowClassRules(function(t){e.push(t)},function(e){}),e},o.prototype.processRowClassRules=function(e,t){this.beans.stylingService.processClassRules(this.beans.gridOptionsWrapper.rowClassRules(),{value:void 0,colDef:void 0,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext()},e,t)},o.prototype.stopEditing=function(e){if(void 0===e&&(e=!1),this.forEachCellComp(function(t){t.stopEditing(e)}),this.editingRow){if(!e){var t=this.createRowEvent(Ft.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(t)}this.setEditingRow(!1)}},o.prototype.setEditingRow=function(e){this.editingRow=e,this.eAllRowContainers.forEach(function(t){return et.addOrRemoveCssClass(t,"ag-row-editing",e)});var t=this.createRowEvent(e?Ft.EVENT_ROW_EDITING_STARTED:Ft.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(t)},o.prototype.startRowEditing=function(e,t,o){void 0===e&&(e=null),void 0===t&&(t=null),void 0===o&&(o=null),this.editingRow||(this.forEachCellComp(function(n){var i=n===o;i?n.startEditingIfEnabled(e,t,i):n.startEditingIfEnabled(null,null,i)}),this.setEditingRow(!0))},o.prototype.forEachCellComp=function(e){et.iterateObject(this.cellComps,function(t,o){o&&e(o)})},o.prototype.postProcessClassesFromGridOptions=function(){var e=this,t=this.processClassesFromGridOptions();t&&t.length&&t.forEach(function(t){e.eAllRowContainers.forEach(function(e){return et.addCssClass(e,t)})})},o.prototype.postProcessRowClassRules=function(){var e=this;this.processRowClassRules(function(t){e.eAllRowContainers.forEach(function(e){return et.addCssClass(e,t)})},function(t){e.eAllRowContainers.forEach(function(e){return et.removeCssClass(e,t)})})},o.prototype.processClassesFromGridOptions=function(){var e=[],t=function(t){"string"==typeof t?e.push(t):Array.isArray(t)&&t.forEach(function(t){return e.push(t)})},o=this.beans.gridOptionsWrapper.getRowClass();if(o){if("function"==typeof o)return void console.warn("ag-Grid: rowClass should not be a function, please use getRowClass instead");t(o)}var n=this.beans.gridOptionsWrapper.getRowClassFunc();return n&&t(n({node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi()})),e},o.prototype.preProcessStylesFromGridOptions=function(){var e=this.processStylesFromGridOptions();return et.cssStyleObjectToMarkup(e)},o.prototype.postProcessStylesFromGridOptions=function(){var e=this.processStylesFromGridOptions();this.eAllRowContainers.forEach(function(t){return et.addStylesToElement(t,e)})},o.prototype.processStylesFromGridOptions=function(){var e=this.beans.gridOptionsWrapper.getRowStyle();if(!e||"function"!=typeof e){var t,o=this.beans.gridOptionsWrapper.getRowStyleFunc();return o&&(t=o({data:this.rowNode.data,node:this.rowNode,api:this.beans.gridOptionsWrapper.getApi(),context:this.beans.gridOptionsWrapper.getContext(),$scope:this.scope})),et.assign({},e,t)}console.warn("ag-Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},o.prototype.createCells=function(e){var t=this,o=[],n=[];return e.forEach(function(e){var i=new Wi(t.scope,t.beans,e,t.rowNode,t,!1,t.printLayout),r=i.getCreateTemplate();o.push(r),n.push(i),t.cellComps[e.getId()]=i}),{template:o.join(""),cellComps:n}},o.prototype.onRowSelected=function(){var e=this.rowNode.isSelected();this.eAllRowContainers.forEach(function(t){return et.addOrRemoveCssClass(t,"ag-row-selected",e)})},o.prototype.callAfterRowAttachedOnCells=function(e,t){var o=this;e.forEach(function(e){e.setParentRow(t),e.afterAttached(),o.editingRow&&e.startEditingIfEnabled()})},o.prototype.afterRowAttached=function(e,t){var o=this;this.addDomData(t),this.removeSecondPassFuncs.push(function(){e.removeRowElement(t)}),this.removeFirstPassFuncs.push(function(){if(et.exists(o.rowNode.rowTop)){var e=o.roundRowTopToBounds(o.rowNode.rowTop);o.setRowTop(e)}else et.addCssClass(t,"ag-opacity-zero")}),this.eAllRowContainers.push(t),this.useAnimationFrameForCreate?this.beans.taskQueue.createTask(this.addHoverFunctionality.bind(this,t),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t)},o.prototype.addHoverFunctionality=function(e){var t=this;this.active&&(this.addManagedListener(e,"mouseenter",function(){return t.rowNode.onMouseEnter()}),this.addManagedListener(e,"mouseleave",function(){return t.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,Go.EVENT_MOUSE_ENTER,function(){t.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||et.addCssClass(e,"ag-row-hover")}),this.addManagedListener(this.rowNode,Go.EVENT_MOUSE_LEAVE,function(){et.removeCssClass(e,"ag-row-hover")}))},o.prototype.roundRowTopToBounds=function(e){var t=this.beans.gridPanel.getVScrollPosition(),o=this.applyPaginationOffset(t.top,!0)-100,n=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(o,e),n)},o.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},o.prototype.onRowHeightChanged=function(){if(et.exists(this.rowNode.rowHeight)){var e=this.rowNode.rowHeight+"px";this.eAllRowContainers.forEach(function(t){return t.style.height=e})}},o.prototype.addEventListener=function(t,o){"renderedRowRemoved"!==t&&"rowRemoved"!==t||(t=Ft.EVENT_VIRTUAL_ROW_REMOVED,console.warn("ag-Grid: Since version 11, event renderedRowRemoved is now called "+Ft.EVENT_VIRTUAL_ROW_REMOVED)),e.prototype.addEventListener.call(this,t,o)},o.prototype.removeEventListener=function(t,o){"renderedRowRemoved"!==t&&"rowRemoved"!==t||(t=Ft.EVENT_VIRTUAL_ROW_REMOVED,console.warn("ag-Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+Ft.EVENT_VIRTUAL_ROW_REMOVED)),e.prototype.removeEventListener.call(this,t,o)},o.prototype.destroy=function(t){void 0===t&&(t=!1),this.active=!1,this.destroyFullWidthComponents(),t?(this.removeFirstPassFuncs.forEach(function(e){return e()}),this.removeSecondPassFuncs.push(this.destroyContainingCells.bind(this))):(this.destroyContainingCells(),this.getAndClearDelayedDestroyFunctions().forEach(function(e){return e()}));var o=this.createRowEvent(Ft.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(o),this.beans.eventService.dispatchEvent(o),e.prototype.destroy.call(this)},o.prototype.destroyContainingCells=function(){this.forEachCellComp(function(e){return e.destroy()}),this.destroyFullWidthComponents()},o.prototype.getAndClearDelayedDestroyFunctions=function(){var e=this.removeSecondPassFuncs;return this.removeSecondPassFuncs=[],e},o.prototype.onCellFocusChanged=function(){var e=this.beans.focusController.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.eAllRowContainers.forEach(function(t){return et.addOrRemoveCssClass(t,"ag-row-focus",e)}),this.eAllRowContainers.forEach(function(t){return et.addOrRemoveCssClass(t,"ag-row-no-focus",!e)}),this.rowFocused=e),!e&&this.editingRow&&this.stopEditing(!1)},o.prototype.onPaginationChanged=function(){var e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged())},o.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},o.prototype.applyPaginationOffset=function(e,t){return void 0===t&&(t=!1),this.rowNode.isRowPinned()?e:e+this.beans.paginationProxy.getPixelOffset()*(t?1:-1)},o.prototype.setRowTop=function(e){if(!this.printLayout&&et.exists(e)){var t=this.applyPaginationOffset(e),o=this.beans.maxDivHeightScaler.getRealPixelPosition(t)+"px";this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.eAllRowContainers.forEach(function(e){return e.style.top=o}):this.eAllRowContainers.forEach(function(e){return e.style.transform="translateY("+o+")"})}},o.prototype.getAndClearNextVMTurnFunctions=function(){var e=this.createSecondPassFuncs;return this.createSecondPassFuncs=[],e},o.prototype.getRowNode=function(){return this.rowNode},o.prototype.getRenderedCellForColumn=function(e){var t=this,o=this.cellComps[e.getColId()];if(o)return o;var n=Object.keys(this.cellComps).map(function(e){return t.cellComps[e]}).filter(function(t){return t&&-1!==t.getColSpanningList().indexOf(e)});return n.length?n[0]:void 0},o.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes())},o.prototype.updateRowIndexes=function(){var e=this,t=this.rowNode.getRowIndexString(),o=this.rowNode.rowIndex%2==0,n=this.rowIsEven!==o,i=this.beans.headerNavigationService.getHeaderRowCount();n&&(this.rowIsEven=o),this.eAllRowContainers.forEach(function(r){r.setAttribute("row-index",t),r.setAttribute("aria-rowindex",(i+e.rowNode.rowIndex+1).toString()),n&&(et.addOrRemoveCssClass(r,"ag-row-even",o),et.addOrRemoveCssClass(r,"ag-row-odd",!o))})},o.prototype.ensureDomOrder=function(){[{el:this.getBodyRowElement(),ct:this.bodyContainerComp},{el:this.getPinnedLeftRowElement(),ct:this.pinnedLeftContainerComp},{el:this.getPinnedRightRowElement(),ct:this.pinnedRightContainerComp},{el:this.getFullWidthRowElement(),ct:this.fullWidthContainerComp}].forEach(function(e){e.el&&e.ct.ensureDomOrder(e.el)})},o.prototype.getPinnedLeftRowElement=function(){return this.ePinnedLeftRow?this.ePinnedLeftRow:this.eFullWidthRowLeft},o.prototype.getPinnedRightRowElement=function(){return this.ePinnedRightRow?this.ePinnedRightRow:this.eFullWidthRowRight},o.prototype.getBodyRowElement=function(){return this.eBodyRow?this.eBodyRow:this.eFullWidthRowBody},o.prototype.getFullWidthRowElement=function(){return this.eFullWidthRow},o.DOM_DATA_KEY_RENDERED_ROW="renderedRow",o.FULL_WIDTH_CELL_RENDERER="fullWidthCellRenderer",o.GROUP_ROW_RENDERER="groupRowRenderer",o.GROUP_ROW_RENDERER_COMP_NAME="agGroupRowRenderer",o.LOADING_CELL_RENDERER="loadingCellRenderer",o.LOADING_CELL_RENDERER_COMP_NAME="agLoadingCellRenderer",o.DETAIL_CELL_RENDERER="detailCellRenderer",o.DETAIL_CELL_RENDERER_COMP_NAME="agDetailCellRenderer",o}(oo),zi=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ki=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Yi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.destroyFuncsForColumnListeners=[],t.rowCompsByIndex={},t.floatingTopRowComps=[],t.floatingBottomRowComps=[],t.refreshInProgress=!1,t}return zi(t,e),t.prototype.registerGridCore=function(e){this.gridCore=e},t.prototype.getGridCore=function(){return this.gridCore},t.prototype.agWire=function(e){this.logger=e.create("RowRenderer")},t.prototype.registerGridComp=function(e){this.gridPanel=e,this.rowContainers=this.gridPanel.getRowContainers(),this.addManagedListener(this.eventService,Ft.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,$t.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.registerCellEventListeners(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===Ue.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},t.prototype.registerCellEventListeners=function(){var e=this;this.addManagedListener(this.eventService,Ft.EVENT_CELL_FOCUSED,function(t){e.forEachCellComp(function(e){return e.onCellFocused(t)})}),this.addManagedListener(this.eventService,Ft.EVENT_FLASH_CELLS,function(t){e.forEachCellComp(function(e){return e.onFlashCells(t)})}),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_HOVER_CHANGED,function(){e.forEachCellComp(function(e){return e.onColumnHover()})}),this.addManagedListener(this.eventService,Ft.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){e.printLayout&&e.forEachCellComp(function(e){return e.onLeftChanged()})}),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,Ft.EVENT_RANGE_SELECTION_CHANGED,function(){e.forEachCellComp(function(e){return e.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_MOVED,function(){e.forEachCellComp(function(e){return e.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_PINNED,function(){e.forEachCellComp(function(e){return e.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_VISIBLE,function(){e.forEachCellComp(function(e){return e.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,Ft.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},t.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(e){return e()}),this.destroyFuncsForColumnListeners.length=0},t.prototype.refreshListenersToColumnsForCellComps=function(){var e=this;this.removeGridColumnListeners();var t=this.columnController.getAllGridColumns();t&&t.forEach(function(t){var o=function(o){e.forEachCellComp(function(e){e.getColumn()===t&&o(e)})},n=function(){o(function(e){return e.onLeftChanged()})},i=function(){o(function(e){return e.onWidthChanged()})},r=function(){o(function(e){return e.onFirstRightPinnedChanged()})},s=function(){o(function(e){return e.onLastLeftPinnedChanged()})};t.addEventListener(Et.EVENT_LEFT_CHANGED,n),t.addEventListener(Et.EVENT_WIDTH_CHANGED,i),t.addEventListener(Et.EVENT_FIRST_RIGHT_PINNED_CHANGED,r),t.addEventListener(Et.EVENT_LAST_LEFT_PINNED_CHANGED,s),e.destroyFuncsForColumnListeners.push(function(){t.removeEventListener(Et.EVENT_LEFT_CHANGED,n),t.removeEventListener(Et.EVENT_WIDTH_CHANGED,i),t.removeEventListener(Et.EVENT_FIRST_RIGHT_PINNED_CHANGED,r),t.removeEventListener(Et.EVENT_LAST_LEFT_PINNED_CHANGED,s)})})},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsWrapper.getDomLayout()===Ue.DOM_LAYOUT_PRINT,t=e||this.gridOptionsWrapper.isEmbedFullWidthRows(),o=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,o&&this.redrawAfterModelUpdate()},t.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var e=Object.keys(this.rowCompsByIndex);this.removeRowComps(e)},t.prototype.onPageLoaded=function(e){et.missing(e)&&(e={type:Ft.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1}),this.onModelUpdated(e)},t.prototype.getAllCellsForColumn=function(e){var t=[];function o(o,n){var i=n.getCellForCol(e);i&&t.push(i)}return et.iterateObject(this.rowCompsByIndex,o),et.iterateObject(this.floatingBottomRowComps,o),et.iterateObject(this.floatingTopRowComps,o),t},t.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.floatingTopRowComps,this.pinnedRowModel.getPinnedTopRowData(),this.rowContainers.floatingTopPinnedLeft,this.rowContainers.floatingTopPinnedRight,this.rowContainers.floatingTop,this.rowContainers.floatingTopFullWidth),this.refreshFloatingRows(this.floatingBottomRowComps,this.pinnedRowModel.getPinnedBottomRowData(),this.rowContainers.floatingBottomPinnedLeft,this.rowContainers.floatingBottomPinnedRight,this.rowContainers.floatingBottom,this.rowContainers.floatingBottomFullWidth)},t.prototype.refreshFloatingRows=function(e,t,o,n,i,r){var s=this;e.forEach(function(e){e.destroy()}),e.length=0,t&&t.forEach(function(t){var a=new Ui(s.$scope,i,o,n,r,t,s.beans,!1,!1,s.printLayout,s.embedFullWidthRows);a.init(),e.push(a)}),this.flushContainers(e)},t.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},t.prototype.onModelUpdated=function(e){this.redrawAfterModelUpdate({recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0})},t.prototype.getRenderedIndexesForRowNodes=function(e){var t=[];return et.missing(e)||et.iterateObject(this.rowCompsByIndex,function(o,n){var i=n.getRowNode();e.indexOf(i)>=0&&t.push(o)}),t},t.prototype.redrawRows=function(e){if(e&&0!=e.length){var t=this.getRenderedIndexesForRowNodes(e);this.removeRowComps(t),this.redrawAfterModelUpdate({recycleRows:!0})}},t.prototype.getCellToRestoreFocusToAfterRefresh=function(e){var t=e.suppressKeepFocus?null:this.focusController.getFocusCellToUseAfterRefresh();if(et.missing(t))return null;var o=document.activeElement,n=this.gridOptionsWrapper.getDomData(o,Wi.DOM_DATA_KEY_CELL_COMP);return et.missing(n)?null:t},t.prototype.redrawAfterModelUpdate=function(e){void 0===e&&(e={}),this.getLockOnRefresh();var t=this.getCellToRestoreFocusToAfterRefresh(e);this.sizeContainerToPageHeight(),this.scrollToTopIfNewData(e);var o=!this.printLayout&&e.recycleRows,n=e.animate&&this.gridOptionsWrapper.isAnimateRows(),i=this.binRowComps(o);this.redraw(i,n),e.onlyBody||this.refreshFloatingRowComps(),this.restoreFocusedCell(t),this.releaseLockOnRefresh()},t.prototype.scrollToTopIfNewData=function(e){var t=e.newData||e.newPage,o=this.gridOptionsWrapper.isSuppressScrollOnNewData();t&&!o&&this.gridPanel.scrollToTop()},t.prototype.sizeContainerToPageHeight=function(){var e=[this.rowContainers.body,this.rowContainers.fullWidth,this.rowContainers.pinnedLeft,this.rowContainers.pinnedRight];if(this.printLayout)e.forEach(function(e){return e.setHeight(null)});else{var t=this.paginationProxy.getCurrentPageHeight();0===t&&(t=1),this.maxDivHeightScaler.setModelHeight(t);var o=this.maxDivHeightScaler.getUiContainerHeight();e.forEach(function(e){return e.setHeight(o)})}},t.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("ag-Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, eg instead of api.refreshView(), call setTimeout(function(){api.refreshView(),0}). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},t.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},t.prototype.restoreFocusedCell=function(e){e&&this.focusController.setFocusedCell(e.rowIndex,e.column,e.rowPinned,!0)},t.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.forEachRowComp(function(t,o){o.stopEditing(e)})},t.prototype.forEachCellComp=function(e){this.forEachRowComp(function(t,o){return o.forEachCellComp(e)})},t.prototype.forEachRowComp=function(e){et.iterateObject(this.rowCompsByIndex,e),et.iterateObject(this.floatingTopRowComps,e),et.iterateObject(this.floatingBottomRowComps,e)},t.prototype.addRenderedRowListener=function(e,t,o){var n=this.rowCompsByIndex[t];n&&n.addEventListener(e,o)},t.prototype.flashCells=function(e){void 0===e&&(e={});var t=e.flashDelay,o=e.fadeDelay;this.forEachCellCompFiltered(e.rowNodes,e.columns,function(e){return e.flashCell({flashDelay:t,fadeDelay:o})})},t.prototype.refreshCells=function(e){void 0===e&&(e={});var t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.forEachCellCompFiltered(e.rowNodes,e.columns,function(e){return e.refreshCell(t)})},t.prototype.getCellRendererInstances=function(e){var t=[];return this.forEachCellCompFiltered(e.rowNodes,e.columns,function(e){var o=e.getCellRenderer();o&&t.push(o)}),t},t.prototype.getCellEditorInstances=function(e){var t=[];return this.forEachCellCompFiltered(e.rowNodes,e.columns,function(e){var o=e.getCellEditor();o&&t.push(o)}),t},t.prototype.getEditingCells=function(){var e=[];return this.forEachCellComp(function(t){if(t.isEditing()){var o=t.getCellPosition();e.push(o)}}),e},t.prototype.forEachCellCompFiltered=function(e,t,o){var n,i,r=this;et.exists(e)&&(n={top:{},bottom:{},normal:{}},e.forEach(function(e){e.rowPinned===Ue.PINNED_TOP?n.top[e.id]=!0:e.rowPinned===Ue.PINNED_BOTTOM?n.bottom[e.id]=!0:n.normal[e.id]=!0})),et.exists(t)&&(i={},t.forEach(function(e){var t=r.columnController.getGridColumn(e);et.exists(t)&&(i[t.getId()]=!0)}));var s=function(e){var t=e.getRowNode(),r=t.id,s=t.rowPinned;if(et.exists(n))if(s===Ue.PINNED_BOTTOM){if(!n.bottom[r])return}else if(s===Ue.PINNED_TOP){if(!n.top[r])return}else if(!n.normal[r])return;e.forEachCellComp(function(e){var t=e.getColumn().getId();i&&!i[t]||o(e)})};et.iterateObject(this.rowCompsByIndex,function(e,t){s(t)}),this.floatingTopRowComps&&this.floatingTopRowComps.forEach(s),this.floatingBottomRowComps&&this.floatingBottomRowComps.forEach(s)},t.prototype.destroy=function(){var t=Object.keys(this.rowCompsByIndex);this.removeRowComps(t),e.prototype.destroy.call(this)},t.prototype.binRowComps=function(e){var t,o=this,n={};return e?(t=[],et.iterateObject(this.rowCompsByIndex,function(e,i){var r=i.getRowNode();et.exists(r.id)?(n[r.id]=i,delete o.rowCompsByIndex[e]):t.push(e)})):t=Object.keys(this.rowCompsByIndex),this.removeRowComps(t),n},t.prototype.removeRowComps=function(e){var t=this;e.forEach(function(e){t.rowCompsByIndex[e].destroy(),delete t.rowCompsByIndex[e]})},t.prototype.redrawAfterScroll=function(){this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh()},t.prototype.removeRowCompsNotToDraw=function(e){var t={};e.forEach(function(e){return t[e]=!0});var o=Object.keys(this.rowCompsByIndex).filter(function(e){return!t[e]});this.removeRowComps(o)},t.prototype.calculateIndexesToDraw=function(e){var t=this,o=et.createArrayOfNumbers(this.firstRenderedRow,this.lastRenderedRow),n=function(e,n){var i=Number(e);(i<t.firstRenderedRow||i>t.lastRenderedRow)&&t.doNotUnVirtualiseRow(n)&&o.push(i)};return et.iterateObject(this.rowCompsByIndex,n),et.iterateObject(e,n),o.sort(function(e,t){return e-t}),o},t.prototype.redraw=function(e,t,o){var n=this;void 0===t&&(t=!1),void 0===o&&(o=!1),this.maxDivHeightScaler.updateOffset(),this.workOutFirstAndLastRowsToRender();var i=this.calculateIndexesToDraw(e);this.removeRowCompsNotToDraw(i),this.printLayout&&(t=!1);var r=[],s=[];i.forEach(function(i){var a=n.createOrUpdateRowComp(i,e,t,o);et.exists(a)&&(s.push(a),et.pushAll(r,a.getAndClearNextVMTurnFunctions()))}),this.flushContainers(s),et.executeNextVMTurn(r),!o||this.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout?this.destroyRowComps(e,t):this.beans.taskQueue.addDestroyTask(this.destroyRowComps.bind(this,e,t)),this.checkAngularCompile(),this.gridPanel.updateRowCount()},t.prototype.flushContainers=function(e){et.iterateObject(this.rowContainers,function(e,t){t&&t.flushRowTemplates()}),e.forEach(function(e){return e.afterFlush()})},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnController.isPinningLeft(),t=this.columnController.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},t.prototype.redrawFullWidthEmbeddedRows=function(){var e=[];et.iterateObject(this.rowCompsByIndex,function(t,o){if(o.isFullWidth()){var n=o.getRowNode().rowIndex;e.push(n.toString())}}),this.refreshFloatingRowComps(),this.removeRowComps(e),this.redrawAfterScroll()},t.prototype.refreshFullWidthRows=function(){var e=[];et.iterateObject(this.rowCompsByIndex,function(t,o){if(o.isFullWidth()&&!o.refreshFullWidth()){var n=o.getRowNode().rowIndex;e.push(n.toString())}}),this.removeRowComps(e),this.redrawAfterScroll()},t.prototype.createOrUpdateRowComp=function(e,t,o,n){var i,r=this.rowCompsByIndex[e];if(r||(i=this.paginationProxy.getRow(e),et.exists(i)&&et.exists(t)&&t[i.id]&&i.alreadyRendered&&(r=t[i.id],t[i.id]=null)),r)r.ensureDomOrder();else{if(i||(i=this.paginationProxy.getRow(e)),!et.exists(i))return;r=this.createRowComp(i,o,n)}return i&&(i.alreadyRendered=!0),this.rowCompsByIndex[e]=r,r},t.prototype.destroyRowComps=function(e,t){var o=[];et.iterateObject(e,function(e,n){n&&(n.destroy(t),et.pushAll(o,n.getAndClearDelayedDestroyFunctions()))}),et.executeInAWhile(o)},t.prototype.checkAngularCompile=function(){var e=this;this.gridOptionsWrapper.isAngularCompileRows()&&window.setTimeout(function(){e.$scope.$apply()},0)},t.prototype.workOutFirstAndLastRowsToRender=function(){var e,t,o=this;if(this.paginationProxy.isRowsToRender())if(this.printLayout)e=this.paginationProxy.getPageFirstRow(),t=this.paginationProxy.getPageLastRow();else{var n=this.paginationProxy.getPixelOffset(),i=this.maxDivHeightScaler.getOffset(),r=this.gridPanel.getVScrollPosition(),s=r.top,a=r.bottom,l=this.gridOptionsWrapper.getRowBufferInPixels(),u=s+n+i-l,c=a+n+i+l;this.ensureAllRowsInRangeHaveHeightsCalculated(u,c);var p=this.paginationProxy.getRowIndexAtPixel(u),d=this.paginationProxy.getRowIndexAtPixel(c),h=this.paginationProxy.getPageFirstRow(),f=this.paginationProxy.getPageLastRow();p<h&&(p=h),d>f&&(d=f),e=p,t=d}else e=0,t=-1;var g=this.gridOptionsWrapper.getDomLayout()===Ue.DOM_LAYOUT_NORMAL,m=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),y=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);if(g&&!m&&t-e>y&&(t=e+y),(e!==this.firstRenderedRow||t!==this.lastRenderedRow)&&(this.firstRenderedRow=e,this.lastRenderedRow=t,this.eventService.dispatchEvent({type:Ft.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:t,api:this.gridApi,columnApi:this.columnApi})),this.paginationProxy.isRowsToRender()){var v={type:Ft.EVENT_FIRST_DATA_RENDERED,firstRow:e,lastRow:t,api:this.gridApi,columnApi:this.columnApi};window.setTimeout(function(){return o.eventService.dispatchEventOnce(v)},50)}},t.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(e,t){this.paginationProxy.ensureRowHeightsValid(e,t,-1,-1)&&(this.sizeContainerToPageHeight(),this.maxDivHeightScaler.updateOffset())},t.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},t.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},t.prototype.doNotUnVirtualiseRow=function(e){var t=e.getRowNode(),o=this.focusController.isRowNodeFocused(t),n=e.isEditing();return!!(o||n||t.detail)&&!!this.paginationProxy.isRowPresent(t)},t.prototype.createRowComp=function(e,t,o){var n=this.gridOptionsWrapper.isSuppressAnimationFrame(),i=new Ui(this.$scope,this.rowContainers.body,this.rowContainers.pinnedLeft,this.rowContainers.pinnedRight,this.rowContainers.fullWidth,e,this.beans,t,o&&!n&&!this.printLayout,this.printLayout,this.embedFullWidthRows);return i.init(),i},t.prototype.getRenderedNodes=function(){var e=this.rowCompsByIndex;return Object.keys(e).map(function(t){return e[t].getRowNode()})},t.prototype.navigateToNextCell=function(e,t,o,n){for(var i=o,r=!1;i&&(i===o||!this.isValidNavigateCell(i));)this.gridOptionsWrapper.isEnableRtl()?t===Ue.KEY_LEFT&&(i=this.getLastCellOfColSpan(i)):t===Ue.KEY_RIGHT&&(i=this.getLastCellOfColSpan(i)),i=this.cellNavigationService.getNextCellToFocus(t,i),r=et.missing(i);if(r&&e.keyCode===Ue.KEY_UP&&(i={rowIndex:-1,rowPinned:null,column:o.column}),n){var s=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(et.exists(s)){var a=s({key:t,previousCellPosition:o,nextCellPosition:i||null,event:e});et.exists(a)?(a.floating&&(et.doOnce(function(){console.warn("ag-Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),a.rowPinned=a.floating),i={rowPinned:a.rowPinned,rowIndex:a.rowIndex,column:a.column}):i=null}}if(i)if(i.rowIndex<0){var l=this.beans.headerNavigationService.getHeaderRowCount();this.focusController.focusHeaderPosition({headerRowIndex:l+i.rowIndex,column:o.column})}else{this.ensureCellVisible(i);var u=this.getComponentForCell(i);u&&(i=u.getCellPosition(),this.ensureCellVisible(i),this.focusController.setFocusedCell(i.rowIndex,i.column,i.rowPinned,!0),this.rangeController&&this.rangeController.setRangeToCell(i))}},t.prototype.isValidNavigateCell=function(e){var t=this.rowPositionUtils.getRowNode(e);if(t.detail||t.isFullWidthCell())return!1;if(!t.group)return!0;var o=this.columnController.isPivotMode();return!this.gridOptionsWrapper.isGroupUseEntireRow(o)},t.prototype.getLastCellOfColSpan=function(e){var t=this.getComponentForCell(e);if(!t)return e;var o=t.getColSpanningList();return 1===o.length?e:{rowIndex:e.rowIndex,column:et.last(o),rowPinned:e.rowPinned}},t.prototype.ensureCellVisible=function(e){et.missing(e.rowPinned)&&this.gridPanel.ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridPanel.ensureColumnVisible(e.column),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},t.prototype.startEditingCell=function(e,t,o){var n=this.getComponentForCell(e);n&&n.startRowOrCellEdit(t,o)},t.prototype.getComponentForCell=function(e){var t;switch(e.rowPinned){case Ue.PINNED_TOP:t=this.floatingTopRowComps[e.rowIndex];break;case Ue.PINNED_BOTTOM:t=this.floatingBottomRowComps[e.rowIndex];break;default:t=this.rowCompsByIndex[e.rowIndex]}return t?t.getRenderedCellForColumn(e.column):null},t.prototype.getRowNode=function(e){switch(e.rowPinned){case Ue.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case Ue.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.onTabKeyDown=function(e,t){this.moveToCellAfter(e,t.shiftKey)?t.preventDefault():t.shiftKey&&0===e.getCellPosition().rowIndex&&(t.preventDefault(),this.focusController.focusHeaderPosition({headerRowIndex:this.beans.headerNavigationService.getHeaderRowCount()-1,column:et.last(this.columnController.getAllDisplayedColumns())}))},t.prototype.tabToNextCell=function(e){var t=this.focusController.getFocusedCell();if(et.missing(t))return!1;var o=this.getComponentForCell(t);return!et.missing(o)&&this.moveToCellAfter(o,e)},t.prototype.moveToCellAfter=function(e,t){return e.isEditing()?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(e,t):this.moveToNextEditingCell(e,t):this.moveToNextCellNotEditing(e,t)},t.prototype.moveToNextEditingCell=function(e,t){var o=e.getCellPosition();e.stopEditing();var n=this.findNextCellToFocusOn(o,t,!0),i=et.exists(n);return i&&(n.startEditingIfEnabled(null,null,!0),n.focusCell(!1)),i},t.prototype.moveToNextEditingRow=function(e,t){var o=e.getCellPosition(),n=this.findNextCellToFocusOn(o,t,!0),i=et.exists(n);return i&&this.moveEditToNextCellOrRow(e,n),i},t.prototype.moveToNextCellNotEditing=function(e,t){var o=e.getCellPosition(),n=this.findNextCellToFocusOn(o,t,!1),i=et.exists(n);return i&&n.focusCell(!0),i},t.prototype.moveEditToNextCellOrRow=function(e,t){var o=e.getCellPosition(),n=t.getCellPosition();if(o.rowIndex===n.rowIndex&&o.rowPinned===n.rowPinned)e.setFocusOutOnEditor(),t.setFocusInOnEditor();else{var i=e.getRenderedRow(),r=t.getRenderedRow();e.setFocusOutOnEditor(),i.stopEditing(),r.startRowEditing(),t.setFocusInOnEditor()}t.focusCell()},t.prototype.findNextCellToFocusOn=function(e,t,o){for(var n=e;;){t||(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextTabbedCell(n,t);var i=this.gridOptionsWrapper.getTabToNextCellFunc();if(et.exists(i)){var r=i({backwards:t,editing:o,previousCellPosition:e,nextCellPosition:n||null});et.exists(r)?(r.floating&&(et.doOnce(function(){console.warn("ag-Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),r.rowPinned=r.floating),n={rowIndex:r.rowIndex,column:r.column,rowPinned:r.rowPinned}):n=null}if(!n)return null;if(o){var s=this.lookupRowNodeForCell(n);if(!n.column.isCellEditable(s))continue}et.missing(n.rowPinned)&&this.gridPanel.ensureIndexVisible(n.rowIndex),n.column.isPinned()||this.gridPanel.ensureColumnVisible(n.column),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames();var a=this.getComponentForCell(n);if(!et.missing(a)&&!a.isSuppressNavigable())return this.rangeController&&this.rangeController.setRangeToCell(n),a}},t.prototype.lookupRowNodeForCell=function(e){return e.rowPinned===Ue.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned===Ue.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)},Ki([ct("paginationProxy")],t.prototype,"paginationProxy",void 0),Ki([ct("columnController")],t.prototype,"columnController",void 0),Ki([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ki([ct("$scope")],t.prototype,"$scope",void 0),Ki([ct("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Ki([ct("rowModel")],t.prototype,"rowModel",void 0),Ki([ct("loggerFactory")],t.prototype,"loggerFactory",void 0),Ki([ct("focusController")],t.prototype,"focusController",void 0),Ki([ct("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Ki([ct("columnApi")],t.prototype,"columnApi",void 0),Ki([ct("gridApi")],t.prototype,"gridApi",void 0),Ki([ct("beans")],t.prototype,"beans",void 0),Ki([ct("maxDivHeightScaler")],t.prototype,"maxDivHeightScaler",void 0),Ki([ct("animationFrameService")],t.prototype,"animationFrameService",void 0),Ki([ct("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Ki([pt("rangeController")],t.prototype,"rangeController",void 0),Ki([(0,o=ht("loggerFactory"),function(e,t){o(e,t,0)})],t.prototype,"agWire",null),Ki([ut("rowRenderer")],t);var o}(Dt),qi=function(){function e(){}return e.addHeaderClassesFromColDef=function(e,t,o,n,i){et.missing(e)||this.addColumnClassesFromCollDef(e.headerClass,e,t,o,n,i)},e.addToolPanelClassesFromColDef=function(e,t,o,n,i){et.missing(e)||this.addColumnClassesFromCollDef(e.toolPanelClass,e,t,o,n,i)},e.addColumnClassesFromCollDef=function(e,t,o,n,i,r){var s;et.missing(e)||("string"==typeof(s="function"==typeof e?e({colDef:t,column:i,columnGroup:r,context:n.getContext(),api:n.getApi()}):e)?et.addCssClass(o,s):Array.isArray(s)&&s.forEach(function(e){et.addCssClass(o,e)}))},e}(),$i=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Qi=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Xi=function(e){function t(t,o){var n=e.call(this)||this;return n.columns=t,n.element=o,n}return $i(t,e),t.prototype.postConstruct=function(){this.addMouseHoverListeners()},t.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},t.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},t.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},Qi([ct("columnHoverService")],t.prototype,"columnHoverService",void 0),Qi([at],t.prototype,"postConstruct",null),t}(Dt),Zi=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ji=function(e){function t(t,o,n,i){var r=e.call(this)||this;return r.columnOrGroup=t,r.eCell=o,r.ariaEl=r.eCell.querySelector("[role=columnheader]")||r.eCell,r.colsSpanning=i,r.beans=n,r.printLayout=n.gridOptionsWrapper.getDomLayout()===Ue.DOM_LAYOUT_PRINT,r}return Zi(t,e),t.prototype.setColsSpanning=function(e){this.colsSpanning=e,this.onLeftChanged()},t.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?et.last(this.colsSpanning):this.columnOrGroup},t.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,Et.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime()},t.prototype.setLeftFirstTime=function(){var e=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),t=et.exists(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()},t.prototype.animateInLeft=function(){var e=this,t=this.getColumnOrGroup().getLeft(),o=this.getColumnOrGroup().getOldLeft();this.setLeft(o),this.actualLeft=t,this.beans.columnAnimationService.executeNextVMTurn(function(){e.actualLeft===t&&e.setLeft(t)})},t.prototype.onLeftChanged=function(){var e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)},t.prototype.modifyLeftForPrintLayout=function(e,t){return this.printLayout?e.getPinned()===Ue.PINNED_LEFT?t:e.getPinned()===Ue.PINNED_RIGHT?this.beans.columnController.getPinnedLeftContainerWidth()+this.beans.columnController.getBodyContainerWidth()+t:this.beans.columnController.getPinnedLeftContainerWidth()+t:t},t.prototype.setLeft=function(e){if(et.exists(e)&&(this.eCell.style.left=e+"px"),this.columnOrGroup instanceof Et){var t=this.beans.columnController.getAllDisplayedColumns().indexOf(this.columnOrGroup);this.ariaEl.setAttribute("aria-colindex",(t+1).toString())}else this.ariaEl.removeAttribute("aria-colindex")},function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([at],t.prototype,"postConstruct",null),t}(Dt),er=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),tr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},or=function(e){function t(t,o){var n=e.call(this)||this;n.cbSelectAllVisible=!1,n.processingEventFromCheckbox=!1,n.cbSelectAll=t,n.column=o;var i=o.getColDef();return n.filteredOnly=!!i&&!!i.headerCheckboxSelectionFilteredOnly,n}return er(t,e),t.prototype.postConstruct=function(){this.showOrHideSelectAll(),this.addManagedListener(this.eventService,Ft.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,Ko.EVENT_CHANGED,this.onCbSelectAll.bind(this))},t.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox())},t.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.getNextCheckboxState=function(e){return(0!==e.selected||0!==e.notSelected)&&(e.selected>0&&e.notSelected>0?null:e.selected>0)},t.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var e=this.getSelectionCount(),t=this.getNextCheckboxState(e);this.cbSelectAll.setValue(t),this.processingEventFromCheckbox=!1}},t.prototype.getSelectionCount=function(){var e=this,t=0,o=0,n=function(n){e.gridOptionsWrapper.isGroupSelectsChildren()&&n.group||(n.isSelected()?t++:n.selectable&&o++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(n):this.gridApi.forEachNode(n),{notSelected:o,selected:t}},t.prototype.checkRightRowModelType=function(){var e=this.rowModel.getType();e===Ue.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("ag-Grid: selectAllCheckbox is only available if using normal row model, you are using "+e)},t.prototype.onCbSelectAll=function(){this.processingEventFromCheckbox||this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionController.selectAllRowNodes(this.filteredOnly):this.selectionController.deselectAllRowNodes(this.filteredOnly))},t.prototype.isCheckboxSelection=function(){var e=this.column.getColDef().headerCheckboxSelection;return"function"==typeof e&&(e=e({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi})),!(!e||(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("headerCheckboxSelection is not supported for Server Side Row Model"),1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("headerCheckboxSelection is not supported for Infinite Row Model"),1):this.gridOptionsWrapper.isRowModelViewport()&&(console.warn("headerCheckboxSelection is not supported for Viewport Row Model"),1)))},tr([ct("gridApi")],t.prototype,"gridApi",void 0),tr([ct("columnApi")],t.prototype,"columnApi",void 0),tr([ct("rowModel")],t.prototype,"rowModel",void 0),tr([ct("selectionController")],t.prototype,"selectionController",void 0),tr([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),tr([at],t.prototype,"postConstruct",null),t}(Dt),nr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ir=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},rr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skipTabGuardFocus=!1,t}return nr(t,e),t.prototype.postConstruct=function(){this.getFocusableElement()&&this.wireFocusManagement()},t.prototype.wireFocusManagement=function(){var e=this,o=this.getFocusableElement();et.addCssClass(o,t.FOCUS_MANAGED_CLASS),this.isFocusableContainer()&&(this.topTabGuard=this.createTabGuard("top"),this.bottomTabGuard=this.createTabGuard("bottom"),this.addTabGuards(),this.activateTabGuards(),this.forEachTabGuard(function(t){e.addManagedListener(t,"focus",e.onFocus.bind(e))})),(this.onTabKeyDown||this.handleKeyDown)&&this.addKeyDownListeners(o),this.addManagedListener(o,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(o,"focusout",this.onFocusOut.bind(this))},t.prototype.isFocusableContainer=function(){return!1},t.prototype.focusInnerElement=function(e){var t=this.focusController.findFocusableElements(this.getFocusableElement(),'.ag-tab-guard, :not([tabindex="-1"])');t.length&&t[e?t.length-1:0].focus()},t.prototype.onFocusIn=function(e){this.isFocusableContainer()&&this.deactivateTabGuards()},t.prototype.onFocusOut=function(e){this.isFocusableContainer()&&(this.getFocusableElement().contains(e.relatedTarget)||this.activateTabGuards())},t.prototype.forceFocusOutOfContainer=function(){this.activateTabGuards(),this.skipTabGuardFocus=!0,this.bottomTabGuard.focus()},t.prototype.appendChild=function(t,o){if(this.isFocusableContainer()){et.isNodeOrElement(t)||(t=t.getGui());var n=this.bottomTabGuard;n?n.insertAdjacentElement("beforebegin",t):e.prototype.appendChild.call(this,t,o)}else e.prototype.appendChild.call(this,t,o)},t.prototype.createTabGuard=function(e){var t=document.createElement("div");return t.classList.add("ag-tab-guard"),t.classList.add("ag-tab-guard-"+e),t},t.prototype.addTabGuards=function(){var e=this.getFocusableElement();e.insertAdjacentElement("afterbegin",this.topTabGuard),e.insertAdjacentElement("beforeend",this.bottomTabGuard)},t.prototype.forEachTabGuard=function(e){[this.topTabGuard,this.bottomTabGuard].forEach(e)},t.prototype.addKeyDownListeners=function(e){var t=this;this.addManagedListener(e,"keydown",function(e){e.defaultPrevented||(e.keyCode===Ue.KEY_TAB&&t.onTabKeyDown?t.onTabKeyDown(e):t.handleKeyDown&&t.handleKeyDown(e))})},t.prototype.onFocus=function(e){this.isFocusableContainer()&&(this.skipTabGuardFocus?this.skipTabGuardFocus=!1:this.focusInnerElement(e.target===this.bottomTabGuard))},t.prototype.activateTabGuards=function(){this.forEachTabGuard(function(e){return e.setAttribute("tabIndex","0")})},t.prototype.deactivateTabGuards=function(){this.forEachTabGuard(function(e){return e.removeAttribute("tabindex")})},t.FOCUS_MANAGED_CLASS="ag-focus-managed",ir([ct("focusController")],t.prototype,"focusController",void 0),ir([at],t.prototype,"postConstruct",null),t}(oo),sr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ar=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sr(t,e),t.prototype.getColumn=function(){return this.column},t.prototype.getPinned=function(){return this.pinned},t}(rr),lr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ur=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},cr=function(e){function o(t,n,i){var r=e.call(this,o.TEMPLATE)||this;return r.column=t,r.dragSourceDropTarget=n,r.pinned=i,r}return lr(o,e),o.prototype.postConstruct=function(){e.prototype.postConstruct.call(this);var t=this.getComponentHolder(),o=this.columnController.getDisplayNameForColumn(this.column,"header",!0),n=t.sortable,i=this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!t.suppressMenu;this.appendHeaderComp(o,n,i),this.setupWidth(),this.setupMovingCss(),this.setupTooltip(),this.setupResize(),this.setupMenuClass(),this.setupSortableClass(n),this.addColumnHoverListener(),this.addDisplayMenuListeners(),this.cbSelectAll.setInputAriaLabel("Toggle Selection of All Rows"),this.createManagedBean(new Xi([this.column],this.getGui())),this.addManagedListener(this.column,Et.EVENT_FILTER_ACTIVE_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged(),this.createManagedBean(new or(this.cbSelectAll,this.column));var r=new Ji(this.column,this.getGui(),this.beans);this.createManagedBean(r),this.addAttributes(),qi.addHeaderClassesFromColDef(t,this.getGui(),this.gridOptionsWrapper,this.column,null)},o.prototype.addDisplayMenuListeners=function(){var e=this.onMouseOverOut.bind(this);this.addGuiEventListener("mouseenter",e),this.addGuiEventListener("mouseleave",e)},o.prototype.onMouseOverOut=function(e){this.headerComp&&this.headerComp.setActiveParent&&this.headerComp.setActiveParent("mouseenter"===e.type)},o.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var t=this.getParentComponent();this.focusController.setFocusedHeader(t.getRowIndex(),this.getColumn())}this.headerComp&&this.headerComp.setActiveParent&&this.headerComp.setActiveParent(!0)},o.prototype.onFocusOut=function(e){this.headerComp&&this.headerComp.setActiveParent&&!this.getGui().contains(e.relatedTarget)&&this.headerComp.setActiveParent(!1)},o.prototype.handleKeyDown=function(e){var t=this.headerComp;if(t){if(e.keyCode===Ue.KEY_SPACE){var o=this.cbSelectAll;o.isDisplayed()&&!o.getGui().contains(document.activeElement)&&o.setValue(!o.getValue())}e.keyCode===Ue.KEY_ENTER&&(e.ctrlKey||e.metaKey?this.menuEnabled&&t.showMenu&&(e.preventDefault(),t.showMenu()):this.sortable&&this.sortController.progressSort(this.column,e.shiftKey,"uiColumnSorted"))}},o.prototype.getComponentHolder=function(){return this.column.getColDef()},o.prototype.addColumnHoverListener=function(){this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_HOVER_CHANGED,this.onColumnHover.bind(this)),this.onColumnHover()},o.prototype.onColumnHover=function(){var e=this.columnHoverService.isHovered(this.column);et.addOrRemoveCssClass(this.getGui(),"ag-column-hover",e)},o.prototype.setupSortableClass=function(e){if(e){var t=this.getGui();et.addCssClass(t,"ag-header-cell-sortable"),this.sortable=!0}},o.prototype.onFilterChanged=function(){var e=this.column.isFilterActive();et.addOrRemoveCssClass(this.getGui(),"ag-header-cell-filtered",e)},o.prototype.appendHeaderComp=function(e,t,o){var n=this,i={column:this.column,displayName:e,enableSorting:t,enableMenu:o,showColumnMenu:function(e){n.gridApi.showColumnMenuAfterButtonClick(n.column,e)},progressSort:function(e){n.sortController.progressSort(n.column,!!e,"uiColumnSorted")},setSort:function(e,t){n.sortController.setSortForColumn(n.column,e,!!t,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()},r=this.afterHeaderCompCreated.bind(this,e);this.userComponentFactory.newHeaderComponent(i).then(r)},o.prototype.afterHeaderCompCreated=function(e,t){var o=this;this.getGui().appendChild(t.getGui()),this.addDestroyFunc(function(){o.getContext().destroyBean(t)}),this.setupMove(t.getGui(),e),this.headerComp=t},o.prototype.onColumnMovingChanged=function(){this.column.isMoving()?et.addCssClass(this.getGui(),"ag-header-cell-moving"):et.removeCssClass(this.getGui(),"ag-header-cell-moving")},o.prototype.setupMove=function(e,o){var n=this,i=this.column.getColDef(),r=this.gridOptionsWrapper.isSuppressMovableColumns()||this.getComponentHolder().suppressMovable||i.lockPosition;if((!r||i.enableRowGroup||i.enablePivot)&&e){var s={type:t.DragSourceType.HeaderCell,eElement:e,defaultIconName:_i.ICON_HIDE,getDragItem:function(){return n.createDragItem()},dragItemName:o,dragSourceDropTarget:this.dragSourceDropTarget,onDragStarted:function(){return!r&&n.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return!r&&n.column.setMoving(!1,"uiColumnMoved")}};this.dragAndDropService.addDragSource(s,!0),this.addDestroyFunc(function(){return n.dragAndDropService.removeDragSource(s)})}},o.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},o.prototype.setupResize=function(){var e=this,t=this.getComponentHolder();if(this.eResize)if(this.column.isResizable()){var o=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(o);var n=!this.gridOptionsWrapper.isSuppressAutoSize()&&!t.suppressAutoSize,i=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();if(n){this.addManagedListener(this.eResize,"dblclick",function(){e.columnController.autoSizeColumn(e.column,i,"uiColumnResized")});var r=new To(this.eResize);this.addManagedListener(r,To.EVENT_DOUBLE_TAP,function(){e.columnController.autoSizeColumn(e.column,i,"uiColumnResized")}),this.addDestroyFunc(r.destroy.bind(r))}}else et.removeFromParent(this.eResize)},o.prototype.onResizing=function(e,t){var o=this.normaliseResizeAmount(t);this.columnController.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+o}],this.resizeWithShiftKey,e,"uiColumnDragged"),e&&et.removeCssClass(this.getGui(),"ag-column-resizing")},o.prototype.onResizeStart=function(e){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=e,et.addCssClass(this.getGui(),"ag-column-resizing")},o.prototype.getTooltipText=function(){return this.getComponentHolder().headerTooltip},o.prototype.setupTooltip=function(){var e=this.getTooltipText();null!=e&&(this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",e):this.createManagedBean(new ki(this,"header")))},o.prototype.setupMovingCss=function(){this.addManagedListener(this.column,Et.EVENT_MOVING_CHANGED,this.onColumnMovingChanged.bind(this)),this.onColumnMovingChanged()},o.prototype.addAttributes=function(){this.getGui().setAttribute("col-id",this.column.getColId())},o.prototype.setupWidth=function(){this.addManagedListener(this.column,Et.EVENT_WIDTH_CHANGED,this.onColumnWidthChanged.bind(this)),this.onColumnWidthChanged()},o.prototype.setupMenuClass=function(){this.addManagedListener(this.column,Et.EVENT_MENU_VISIBLE_CHANGED,this.onMenuVisible.bind(this)),this.onColumnWidthChanged()},o.prototype.onMenuVisible=function(){this.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())},o.prototype.onColumnWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},o.prototype.normaliseResizeAmount=function(e){var t=e;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==Ue.PINNED_LEFT&&(t*=-1):this.pinned===Ue.PINNED_RIGHT&&(t*=-1),t},o.TEMPLATE='<div class="ag-header-cell" role="presentation" unselectable="on" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <ag-checkbox ref="cbSelectAll" class="ag-header-select-all" role="presentation"></ag-checkbox>\n        </div>',ur([ct("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),ur([ct("dragAndDropService")],o.prototype,"dragAndDropService",void 0),ur([ct("columnController")],o.prototype,"columnController",void 0),ur([ct("horizontalResizeService")],o.prototype,"horizontalResizeService",void 0),ur([ct("menuFactory")],o.prototype,"menuFactory",void 0),ur([ct("gridApi")],o.prototype,"gridApi",void 0),ur([ct("columnApi")],o.prototype,"columnApi",void 0),ur([ct("sortController")],o.prototype,"sortController",void 0),ur([ct("userComponentFactory")],o.prototype,"userComponentFactory",void 0),ur([ct("columnHoverService")],o.prototype,"columnHoverService",void 0),ur([ct("beans")],o.prototype,"beans",void 0),ur([ro("eResize")],o.prototype,"eResize",void 0),ur([ro("cbSelectAll")],o.prototype,"cbSelectAll",void 0),o}(ar),pr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),dr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},hr=function(e){function o(t,n,i){var r=e.call(this,o.TEMPLATE)||this;return r.removeChildListenersFuncs=[],r.column=t,r.dragSourceDropTarget=n,r.pinned=i,r}return pr(o,e),o.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),qi.addHeaderClassesFromColDef(this.getComponentHolder(),this.getGui(),this.gridOptionsWrapper,null,this.column);var t=this.columnController.getDisplayNameForColumnGroup(this.column,"header");this.appendHeaderGroupComp(t),this.setupResize(),this.addClasses(),this.setupWidth(),this.addAttributes(),this.setupMovingCss(),this.setupTooltip(),this.createManagedBean(new Xi(this.column.getOriginalColumnGroup().getLeafColumns(),this.getGui())),this.createManagedBean(new Ji(this.column,this.getGui(),this.beans))},o.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var t=this.getParentComponent();this.beans.focusController.setFocusedHeader(t.getRowIndex(),this.getColumn())}},o.prototype.handleKeyDown=function(e){var t=document.activeElement===this.getGui();switch(e.keyCode){case Ue.KEY_ENTER:if(t){var o=this.getColumn();if(o.isExpandable()){var n=!o.isExpanded();this.columnController.setColumnGroupOpened(o.getOriginalColumnGroup(),n,"uiColumnExpanded")}}}},o.prototype.setupMovingCss=function(){var e=this;this.column.getOriginalColumnGroup().getLeafColumns().forEach(function(t){e.addManagedListener(t,Et.EVENT_MOVING_CHANGED,e.onColumnMovingChanged.bind(e))}),this.onColumnMovingChanged()},o.prototype.getComponentHolder=function(){return this.column.getColGroupDef()},o.prototype.getTooltipText=function(){var e=this.getComponentHolder();return e&&e.headerTooltip},o.prototype.setupTooltip=function(){var e=this.getTooltipText();null!=e&&(this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",e):this.createManagedBean(new ki(this,"headerGroup")))},o.prototype.onColumnMovingChanged=function(){et.addOrRemoveCssClass(this.getGui(),"ag-header-cell-moving",this.column.isMoving())},o.prototype.addAttributes=function(){this.getGui().setAttribute("col-id",this.column.getUniqueId())},o.prototype.appendHeaderGroupComp=function(e){var t=this,o={displayName:e,columnGroup:this.column,setExpanded:function(e){t.columnController.setColumnGroupOpened(t.column.getOriginalColumnGroup(),e,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!e){for(var n=this.column,i=n.getLeafColumns();n.getParent()&&n.getParent().getLeafColumns().length===i.length;)n=n.getParent();var r=n.getColGroupDef();r&&(e=r.headerName),e||(e=i?this.columnController.getDisplayNameForColumn(i[0],"header",!0):"")}var s=this.afterHeaderCompCreated.bind(this,e);this.userComponentFactory.newHeaderGroupComponent(o).then(s)},o.prototype.afterHeaderCompCreated=function(e,t){var o=this;this.getGui().appendChild(t.getGui()),this.addDestroyFunc(function(){o.getContext().destroyBean(t)}),this.setupMove(t.getGui(),e)},o.prototype.addClasses=function(){var e=this.column.isPadding()?"no":"with";this.addCssClass("ag-header-group-cell-"+e+"-group")},o.prototype.setupMove=function(e,o){var n=this;if(e&&!this.isSuppressMoving()){var i=this.column.getOriginalColumnGroup().getLeafColumns(),r={type:t.DragSourceType.HeaderCell,eElement:e,defaultIconName:_i.ICON_HIDE,dragItemName:o,getDragItem:this.getDragItemForGroup.bind(this),dragSourceDropTarget:this.dragSourceDropTarget,onDragStarted:function(){return i.forEach(function(e){return e.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return i.forEach(function(e){return e.setMoving(!1,"uiColumnDragged")})}};this.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc(function(){return n.dragAndDropService.removeDragSource(r)})}},o.prototype.getDragItemForGroup=function(){var e=this.column.getOriginalColumnGroup().getLeafColumns(),t={};e.forEach(function(e){return t[e.getId()]=e.isVisible()});var o=[];return this.columnController.getAllDisplayedColumns().forEach(function(t){e.indexOf(t)>=0&&(o.push(t),et.removeFromArray(e,t))}),e.forEach(function(e){return o.push(e)}),{columns:o,visibleState:t}},o.prototype.isSuppressMoving=function(){var e=!1;return this.column.getLeafColumns().forEach(function(t){(t.getColDef().suppressMovable||t.getColDef().lockPosition)&&(e=!0)}),e||this.gridOptionsWrapper.isSuppressMovableColumns()},o.prototype.setupWidth=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.column,Rt.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},o.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},o.prototype.addListenersToChildrenColumns=function(){var e=this;this.removeListenersOnChildrenColumns();var t=this.onWidthChanged.bind(this);this.column.getLeafColumns().forEach(function(o){o.addEventListener(Et.EVENT_WIDTH_CHANGED,t),o.addEventListener(Et.EVENT_VISIBLE_CHANGED,t),e.removeChildListenersFuncs.push(function(){o.removeEventListener(Et.EVENT_WIDTH_CHANGED,t),o.removeEventListener(Et.EVENT_VISIBLE_CHANGED,t)})})},o.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(e){return e()}),this.removeChildListenersFuncs=[]},o.prototype.onWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},o.prototype.setupResize=function(){var e=this;if(this.eHeaderCellResize=this.getRefElement("agResize"),this.column.isResizable()){var t=this.horizontalResizeService.addResizeBar({eResizeBar:this.eHeaderCellResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(t),!this.gridOptionsWrapper.isSuppressAutoSize()){var o=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eHeaderCellResize.addEventListener("dblclick",function(t){var n=[];e.column.getDisplayedLeafColumns().forEach(function(e){e.getColDef().suppressAutoSize||n.push(e.getColId())}),n.length>0&&e.columnController.autoSizeColumns(n,o,"uiColumnResized")})}}else et.removeFromParent(this.eHeaderCellResize)},o.prototype.onResizeStart=function(e){var t=this,o=this.column.getDisplayedLeafColumns();this.resizeCols=o.filter(function(e){return e.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(e){return t.resizeStartWidth+=e.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(e){return t.resizeRatios.push(e.getActualWidth()/t.resizeStartWidth)});var n=null;if(e&&(n=this.columnController.getDisplayedGroupAfter(this.column)),n){var i=n.getDisplayedLeafColumns();this.resizeTakeFromCols=i.filter(function(e){return e.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(e){return t.resizeTakeFromStartWidth+=e.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(e){return t.resizeTakeFromRatios.push(e.getActualWidth()/t.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;et.addCssClass(this.getGui(),"ag-column-resizing")},o.prototype.onResizing=function(e,t){var o=[],n=this.normaliseDragChange(t);o.push({columns:this.resizeCols,ratios:this.resizeRatios,width:this.resizeStartWidth+n}),this.resizeTakeFromCols&&o.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-n}),this.columnController.resizeColumnSets(o,e,"uiColumnDragged"),e&&et.removeCssClass(this.getGui(),"ag-column-resizing")},o.prototype.normaliseDragChange=function(e){var t=e;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==Ue.PINNED_LEFT&&(t*=-1):this.pinned===Ue.PINNED_RIGHT&&(t*=-1),t},o.TEMPLATE='<div class="ag-header-group-cell" role="presentation" tabindex="-1">\n            <div ref="agResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',dr([ct("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),dr([ct("columnController")],o.prototype,"columnController",void 0),dr([ct("horizontalResizeService")],o.prototype,"horizontalResizeService",void 0),dr([ct("dragAndDropService")],o.prototype,"dragAndDropService",void 0),dr([ct("userComponentFactory")],o.prototype,"userComponentFactory",void 0),dr([ct("beans")],o.prototype,"beans",void 0),dr([ct("gridApi")],o.prototype,"gridApi",void 0),dr([ct("columnApi")],o.prototype,"columnApi",void 0),o}(ar),fr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),gr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},mr=function(e){function t(){return e.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return fr(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e;var t=this.columnController.getDisplayNameForColumn(e.column,"header",!0);this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(t+" Filter Input")},t.prototype.onParentModelChanged=function(e){var t=this;e?this.params.parentFilterInstance(function(o){if(o.getModelAsString){var n=o.getModelAsString(e);t.eFloatingFilterText.setValue(n)}}):this.eFloatingFilterText.setValue("")},gr([ro("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),gr([ct("columnController")],t.prototype,"columnController",void 0),t}(oo),yr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),vr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Cr=function(e){function o(t,n){var i=e.call(this,o.TEMPLATE)||this;return i.column=t,i.pinned=n,i}return yr(o,e),o.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.setupFloatingFilter(),this.setupWidth(),this.setupLeftPositioning(),this.setupColumnHover(),this.createManagedBean(new Xi([this.column],this.getGui())),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},o.prototype.onTabKeyDown=function(e){var t=document.activeElement,o=this.getGui();if(t!==o){e.preventDefault();var n=this.focusController.findNextFocusableElement(o,null,e.shiftKey);n?n.focus():o.focus()}},o.prototype.handleKeyDown=function(e){var t=document.activeElement,o=this.getGui(),n=t===o;switch(e.keyCode){case Ue.KEY_UP:case Ue.KEY_DOWN:n||e.preventDefault();case Ue.KEY_LEFT:case Ue.KEY_RIGHT:if(n)return;e.stopPropagation();case Ue.KEY_ENTER:n&&this.focusController.focusFirstFocusableElement(o)&&e.preventDefault();break;case Ue.KEY_ESCAPE:n||this.getGui().focus()}},o.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var t=this.getParentComponent();this.beans.focusController.setFocusedHeader(t.getRowIndex(),this.getColumn())}},o.prototype.setupFloatingFilter=function(){var e=this,t=this.column.getColDef();t.filter&&t.floatingFilter?(this.floatingFilterCompPromise=this.getFloatingFilterInstance(),this.floatingFilterCompPromise?this.floatingFilterCompPromise.then(function(t){t?(e.setupWithFloatingFilter(t),e.setupSyncWithFilter()):e.setupEmpty()}):this.setupEmpty()):this.setupEmpty()},o.prototype.setupLeftPositioning=function(){var e=new Ji(this.column,this.getGui(),this.beans);this.createManagedBean(e)},o.prototype.setupSyncWithFilter=function(){var e=this,t=function(t){var o=e.getFilterComponent().resolveNow(null,function(e){return e.getModel()});e.onParentModelChanged(o,t)};this.addManagedListener(this.column,Et.EVENT_FILTER_CHANGED,t),this.filterManager.isFilterActive(this.column)&&t(null)},o.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.eButtonShowMainFilter,"filterMenuTab",["filterMenuTab"])},o.prototype.setupColumnHover=function(){this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_HOVER_CHANGED,this.onColumnHover.bind(this)),this.onColumnHover()},o.prototype.onColumnHover=function(){F(this.getGui(),"ag-column-hover",this.columnHoverService.isHovered(this.column))},o.prototype.setupWidth=function(){this.addManagedListener(this.column,Et.EVENT_WIDTH_CHANGED,this.onColumnWidthChanged.bind(this)),this.onColumnWidthChanged()},o.prototype.onColumnWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},o.prototype.setupWithFloatingFilter=function(e){var t=this,o=function(){t.getContext().destroyBean(e)};if(this.isAlive()){this.addDestroyFunc(o);var n=e.getGui();F(this.eFloatingFilterBody,"ag-floating-filter-body",!this.suppressFilterButton),F(this.eFloatingFilterBody,"ag-floating-filter-full-body",this.suppressFilterButton),x(this.eButtonWrapper,!this.suppressFilterButton);var i=Be("filter",this.gridOptionsWrapper,this.column);this.eButtonShowMainFilter.appendChild(i),this.eFloatingFilterBody.appendChild(n),e.afterGuiAttached&&e.afterGuiAttached()}else o()},o.prototype.parentFilterInstance=function(e){this.getFilterComponent().then(e)},o.prototype.getFilterComponent=function(){return this.filterManager.getFilterComponent(this.column,"NO_UI")},o.prototype.getFloatingFilterInstance=function(){var e,n=this.column.getColDef();"string"==typeof n.filter?e=o.filterToFloatingFilterNames[n.filter]:n.filterFramework||!0===n.filter&&(e=bt.isRegistered(t.ModuleNames.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter");var i=this.filterManager.createFilterParams(this.column,this.column.getColDef()),r=this.userComponentFactory.createFinalParams(n,"filter",i),s={api:this.gridApi,column:this.column,filterParams:r,currentParentModel:this.currentParentModel.bind(this),parentFilterInstance:this.parentFilterInstance.bind(this),onFloatingFilterChanged:this.onFloatingFilterChanged.bind(this),suppressFilterButton:!1};this.suppressFilterButton=!!n.floatingFilterComponentParams&&!!n.floatingFilterComponentParams.suppressFilterButton;var a=this.userComponentFactory.newFloatingFilterComponent(n,s,e);if(!a){var l=this.getFilterComponentPrototype(n);if(l&&l.prototype&&l.prototype.getModelAsString){var u=this.userComponentFactory.createUserComponentFromConcreteClass(mr,s);a=ot.resolve(u)}}return a},o.prototype.createDynamicParams=function(){return{column:this.column,colDef:this.column.getColDef(),api:this.gridApi,columnApi:this.columnApi}},o.prototype.getFilterComponentPrototype=function(e){var t=this.userComponentFactory.lookupComponentClassDef(e,"filter",this.createDynamicParams());return t?t.component:null},o.prototype.setupEmpty=function(){x(this.eButtonWrapper,!1)},o.prototype.currentParentModel=function(){return this.getFilterComponent().resolveNow(null,function(e){return e.getModel()})},o.prototype.onParentModelChanged=function(e,t){this.floatingFilterCompPromise&&this.floatingFilterCompPromise.then(function(o){return o.onParentModelChanged(e,t)})},o.prototype.onFloatingFilterChanged=function(){console.warn("ag-Grid: since version 21.x, how floating filters are implemented has changed. Instead of calling params.onFloatingFilterChanged(), get a reference to the main filter via params.parentFilterInstance() and then set a value on the parent filter directly.")},o.filterToFloatingFilterNames={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},o.TEMPLATE='<div class="ag-header-cell" role="presentation" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="columnheader"></div>\n            <div class="ag-floating-filter-button" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',vr([ct("columnHoverService")],o.prototype,"columnHoverService",void 0),vr([ct("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),vr([ct("userComponentFactory")],o.prototype,"userComponentFactory",void 0),vr([ct("gridApi")],o.prototype,"gridApi",void 0),vr([ct("columnApi")],o.prototype,"columnApi",void 0),vr([ct("filterManager")],o.prototype,"filterManager",void 0),vr([ct("menuFactory")],o.prototype,"menuFactory",void 0),vr([ct("beans")],o.prototype,"beans",void 0),vr([ro("eFloatingFilterBody")],o.prototype,"eFloatingFilterBody",void 0),vr([ro("eButtonWrapper")],o.prototype,"eButtonWrapper",void 0),vr([ro("eButtonShowMainFilter")],o.prototype,"eButtonShowMainFilter",void 0),o}(ar),br=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),wr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.COLUMN_GROUP=0]="COLUMN_GROUP",e[e.COLUMN=1]="COLUMN",e[e.FLOATING_FILTER=2]="FLOATING_FILTER"}(Gi||(Gi={}));var Er,Rr=function(e){function t(t,o,n,i){var r=e.call(this,'<div class="ag-header-row" role="row" />')||this;r.headerComps={},r.dept=t,r.type=o,r.pinned=n,r.dropTarget=i;var s=Gi[o].toLowerCase().replace(/_/g,"-");return r.addCssClass("ag-header-row-"+s),f()&&(r.getGui().style.transform="translateZ(0)"),r}return br(t,e),t.prototype.forEachHeaderElement=function(e){var t=this;Object.keys(this.headerComps).forEach(function(o){e(t.headerComps[o])})},t.prototype.setRowIndex=function(e){this.rowIndex=e,this.getGui().setAttribute("aria-rowindex",(e+1).toString())},t.prototype.getRowIndex=function(){return this.rowIndex},t.prototype.getType=function(){return this.type},t.prototype.destroyAllChildComponents=function(){var e=Object.keys(this.headerComps);this.destroyChildComponents(e)},t.prototype.destroyChildComponents=function(e,t){var o=this;e.forEach(function(e){var n=o.headerComps[e];t&&!n.getColumn().isMoving()&&o.focusController.isHeaderWrapperFocused(n)||(o.getGui().removeChild(n.getGui()),o.destroyBean(n),delete o.headerComps[e])})},t.prototype.onRowHeightChanged=function(){var e,t,o=this.columnController.getHeaderRowCount(),n=[],i=0;this.columnController.isPivotMode()?(e=this.gridOptionsWrapper.getPivotGroupHeaderHeight(),t=this.gridOptionsWrapper.getPivotHeaderHeight()):(this.columnController.hasFloatingFilters()&&(o++,i=1),e=this.gridOptionsWrapper.getGroupHeaderHeight(),t=this.gridOptionsWrapper.getHeaderHeight());for(var r=o-(1+i),s=0;s<r;s++)n.push(e);for(n.push(t),s=0;s<i;s++)n.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var a=0;for(s=0;s<this.dept;s++)a+=n[s];this.getGui().style.top=a+"px",this.getGui().style.height=n[this.dept]+"px"},t.prototype.init=function(){this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addManagedListener(this.gridOptionsWrapper,$t.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,$t.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,$t.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,$t.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,$t.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this))},t.prototype.onColumnResized=function(){this.setWidth()},t.prototype.setWidth=function(){var e=this.getWidthForRow();this.getGui().style.width=e+"px"},t.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===Ue.DOM_LAYOUT_PRINT?b(this.pinned)?this.columnController.getContainerWidth(Ue.PINNED_RIGHT)+this.columnController.getContainerWidth(Ue.PINNED_LEFT)+this.columnController.getContainerWidth(null):0:this.columnController.getContainerWidth(this.pinned)},t.prototype.onGridColumnsChanged=function(){this.removeAndDestroyAllChildComponents()},t.prototype.removeAndDestroyAllChildComponents=function(){var e=Object.keys(this.headerComps);this.destroyChildComponents(e)},t.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth()},t.prototype.getItemsAtDepth=function(){var e=this;if(this.gridOptionsWrapper.getDomLayout()===Ue.DOM_LAYOUT_PRINT){if(b(this.pinned)){var t=[];return[Ue.PINNED_LEFT,null,Ue.PINNED_RIGHT].forEach(function(o){var n=e.columnController.getVirtualHeaderGroupRow(o,e.type==Gi.FLOATING_FILTER?e.dept-1:e.dept);t=t.concat(n)}),t}return[]}return this.columnController.getVirtualHeaderGroupRow(this.pinned,this.type==Gi.FLOATING_FILTER?this.dept-1:this.dept)},t.prototype.onVirtualColumnsChanged=function(){var e=this,t=Object.keys(this.headerComps),o=[];if(this.getItemsAtDepth().forEach(function(n){if(!n.isEmptyGroup()){var i,r,s=n.getUniqueId(),a=e.getGui();t.indexOf(s)>=0?X(t,s):(i=e.createHeaderComp(n),e.headerComps[s]=i,r=i.getGui(),a.appendChild(r)),o.push(s)}}),this.destroyChildComponents(t,!0),this.gridOptionsWrapper.isEnsureDomOrder()){var n=o.map(function(t){return e.headerComps[t].getGui()});V(this.getGui(),n)}},t.prototype.createHeaderComp=function(e){var t;switch(this.type){case Gi.COLUMN:t=new cr(e,this.dropTarget,this.pinned);break;case Gi.COLUMN_GROUP:t=new hr(e,this.dropTarget,this.pinned);break;case Gi.FLOATING_FILTER:t=new Cr(e,this.pinned)}return this.createBean(t),t.setParentComponent(this),t},t.prototype.getHeaderComps=function(){return this.headerComps},wr([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),wr([ct("columnController")],t.prototype,"columnController",void 0),wr([ct("focusController")],t.prototype,"focusController",void 0),wr([lt],t.prototype,"destroyAllChildComponents",null),wr([at],t.prototype,"init",null),t}(oo),_r=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Sr=function(){function e(e,t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=e,this.eContainer=t,this.centerContainer=!et.exists(e)}return e.prototype.registerGridComp=function(e){this.gridPanel=e},e.prototype.init=function(){this.logger=this.loggerFactory.create("MoveColumnController")},e.prototype.getIconName=function(){return this.pinned?_i.ICON_PINNED:_i.ICON_MOVE},e.prototype.onDragEnter=function(e){var o=e.dragItem.columns;if(e.dragSource.type===t.DragSourceType.ToolPanel)this.setColumnsVisible(o,!0,"uiColumnDragged");else{var n=e.dragItem.visibleState,i=o.filter(function(e){return n[e.getId()]});this.setColumnsVisible(i,!0,"uiColumnDragged")}this.setColumnsPinned(o,this.pinned,"uiColumnDragged"),this.onDragging(e,!0)},e.prototype.onDragLeave=function(e){if(!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()&&!e.fromNudge){var t=e.dragSource.getDragItem();this.setColumnsVisible(t.columns,!1,"uiColumnDragged")}this.ensureIntervalCleared()},e.prototype.setColumnsVisible=function(e,t,o){if(void 0===o&&(o="api"),e){var n=e.filter(function(e){return!e.getColDef().lockVisible});this.columnController.setColumnsVisible(n,t,o)}},e.prototype.setColumnsPinned=function(e,t,o){if(void 0===o&&(o="api"),e){var n=e.filter(function(e){return!e.getColDef().lockPinned});this.columnController.setColumnsPinned(n,t,o)}},e.prototype.onDragStop=function(){this.ensureIntervalCleared()},e.prototype.normaliseX=function(e){return this.gridOptionsWrapper.isEnableRtl()&&(e=this.eContainer.clientWidth-e),this.centerContainer&&(e+=this.gridPanel.getCenterViewportScrollLeft()),e},e.prototype.checkCenterForScrolling=function(e){if(this.centerContainer){var t=this.gridPanel.getCenterViewportScrollLeft(),o=t+this.gridPanel.getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=e<t+50,this.needToMoveLeft=e>o-50):(this.needToMoveLeft=e<t+50,this.needToMoveRight=e>o-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},e.prototype.onDragging=function(e,t){var o=this;if(void 0===t&&(t=!1),this.lastDraggingEvent=e,!et.missing(e.hDirection)){var n=this.normaliseX(e.x);t||this.checkCenterForScrolling(n);var i=this.normaliseDirection(e.hDirection),r=e.dragSource.type,s=e.dragSource.getDragItem().columns;s=s.filter(function(e){return!e.getColDef().lockPinned||e.getPinned()==o.pinned}),this.attemptMoveColumns(r,s,i,n,t)}},e.prototype.normaliseDirection=function(e){if(!this.gridOptionsWrapper.isEnableRtl())return e;switch(e){case t.HorizontalDirection.Left:return t.HorizontalDirection.Right;case t.HorizontalDirection.Right:return t.HorizontalDirection.Left;default:console.error("ag-Grid: Unknown direction "+e)}},e.prototype.calculateOldIndex=function(e){var t=this.columnController.getAllGridColumns(),o=et.sortNumerically(e.map(function(e){return t.indexOf(e)})),n=o[0];return et.last(o)-n!=o.length-1?null:n},e.prototype.attemptMoveColumns=function(e,o,n,i,r){var s=n===t.HorizontalDirection.Left,a=n===t.HorizontalDirection.Right,l=this.calculateValidMoves(o,a,i),u=this.calculateOldIndex(o);if(0!==l.length){var c=l[0],p=null!==u&&!r;if(e==t.DragSourceType.HeaderCell&&(p=null!==u),p){if(s&&c>=u)return;if(a&&c<=u)return}for(var d=0;d<l.length;d++){var h=l[d];if(this.columnController.doesMovePassRules(o,h))return void this.columnController.moveColumns(o,h,"uiColumnDragged")}}},e.prototype.calculateValidMoves=function(e,t,o){if(this.gridOptionsWrapper.isSuppressMovableColumns()||e.some(function(e){return e.getColDef().suppressMovable}))return[];var n,i=this.columnController.getDisplayedColumns(this.pinned),r=this.columnController.getAllGridColumns(),s=i.filter(function(t){return et.includes(e,t)}),a=i.filter(function(t){return!et.includes(e,t)}),l=r.filter(function(t){return!et.includes(e,t)}),u=0,c=o;if(t){var p=0;s.forEach(function(e){return p+=e.getActualWidth()}),c-=p}if(c>0){for(var d=0;d<a.length&&!((c-=a[d].getActualWidth())<0);d++)u++;t&&u++}u>0?n=l.indexOf(a[u-1])+1:-1===(n=l.indexOf(a[0]))&&(n=0);var h=[n];if(t)for(var f=n+1,g=r.length-1;f<=g;)h.push(f),f++;else{g=r.length-1;for(var m=r[f=n];f<=g&&this.isColumnHidden(i,m);)f++,h.push(f),m=r[f];for(f=n-1;f>=0;)h.push(f),f--}return h},e.prototype.isColumnHidden=function(e,t){return e.indexOf(t)<0},e.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?_i.ICON_LEFT:_i.ICON_RIGHT,!0))},e.prototype.ensureIntervalCleared=function(){this.moveInterval&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(_i.ICON_MOVE))},e.prototype.moveInterval=function(){var e,t;if(this.intervalCount++,(e=10+5*this.intervalCount)>100&&(e=100),this.needToMoveLeft?t=this.gridPanel.scrollHorizontally(-e):this.needToMoveRight&&(t=this.gridPanel.scrollHorizontally(e)),0!==t)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var o=this.lastDraggingEvent.dragItem.columns.filter(function(e){return!e.getColDef().lockPinned});o.length>0&&(this.dragAndDropService.setGhostIcon(_i.ICON_PINNED),this.failedMoveAttempts>7&&(this.setColumnsPinned(o,this.needToMoveLeft?Ue.PINNED_LEFT:Ue.PINNED_RIGHT,"uiColumnDragged"),this.dragAndDropService.nudge()))}},_r([ct("loggerFactory")],e.prototype,"loggerFactory",void 0),_r([ct("columnController")],e.prototype,"columnController",void 0),_r([ct("dragAndDropService")],e.prototype,"dragAndDropService",void 0),_r([ct("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),_r([at],e.prototype,"init",null),e}(),Or=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Dr=function(){function e(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}return e.prototype.onDragEnter=function(e){var t=this;this.clearColumnsList(),this.gridOptionsWrapper.isFunctionsReadOnly()||e.dragItem.columns.forEach(function(e){e.isPrimary()&&(e.isAnyFunctionActive()||(e.isAllowValue()?t.columnsToAggregate.push(e):e.isAllowRowGroup()?t.columnsToGroup.push(e):e.isAllowRowGroup()&&t.columnsToPivot.push(e)))})},e.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?_i.ICON_PINNED:_i.ICON_MOVE:null},e.prototype.onDragLeave=function(e){this.clearColumnsList()},e.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},e.prototype.onDragging=function(e){},e.prototype.onDragStop=function(e){this.columnsToAggregate.length>0&&this.columnController.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnController.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnController.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},Or([ct("columnController")],e.prototype,"columnController",void 0),Or([ct("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(),Pr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Tr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.ColumnMove=0]="ColumnMove",e[e.Pivot=1]="Pivot"}(Er||(Er={}));var Ar,Fr=function(e){function o(t,o){var n=e.call(this)||this;return n.dropListeners={},n.pinned=t,n.eContainer=o,n}return Pr(o,e),o.prototype.registerGridComp=function(e){switch(this.gridPanel=e,this.moveColumnController.registerGridComp(e),this.pinned){case Ue.PINNED_LEFT:this.eSecondaryContainers=this.gridPanel.getDropTargetLeftContainers();break;case Ue.PINNED_RIGHT:this.eSecondaryContainers=this.gridPanel.getDropTargetRightContainers();break;default:this.eSecondaryContainers=this.gridPanel.getDropTargetBodyContainers()}},o.prototype.isInterestedIn=function(e){return e===t.DragSourceType.HeaderCell||e===t.DragSourceType.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},o.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},o.prototype.getContainer=function(){return this.eContainer},o.prototype.init=function(){this.moveColumnController=this.createBean(new Sr(this.pinned,this.eContainer));var e=new Dr(this.pinned);this.createBean(e),this.dropListeners[Er.ColumnMove]=this.moveColumnController,this.dropListeners[Er.Pivot]=e,this.dragAndDropService.addDropTarget(this)},o.prototype.getIconName=function(){return this.currentDropListener.getIconName()},o.prototype.getDropType=function(e){return this.columnController.isPivotMode()&&e.dragSource.type===t.DragSourceType.ToolPanel?Er.Pivot:Er.ColumnMove},o.prototype.onDragEnter=function(e){var t=this.getDropType(e);this.currentDropListener=this.dropListeners[t],this.currentDropListener.onDragEnter(e)},o.prototype.onDragLeave=function(e){this.currentDropListener.onDragLeave(e)},o.prototype.onDragging=function(e){this.currentDropListener.onDragging(e)},o.prototype.onDragStop=function(e){this.currentDropListener.onDragStop(e)},Tr([ct("dragAndDropService")],o.prototype,"dragAndDropService",void 0),Tr([ct("columnController")],o.prototype,"columnController",void 0),Tr([ct("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),Tr([at],o.prototype,"init",null),o}(Dt),Nr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),xr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ir=function(e){function t(t,o,n){var i=e.call(this)||this;return i.headerRowComps=[],i.eContainer=t,i.pinned=n,i.eViewport=o,i}return Nr(t,e),t.prototype.forEachHeaderElement=function(e){this.headerRowComps.forEach(function(t){return t.forEachHeaderElement(e)})},t.prototype.init=function(){this.scrollWidth=this.gridOptionsWrapper.getScrollbarWidth(),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this))},t.prototype.onColumnRowGroupChanged=function(){this.onGridColumnsChanged()},t.prototype.onColumnValueChanged=function(){this.onGridColumnsChanged()},t.prototype.onColumnResized=function(){this.setWidthOfPinnedContainer()},t.prototype.onDisplayedColumnsChanged=function(){this.setWidthOfPinnedContainer()},t.prototype.onScrollVisibilityChanged=function(){this.setWidthOfPinnedContainer()},t.prototype.setWidthOfPinnedContainer=function(){var e=this.pinned===Ue.PINNED_LEFT,t=this.pinned===Ue.PINNED_RIGHT,o=this.columnController,n=this.gridOptionsWrapper.isEnableRtl();if(e||t){var i=o[e?"getPinnedLeftContainerWidth":"getPinnedRightContainerWidth"]();this.scrollVisibleService.isVerticalScrollShowing()&&(n&&e||!n&&t)&&(i+=this.scrollWidth),W(this.eContainer,i)}},t.prototype.getRowComps=function(){return this.headerRowComps},t.prototype.onGridColumnsChanged=function(){this.removeAndCreateAllRowComps()},t.prototype.removeAndCreateAllRowComps=function(){this.removeHeaderRowComps(),this.createHeaderRowComps()},t.prototype.refresh=function(){this.removeAndCreateAllRowComps()},t.prototype.setupDragAndDrop=function(e){var t=new Fr(this.pinned,this.eViewport?this.eViewport:this.eContainer);this.createManagedBean(t),t.registerGridComp(e)},t.prototype.removeHeaderRowComps=function(){var e=this;this.headerRowComps.forEach(function(t){return e.destroyBean(t)}),this.headerRowComps.length=0,L(this.eContainer)},t.prototype.createHeaderRowComps=function(){for(var e=this.columnController.getHeaderRowCount(),t=0;t<e;t++){var o=new Rr(t,t!==e-1?Gi.COLUMN_GROUP:Gi.COLUMN,this.pinned,this.dropTarget);this.createBean(o),this.headerRowComps.push(o),o.setRowIndex(this.headerRowComps.length-1),this.eContainer.appendChild(o.getGui())}!this.columnController.isPivotMode()&&this.columnController.hasFloatingFilters()&&(o=new Rr(e,Gi.FLOATING_FILTER,this.pinned,this.dropTarget),this.createBean(o),this.headerRowComps.push(o),o.setRowIndex(this.headerRowComps.length-1),this.eContainer.appendChild(o.getGui()))},xr([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),xr([ct("columnController")],t.prototype,"columnController",void 0),xr([ct("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),xr([at],t.prototype,"init",null),xr([lt],t.prototype,"removeHeaderRowComps",null),t}(Dt),Mr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Lr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};(Ar=t.HeaderNavigationDirection||(t.HeaderNavigationDirection={}))[Ar.UP=0]="UP",Ar[Ar.DOWN=1]="DOWN",Ar[Ar.LEFT=2]="LEFT",Ar[Ar.RIGHT=3]="RIGHT";var Gr,kr=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return Mr(o,e),o.prototype.registerGridComp=function(e){this.gridPanel=e},o.prototype.registerHeaderRoot=function(e){this.headerRoot=e},o.prototype.getHeaderRowCount=function(){return 0===this.headerRoot.getHeaderContainers().size?0:this.getHeaderContainer().getRowComps().length},o.prototype.getHeaderRowType=function(e){if(this.getHeaderRowCount())return this.getHeaderContainer().getRowComps()[e].getType()},o.prototype.getHeaderContainer=function(e){return void 0===e&&(e="center"),null===e&&(e="center"),this.headerRoot.getHeaderContainers().get(e)},o.prototype.navigateVertically=function(e,o){if(o||(o=this.focusController.getFocusedHeader()),!o)return!1;var n=o.headerRowIndex,i=o.column,r=this.getHeaderRowCount(),s=e===t.HeaderNavigationDirection.UP,a=s?n-1:n+1;if(a<0)return!1;if(a>=r)return this.focusController.focusGridView();var l,u=this.getHeaderRowType(n);if(u===Gi.COLUMN_GROUP){var c=i;l=s?i.getParent():c.getDisplayedChildren()[0]}else u===Gi.FLOATING_FILTER?l=i:(c=i,l=s?c.getParent():c);return!!l&&(this.focusController.focusHeaderPosition({headerRowIndex:a,column:l}),!0)},o.prototype.navigateHorizontally=function(e,o){var n,i,r=this.focusController.getFocusedHeader(),s=e===t.HeaderNavigationDirection.LEFT,a=this.gridOptionsWrapper.isEnableRtl();return(n=this.headerPositionUtils.findHeader(r,i=s!==a?"Before":"After"))?(this.focusController.focusHeaderPosition(n,i),!0):!o||this.focusNextHeaderRow(r,i)},o.prototype.focusNextHeaderRow=function(e,t){var o,n=e.headerRowIndex;if("Before"===t){if(0===n)return!1;o=this.headerPositionUtils.findColAtEdgeForHeaderRow(n-1,"end")}else o=this.headerPositionUtils.findColAtEdgeForHeaderRow(n+1,"start");return!!o&&(-1===o.headerRowIndex?this.focusController.focusGridView(o.column):this.focusController.focusHeaderPosition(o,t))},o.prototype.scrollToColumn=function(e,t){if(void 0===t&&(t="After"),!e.getPinned()){var o;if(e instanceof Rt){var n=e.getDisplayedLeafColumns();o="Before"===t?et.last(n):n[0]}else o=e;this.gridPanel.ensureColumnVisible(o),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()}},Lr([ct("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),Lr([ct("focusController")],o.prototype,"focusController",void 0),Lr([ct("headerPositionUtils")],o.prototype,"headerPositionUtils",void 0),Lr([ct("animationFrameService")],o.prototype,"animationFrameService",void 0),Lr([ut("headerNavigationService")],o)}(Dt),Vr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Hr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Wr=function(e){function o(){var t=e.call(this,o.TEMPLATE)||this;return t.headerContainers=new Map,t}return Vr(o,e),o.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this),this.printLayout=this.gridOptionsWrapper.getDomLayout()===Ue.DOM_LAYOUT_PRINT,this.gridApi.registerHeaderRootComp(this),this.autoWidthCalculator.registerHeaderRootComp(this),this.registerHeaderContainer(new Ir(this.eHeaderContainer,this.eHeaderViewport,null),"center"),this.registerHeaderContainer(new Ir(this.ePinnedLeftHeader,null,Ue.PINNED_LEFT),"left"),this.registerHeaderContainer(new Ir(this.ePinnedRightHeader,null,Ue.PINNED_RIGHT),"right"),this.headerContainers.forEach(function(e){return t.createManagedBean(e)}),this.headerNavigationService.registerHeaderRoot(this),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_VALUE_CHANGED,this.refreshHeader.bind(this)),this.addManagedListener(this.gridOptionsWrapper,$t.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.addPreventHeaderScroll(),this.columnController.isReady()&&this.refreshHeader()},o.prototype.registerGridComp=function(e){this.gridPanel=e,this.headerContainers.forEach(function(t){return t.setupDragAndDrop(e)})},o.prototype.registerHeaderContainer=function(e,t){this.headerContainers.set(t,e)},o.prototype.onTabKeyDown=function(e){var o=this.gridOptionsWrapper.isEnableRtl();(this.headerNavigationService.navigateHorizontally(e.shiftKey!==o?t.HeaderNavigationDirection.LEFT:t.HeaderNavigationDirection.RIGHT,!0)||this.focusController.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()},o.prototype.handleKeyDown=function(e){var o;switch(e.keyCode){case Ue.KEY_LEFT:o=t.HeaderNavigationDirection.LEFT;case Ue.KEY_RIGHT:et.exists(o)||(o=t.HeaderNavigationDirection.RIGHT),this.headerNavigationService.navigateHorizontally(o);break;case Ue.KEY_UP:o=t.HeaderNavigationDirection.UP;case Ue.KEY_DOWN:et.exists(o)||(o=t.HeaderNavigationDirection.DOWN),this.headerNavigationService.navigateVertically(o)&&e.preventDefault();break;default:return}},o.prototype.onFocusOut=function(e){var t=e.relatedTarget,o=this.getGui();!t&&o.contains(document.activeElement)||o.contains(t)||this.focusController.clearFocusedHeader()},o.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsWrapper.getDomLayout()===Ue.DOM_LAYOUT_PRINT;this.printLayout!==e&&(this.printLayout=e,this.refreshHeader())},o.prototype.setHorizontalScroll=function(e){this.eHeaderContainer.style.transform="translateX("+e+"px)"},o.prototype.forEachHeaderElement=function(e){this.headerContainers.forEach(function(t){return t.forEachHeaderElement(e)})},o.prototype.refreshHeader=function(){this.headerContainers.forEach(function(e){return e.refresh()})},o.prototype.onPivotModeChanged=function(){var e=this.columnController.isPivotMode();F(this.getGui(),"ag-pivot-on",e),F(this.getGui(),"ag-pivot-off",!e)},o.prototype.setHeight=function(e){var t=e+1+"px";this.getGui().style.height=t,this.getGui().style.minHeight=t},o.prototype.addPreventHeaderScroll=function(){var e=this;this.addManagedListener(this.eHeaderViewport,"scroll",function(){var t=e.eHeaderViewport.scrollLeft;0!==t&&(e.gridPanel.scrollHorizontally(t),e.eHeaderViewport.scrollLeft=0)})},o.prototype.getHeaderContainers=function(){return this.headerContainers},o.prototype.setHeaderContainerWidth=function(e){this.eHeaderContainer.style.width=e+"px"},o.prototype.setLeftVisible=function(e){x(this.ePinnedLeftHeader,e)},o.prototype.setRightVisible=function(e){x(this.ePinnedRightHeader,e)},o.TEMPLATE='<div class="ag-header" role="presentation">\n            <div class="ag-pinned-left-header" ref="ePinnedLeftHeader" role="presentation"></div>\n            <div class="ag-header-viewport" ref="eHeaderViewport" role="presentation">\n                <div class="ag-header-container" ref="eHeaderContainer" role="rowgroup"></div>\n            </div>\n            <div class="ag-pinned-right-header" ref="ePinnedRightHeader" role="presentation"></div>\n        </div>',Hr([ro("ePinnedLeftHeader")],o.prototype,"ePinnedLeftHeader",void 0),Hr([ro("ePinnedRightHeader")],o.prototype,"ePinnedRightHeader",void 0),Hr([ro("eHeaderContainer")],o.prototype,"eHeaderContainer",void 0),Hr([ro("eHeaderViewport")],o.prototype,"eHeaderViewport",void 0),Hr([ct("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),Hr([ct("columnController")],o.prototype,"columnController",void 0),Hr([ct("gridApi")],o.prototype,"gridApi",void 0),Hr([ct("autoWidthCalculator")],o.prototype,"autoWidthCalculator",void 0),Hr([ct("headerNavigationService")],o.prototype,"headerNavigationService",void 0),o}(rr),Br=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),jr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ur=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.allFilters=new Map,t.quickFilter=null,t.quickFilterParts=null,t.processingFilterChange=!1,t}var n;return Br(o,e),n=o,o.prototype.init=function(){this.addManagedListener(this.eventService,Ft.EVENT_ROW_DATA_CHANGED,this.onNewRowsLoaded.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter(),this.checkExternalFilter()},o.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},o.prototype.setFilterModel=function(e){var t=this,o=[];if(e){var n=Qe(Object.keys(e));this.allFilters.forEach(function(i,r){o.push(t.setModelOnFilterWrapper(i.filterPromise,e[r])),n.delete(r)}),n.forEach(function(n){var i=t.columnController.getPrimaryColumn(n);if(i){var r=t.getOrCreateFilterWrapper(i,"NO_UI");o.push(t.setModelOnFilterWrapper(r.filterPromise,e[n]))}else console.warn("Warning ag-grid setFilterModel - no column found for colId "+n)})}else this.allFilters.forEach(function(e){o.push(t.setModelOnFilterWrapper(e.filterPromise,null))});ot.all(o).then(function(){return t.onFilterChanged()})},o.prototype.setModelOnFilterWrapper=function(e,t){return new ot(function(o){e.then(function(e){"function"!=typeof e.setModel&&(console.warn("Warning ag-grid - filter missing setModel method, which is needed for setFilterModel"),o());var n=e.setModel(t);null==n?o():n.then(function(){return o()})})})},o.prototype.getFilterModel=function(){var e={};return this.allFilters.forEach(function(t,o){var n=t.filterPromise.resolveNow(null,function(e){return e});if(null==n)return null;if("function"==typeof n.getModel){var i=n.getModel();C(i)&&(e[o]=i)}else console.warn("Warning ag-grid - filter API missing getModel method, which is needed for getFilterModel")}),e},o.prototype.isAdvancedFilterPresent=function(){return this.advancedFilterPresent},o.prototype.setAdvancedFilterPresent=function(){var e=!1;this.allFilters.forEach(function(t){e||t.filterPromise.resolveNow(!1,function(e){return e.isFilterActive()})&&(e=!0)}),this.advancedFilterPresent=e},o.prototype.updateFilterFlagInColumns=function(e,t){this.allFilters.forEach(function(o){var n=o.filterPromise.resolveNow(!1,function(e){return e.isFilterActive()});o.column.setFilterActive(n,e,t)})},o.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.advancedFilterPresent||this.externalFilterPresent},o.prototype.doesFilterPass=function(e,t){var o=e.data,n=!0;return this.allFilters.forEach(function(i){if(n&&null!=i){var r=i.filterPromise.resolveNow(void 0,function(e){return e});if(null!=r&&r!==t&&r.isFilterActive()){if(!r.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");n=r.doesFilterPass({node:e,data:o})}}}),n},o.prototype.parseQuickFilter=function(e){return C(e)?this.gridOptionsWrapper.isRowModelDefault()?e.toUpperCase():(console.warn("ag-grid: quick filtering only works with the Client-Side Row Model"),null):null},o.prototype.setQuickFilter=function(e){var t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.onFilterChanged())},o.prototype.checkExternalFilter=function(){this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent()},o.prototype.onFilterChanged=function(e,t){this.setAdvancedFilterPresent(),this.updateFilterFlagInColumns("filterChanged",t),this.checkExternalFilter(),this.allFilters.forEach(function(t){t.filterPromise.then(function(t){t!==e&&t.onAnyFilterChanged&&t.onAnyFilterChanged()})});var o={type:Ft.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi};t&&pe(o,t),this.processingFilterChange=!0,this.eventService.dispatchEvent(o),this.processingFilterChange=!1},o.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},o.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},o.prototype.doesRowPassOtherFilters=function(e,t){return this.doesRowPassFilter(t,e)},o.prototype.doesRowPassQuickFilterNoCache=function(e,t){var o=this;return oe(this.columnController.getAllColumnsForQuickFilter(),function(n){var i=o.getQuickFilterTextForColumn(n,e);return C(i)&&i.indexOf(t)>=0})},o.prototype.doesRowPassQuickFilterCache=function(e,t){return e.quickFilterAggregateText||this.aggregateRowForQuickFilter(e),e.quickFilterAggregateText.indexOf(t)>=0},o.prototype.doesRowPassQuickFilter=function(e){var t=this,o=this.gridOptionsWrapper.isCacheQuickFilter();return te(this.quickFilterParts,function(n){return o?t.doesRowPassQuickFilterCache(e,n):t.doesRowPassQuickFilterNoCache(e,n)})},o.prototype.doesRowPassFilter=function(e,t){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(e)||this.externalFilterPresent&&!this.gridOptionsWrapper.doesExternalFilterPass(e)||this.advancedFilterPresent&&!this.doesFilterPass(e,t))},o.prototype.getQuickFilterTextForColumn=function(e,t){var o=this.valueService.getValue(e,t,!0),n=e.getColDef();if(n.getQuickFilterText){var i={value:o,node:t,data:t.data,column:e,colDef:n,context:this.gridOptionsWrapper.getContext()};o=n.getQuickFilterText(i)}return C(o)?o.toString().toUpperCase():null},o.prototype.aggregateRowForQuickFilter=function(e){var t=this,o=[];ne(this.columnController.getAllColumnsForQuickFilter(),function(n){var i=t.getQuickFilterTextForColumn(n,e);C(i)&&o.push(i)}),e.quickFilterAggregateText=o.join(n.QUICK_FILTER_SEPARATOR)},o.prototype.onNewRowsLoaded=function(e){this.allFilters.forEach(function(e){e.filterPromise.then(function(e){e.onNewRowsLoaded&&e.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(e),this.setAdvancedFilterPresent()},o.prototype.createValueGetter=function(e){var t=this;return function(o){return t.valueService.getValue(e,o,!0)}},o.prototype.getFilterComponent=function(e,t){return this.getOrCreateFilterWrapper(e,t).filterPromise},o.prototype.isFilterActive=function(e){var t=this.cachedFilter(e);return t&&t.filterPromise.resolveNow(!1,function(e){return e.isFilterActive()})},o.prototype.getOrCreateFilterWrapper=function(e,t){var o=this.cachedFilter(e);return o?"NO_UI"!==t&&this.putIntoGui(o,t):(o=this.createFilterWrapper(e,t),this.allFilters.set(e.getColId(),o)),o},o.prototype.cachedFilter=function(e){return this.allFilters.get(e.getColId())},o.prototype.createFilterInstance=function(e,o){var n,i=this,r=bt.isRegistered(t.ModuleNames.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",s=ae(e.getColDef()),a=this.createFilterParams(e,s,o);a.filterModifiedCallback=function(){i.eventService.dispatchEvent({type:Ft.EVENT_FILTER_MODIFIED,api:i.gridApi,columnApi:i.columnApi,column:e,filterInstance:n})};var l=this.userComponentFactory.newFilterComponent(s,a,r,function(e,t){return de(e,{doesRowPassOtherFilter:function(e){return i.doesRowPassOtherFilters(t,e)},filterChangedCallback:function(e){return i.onFilterChanged(t,e)}})});return l&&l.then(function(e){return n=e}),l},o.prototype.createFilterParams=function(e,t,o){void 0===o&&(o=null);var n={api:this.gridOptionsWrapper.getApi(),column:e,colDef:t,rowModel:this.rowModel,filterChangedCallback:null,filterModifiedCallback:null,valueGetter:this.createValueGetter(e),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:null};return o&&(n.$scope=o),n},o.prototype.createFilterWrapper=function(e,t){var o={column:e,filterPromise:null,scope:null,compiledElement:null,guiPromise:ot.resolve(null)};return o.scope=this.gridOptionsWrapper.isAngularCompileFilters()?this.$scope.$new():null,o.filterPromise=this.createFilterInstance(e,o.scope),o.filterPromise&&this.putIntoGui(o,t),o},o.prototype.putIntoGui=function(e,t){var o=this,n=document.createElement("div");n.className="ag-filter",e.guiPromise=new ot(function(i){e.filterPromise.then(function(r){var s=r.getGui();if(C(s)||console.warn("getGui method from filter returned "+s+", it should be a DOM element or an HTML template string."),"string"==typeof s&&(s=k(s)),n.appendChild(s),e.scope){var a=o.$compile(n)(e.scope);e.compiledElement=a,window.setTimeout(function(){return e.scope.$apply()},0)}i(n),o.eventService.dispatchEvent({type:Ft.EVENT_FILTER_OPENED,column:e.column,source:t,eGui:n,api:o.gridApi,columnApi:o.columnApi})})})},o.prototype.onNewColumnsLoaded=function(){var e=this,t=!1;this.allFilters.forEach(function(o){!e.columnController.getPrimaryColumn(o.column)&&(t=!0,e.disposeFilterWrapper(o,"filterDestroyed"))}),t&&this.onFilterChanged()},o.prototype.destroyFilter=function(e,t){void 0===t&&(t="api");var o=this.allFilters.get(e.getColId());o&&(this.disposeFilterWrapper(o,t),this.onFilterChanged())},o.prototype.disposeFilterWrapper=function(e,t){var o=this;e.filterPromise.then(function(n){n.setModel(null),o.getContext().destroyBean(n),e.column.setFilterActive(!1,t),e.scope&&(e.compiledElement&&e.compiledElement.remove(),e.scope.$destroy()),o.allFilters.delete(e.column.getColId())})},o.prototype.destroy=function(){var t=this;e.prototype.destroy.call(this),this.allFilters.forEach(function(e){return t.disposeFilterWrapper(e,"filterDestroyed")})},o.QUICK_FILTER_SEPARATOR="\n",jr([ct("$compile")],o.prototype,"$compile",void 0),jr([ct("$scope")],o.prototype,"$scope",void 0),jr([ct("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),jr([ct("valueService")],o.prototype,"valueService",void 0),jr([ct("columnController")],o.prototype,"columnController",void 0),jr([ct("rowModel")],o.prototype,"rowModel",void 0),jr([ct("columnApi")],o.prototype,"columnApi",void 0),jr([ct("gridApi")],o.prototype,"gridApi",void 0),jr([ct("userComponentFactory")],o.prototype,"userComponentFactory",void 0),jr([at],o.prototype,"init",null),jr([lt],o.prototype,"destroy",null),n=jr([ut("filterManager")],o)}(Dt),zr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Kr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Yr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.initialised=!1,t}return zr(t,e),t.prototype.init=function(){this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0},t.prototype.getValue=function(e,t,o,n){if(void 0===o&&(o=!1),void 0===n&&(n=!1),this.initialised||this.init(),t){var i,r=e.getColDef(),s=r.field,a=e.getId(),l=t.data,u=t.groupData&&void 0!==t.groupData[a],c=!n&&t.aggData&&void 0!==t.aggData[a];if(o&&r.filterValueGetter?i=this.executeFilterValueGetter(r.filterValueGetter,l,e,t):this.gridOptionsWrapper.isTreeData()&&c?i=t.aggData[a]:this.gridOptionsWrapper.isTreeData()&&r.valueGetter?i=this.executeValueGetter(r.valueGetter,l,e,t):this.gridOptionsWrapper.isTreeData()&&s&&l?i=et.getValueUsingField(l,s,e.isFieldContainsDots()):u?i=t.groupData[a]:c?i=t.aggData[a]:r.valueGetter?i=this.executeValueGetter(r.valueGetter,l,e,t):s&&l&&(i=et.getValueUsingField(l,s,e.isFieldContainsDots())),this.cellExpressions&&"string"==typeof i&&0===i.indexOf("=")){var p=i.substring(1);i=this.executeValueGetter(p,l,e,t)}return i}},t.prototype.setValue=function(e,t,o,n){var i=this.columnController.getPrimaryColumn(t);if(e&&i){et.missing(e.data)&&(e.data={});var r=i.getColDef(),s=r.field,a=r.newValueHandler,l=r.valueSetter;if(et.missing(s)&&et.missing(a)&&et.missing(l))console.warn("ag-Grid: you need either field or valueSetter set on colDef for editing to work");else{var u,c={node:e,data:e.data,oldValue:this.getValue(i,e),newValue:o,colDef:i.getColDef(),column:i,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};if(c.newValue=o,void 0===(u=a&&et.exists(a)?a(c):et.exists(l)?this.expressionService.evaluate(l,c):this.setValueUsingField(e.data,s,o,i.isFieldContainsDots()))&&(u=!0),u){e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),c.newValue=this.getValue(i,e);var p=i.getColDef().onCellValueChanged;"function"==typeof p&&setTimeout(function(){return p(c)},0),this.eventService.dispatchEvent({type:Ft.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:c.column,api:c.api,colDef:c.colDef,columnApi:c.columnApi,context:c.context,data:e.data,node:e,oldValue:c.oldValue,newValue:c.newValue,value:c.newValue,source:n})}}}},t.prototype.setValueUsingField=function(e,t,o,n){if(!t)return!1;if(n)for(var i=t.split("."),r=e;i.length>0&&r;){var s=i.shift();0===i.length?r[s]=o:r=r[s]}else e[t]=o;return!0},t.prototype.executeFilterValueGetter=function(e,t,o,n){var i={data:t,node:n,column:o,colDef:o.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,n)};return this.expressionService.evaluate(e,i)},t.prototype.executeValueGetter=function(e,t,o,n){var i=o.getId(),r=this.valueCache.getValue(n,i);if(void 0!==r)return r;var s={data:t,node:n,column:o,colDef:o.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,n)},a=this.expressionService.evaluate(e,s);return this.valueCache.setValue(n,i,a),a},t.prototype.getValueCallback=function(e,t){var o=this.columnController.getPrimaryColumn(t);return o?this.getValue(o,e):null},t.prototype.getKeyForNode=function(e,t){var o=this.getValue(e,t),n=e.getColDef().keyCreator,i=n?n({value:o}):o;return"string"==typeof i||null==i||"[object Object]"===(i=String(i))&&et.doOnce(function(){console.warn("ag-Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se ag-Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]"),i},Kr([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Kr([ct("expressionService")],t.prototype,"expressionService",void 0),Kr([ct("columnController")],t.prototype,"columnController",void 0),Kr([ct("valueCache")],t.prototype,"valueCache",void 0),Kr([at],t.prototype,"init",null),Kr([ut("valueService")],t)}(Dt),qr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},$r=function(){function e(e){this.childCount=0,this.rowTemplatesToAdd=[],this.afterGuiAttachedCallbacks=[],this.lastMadeVisibleTime=0,this.eContainer=e.eContainer,this.eViewport=e.eViewport,e.eWrapper&&(this.eWrapper=e.eWrapper),this.hideWhenNoChildren=e.hideWhenNoChildren}return e.prototype.setVerticalScrollPosition=function(e){this.scrollTop=e},e.prototype.postConstruct=function(){this.checkDomOrder(),this.checkVisibility(),this.gridOptionsWrapper.addEventListener($t.PROP_DOM_LAYOUT,this.checkDomOrder.bind(this))},e.prototype.checkDomOrder=function(){this.domOrder=this.gridOptionsWrapper.isEnsureDomOrder()},e.prototype.getRowElement=function(e){return this.eContainer.querySelector('[comp-id="'+e+'"]')},e.prototype.setHeight=function(e){null!=e?(this.eContainer.style.height=e+"px",this.eWrapper&&(this.eWrapper.style.height=e+"px")):this.eContainer.style.height=""},e.prototype.flushRowTemplates=function(){if(0!==this.rowTemplatesToAdd.length){var e=this.rowTemplatesToAdd.join("");et.appendHtml(this.eContainer,e),this.rowTemplatesToAdd.length=0}this.afterGuiAttachedCallbacks.forEach(function(e){return e()}),this.afterGuiAttachedCallbacks.length=0,this.lastPlacedElement=null},e.prototype.appendRowTemplate=function(e,t){this.domOrder?this.lastPlacedElement=et.insertTemplateWithDomOrder(this.eContainer,e,this.lastPlacedElement):this.rowTemplatesToAdd.push(e),this.afterGuiAttachedCallbacks.push(t),this.childCount++,this.checkVisibility()},e.prototype.ensureDomOrder=function(e){this.domOrder&&(et.ensureDomOrder(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)},e.prototype.removeRowElement=function(e){this.eContainer.removeChild(e),this.childCount--,this.checkVisibility()},e.prototype.checkVisibility=function(){if(this.hideWhenNoChildren){var e=this.eViewport?this.eViewport:this.eContainer,t=this.childCount>0;this.visible!==t&&(this.visible=t,this.lastMadeVisibleTime=(new Date).getTime(),et.setDisplayed(e,t),t&&this.eViewport&&(this.eViewport.scrollTop=this.scrollTop))}},e.prototype.isMadeVisibleRecently=function(){return(new Date).getTime()-this.lastMadeVisibleTime<500},qr([ct("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),qr([at],e.prototype,"postConstruct",null),e}(),Qr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Xr=function(){return(Xr=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Zr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Jr=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,i++)n[i]=r[s];return n},es=function(e){function o(t,o){var n=e.call(this)||this;return n.isMultiRowDrag=!1,n.isGridSorted=!1,n.isGridFiltered=!1,n.isRowGroupActive=!1,n.eContainer=t,n.gridPanel=o,n}return Qr(o,e),o.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,Ft.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.onSortChanged(),this.onFilterChanged(),this.onRowGroupChanged()},o.prototype.onSortChanged=function(){var e=this.sortController.getSortModel();this.isGridSorted=!et.missingOrEmpty(e)},o.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},o.prototype.onRowGroupChanged=function(){var e=this.columnController.getRowGroupColumns();this.isRowGroupActive=!et.missingOrEmpty(e)},o.prototype.getContainer=function(){return this.eContainer},o.prototype.isInterestedIn=function(e){return e===t.DragSourceType.RowDrag},o.prototype.getIconName=function(){return this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()?_i.ICON_NOT_ALLOWED:_i.ICON_MOVE},o.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},o.prototype.getRowNodes=function(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes;var t=this.gridOptionsWrapper.isEnableMultiRowDragging(),o=this.selectionController.getSelectedNodes(),n=e.dragItem.rowNode;return t&&-1!==o.indexOf(n)?(this.isMultiRowDrag=!0,Jr(o)):(this.isMultiRowDrag=!1,[n])},o.prototype.onDragEnter=function(e){this.dispatchGridEvent(Ft.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(function(e){e.setDragging(!0)}),this.onEnterOrDragging(e)},o.prototype.onDragging=function(e){this.onEnterOrDragging(e)},o.prototype.isFromThisGrid=function(e){return this.gridPanel.getGui().contains(e.dragSource.eElement)},o.prototype.isDropZoneWithinThisGrid=function(e){return!this.gridPanel.getGui().contains(e.dropZoneTarget)},o.prototype.onEnterOrDragging=function(e){this.dispatchGridEvent(Ft.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;var t=this.mouseEventService.getNormalisedPosition(e).y;this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(e,t),this.checkCenterForScrolling(t)},o.prototype.doManagedDrag=function(e,t){var o,n=this,i=this.isFromThisGrid(e);i?(o=[e.dragItem.rowNode],this.isMultiRowDrag&&(o=Jr(this.selectionController.getSelectedNodes()).sort(function(e,t){return n.getRowIndexNumber(e)-n.getRowIndexNumber(t)})),e.dragItem.rowNodes=o):o=e.dragItem.rowNodes,this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!i?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(o[0],t):this.moveRows(o,t))},o.prototype.getRowIndexNumber=function(e){return parseInt($(e.getRowIndexString().split("-")),10)},o.prototype.moveRowAndClearHighlight=function(e){var t=this,o=this.clientSideRowModel.getLastHighlightedRowNode(),n=o&&"below"===o.highlighted,i=this.mouseEventService.getNormalisedPosition(e).y,r=e.dragItem.rowNodes,s=n?1:0;if(this.isFromThisGrid(e))r.forEach(function(e){e.rowTop<i&&(s-=1)}),this.moveRows(r,i,s);else{var a=this.gridOptionsWrapper.getRowNodeIdFunc(),l=this.clientSideRowModel.getRowIndexAtPixel(i)+1;"above"===this.clientSideRowModel.getHighlightPosition(i)&&l--,this.clientSideRowModel.updateRowData({add:r.map(function(e){return e.data}).filter(function(e){return!t.clientSideRowModel.getRowNode(a?a(e):e.id)}),addIndex:l})}this.clearRowHighlight()},o.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},o.prototype.moveRows=function(e,t,o){void 0===o&&(o=0),this.clientSideRowModel.ensureRowsAtPixel(e,t,o)&&(this.focusController.clearFocusedCell(),this.rangeController&&this.rangeController.removeAllCellRanges())},o.prototype.checkCenterForScrolling=function(e){var t=this.gridPanel.getVScrollPosition();this.needToMoveUp=e<t.top+50,this.needToMoveDown=e>t.bottom-50,this.needToMoveUp||this.needToMoveDown?this.ensureIntervalStarted():this.ensureIntervalCleared()},o.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100))},o.prototype.ensureIntervalCleared=function(){this.moveInterval&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null)},o.prototype.moveInterval=function(){var e,t;this.intervalCount++,(e=10+5*this.intervalCount)>100&&(e=100),this.needToMoveDown?t=this.gridPanel.scrollVertically(e):this.needToMoveUp&&(t=this.gridPanel.scrollVertically(-e)),0!==t&&this.onDragging(this.lastDraggingEvent)},o.prototype.addRowDropZone=function(e){var o=this;if(e.getContainer())if(this.dragAndDropService.findExternalZone(e))console.warn("ag-Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var n={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,n=e):(e.onDragEnter&&(n.onDragEnter=function(t){e.onDragEnter(o.draggingToRowDragEvent(Ft.EVENT_ROW_DRAG_ENTER,t))}),e.onDragLeave&&(n.onDragLeave=function(t){e.onDragLeave(o.draggingToRowDragEvent(Ft.EVENT_ROW_DRAG_LEAVE,t))}),e.onDragging&&(n.onDragging=function(t){e.onDragging(o.draggingToRowDragEvent(Ft.EVENT_ROW_DRAG_MOVE,t))}),e.onDragStop&&(n.onDragStop=function(t){e.onDragStop(o.draggingToRowDragEvent(Ft.EVENT_ROW_DRAG_END,t))})),this.dragAndDropService.addDropTarget(Xr({isInterestedIn:function(e){return e===t.DragSourceType.RowDrag},getIconName:function(){return _i.ICON_MOVE},external:!0},n))}else et.doOnce(function(){return console.warn("ag-Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target")},o.prototype.getRowDropZone=function(e){var t=this,o=this.getContainer.bind(this),n=this.onDragEnter.bind(this),i=this.onDragLeave.bind(this),r=this.onDragging.bind(this),s=this.onDragStop.bind(this);return e?{getContainer:o,onDragEnter:e.onDragEnter?function(o){n(o),e.onDragEnter(t.draggingToRowDragEvent(Ft.EVENT_ROW_DRAG_ENTER,o))}:n,onDragLeave:e.onDragLeave?function(o){i(o),e.onDragLeave(t.draggingToRowDragEvent(Ft.EVENT_ROW_DRAG_LEAVE,o))}:i,onDragging:e.onDragging?function(o){r(o),e.onDragging(t.draggingToRowDragEvent(Ft.EVENT_ROW_DRAG_MOVE,o))}:r,onDragStop:e.onDragStop?function(o){s(o),e.onDragStop(t.draggingToRowDragEvent(Ft.EVENT_ROW_DRAG_END,o))}:s,fromGrid:!0}:{getContainer:o,onDragEnter:n,onDragLeave:i,onDragging:r,onDragStop:s,fromGrid:!0}},o.prototype.draggingToRowDragEvent=function(e,o){var n,i=this.mouseEventService.getNormalisedPosition(o).y,r=-1,s=null;switch(i>this.rowModel.getCurrentPageHeight()||(r=this.rowModel.getRowIndexAtPixel(i),s=this.rowModel.getRow(r)),o.vDirection){case t.VerticalDirection.Down:n="down";break;case t.VerticalDirection.Up:n="up";break;default:n=null}return{type:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:o.event,node:o.dragItem.rowNode,nodes:o.dragItem.rowNodes,overIndex:r,overNode:s,y:i,vDirection:n}},o.prototype.dispatchGridEvent=function(e,t){var o=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(o)},o.prototype.onDragLeave=function(e){this.dispatchGridEvent(Ft.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)},o.prototype.onDragStop=function(e){this.dispatchGridEvent(Ft.EVENT_ROW_DRAG_END,e),this.stopDragging(e),!this.gridOptionsWrapper.isRowDragManaged()||!this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()&&this.isFromThisGrid(e)||this.isDropZoneWithinThisGrid(e)||this.moveRowAndClearHighlight(e)},o.prototype.stopDragging=function(e){this.ensureIntervalCleared(),this.getRowNodes(e).forEach(function(e){e.setDragging(!1)})},Zr([ct("dragAndDropService")],o.prototype,"dragAndDropService",void 0),Zr([ct("rowModel")],o.prototype,"rowModel",void 0),Zr([ct("columnController")],o.prototype,"columnController",void 0),Zr([ct("focusController")],o.prototype,"focusController",void 0),Zr([ct("sortController")],o.prototype,"sortController",void 0),Zr([ct("filterManager")],o.prototype,"filterManager",void 0),Zr([ct("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),Zr([ct("selectionController")],o.prototype,"selectionController",void 0),Zr([pt("rangeController")],o.prototype,"rangeController",void 0),Zr([ct("mouseEventService")],o.prototype,"mouseEventService",void 0),Zr([at],o.prototype,"postConstruct",null),o}(Dt),ts=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),os=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ns=function(e){function o(){var t=e.call(this,'<div class="ag-root ag-unselectable" role="grid" unselectable="on">\n        <ag-header-root ref="headerRoot" unselectable="on"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation" unselectable="on">\n            <div class="ag-pinned-left-floating-top" ref="eLeftTop" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-top-viewport" ref="eTopViewport" role="presentation" unselectable="on">\n                <div class="ag-floating-top-container" ref="eTopContainer" role="presentation" unselectable="on"></div>\n            </div>\n            <div class="ag-pinned-right-floating-top" ref="eRightTop" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-top-full-width-container" ref="eTopFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n            <div class="ag-pinned-left-cols-container" ref="eLeftContainer" role="presentation" unselectable="on"></div>\n            <div class="ag-center-cols-clipper" ref="eCenterColsClipper" role="presentation" unselectable="on">\n                <div class="ag-center-cols-viewport" ref="eCenterViewport" role="presentation">\n                    <div class="ag-center-cols-container" ref="eCenterContainer" role="rowgroup" unselectable="on"></div>\n                </div>\n            </div>\n            <div class="ag-pinned-right-cols-container" ref="eRightContainer" role="presentation" unselectable="on"></div>\n            <div class="ag-full-width-container" ref="eFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation" unselectable="on">\n            <div class="ag-pinned-left-floating-bottom" ref="eLeftBottom" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-bottom-viewport" ref="eBottomViewport" role="presentation" unselectable="on">\n                <div class="ag-floating-bottom-container" ref="eBottomContainer" role="presentation" unselectable="on"></div>\n            </div>\n            <div class="ag-pinned-right-floating-bottom" ref="eRightBottom" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-bottom-full-width-container" ref="eBottomFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-body-horizontal-scroll" ref="eHorizontalScrollBody" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eHorizontalLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eBodyHorizontalScrollViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eBodyHorizontalScrollContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eHorizontalRightSpacer"></div>\n        </div>\n        <ag-overlay-wrapper ref="overlayWrapper"></ag-overlay-wrapper>\n    </div>')||this;return t.scrollLeft=-1,t.scrollTop=-1,t.resetLastHorizontalScrollElementDebounced=et.debounce(t.resetLastHorizontalScrollElement.bind(t),500),t}return ts(o,e),o.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},o.prototype.getHScrollPosition=function(){return{left:this.eCenterViewport.scrollLeft,right:this.eCenterViewport.scrollLeft+this.eCenterViewport.offsetWidth}},o.prototype.onRowDataChanged=function(){this.showOrHideOverlay()},o.prototype.showOrHideOverlay=function(){var e=this.paginationProxy.isEmpty(),t=this.gridOptionsWrapper.isSuppressNoRowsOverlay();this[e&&!t?"showNoRowsOverlay":"hideOverlay"]()},o.prototype.onNewColumnsLoaded=function(){this.beans.columnController.isReady()&&!this.paginationProxy.isEmpty()&&this.hideOverlay()},o.prototype.init=function(){var e=this;this.scrollWidth=this.gridOptionsWrapper.getScrollbarWidth(),this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===Ue.DOM_LAYOUT_PRINT,this.gridOptionsWrapper.addLayoutElement(this.getGui()),this.gridOptionsWrapper.addLayoutElement(this.eBodyViewport),this.suppressScrollOnFloatingRow(),this.setupRowAnimationCssClass(),this.buildRowContainerComponents(),this.addEventListeners(),this.addDragListeners(),this.addScrollListener(),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.setPinnedContainerSize(),this.setHeaderAndFloatingHeights(),this.disableBrowserDragging(),this.addMouseListeners(),this.addKeyboardEvents(),this.addBodyViewportListener(),this.addStopEditingWhenGridLosesFocus(),this.mockContextMenuForIPad(),this.addRowDragListener(),this.$scope&&this.addAngularApplyCheck(),this.onDisplayedColumnsWidthChanged(),this.gridApi.registerGridComp(this),this.alignedGridsService.registerGridComp(this),this.headerRootComp.registerGridComp(this),this.navigationService.registerGridComp(this),this.headerNavigationService.registerGridComp(this),this.heightScaler.registerGridComp(this),this.autoHeightCalculator.registerGridComp(this),this.columnAnimationService.registerGridComp(this),this.autoWidthCalculator.registerGridComp(this),this.paginationAutoPageSizeService.registerGridComp(this),this.mouseEventService.registerGridComp(this),this.beans.registerGridComp(this),this.rowRenderer.registerGridComp(this),this.rangeController&&this.rangeController.registerGridComp(this),[this.eCenterViewport,this.eBodyViewport].forEach(function(t){var o=e.resizeObserverService.observeResize(t,e.onCenterViewportResized.bind(e));e.addDestroyFunc(function(){return o()})}),[this.eTop,this.eBodyViewport,this.eBottom].forEach(function(t){e.addManagedListener(t,"focusin",function(){et.addCssClass(t,"ag-has-focus")}),e.addManagedListener(t,"focusout",function(e){t.contains(e.relatedTarget)||et.removeCssClass(t,"ag-has-focus")})})},o.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsWrapper.getDomLayout()===Ue.DOM_LAYOUT_PRINT;this.printLayout!==e&&(this.printLayout=e,this.setWidthsOfContainers(),this.setPinnedContainerSize())},o.prototype.onCenterViewportResized=function(){et.isVisible(this.eCenterViewport)?(this.checkViewportAndScrolls(),this.beans.columnController.refreshFlexedColumns(this.getCenterWidth())):this.bodyHeight=0},o.prototype.setColumnMovingCss=function(e){this.addOrRemoveCssClass("ag-column-moving",e)},o.prototype.setCellTextSelection=function(e){void 0===e&&(e=!1),[this.eTop,this.eBodyViewport,this.eBottom].forEach(function(t){return et.addOrRemoveCssClass(t,"ag-selectable",e)})},o.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new es(this.eBodyViewport,this)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},o.prototype.getRowDragFeature=function(){return this.rowDragFeature},o.prototype.addStopEditingWhenGridLosesFocus=function(){var e=this;if(this.gridOptionsWrapper.isStopEditingWhenGridLosesFocus()){var t=[this.eBodyViewport,this.eBottom,this.eTop],o=function(o){var n=o.relatedTarget;if(null!==et.getTabIndex(n)){var i=t.some(function(e){return e.contains(n)});if(!i){var r=e.beans.popupService;i=r.getActivePopups().some(function(e){return e.contains(n)})||r.isElementWithinCustomPopup(n)}i||e.rowRenderer.stopEditing()}else e.rowRenderer.stopEditing()};t.forEach(function(t){return e.addManagedListener(t,"focusout",o)})}},o.prototype.addAngularApplyCheck=function(){var e=this,t=!1,o=function(){t||(t=!0,window.setTimeout(function(){t=!1,e.$scope.$apply()},0))};this.addManagedListener(this.eventService,Ft.EVENT_DISPLAYED_COLUMNS_CHANGED,o),this.addManagedListener(this.eventService,Ft.EVENT_VIRTUAL_COLUMNS_CHANGED,o)},o.prototype.disableBrowserDragging=function(){this.addGuiEventListener("dragstart",function(e){if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})},o.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,Ft.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_PINNED_ROW_DATA_CHANGED,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_ROW_DATA_UPDATED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.gridOptionsWrapper,$t.PROP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,$t.PROP_PIVOT_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,$t.PROP_GROUP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,$t.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,$t.PROP_FLOATING_FILTERS_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,$t.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this))},o.prototype.addDragListeners=function(){var e=this;this.gridOptionsWrapper.isEnableRangeSelection()&&!et.missing(this.rangeController)&&[this.eLeftContainer,this.eRightContainer,this.eCenterContainer,this.eTop,this.eBottom].forEach(function(t){var o={eElement:t,onDragStart:e.rangeController.onDragStart.bind(e.rangeController),onDragStop:e.rangeController.onDragStop.bind(e.rangeController),onDragging:e.rangeController.onDragging.bind(e.rangeController)};e.dragService.addDragSource(o),e.addDestroyFunc(function(){return e.dragService.removeDragSource(o)})})},o.prototype.addMouseListeners=function(){var e=this;["click","mousedown","dblclick","contextmenu","mouseover","mouseout"].forEach(function(t){var o=e.processMouseEvent.bind(e,t);e.eAllCellContainers.forEach(function(n){return e.addManagedListener(n,t,o)})})},o.prototype.addKeyboardEvents=function(){var e=this;["keydown","keypress"].forEach(function(t){var o=e.processKeyboardEvent.bind(e,t);e.eAllCellContainers.forEach(function(n){e.addManagedListener(n,t,o)})})},o.prototype.addBodyViewportListener=function(){var e=this;this.addManagedListener(this.eBodyViewport,"contextmenu",function(t){var o=et.getTarget(t);o!==e.eBodyViewport&&o!==e.eCenterViewport||(e.onContextMenu(t,null,null,null,null),e.preventDefaultOnContextMenu(t))})},o.prototype.getBodyClientRect=function(){if(this.eBodyViewport)return this.eBodyViewport.getBoundingClientRect()},o.prototype.getRowForEvent=function(e){for(var t=et.getTarget(e);t;){var o=this.gridOptionsWrapper.getDomData(t,Ui.DOM_DATA_KEY_RENDERED_ROW);if(o)return o;t=t.parentElement}return null},o.prototype.processKeyboardEvent=function(e,t){var o=et.getCellCompForEvent(this.gridOptionsWrapper,t);if(o&&!t.defaultPrevented){var n=o.getRenderedRow().getRowNode(),i=o.getColumn(),r=o.isEditing();if(!et.isUserSuppressingKeyboardEvent(this.gridOptionsWrapper,t,n,i,r))switch(e){case"keydown":!r&&this.navigationService.handlePageScrollingKey(t)||o.onKeyDown(t),this.doGridOperations(t,o);break;case"keypress":o.onKeyPress(t)}if("keydown"===e){var s=o.createEvent(t,Ft.EVENT_CELL_KEY_DOWN);this.beans.eventService.dispatchEvent(s)}if("keypress"===e){var a=o.createEvent(t,Ft.EVENT_CELL_KEY_PRESS);this.beans.eventService.dispatchEvent(a)}}},o.prototype.doGridOperations=function(e,t){if((e.ctrlKey||e.metaKey)&&!t.isEditing()&&this.mouseEventService.isEventFromThisGrid(e))switch(e.which){case Ue.KEY_A:return this.onCtrlAndA(e);case Ue.KEY_C:return this.onCtrlAndC(e);case Ue.KEY_V:return this.onCtrlAndV();case Ue.KEY_D:return this.onCtrlAndD(e);case Ue.KEY_Z:return e.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo();case Ue.KEY_Y:return this.undoRedoService.redo()}},o.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},o.prototype.processMouseEvent=function(e,t){if(this.mouseEventService.isEventFromThisGrid(t)&&!et.isStopPropagationForAgGrid(t)){var o=this.getRowForEvent(t),n=this.mouseEventService.getRenderedCellForEvent(t);"contextmenu"===e?(this.preventDefaultOnContextMenu(t),this.handleContextMenuMouseEvent(t,null,o,n)):(n&&n.onMouseEvent(e,t),o&&o.onMouseEvent(e,t))}},o.prototype.mockContextMenuForIPad=function(){var e=this;et.isIOSUserAgent()&&this.eAllCellContainers.forEach(function(t){var o=new To(t);e.addManagedListener(o,To.EVENT_LONG_TAP,function(t){var o=e.getRowForEvent(t.touchEvent),n=e.mouseEventService.getRenderedCellForEvent(t.touchEvent);e.handleContextMenuMouseEvent(null,t.touchEvent,o,n)}),e.addDestroyFunc(function(){return o.destroy()})})},o.prototype.handleContextMenuMouseEvent=function(e,t,o,n){var i=o?o.getRowNode():null,r=n?n.getColumn():null,s=null;r&&(n.dispatchCellContextMenuEvent(e||t),s=this.valueService.getValue(r,i)),this.onContextMenu(e,t,i,r,s)},o.prototype.onContextMenu=function(e,t,o,n,i){!this.gridOptionsWrapper.isAllowContextMenuWithControlKey()&&e&&(e.ctrlKey||e.metaKey)||this.contextMenuFactory&&!this.gridOptionsWrapper.isSuppressContextMenu()&&this.contextMenuFactory.showMenu(o,n,i,e||t.touches[0])&&(e||t).preventDefault()},o.prototype.preventDefaultOnContextMenu=function(e){var t=this.gridOptionsWrapper,o=e.which;(t.isPreventDefaultOnContextMenu()||t.isSuppressMiddleClickScrolls()&&2===o)&&e.preventDefault()},o.prototype.onCtrlAndA=function(e){var t=this.beans,o=this.pinnedRowModel,n=this.rangeController,i=Ue.PINNED_BOTTOM,r=Ue.PINNED_TOP;if(n&&this.paginationProxy.isRowsToRender()){var s=[o.isEmpty(r),o.isEmpty(i)],a=s[0]?null:r,l=void 0,u=void 0;s[1]?(l=null,u=this.paginationProxy.getRowCount()-1):(l=i,u=o.getPinnedBottomRowData().length-1);var c=t.columnController.getAllDisplayedColumns();if(et.missingOrEmpty(c))return;n.setCellRange({rowStartIndex:0,rowStartPinned:a,rowEndIndex:u,rowEndPinned:l,columnStart:c[0],columnEnd:et.last(c)})}e.preventDefault()},o.prototype.onCtrlAndC=function(e){this.clipboardService&&!this.gridOptionsWrapper.isEnableCellTextSelection()&&(this.clipboardService.copyToClipboard(),e.preventDefault())},o.prototype.onCtrlAndV=function(){bt.isRegistered(t.ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},o.prototype.onCtrlAndD=function(e){bt.isRegistered(t.ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),e.preventDefault()},o.prototype.ensureIndexVisible=function(e,t){if(!this.printLayout){var o=this.paginationProxy.getRowCount();if("number"!=typeof e||e<0||e>=o)console.warn("invalid row index for ensureIndexVisible: "+e);else{this.paginationProxy.goToPageWithIndex(e);var n,i=this.paginationProxy.getRow(e);do{var r=i.rowTop,s=i.rowHeight,a=this.paginationProxy.getPixelOffset(),l=i.rowTop-a,u=l+i.rowHeight,c=this.getVScrollPosition(),p=this.heightScaler.getOffset(),d=c.top+p,h=c.bottom+p,f=h-d,g=this.heightScaler.getScrollPositionForPixel(l),m=this.heightScaler.getScrollPositionForPixel(u-f),y=Math.min((g+m)/2,l),v=null;"top"===t?v=g:"bottom"===t?v=m:"middle"===t?v=y:d>l?v=g:h<u&&(v=m),null!==v&&(this.eBodyViewport.scrollTop=v,this.rowRenderer.redrawAfterScroll()),n=r!==i.rowTop||s!==i.rowHeight}while(n);this.animationFrameService.flushAllFrames()}}},o.prototype.getCenterWidth=function(){return this.eCenterViewport.clientWidth},o.prototype.isVerticalScrollShowing=function(){var e=this.gridOptionsWrapper.isAlwaysShowVerticalScroll();return et.addOrRemoveCssClass(this.eBodyViewport,"ag-force-vertical-scroll",e),e||et.isVerticalScrollShowing(this.eBodyViewport)},o.prototype.isHorizontalScrollShowing=function(){return et.isHorizontalScrollShowing(this.eCenterViewport)},o.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.setPinnedContainerSize(),this.scrollLeft!==this.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.eCenterViewport)},o.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},o.prototype.updateScrollVisibleServiceImpl=function(){var e={horizontalScrollShowing:!1,verticalScrollShowing:!1};e.verticalScrollShowing=this.isVerticalScrollShowing(),e.horizontalScrollShowing=this.isHorizontalScrollShowing(),this.scrollVisibleService.setScrollsVisible(e),this.setHorizontalScrollVisible(e.horizontalScrollShowing),this.setVerticalScrollPaddingVisible(e.verticalScrollShowing)},o.prototype.setHorizontalScrollVisible=function(e){var t=this.gridOptionsWrapper.isSuppressHorizontalScroll(),o=e&&this.gridOptionsWrapper.getScrollbarWidth()||0,n=t?0:o,i=et.isBrowserIE()&&e;this.eCenterViewport.style.height="calc(100% + "+o+"px)",et.setFixedHeight(this.eHorizontalScrollBody,n),et.setFixedHeight(this.eBodyHorizontalScrollViewport,n+(i?1:0)),et.setFixedHeight(this.eBodyHorizontalScrollContainer,n)},o.prototype.setVerticalScrollPaddingVisible=function(e){this.eTop.style.overflowY=this.eBottom.style.overflowY=e?"scroll":"hidden",this.setFakeHScrollSpacerWidths()},o.prototype.updateRowCount=function(){var e=(this.headerNavigationService.getHeaderRowCount()+this.paginationProxy.getRowCount()).toString();this.getGui().setAttribute("aria-rowcount",e)},o.prototype.updateColumnCount=function(){var e=this.columnController.getAllDisplayedColumns();this.getGui().setAttribute("aria-colcount",e.length.toString())},o.prototype.ensureColumnVisible=function(e){var t=this.columnController.getGridColumn(e);if(t)if(t.isPinned())console.warn("calling ensureIndexVisible on a "+t.getPinned()+" pinned column doesn't make sense for column "+t.getColId());else if(this.columnController.isColumnDisplayed(t)){var o,n,i=t.getLeft(),r=i+t.getActualWidth(),s=this.eCenterViewport.clientWidth,a=this.getCenterViewportScrollLeft(),l=this.columnController.getBodyContainerWidth();this.enableRtl?(o=l-a-s,n=l-a):(o=a,n=s+a);var u=o>i,c=n<r,p=s<t.getActualWidth(),d=u||p,h=c;this.getCenterViewportScrollLeft(),(d||h)&&this.setCenterViewportScrollLeft(this.enableRtl?d?l-s-i:l-r:d?i:r-s),this.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}else console.warn("column is not currently visible")},o.prototype.showLoadingOverlay=function(){this.gridOptionsWrapper.isSuppressLoadingOverlay()||this.overlayWrapper.showLoadingOverlay()},o.prototype.showNoRowsOverlay=function(){this.gridOptionsWrapper.isSuppressNoRowsOverlay()||this.overlayWrapper.showNoRowsOverlay()},o.prototype.hideOverlay=function(){this.overlayWrapper.hideOverlay()},o.prototype.sizeColumnsToFit=function(e){var t=this,o=this.eBodyViewport.clientWidth;o>0?this.columnController.sizeColumnsToFit(o,"sizeColumnsToFit"):void 0===e?window.setTimeout(function(){t.sizeColumnsToFit(100)},0):100===e?window.setTimeout(function(){t.sizeColumnsToFit(500)},100):500===e?window.setTimeout(function(){t.sizeColumnsToFit(-1)},500):console.warn("ag-Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},o.prototype.getCenterContainer=function(){return this.eCenterContainer},o.prototype.getDropTargetBodyContainers=function(){return[this.eCenterViewport,this.eTopViewport,this.eBottomViewport]},o.prototype.getDropTargetLeftContainers=function(){return[this.eLeftContainer,this.eLeftBottom,this.eLeftTop]},o.prototype.getDropTargetRightContainers=function(){return[this.eRightContainer,this.eRightBottom,this.eRightTop]},o.prototype.buildRowContainerComponents=function(){var e=this;this.eAllCellContainers=[this.eLeftContainer,this.eRightContainer,this.eCenterContainer,this.eTop,this.eBottom,this.eFullWidthContainer],this.rowContainerComponents={body:new $r({eContainer:this.eCenterContainer,eWrapper:this.eCenterColsClipper,eViewport:this.eBodyViewport}),fullWidth:new $r({eContainer:this.eFullWidthContainer}),pinnedLeft:new $r({eContainer:this.eLeftContainer}),pinnedRight:new $r({eContainer:this.eRightContainer}),floatingTop:new $r({eContainer:this.eTopContainer}),floatingTopPinnedLeft:new $r({eContainer:this.eLeftTop}),floatingTopPinnedRight:new $r({eContainer:this.eRightTop}),floatingTopFullWidth:new $r({eContainer:this.eTopFullWidthContainer,hideWhenNoChildren:!0}),floatingBottom:new $r({eContainer:this.eBottomContainer}),floatingBottomPinnedLeft:new $r({eContainer:this.eLeftBottom}),floatingBottomPinnedRight:new $r({eContainer:this.eRightBottom}),floatingBottomFullWidth:new $r({eContainer:this.eBottomFullWidthContainer,hideWhenNoChildren:!0})},et.iterateObject(this.rowContainerComponents,function(t,o){o&&e.getContext().createBean(o)})},o.prototype.setupRowAnimationCssClass=function(){var e=this,t=function(){var t=e.gridOptionsWrapper.isAnimateRows()&&!e.heightScaler.isScaling();et.addOrRemoveCssClass(e.eBodyViewport,"ag-row-animation",t),et.addOrRemoveCssClass(e.eBodyViewport,"ag-row-no-animation",!t)};t(),this.addManagedListener(this.eventService,Ft.EVENT_HEIGHT_SCALE_CHANGED,t)},o.prototype.suppressScrollOnFloatingRow=function(){var e=this;this.addManagedListener(this.eTopViewport,"scroll",function(){return e.eTopViewport.scrollLeft=0}),this.addManagedListener(this.eBottomViewport,"scroll",function(){return e.eTopViewport.scrollLeft=0})},o.prototype.getRowContainers=function(){return this.rowContainerComponents},o.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},o.prototype.onDisplayedColumnsChanged=function(){this.setPinnedContainerSize(),this.setHeaderAndFloatingHeights(),this.onHorizontalViewportChanged(),this.updateScrollVisibleService(),this.updateColumnCount()},o.prototype.onDisplayedColumnsWidthChanged=function(){this.setWidthsOfContainers(),this.onHorizontalViewportChanged(),this.updateScrollVisibleService(),this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},o.prototype.setWidthsOfContainers=function(){this.setCenterWidth(),this.setPinnedContainerSize()},o.prototype.setCenterWidth=function(){var e=this.headerRootComp,t=this.columnController,o=t.getBodyContainerWidth();this.printLayout&&(o+=t.getPinnedLeftContainerWidth()+t.getPinnedRightContainerWidth()),e.setHeaderContainerWidth(o);var n=o+"px";this.eCenterContainer.style.width=n,this.eBottomContainer.style.width=n,this.eTopContainer.style.width=n,this.printLayout||(this.eBodyHorizontalScrollContainer.style.width=n)},o.prototype.setPinnedLeftWidth=function(){var e=this,t=this.pinningLeft,o=this.columnController.getPinnedLeftContainerWidth(),n=this.pinningLeft=!this.printLayout&&o>0,i=[this.eLeftContainer,this.eLeftTop,this.eLeftBottom];t!==n&&this.headerRootComp.setLeftVisible(n),i.forEach(function(t){return et.setDisplayed(t,e.pinningLeft)}),n&&i.forEach(function(e){return et.setFixedWidth(e,o)})},o.prototype.setPinnedRightWidth=function(){var e=this.pinningRight,t=this.columnController.getPinnedRightContainerWidth(),o=this.pinningRight=!this.printLayout&&t>0,n=[this.eRightContainer,this.eRightTop,this.eRightBottom];e!==o&&this.headerRootComp.setRightVisible(o),n.forEach(function(e){return et.setDisplayed(e,o)}),o&&n.forEach(function(e){return et.setFixedWidth(e,t)})},o.prototype.setPinnedContainerSize=function(){this.setPinnedLeftWidth(),this.setPinnedRightWidth(),this.setFakeHScrollSpacerWidths()},o.prototype.setFakeHScrollSpacerWidths=function(){var e=this.columnController.getPinnedRightContainerWidth();!this.enableRtl&&this.isVerticalScrollShowing()&&(e+=this.scrollWidth),et.setFixedWidth(this.eHorizontalRightSpacer,e),et.addOrRemoveCssClass(this.eHorizontalRightSpacer,"ag-scroller-corner",e<=this.scrollWidth);var t=this.columnController.getPinnedLeftContainerWidth();this.enableRtl&&this.isVerticalScrollShowing()&&(t+=this.scrollWidth),et.setFixedWidth(this.eHorizontalLeftSpacer,t),et.addOrRemoveCssClass(this.eHorizontalLeftSpacer,"ag-scroller-corner",t<=this.scrollWidth)},o.prototype.checkBodyHeight=function(){var e=this.eBodyViewport.clientHeight;this.bodyHeight!==e&&(this.bodyHeight=e,this.eventService.dispatchEvent({type:Ft.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},o.prototype.setHeaderAndFloatingHeights=function(){var e,t,o,n=this,i=n.columnController,r=n.gridOptionsWrapper,s=n.pinnedRowModel,a=n.eTop,l=n.eBottom,u=0,c=i.getHeaderRowCount();i.isPivotMode()?(t=r.getPivotGroupHeaderHeight(),o=r.getPivotHeaderHeight()):(i.hasFloatingFilters()&&(c++,u=1),t=r.getGroupHeaderHeight(),o=r.getHeaderHeight());var p=c-(1+u);e=u*r.getFloatingFiltersHeight(),e+=p*t,this.headerRootComp.setHeight(e+=o);var d=s.getPinnedTopTotalHeight();d&&(d+=1);var h=s.getPinnedBottomTotalHeight();h&&(h+=1);var f=d+"px",g=h+"px";a.style.minHeight=f,a.style.height=f,a.style.display=d?"inherit":"none",l.style.minHeight=g,l.style.height=g,l.style.display=h?"inherit":"none",this.checkBodyHeight()},o.prototype.getBodyHeight=function(){return this.bodyHeight},o.prototype.setHorizontalScrollPosition=function(e){this.eCenterViewport.scrollLeft=e,this.doHorizontalScroll(e)},o.prototype.setVerticalScrollPosition=function(e){this.eBodyViewport.scrollTop=e},o.prototype.scrollHorizontally=function(e){var t=this.eCenterViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.eCenterViewport.scrollLeft-t},o.prototype.scrollVertically=function(e){var t=this.eBodyViewport.scrollTop;return this.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t},o.prototype.addScrollListener=function(){this.addManagedListener(this.eCenterViewport,"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(this.eBodyHorizontalScrollViewport,"scroll",this.onFakeHorizontalScroll.bind(this)),this.addManagedListener(this.eBodyViewport,"scroll",this.onVerticalScroll.bind(this))},o.prototype.onVerticalScroll=function(){var e=this.eBodyViewport.scrollTop;this.animationFrameService.setScrollTop(e),this.scrollTop=e,this.redrawRowsAfterScroll()},o.prototype.isControllingScroll=function(e){return this.lastHorizontalScrollElement?e===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=e,!0)},o.prototype.onFakeHorizontalScroll=function(){this.isControllingScroll(this.eBodyHorizontalScrollViewport)&&this.onBodyHorizontalScroll(this.eBodyHorizontalScrollViewport)},o.prototype.onCenterViewportScroll=function(){this.isControllingScroll(this.eCenterViewport)&&this.onBodyHorizontalScroll(this.eCenterViewport)},o.prototype.onBodyHorizontalScroll=function(e){var t=this.eCenterViewport,o=t.scrollWidth,n=t.clientWidth,i=Math.floor(et.getScrollLeft(e,this.enableRtl)),r=o-n;i<0?i=0:i>r&&(i=r),this.doHorizontalScroll(i),this.resetLastHorizontalScrollElementDebounced()},o.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},o.prototype.doHorizontalScroll=function(e){this.scrollLeft=e,this.eventService.dispatchEvent({type:Ft.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:"horizontal",left:this.scrollLeft,top:this.scrollTop}),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.onHorizontalViewportChanged()},o.prototype.redrawRowsAfterScroll=function(){this.eventService.dispatchEvent({type:Ft.EVENT_BODY_SCROLL,direction:"vertical",api:this.gridApi,columnApi:this.columnApi,left:this.scrollLeft,top:this.scrollTop})},o.prototype.onHorizontalViewportChanged=function(){var e=this.eCenterViewport.clientWidth,t=this.getCenterViewportScrollLeft();this.columnController.setVirtualViewportPosition(e,t)},o.prototype.getCenterViewportScrollLeft=function(){return et.getScrollLeft(this.eCenterViewport,this.enableRtl)},o.prototype.setCenterViewportScrollLeft=function(e){et.setScrollLeft(this.eCenterViewport,e,this.enableRtl)},o.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){void 0===e&&(e=this.getCenterViewportScrollLeft());var t=this.enableRtl?e:-e,o=this.eCenterViewport,n=o.clientWidth,i=o.scrollWidth;Math.abs(t)+n>i||this.enableRtl&&t<0||!this.enableRtl&&t>0||(this.headerRootComp.setHorizontalScroll(t),this.eBottomContainer.style.transform="translateX("+t+"px)",this.eTopContainer.style.transform="translateX("+t+"px)",et.setScrollLeft(this.lastHorizontalScrollElement===this.eCenterViewport?this.eBodyHorizontalScrollViewport:this.eCenterViewport,e,this.enableRtl))},o.prototype.addScrollEventListener=function(e){this.eBodyViewport.addEventListener("scroll",e)},o.prototype.removeScrollEventListener=function(e){this.eBodyViewport.removeEventListener("scroll",e)},os([ct("alignedGridsService")],o.prototype,"alignedGridsService",void 0),os([ct("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),os([ct("rowRenderer")],o.prototype,"rowRenderer",void 0),os([ct("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),os([ct("animationFrameService")],o.prototype,"animationFrameService",void 0),os([ct("navigationService")],o.prototype,"navigationService",void 0),os([ct("autoHeightCalculator")],o.prototype,"autoHeightCalculator",void 0),os([ct("columnAnimationService")],o.prototype,"columnAnimationService",void 0),os([ct("autoWidthCalculator")],o.prototype,"autoWidthCalculator",void 0),os([ct("paginationAutoPageSizeService")],o.prototype,"paginationAutoPageSizeService",void 0),os([ct("beans")],o.prototype,"beans",void 0),os([ct("paginationProxy")],o.prototype,"paginationProxy",void 0),os([ct("columnApi")],o.prototype,"columnApi",void 0),os([ct("gridApi")],o.prototype,"gridApi",void 0),os([ct("dragService")],o.prototype,"dragService",void 0),os([ct("mouseEventService")],o.prototype,"mouseEventService",void 0),os([ct("$scope")],o.prototype,"$scope",void 0),os([ct("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),os([ct("valueService")],o.prototype,"valueService",void 0),os([ct("dragAndDropService")],o.prototype,"dragAndDropService",void 0),os([ct("maxDivHeightScaler")],o.prototype,"heightScaler",void 0),os([ct("resizeObserverService")],o.prototype,"resizeObserverService",void 0),os([ct("undoRedoService")],o.prototype,"undoRedoService",void 0),os([ct("columnController")],o.prototype,"columnController",void 0),os([ct("headerNavigationService")],o.prototype,"headerNavigationService",void 0),os([pt("rangeController")],o.prototype,"rangeController",void 0),os([pt("contextMenuFactory")],o.prototype,"contextMenuFactory",void 0),os([pt("clipboardService")],o.prototype,"clipboardService",void 0),os([ro("eBodyViewport")],o.prototype,"eBodyViewport",void 0),os([ro("eCenterContainer")],o.prototype,"eCenterContainer",void 0),os([ro("eCenterViewport")],o.prototype,"eCenterViewport",void 0),os([ro("eLeftContainer")],o.prototype,"eLeftContainer",void 0),os([ro("eRightContainer")],o.prototype,"eRightContainer",void 0),os([ro("eCenterColsClipper")],o.prototype,"eCenterColsClipper",void 0),os([ro("eHorizontalScrollBody")],o.prototype,"eHorizontalScrollBody",void 0),os([ro("eHorizontalLeftSpacer")],o.prototype,"eHorizontalLeftSpacer",void 0),os([ro("eHorizontalRightSpacer")],o.prototype,"eHorizontalRightSpacer",void 0),os([ro("eBodyHorizontalScrollViewport")],o.prototype,"eBodyHorizontalScrollViewport",void 0),os([ro("eBodyHorizontalScrollContainer")],o.prototype,"eBodyHorizontalScrollContainer",void 0),os([ro("eFullWidthContainer")],o.prototype,"eFullWidthContainer",void 0),os([ro("eTop")],o.prototype,"eTop",void 0),os([ro("eLeftTop")],o.prototype,"eLeftTop",void 0),os([ro("eRightTop")],o.prototype,"eRightTop",void 0),os([ro("eTopContainer")],o.prototype,"eTopContainer",void 0),os([ro("eTopViewport")],o.prototype,"eTopViewport",void 0),os([ro("eTopFullWidthContainer")],o.prototype,"eTopFullWidthContainer",void 0),os([ro("eBottom")],o.prototype,"eBottom",void 0),os([ro("eLeftBottom")],o.prototype,"eLeftBottom",void 0),os([ro("eRightBottom")],o.prototype,"eRightBottom",void 0),os([ro("eBottomContainer")],o.prototype,"eBottomContainer",void 0),os([ro("eBottomViewport")],o.prototype,"eBottomViewport",void 0),os([ro("eBottomFullWidthContainer")],o.prototype,"eBottomFullWidthContainer",void 0),os([ro("headerRoot")],o.prototype,"headerRootComp",void 0),os([ro("overlayWrapper")],o.prototype,"overlayWrapper",void 0),os([at],o.prototype,"init",null),o}(oo),is=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},rs=function(){function e(){this.detailGridInfoMap={},this.destroyCalled=!1}return e.prototype.registerGridComp=function(e){this.gridPanel=e},e.prototype.registerGridCore=function(e){this.gridCore=e},e.prototype.registerHeaderRootComp=function(e){this.headerRootComp=e},e.prototype.init=function(){switch(this.rowModel.getType()){case Ue.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case Ue.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case Ue.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}},e.prototype.__getAlignedGridService=function(){return this.alignedGridsService},e.prototype.addDetailGridInfo=function(e,t){this.detailGridInfoMap[e]=t},e.prototype.removeDetailGridInfo=function(e){this.detailGridInfoMap[e]=void 0},e.prototype.getDetailGridInfo=function(e){return this.detailGridInfoMap[e]},e.prototype.forEachDetailGridInfo=function(e){var t=0;et.iterateObject(this.detailGridInfoMap,function(o,n){et.exists(n)&&(e(n,t),t++)})},e.prototype.getDataAsCsv=function(e){if(bt.assertRegistered(t.ModuleNames.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(e)},e.prototype.exportDataAsCsv=function(e){bt.assertRegistered(t.ModuleNames.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(e)},e.prototype.getDataAsExcel=function(e){if(bt.assertRegistered(t.ModuleNames.ExcelExportModule,"api.getDataAsExcel"))return this.excelCreator.getDataAsExcelXml(e)},e.prototype.exportDataAsExcel=function(e){bt.assertRegistered(t.ModuleNames.ExcelExportModule,"api.exportDataAsExcel")&&this.excelCreator.exportDataAsExcel(e)},e.prototype.setEnterpriseDatasource=function(e){console.warn("ag-grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(e)},e.prototype.setServerSideDatasource=function(e){this.gridOptionsWrapper.isRowModelServerSide()?this.rowModel.setDatasource(e):console.warn("ag-Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+Ue.ROW_MODEL_TYPE_SERVER_SIDE+"'")},e.prototype.setDatasource=function(e){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(e):console.warn("ag-Grid: you can only use a datasource when gridOptions.rowModelType is '"+Ue.ROW_MODEL_TYPE_INFINITE+"'")},e.prototype.setViewportDatasource=function(e){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(e):console.warn("ag-Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+Ue.ROW_MODEL_TYPE_VIEWPORT+"'")},e.prototype.setRowData=function(e){if(this.gridOptionsWrapper.isRowModelDefault())if(this.gridOptionsWrapper.isImmutableData()){var t=this.immutableService.createTransactionForRowData(e);if(!t)return;this.clientSideRowModel.updateRowData(t[0],t[1]),this.rowRenderer.refreshFullWidthRows()}else this.selectionController.reset(),this.clientSideRowModel.setRowData(e);else console.warn("cannot call setRowData unless using normal row model")},e.prototype.setFloatingTopRowData=function(e){console.warn("ag-Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(e)},e.prototype.setFloatingBottomRowData=function(e){console.warn("ag-Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(e)},e.prototype.getFloatingTopRowCount=function(){return console.warn("ag-Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},e.prototype.getFloatingBottomRowCount=function(){return console.warn("ag-Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},e.prototype.getFloatingTopRow=function(e){return console.warn("ag-Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(e)},e.prototype.getFloatingBottomRow=function(e){return console.warn("ag-Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(e)},e.prototype.setPinnedTopRowData=function(e){this.pinnedRowModel.setPinnedTopRowData(e)},e.prototype.setPinnedBottomRowData=function(e){this.pinnedRowModel.setPinnedBottomRowData(e)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},e.prototype.getPinnedTopRow=function(e){return this.pinnedRowModel.getPinnedTopRow(e)},e.prototype.getPinnedBottomRow=function(e){return this.pinnedRowModel.getPinnedBottomRow(e)},e.prototype.setColumnDefs=function(e,t){void 0===t&&(t="api"),this.columnController.setColumnDefs(e,t)},e.prototype.setAutoGroupColumnDef=function(e,t){this.gridOptionsWrapper.setProperty("autoGroupColumnDef",e,!0)},e.prototype.expireValueCache=function(){this.valueCache.expire()},e.prototype.getVerticalPixelRange=function(){return this.gridPanel.getVScrollPosition()},e.prototype.getHorizontalPixelRange=function(){return this.gridPanel.getHScrollPosition()},e.prototype.setAlwaysShowVerticalScroll=function(e){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",e)},e.prototype.refreshToolPanel=function(){this.gridCore.refreshSideBar()},e.prototype.refreshCells=function(e){void 0===e&&(e={}),Array.isArray(e)?console.warn("since ag-Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(e)},e.prototype.flashCells=function(e){void 0===e&&(e={}),this.rowRenderer.flashCells(e)},e.prototype.redrawRows=function(e){void 0===e&&(e={}),e&&e.rowNodes?this.rowRenderer.redrawRows(e.rowNodes):this.rowRenderer.redrawAfterModelUpdate()},e.prototype.timeFullRedraw=function(e){void 0===e&&(e=1);var t=0,o=0,n=0,i=this;!function r(){var s=(new Date).getTime();i.rowRenderer.redrawAfterModelUpdate();var a=(new Date).getTime();window.setTimeout(function(){var i=(new Date).getTime(),l=a-s,u=i-a;console.log("duration:  processing = "+l+"ms, reflow = "+u+"ms"),t++,o+=l,n+=u,t<e?window.setTimeout(r,1e3):(console.log("tests complete. iteration count = "+t),console.log("average processing = "+o/t+"ms"),console.log("average reflow = "+n/t+"ms"))},0)}()},e.prototype.refreshView=function(){console.warn("ag-Grid: since v11.1, refreshView() is deprecated, please call refreshCells() or redrawRows() instead"),this.redrawRows()},e.prototype.refreshRows=function(e){console.warn("since ag-Grid v11.1, refreshRows() is deprecated, please use refreshCells({rowNodes: rows}) or redrawRows({rowNodes: rows}) instead"),this.refreshCells({rowNodes:e})},e.prototype.rowDataChanged=function(e){console.warn("ag-Grid: rowDataChanged is deprecated, either call refreshView() to refresh everything, or call rowNode.setRowData(newData) to set value on a particular node"),this.redrawRows()},e.prototype.softRefreshView=function(){console.error("ag-Grid: since v16, softRefreshView() is no longer supported. Please check the documentation on how to refresh.")},e.prototype.refreshGroupRows=function(){console.warn("ag-Grid: since v11.1, refreshGroupRows() is no longer supported, call refreshCells() instead. Because refreshCells() now does dirty checking, it will only refresh cells that have changed, so it should not be necessary to only refresh the group rows."),this.refreshCells()},e.prototype.setFunctionsReadOnly=function(e){this.gridOptionsWrapper.setProperty("functionsReadOnly",e)},e.prototype.refreshHeader=function(){this.headerRootComp.refreshHeader(),this.gridPanel.setHeaderAndFloatingHeights()},e.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},e.prototype.isAdvancedFilterPresent=function(){return console.warn("ag-Grid: isAdvancedFilterPresent() is deprecated, please use isColumnFilterPresent()"),this.isColumnFilterPresent()},e.prototype.isColumnFilterPresent=function(){return this.filterManager.isAdvancedFilterPresent()},e.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},e.prototype.getModel=function(){return this.rowModel},e.prototype.setRowNodeExpanded=function(e,t){e&&e.setExpanded(t)},e.prototype.onGroupExpandedOrCollapsed=function(e){et.missing(this.clientSideRowModel)&&console.warn("ag-Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),et.exists(e)&&console.warn("ag-Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:Ue.STEP_MAP})},e.prototype.refreshInMemoryRowModel=function(e){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(e)},e.prototype.refreshClientSideRowModel=function(e){et.missing(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var t=Ue.STEP_EVERYTHING,o={group:Ue.STEP_EVERYTHING,filter:Ue.STEP_FILTER,map:Ue.STEP_MAP,aggregate:Ue.STEP_AGGREGATE,sort:Ue.STEP_SORT,pivot:Ue.STEP_PIVOT};et.exists(e)&&(t=o[e]),et.missing(t)?console.error("ag-Grid: invalid step "+e+", available steps are "+Object.keys(o).join(", ")):this.clientSideRowModel.refreshModel({step:t,keepRenderedRows:!0,animate:!0,keepEditingRows:!0})},e.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},e.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},e.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},e.prototype.expandAll=function(){et.missing(this.clientSideRowModel)?console.warn("ag-Grid: cannot call expandAll unless using normal row model"):this.clientSideRowModel.expandOrCollapseAll(!0)},e.prototype.collapseAll=function(){et.missing(this.clientSideRowModel)?console.warn("ag-Grid: cannot call collapseAll unless using normal row model"):this.clientSideRowModel.expandOrCollapseAll(!1)},e.prototype.getToolPanelInstance=function(e){return this.gridCore.getToolPanelInstance(e)},e.prototype.addVirtualRowListener=function(e,t,o){"string"!=typeof e&&console.warn("ag-Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(e,t,o)},e.prototype.addRenderedRowListener=function(e,t,o){"virtualRowSelected"===e&&console.warn("ag-Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(e,t,o)},e.prototype.setQuickFilter=function(e){this.filterManager.setQuickFilter(e)},e.prototype.selectIndex=function(e,t,o){console.warn("ag-Grid: do not use api for selection, call node.setSelected(value) instead"),o&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionController.selectIndex(e,t)},e.prototype.deselectIndex=function(e,t){void 0===t&&(t=!1),console.warn("ag-Grid: do not use api for selection, call node.setSelected(value) instead"),t&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionController.deselectIndex(e)},e.prototype.selectNode=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1),console.warn("ag-Grid: API for selection is deprecated, call node.setSelected(value) instead"),o&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),e.setSelectedParams({newValue:!0,clearSelection:!t})},e.prototype.deselectNode=function(e,t){void 0===t&&(t=!1),console.warn("ag-Grid: API for selection is deprecated, call node.setSelected(value) instead"),t&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),e.setSelectedParams({newValue:!1})},e.prototype.selectAll=function(){this.selectionController.selectAllRowNodes()},e.prototype.deselectAll=function(){this.selectionController.deselectAllRowNodes()},e.prototype.selectAllFiltered=function(){this.selectionController.selectAllRowNodes(!0)},e.prototype.deselectAllFiltered=function(){this.selectionController.deselectAllRowNodes(!0)},e.prototype.recomputeAggregates=function(){et.missing(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:Ue.STEP_AGGREGATE})},e.prototype.sizeColumnsToFit=function(){this.gridPanel.sizeColumnsToFit()},e.prototype.showLoadingOverlay=function(){this.gridPanel.showLoadingOverlay()},e.prototype.showNoRowsOverlay=function(){this.gridPanel.showNoRowsOverlay()},e.prototype.hideOverlay=function(){this.gridPanel.hideOverlay()},e.prototype.isNodeSelected=function(e){return console.warn("ag-Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),e.isSelected()},e.prototype.getSelectedNodesById=function(){return console.error("ag-Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},e.prototype.getSelectedNodes=function(){return this.selectionController.getSelectedNodes()},e.prototype.getSelectedRows=function(){return this.selectionController.getSelectedRows()},e.prototype.getBestCostNodeSelection=function(){return this.selectionController.getBestCostNodeSelection()},e.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},e.prototype.ensureColIndexVisible=function(e){console.warn("ag-Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},e.prototype.ensureColumnVisible=function(e){this.gridPanel.ensureColumnVisible(e)},e.prototype.ensureIndexVisible=function(e,t){this.gridPanel.ensureIndexVisible(e,t)},e.prototype.ensureNodeVisible=function(e,t){this.gridCore.ensureNodeVisible(e,t)},e.prototype.forEachLeafNode=function(e){et.missing(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(e)},e.prototype.forEachNode=function(e){this.rowModel.forEachNode(e)},e.prototype.forEachNodeAfterFilter=function(e){et.missing(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(e)},e.prototype.forEachNodeAfterFilterAndSort=function(e){et.missing(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)},e.prototype.getFilterApiForColDef=function(e){return console.warn("ag-grid API method getFilterApiForColDef deprecated, use getFilterInstance instead"),this.getFilterInstance(e)},e.prototype.getFilterInstance=function(e,t){var o=this.columnController.getPrimaryColumn(e);if(o){var n=this.filterManager.getFilterComponent(o,"NO_UI"),i=n.resolveNow(null,function(e){return e});return t&&(i?setTimeout(t,0,i):n.then(t)),i}},e.prototype.getFilterApi=function(e){return console.warn("ag-Grid: getFilterApi is deprecated, use getFilterInstance instead"),this.getFilterInstance(e)},e.prototype.destroyFilter=function(e){var t=this.columnController.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"filterDestroyed")},e.prototype.getStatusPanel=function(e){if(this.statusBarService)return this.statusBarService.getStatusPanel(e)},e.prototype.getColumnDef=function(e){var t=this.columnController.getPrimaryColumn(e);return t?t.getColDef():null},e.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},e.prototype.onSortChanged=function(){this.sortController.onSortChanged()},e.prototype.setSortModel=function(e,t){void 0===t&&(t="api"),this.sortController.setSortModel(e,t)},e.prototype.getSortModel=function(){return this.sortController.getSortModel()},e.prototype.setFilterModel=function(e){this.filterManager.setFilterModel(e)},e.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},e.prototype.getFocusedCell=function(){return this.focusController.getFocusedCell()},e.prototype.clearFocusedCell=function(){return this.focusController.clearFocusedCell()},e.prototype.setFocusedCell=function(e,t,o){this.focusController.setFocusedCell(e,t,o,!0)},e.prototype.setSuppressRowDrag=function(e){this.gridOptionsWrapper.setProperty($t.PROP_SUPPRESS_ROW_DRAG,e)},e.prototype.setSuppressMoveWhenRowDragging=function(e){this.gridOptionsWrapper.setProperty($t.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,e)},e.prototype.setSuppressRowClickSelection=function(e){this.gridOptionsWrapper.setProperty($t.PROP_SUPPRESS_ROW_CLICK_SELECTION,e)},e.prototype.addRowDropZone=function(e){this.gridPanel.getRowDragFeature().addRowDropZone(e)},e.prototype.removeRowDropZone=function(e){var t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)},e.prototype.getRowDropZoneParams=function(e){return this.gridPanel.getRowDragFeature().getRowDropZone(e)},e.prototype.setHeaderHeight=function(e){this.gridOptionsWrapper.setProperty($t.PROP_HEADER_HEIGHT,e),this.doLayout()},e.prototype.setGridAutoHeight=function(e){console.warn("api.setGridAutoHeight(boolean) is deprecated, please use api.setDomLayout() instead"),this.setDomLayout(e?"autoHeight":"normal")},e.prototype.setDomLayout=function(e){this.gridOptionsWrapper.setProperty($t.PROP_DOM_LAYOUT,e)},e.prototype.setEnableCellTextSelection=function(e){this.gridPanel.setCellTextSelection(e)},e.prototype.setGroupHeaderHeight=function(e){this.gridOptionsWrapper.setProperty($t.PROP_GROUP_HEADER_HEIGHT,e),this.doLayout()},e.prototype.setFloatingFiltersHeight=function(e){this.gridOptionsWrapper.setProperty($t.PROP_FLOATING_FILTERS_HEIGHT,e),this.doLayout()},e.prototype.setPivotGroupHeaderHeight=function(e){this.gridOptionsWrapper.setProperty($t.PROP_PIVOT_GROUP_HEADER_HEIGHT,e),this.doLayout()},e.prototype.setPivotHeaderHeight=function(e){this.gridOptionsWrapper.setProperty($t.PROP_PIVOT_HEADER_HEIGHT,e),this.doLayout()},e.prototype.isSideBarVisible=function(){return this.gridCore.isSideBarVisible()},e.prototype.setSideBarVisible=function(e){this.gridCore.setSideBarVisible(e)},e.prototype.setSideBarPosition=function(e){this.gridCore.setSideBarPosition(e)},e.prototype.showToolPanel=function(e){console.warn("ag-grid: from v19 api.showToolPanel has been deprecated in favour of api.setSideBarVisible"),this.setSideBarVisible(e)},e.prototype.openToolPanel=function(e){this.gridCore.openToolPanel(e)},e.prototype.closeToolPanel=function(){this.gridCore.closeToolPanel()},e.prototype.getOpenedToolPanel=function(){return this.gridCore.getOpenedToolPanel()},e.prototype.getSideBar=function(){return this.gridCore.getSideBar()},e.prototype.setSideBar=function(e){return this.gridCore.setSideBar(e)},e.prototype.setSuppressClipboardPaste=function(e){this.gridOptionsWrapper.setProperty($t.PROP_SUPPRESS_CLIPBOARD_PASTE,e)},e.prototype.isToolPanelShowing=function(){return this.gridCore.isToolPanelShowing()},e.prototype.doLayout=function(){this.gridPanel.checkViewportAndScrolls()},e.prototype.resetRowHeights=function(){et.exists(this.clientSideRowModel)&&this.clientSideRowModel.resetRowHeights()},e.prototype.setGroupRemoveSingleChildren=function(e){this.gridOptionsWrapper.setProperty($t.PROP_GROUP_REMOVE_SINGLE_CHILDREN,e)},e.prototype.setGroupRemoveLowestSingleChildren=function(e){this.gridOptionsWrapper.setProperty($t.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,e)},e.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},e.prototype.getValue=function(e,t){var o=this.columnController.getPrimaryColumn(e);return et.missing(o)&&(o=this.columnController.getGridColumn(e)),et.missing(o)?null:this.valueService.getValue(o,t)},e.prototype.addEventListener=function(e,t){var o=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(e,t,o)},e.prototype.addGlobalListener=function(e){var t=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(e,t)},e.prototype.removeEventListener=function(e,t){var o=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(e,t,o)},e.prototype.removeGlobalListener=function(e){var t=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(e,t)},e.prototype.dispatchEvent=function(e){this.eventService.dispatchEvent(e)},e.prototype.destroy=function(){this.destroyCalled||(this.destroyCalled=!0,this.context.destroyBean(this.gridCore),this.context.destroy())},e.prototype.resetQuickFilter=function(){this.rowModel.forEachNode(function(e){return e.quickFilterAggregateText=null})},e.prototype.getRangeSelections=function(){return console.warn("ag-Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the ag-Grid documentation."),null},e.prototype.getCellRanges=function(){return this.rangeController?this.rangeController.getCellRanges():(console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),null)},e.prototype.camelCaseToHumanReadable=function(e){return et.camelCaseToHumanText(e)},e.prototype.addRangeSelection=function(e){console.warn("ag-Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},e.prototype.addCellRange=function(e){this.rangeController||console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),this.rangeController.addCellRange(e)},e.prototype.clearRangeSelection=function(){this.rangeController||console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),this.rangeController.removeAllCellRanges()},e.prototype.undoCellEditing=function(){this.undoRedoService.undo()},e.prototype.redoCellEditing=function(){this.undoRedoService.redo()},e.prototype.getChartModels=function(){if(bt.assertRegistered(t.ModuleNames.RangeSelectionModule,"api.getChartModels")&&bt.assertRegistered(t.ModuleNames.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},e.prototype.createRangeChart=function(e){if(bt.assertRegistered(t.ModuleNames.RangeSelectionModule,"api.createRangeChart")&&bt.assertRegistered(t.ModuleNames.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(e)},e.prototype.createPivotChart=function(e){if(bt.assertRegistered(t.ModuleNames.RangeSelectionModule,"api.createPivotChart")&&bt.assertRegistered(t.ModuleNames.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(e)},e.prototype.copySelectedRowsToClipboard=function(e,t){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(e,t)},e.prototype.copySelectedRangeToClipboard=function(e){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(e)},e.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copyRangeDown()},e.prototype.showColumnMenuAfterButtonClick=function(e,t){var o=this.columnController.getGridColumn(e);this.menuFactory.showMenuAfterButtonClick(o,t)},e.prototype.showColumnMenuAfterMouseClick=function(e,t){var o=this.columnController.getGridColumn(e);o||(o=this.columnController.getPrimaryColumn(e)),o?this.menuFactory.showMenuAfterMouseEvent(o,t):console.error("ag-Grid: column '"+e+"' not found")},e.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},e.prototype.setPopupParent=function(e){this.gridOptionsWrapper.setProperty($t.PROP_POPUP_PARENT,e)},e.prototype.tabToNextCell=function(){return this.rowRenderer.tabToNextCell(!1)},e.prototype.tabToPreviousCell=function(){return this.rowRenderer.tabToNextCell(!0)},e.prototype.getCellRendererInstances=function(e){return void 0===e&&(e={}),this.rowRenderer.getCellRendererInstances(e)},e.prototype.getCellEditorInstances=function(e){return void 0===e&&(e={}),this.rowRenderer.getCellEditorInstances(e)},e.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},e.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.rowRenderer.stopEditing(e)},e.prototype.startEditingCell=function(e){var t=this.columnController.getGridColumn(e.colKey);if(t){var o={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t};et.missing(e.rowPinned)&&this.gridPanel.ensureIndexVisible(e.rowIndex),this.rowRenderer.startEditingCell(o,e.keyPress,e.charPress)}else console.warn("ag-Grid: no column found for "+e.colKey)},e.prototype.addAggFunc=function(e,t){this.aggFuncService&&this.aggFuncService.addAggFunc(e,t)},e.prototype.addAggFuncs=function(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)},e.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},e.prototype.applyTransaction=function(e){var t=null;return this.clientSideRowModel?(e&&null!=e.addIndex&&et.doOnce(function(){return console.warn("ag-Grid: as of v23.1, transaction.addIndex is deprecated. If you want precision control of adding data, use immutableData instead")},"transaction.addIndex deprecated"),t=this.clientSideRowModel.updateRowData(e)):this.infiniteRowModel?(et.doOnce(function(){return console.warn("ag-Grid: as of v23.1, transactions for Infinite Row Model are deprecated. If you want to make updates to data in Infinite Row Models, then refresh the data.")},"applyTransaction infiniteRowModel deprecated"),this.infiniteRowModel.updateRowData(e)):console.error("ag-Grid: updateRowData() only works with ClientSideRowModel and InfiniteRowModel."),this.rowRenderer.refreshFullWidthRows(),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),t},e.prototype.updateRowData=function(e){return et.doOnce(function(){return console.warn("ag-Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.")},"updateRowData deprecated"),this.applyTransaction(e)},e.prototype.applyTransactionAsync=function(e,t){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(e,t):console.error("ag-Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},e.prototype.batchUpdateRowData=function(e,t){et.doOnce(function(){return console.warn("ag-Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.")},"batchUpdateRowData deprecated"),this.applyTransactionAsync(e,t)},e.prototype.insertItemsAtIndex=function(e,t,o){console.warn("ag-Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:t,addIndex:e,update:null,remove:null})},e.prototype.removeItems=function(e,t){console.warn("ag-Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var o=e.map(function(e){return e.data});this.updateRowData({add:null,addIndex:null,update:null,remove:o})},e.prototype.addItems=function(e,t){console.warn("ag-Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:e,addIndex:null,update:null,remove:null})},e.prototype.refreshVirtualPageCache=function(){console.warn("ag-Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},e.prototype.refreshInfinitePageCache=function(){console.warn("ag-Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},e.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("ag-Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},e.prototype.purgeVirtualPageCache=function(){console.warn("ag-Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},e.prototype.purgeInfinitePageCache=function(){console.warn("ag-Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},e.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("ag-Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},e.prototype.purgeEnterpriseCache=function(e){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(e)},e.prototype.purgeServerSideCache=function(e){this.serverSideRowModel?this.serverSideRowModel.purgeCache(e):console.warn("ag-Grid: api.purgeServerSideCache is only available when rowModelType='enterprise'.")},e.prototype.getVirtualRowCount=function(){return console.warn("ag-Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},e.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getVirtualRowCount();console.warn("ag-Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},e.prototype.isMaxRowFound=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isMaxRowFound();console.warn("ag-Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},e.prototype.setVirtualRowCount=function(e,t){console.warn("ag-Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setInfiniteRowCount(e,t)},e.prototype.setInfiniteRowCount=function(e,t){this.infiniteRowModel?this.infiniteRowModel.setVirtualRowCount(e,t):console.warn("ag-Grid: api.setVirtualRowCount is only available when rowModelType='virtual'.")},e.prototype.getVirtualPageState=function(){return console.warn("ag-Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},e.prototype.getInfinitePageState=function(){return console.warn("ag-Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},e.prototype.getCacheBlockState=function(){return this.infiniteRowModel?this.infiniteRowModel.getBlockState():this.serverSideRowModel?this.serverSideRowModel.getBlockState():void console.warn("ag-Grid: api.getCacheBlockState() is only available when rowModelType='infinite' or rowModelType='serverSide'.")},e.prototype.checkGridSize=function(){this.gridPanel.setHeaderAndFloatingHeights()},e.prototype.getFirstRenderedRow=function(){return console.warn("in ag-Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},e.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},e.prototype.getLastRenderedRow=function(){return console.warn("in ag-Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},e.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},e.prototype.getDisplayedRowAtIndex=function(e){return this.rowModel.getRow(e)},e.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},e.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},e.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},e.prototype.paginationSetPageSize=function(e){this.gridOptionsWrapper.setProperty("paginationPageSize",e)},e.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},e.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},e.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},e.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},e.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},e.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},e.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},e.prototype.paginationGoToPage=function(e){this.paginationProxy.goToPage(e)},is([pt("immutableService")],e.prototype,"immutableService",void 0),is([pt("csvCreator")],e.prototype,"csvCreator",void 0),is([pt("excelCreator")],e.prototype,"excelCreator",void 0),is([ct("rowRenderer")],e.prototype,"rowRenderer",void 0),is([ct("filterManager")],e.prototype,"filterManager",void 0),is([ct("columnController")],e.prototype,"columnController",void 0),is([ct("selectionController")],e.prototype,"selectionController",void 0),is([ct("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),is([ct("valueService")],e.prototype,"valueService",void 0),is([ct("alignedGridsService")],e.prototype,"alignedGridsService",void 0),is([ct("eventService")],e.prototype,"eventService",void 0),is([ct("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),is([ct("context")],e.prototype,"context",void 0),is([ct("rowModel")],e.prototype,"rowModel",void 0),is([ct("sortController")],e.prototype,"sortController",void 0),is([ct("paginationProxy")],e.prototype,"paginationProxy",void 0),is([ct("focusController")],e.prototype,"focusController",void 0),is([ct("dragAndDropService")],e.prototype,"dragAndDropService",void 0),is([pt("rangeController")],e.prototype,"rangeController",void 0),is([pt("clipboardService")],e.prototype,"clipboardService",void 0),is([pt("aggFuncService")],e.prototype,"aggFuncService",void 0),is([ct("menuFactory")],e.prototype,"menuFactory",void 0),is([pt("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),is([ct("cellRendererFactory")],e.prototype,"cellRendererFactory",void 0),is([ct("valueCache")],e.prototype,"valueCache",void 0),is([ct("animationFrameService")],e.prototype,"animationFrameService",void 0),is([pt("statusBarService")],e.prototype,"statusBarService",void 0),is([pt("chartService")],e.prototype,"chartService",void 0),is([pt("undoRedoService")],e.prototype,"undoRedoService",void 0),is([at],e.prototype,"init",null),is([ut("gridApi")],e)}(),ss=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),as=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ls=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.expressionToFunctionCache={},t}return ss(t,e),t.prototype.setBeans=function(e){this.logger=e.create("ExpressionService")},t.prototype.evaluate=function(e,t){return"function"==typeof e?e(t):"string"==typeof e?this.evaluateExpression(e,t):void console.error("ag-Grid: value should be either a string or a function",e)},t.prototype.evaluateExpression=function(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.columnApi,t.getValue,t.column,t.columnGroup)}catch(o){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",t),console.log("Exception = "+o),null}},t.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var t=this.createFunctionBody(e),o=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=o,o},t.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},as([(0,o=ht("loggerFactory"),function(e,t){o(e,t,0)})],t.prototype,"setBeans",null),as([ut("expressionService")],t);var o}(Dt),us=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),cs=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ps=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.templateCache={},t.waitingCallbacks={},t}return us(t,e),t.prototype.getTemplate=function(e,t){var o=this.templateCache[e];if(o)return o;var n=this.waitingCallbacks[e],i=this;if(!n){this.waitingCallbacks[e]=n=[];var r=new XMLHttpRequest;r.onload=function(){i.handleHttpResult(this,e)},r.open("GET",e),r.send()}return t&&n.push(t),null},t.prototype.handleHttpResult=function(e,t){if(200===e.status&&null!==e.response){this.templateCache[t]=e.response||e.responseText;for(var o=this.waitingCallbacks[t],n=0;n<o.length;n++)(0,o[n])();if(this.$scope){var i=this;window.setTimeout(function(){i.$scope.$apply()},0)}}else console.warn("Unable to get template error "+e.status+" - "+t)},cs([ct("$scope")],t.prototype,"$scope",void 0),cs([ut("templateService")],t)}(Dt),ds=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),hs=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},fs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.popupList=[],t}return ds(t,e),t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,Ft.EVENT_KEYBOARD_FOCUS,function(){e.popupList.forEach(function(e){et.addCssClass(e.element,"ag-keyboard-focus")})}),this.addManagedListener(this.eventService,Ft.EVENT_MOUSE_FOCUS,function(){e.popupList.forEach(function(e){et.removeCssClass(e.element,"ag-keyboard-focus")})})},t.prototype.registerGridCore=function(e){this.gridCore=e},t.prototype.getPopupParent=function(){return this.gridOptionsWrapper.getPopupParent()||this.gridCore.getRootGui()},t.prototype.positionPopupForMenu=function(e){var t=e.eventSource.getBoundingClientRect(),o=this.getParentRect(),n=this.keepYWithinBounds(e,t.top-o.top),i=e.ePopup.clientWidth>0?e.ePopup.clientWidth:200;e.ePopup.style.minWidth=i+"px";var r,s=o.right-o.left-i;function a(){return t.right-o.left-2}function l(){return t.left-o.left-i}this.gridOptionsWrapper.isEnableRtl()?((r=l())<0&&(r=a()),r>s&&(r=0)):((r=a())>s&&(r=l()),r<0&&(r=0)),e.ePopup.style.left=r+"px",e.ePopup.style.top=n+"px"},t.prototype.positionPopupUnderMouseEvent=function(e){var t=this.calculatePointerAlign(e.mouseEvent);this.positionPopup({ePopup:e.ePopup,x:t.x,y:t.y,nudgeX:e.nudgeX,nudgeY:e.nudgeY,keepWithinBounds:!0}),this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)},t.prototype.calculatePointerAlign=function(e){var t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}},t.prototype.positionPopupUnderComponent=function(e){var t=e.eventSource.getBoundingClientRect(),o=e.alignSide||"left",n=this.getParentRect(),i=t.left-n.left;"right"===o&&(i-=e.ePopup.offsetWidth-t.width),this.positionPopup({ePopup:e.ePopup,minWidth:e.minWidth,minHeight:e.minHeight,nudgeX:e.nudgeX,nudgeY:e.nudgeY,x:i,y:t.top-n.top+t.height,keepWithinBounds:e.keepWithinBounds}),this.callPostProcessPopup(e.type,e.ePopup,e.eventSource,null,e.column,e.rowNode)},t.prototype.positionPopupOverComponent=function(e){var t=e.eventSource.getBoundingClientRect(),o=this.getParentRect();this.positionPopup({ePopup:e.ePopup,minWidth:e.minWidth,nudgeX:e.nudgeX,nudgeY:e.nudgeY,x:t.left-o.left,y:t.top-o.top,keepWithinBounds:e.keepWithinBounds}),this.callPostProcessPopup(e.type,e.ePopup,e.eventSource,null,e.column,e.rowNode)},t.prototype.callPostProcessPopup=function(e,t,o,n,i,r){var s=this.gridOptionsWrapper.getPostProcessPopupFunc();s&&s({column:i,rowNode:r,ePopup:t,type:e,eventSource:o,mouseEvent:n})},t.prototype.positionPopup=function(e){var t=e.x,o=e.y;e.nudgeX&&(t+=e.nudgeX),e.nudgeY&&(o+=e.nudgeY),e.keepWithinBounds&&(t=this.keepXWithinBounds(e,t),o=this.keepYWithinBounds(e,o)),e.ePopup.style.left=t+"px",e.ePopup.style.top=o+"px"},t.prototype.getActivePopups=function(){return this.popupList.map(function(e){return e.element})},t.prototype.getParentRect=function(){var e=this.getPopupParent(),t=this.gridOptionsWrapper.getDocument();e===t.body&&(e=t.documentElement);var o=getComputedStyle(e),n=e.getBoundingClientRect();return{top:n.top+parseFloat(o.borderTopWidth)||0,left:n.left+parseFloat(o.borderLeftWidth)||0,right:n.right+parseFloat(o.borderRightWidth)||0,bottom:n.bottom+parseFloat(o.borderBottomWidth)||0}},t.prototype.keepYWithinBounds=function(e,t){var o=this.gridOptionsWrapper.getDocument(),n=o.documentElement,i=this.getPopupParent(),r=i.getBoundingClientRect(),s=o.documentElement.getBoundingClientRect(),a=i===o.body,l=Math.min(200,r.height),u=0;e.minHeight&&e.minHeight<l?l=e.minHeight:e.ePopup.offsetHeight>0&&(l=e.ePopup.clientHeight,u=et.getAbsoluteHeight(e.ePopup)-l);var c=a?et.getAbsoluteHeight(n)+n.scrollTop:r.height;a&&(c-=Math.abs(s.top-r.top));var p=c-l-u;return Math.min(Math.max(t,0),Math.abs(p))},t.prototype.keepXWithinBounds=function(e,t){var o=this.gridOptionsWrapper.getDocument(),n=o.documentElement,i=this.getPopupParent(),r=i.getBoundingClientRect(),s=o.documentElement.getBoundingClientRect(),a=i===o.body,l=e.ePopup,u=Math.min(200,r.width),c=0;e.minWidth&&e.minWidth<u?u=e.minWidth:l.offsetWidth>0&&(l.style.minWidth=(u=l.offsetWidth)+"px",c=et.getAbsoluteWidth(l)-u);var p=a?et.getAbsoluteWidth(n)+n.scrollLeft:r.width;a&&(p-=Math.abs(s.left-r.left));var d=p-u-c;return Math.min(Math.max(t,0),Math.abs(d))},t.prototype.addAsModalPopup=function(e,t,o,n){return this.addPopup(!0,e,t,o,n)},t.prototype.addPopup=function(e,t,o,n,i,r){var s=this,a=this.gridOptionsWrapper.getDocument();if(!a)return console.warn("ag-grid: could not find the document, document is empty"),function(){};var l=et.findIndex(this.popupList,function(e){return e.element===t});if(-1!==l)return this.popupList[l].hideFunc;var u=this.getPopupParent();u.appendChild(t),t.style.top="0px",t.style.left="0px";var c=document.createElement("div"),p=this.environment.getTheme().theme;p&&et.addCssClass(c,p),et.addCssClass(c,"ag-popup"),et.addCssClass(t,this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr"),et.addCssClass(t,"ag-popup-child"),c.appendChild(t),u.appendChild(c),r?this.setAlwaysOnTop(c,!0):this.bringPopupToFront(c);var d=!1,h=function(e){var t=e.which||e.keyCode;if(c.contains(document.activeElement))switch(t){case Ue.KEY_ESCAPE:m({keyboardEvent:e})}},f=function(e){m({mouseEvent:e})},g=function(e){m({touchEvent:e})},m=function(e){void 0===e&&(e={});var o=e.mouseEvent,r=e.touchEvent,l=e.keyboardEvent;s.isEventFromCurrentPopup({mouseEvent:o,touchEvent:r},t)||s.isEventSameChainAsOriginalEvent({originalMouseEvent:i,mouseEvent:o,touchEvent:r})||d||(d=!0,u.removeChild(c),a.removeEventListener("keydown",h),a.removeEventListener("mousedown",f),a.removeEventListener("touchstart",g),a.removeEventListener("contextmenu",f),s.eventService.removeEventListener(Ft.EVENT_DRAG_STARTED,f),n&&n(o||r||l),s.popupList=s.popupList.filter(function(e){return e.element!==t}))};return window.setTimeout(function(){o&&a.addEventListener("keydown",h),e&&(a.addEventListener("mousedown",f),s.eventService.addEventListener(Ft.EVENT_DRAG_STARTED,f),a.addEventListener("touchstart",g),a.addEventListener("contextmenu",f))},0),this.popupList.push({element:t,hideFunc:m}),m},t.prototype.isEventFromCurrentPopup=function(e,t){var o=e.mouseEvent||e.touchEvent;if(!o)return!1;var n=et.findIndex(this.popupList,function(e){return e.element===t});if(-1===n)return!1;for(var i=n;i<this.popupList.length;i++)if(et.isElementInEventPath(this.popupList[i].element,o))return!0;return this.isElementWithinCustomPopup(o.target)},t.prototype.isElementWithinCustomPopup=function(e){if(!this.popupList.length)return!1;for(;e&&e!==document.body;){if(e.classList.contains("ag-custom-component-popup")||null===e.parentElement)return!0;e=e.parentElement}return!1},t.prototype.isEventSameChainAsOriginalEvent=function(e){var t=e.originalMouseEvent,o=e.mouseEvent,n=e.touchEvent,i=null;if(o?i=o:n&&(i=n.touches[0]),i&&t){var r=o?o.screenY:0,s=Math.abs(t.screenX-(o?o.screenX:0))<5,a=Math.abs(t.screenY-r)<5;if(s&&a)return!0}return!1},t.prototype.getWrapper=function(e){for(;!et.containsClass(e,"ag-popup")&&e.parentElement;)e=e.parentElement;return et.containsClass(e,"ag-popup")?e:null},t.prototype.setAlwaysOnTop=function(e,t){var o=this.getWrapper(e);o&&(et.addOrRemoveCssClass(o,"ag-always-on-top",!!t),t&&this.bringPopupToFront(o))},t.prototype.bringPopupToFront=function(e){var t=this.getPopupParent(),o=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=o.length,i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),r=i.length,s=this.getWrapper(e);if(s&&!(n<=1)&&t.contains(e)){var a=o.indexOf(s);r?et.containsClass(s,"ag-always-on-top")?a!==n-1&&et.last(i).insertAdjacentElement("afterend",s):a!==n-r-1&&i[0].insertAdjacentElement("beforebegin",s):a!==n-1&&et.last(o).insertAdjacentElement("afterend",s);var l={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:s};this.eventService.dispatchEvent(l)}},hs([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),hs([ct("environment")],t.prototype,"environment",void 0),hs([at],t.prototype,"init",null),hs([ut("popupService")],t)}(Dt),gs=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ms=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ys=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gs(t,e),t.prototype.setBeans=function(e){this.logging=e.isDebug()},t.prototype.create=function(e){return new vs(e,this.isLogging.bind(this))},t.prototype.isLogging=function(){return this.logging},ms([(0,o=ht("gridOptionsWrapper"),function(e,t){o(e,t,0)})],t.prototype,"setBeans",null),ms([ut("loggerFactory")],t);var o}(Dt),vs=function(){function e(e,t){this.name=e,this.isLoggingFunc=t}return e.prototype.isLogging=function(){return this.isLoggingFunc()},e.prototype.log=function(e){this.isLoggingFunc()&&console.log("ag-Grid."+this.name+": "+e)},e}(),Cs=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),bs=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ws=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cs(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.registerHeaderRootComp=function(e){this.headerRootComp=e},t.prototype.getPreferredWidthForColumn=function(e,t){var o=this.getHeaderCellForColumn(e);if(!o)return-1;var n=document.createElement("span");n.style.position="fixed";var i=this.gridPanel.getCenterContainer();i.appendChild(n),this.putRowCellsIntoDummyContainer(e,n),t||this.cloneItemIntoDummy(o,n);var r=n.offsetWidth;return i.removeChild(n),r+this.gridOptionsWrapper.getAutoSizePadding()},t.prototype.getHeaderCellForColumn=function(e){var t=null;return this.headerRootComp.forEachHeaderElement(function(o){if(o instanceof cr){var n=o;n.getColumn()===e&&(t=n)}}),t?t.getGui():null},t.prototype.putRowCellsIntoDummyContainer=function(e,t){var o=this;this.rowRenderer.getAllCellsForColumn(e).forEach(function(e){return o.cloneItemIntoDummy(e,t)})},t.prototype.cloneItemIntoDummy=function(e,t){var o=e.cloneNode(!0);o.style.width="",o.style.position="static",o.style.left="";var n=document.createElement("div");et.containsClass(o,"ag-header-cell")&&(et.addCssClass(n,"ag-header"),et.addCssClass(n,"ag-header-row"),n.style.position="static"),n.style.display="table-row",n.appendChild(o),t.appendChild(n)},bs([ct("rowRenderer")],t.prototype,"rowRenderer",void 0),bs([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),bs([ut("autoWidthCalculator")],t)}(Dt),Es=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Rs=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},_s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Es(t,e),t.prototype.addResizeBar=function(e){var t=this,o={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e)};return this.dragService.addDragSource(o,!0),function(){return t.dragService.removeDragSource(o)}},t.prototype.onDragStart=function(e,t){this.dragStartX=t.clientX,this.setResizeIcons();var o=t instanceof MouseEvent&&!0===t.shiftKey;e.onResizeStart(o)},t.prototype.setResizeIcons=function(){this.oldBodyCursor=this.eGridDiv.style.cursor,this.oldMsUserSelect=this.eGridDiv.style.msUserSelect,this.oldWebkitUserSelect=this.eGridDiv.style.webkitUserSelect,this.eGridDiv.style.cursor="ew-resize",this.eGridDiv.style.msUserSelect="none",this.eGridDiv.style.webkitUserSelect="none"},t.prototype.onDragStop=function(e,t){e.onResizeEnd(this.resizeAmount),this.resetIcons()},t.prototype.resetIcons=function(){this.eGridDiv.style.cursor=this.oldBodyCursor,this.eGridDiv.style.msUserSelect=this.oldMsUserSelect,this.eGridDiv.style.webkitUserSelect=this.oldWebkitUserSelect},t.prototype.onDragging=function(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)},Rs([ct("dragService")],t.prototype,"dragService",void 0),Rs([ct("eGridDiv")],t.prototype,"eGridDiv",void 0),Rs([ut("horizontalResizeService")],t)}(Dt),Ss=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Os=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ds=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return Ss(o,e),o.prototype.postConstruct=function(){var o=this;this.logger=this.loggerFactory.create("GridCore");var n=this.createTemplate();if(this.setTemplate(n),[this.gridApi,this.rowRenderer,this.popupService,this.focusController].forEach(function(e){return e.registerGridCore(o)}),bt.isRegistered(t.ModuleNames.ClipboardModule)&&this.clipboardService.registerGridCore(this),this.gridOptionsWrapper.addLayoutElement(this.getGui()),this.eGridDiv.appendChild(this.getGui()),this.addDestroyFunc(function(){o.eGridDiv.removeChild(o.getGui())}),this.$scope){var i=this.$scope.$watch(this.quickFilterOnScope,function(e){return o.filterManager.setQuickFilter(e)});this.addDestroyFunc(i)}this.addRtlSupport(),this.logger.log("ready"),this.gridOptionsWrapper.addLayoutElement(this.eRootWrapperBody);var r=this.resizeObserverService.observeResize(this.eGridDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return r()});var s=this.getGui();this.addManagedListener(this.eventService,Ft.EVENT_KEYBOARD_FOCUS,function(){et.addCssClass(s,"ag-keyboard-focus")}),this.addManagedListener(this.eventService,Ft.EVENT_MOUSE_FOCUS,function(){et.removeCssClass(s,"ag-keyboard-focus")}),e.prototype.postConstruct.call(this)},o.prototype.getFocusableElement=function(){return this.eRootWrapperBody},o.prototype.createTemplate=function(){var e=bt.isRegistered(t.ModuleNames.SideBarModule),o=bt.isRegistered(t.ModuleNames.StatusBarModule);return'<div ref="eRootWrapper" class="ag-root-wrapper">\n                '+(bt.isRegistered(t.ModuleNames.RowGroupingModule)?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody">\n                    <ag-grid-comp ref="gridPanel"></ag-grid-comp>\n                    '+(e?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(o?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(bt.isRegistered(t.ModuleNames.EnterpriseCoreModule)?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},o.prototype.isFocusableContainer=function(){return!0},o.prototype.getFocusableContainers=function(){var e=[this.gridPanel.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(function(e){return et.isVisible(e)})},o.prototype.focusNextInnerContainer=function(e){var t=this.getFocusableContainers(),o=et.findIndex(t,function(e){return e.contains(document.activeElement)})+(e?-1:1);return!(o<0||o>=t.length)&&(0===o?this.focusGridHeader():this.focusController.focusFirstFocusableElement(t[o]))},o.prototype.focusInnerElement=function(e){var t=this.getFocusableContainers();return e&&t.length>1?this.focusController.focusFirstFocusableElement(et.last(t)):this.focusGridHeader()},o.prototype.focusGridHeader=function(){var e=this.columnController.getAllDisplayedColumns()[0];return!!e&&(e.getParent()&&(e=this.columnController.getColumnGroupAtLevel(e,0)),this.focusController.focusHeaderPosition({headerRowIndex:0,column:e}),!0)},o.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:Ft.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridDiv.clientWidth,clientHeight:this.eGridDiv.clientHeight})},o.prototype.addRtlSupport=function(){var e=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";et.addCssClass(this.getGui(),e)},o.prototype.getRootGui=function(){return this.getGui()},o.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},o.prototype.setSideBarVisible=function(e){this.sideBarComp?this.sideBarComp.setDisplayed(e):e&&console.warn("ag-Grid: sideBar is not loaded")},o.prototype.setSideBarPosition=function(e){this.sideBarComp?this.sideBarComp.setSideBarPosition(e):console.warn("ag-Grid: sideBar is not loaded")},o.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise")},o.prototype.getSideBar=function(){return this.gridOptions.sideBar},o.prototype.getToolPanelInstance=function(e){if(this.sideBarComp)return this.sideBarComp.getToolPanelInstance(e);console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise")},o.prototype.refreshSideBar=function(){this.sideBarComp&&this.sideBarComp.refresh()},o.prototype.setSideBar=function(e){this.sideBarComp&&(this.eRootWrapperBody.removeChild(this.sideBarComp.getGui()),this.gridOptions.sideBar=Ut.parse(e),this.sideBarComp.reset(),this.eRootWrapperBody.appendChild(this.sideBarComp.getGui()))},o.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},o.prototype.openToolPanel=function(e){this.sideBarComp?this.sideBarComp.openToolPanel(e):console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise")},o.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},o.prototype.destroy=function(){this.logger.log("Grid DOM removed"),e.prototype.destroy.call(this)},o.prototype.ensureNodeVisible=function(e,t){if(void 0===t&&(t=null),this.doingVirtualPaging)throw new Error("Cannot use ensureNodeVisible when doing virtual paging, as we cannot check rows that are not in memory");for(var o=this.rowModel.getRowCount(),n="function"==typeof e,i=-1,r=0;r<o;r++){var s=this.rowModel.getRow(r);if(n){if(e(s)){i=r;break}}else if(e===s||e===s.data){i=r;break}}i>=0&&this.gridPanel.ensureIndexVisible(i,t)},Os([ct("gridOptions")],o.prototype,"gridOptions",void 0),Os([ct("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),Os([ct("rowModel")],o.prototype,"rowModel",void 0),Os([ct("resizeObserverService")],o.prototype,"resizeObserverService",void 0),Os([ct("rowRenderer")],o.prototype,"rowRenderer",void 0),Os([ct("filterManager")],o.prototype,"filterManager",void 0),Os([ct("eGridDiv")],o.prototype,"eGridDiv",void 0),Os([ct("$scope")],o.prototype,"$scope",void 0),Os([ct("quickFilterOnScope")],o.prototype,"quickFilterOnScope",void 0),Os([ct("popupService")],o.prototype,"popupService",void 0),Os([ct("columnController")],o.prototype,"columnController",void 0),Os([ct("loggerFactory")],o.prototype,"loggerFactory",void 0),Os([ct("columnApi")],o.prototype,"columnApi",void 0),Os([ct("gridApi")],o.prototype,"gridApi",void 0),Os([pt("clipboardService")],o.prototype,"clipboardService",void 0),Os([ro("gridPanel")],o.prototype,"gridPanel",void 0),Os([ro("sideBar")],o.prototype,"sideBarComp",void 0),Os([ro("rootWrapperBody")],o.prototype,"eRootWrapperBody",void 0),o}(rr),Ps=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ts=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},As=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ps(t,e),t.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},t.prototype.showMenuAfterMouseEvent=function(e,t){var o=this;this.showPopup(e,function(n){o.popupService.positionPopupUnderMouseEvent({column:e,type:"columnMenu",mouseEvent:t,ePopup:n})},t.target)},t.prototype.showMenuAfterButtonClick=function(e,t){var o=this;this.showPopup(e,function(n){o.popupService.positionPopupUnderComponent({type:"columnMenu",eventSource:t,ePopup:n,keepWithinBounds:!0,column:e})},t)},t.prototype.showPopup=function(e,t,o){var n,i=this,r=this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU"),s=document.createElement("div");et.addCssClass(s,"ag-menu"),this.tabListener=this.addManagedListener(s,"keydown",function(e){return i.trapFocusWithin(e,s)}),r.guiPromise.then(function(e){return s.appendChild(e)});var a=function(e){"horizontal"===e.direction&&n()};this.eventService.addEventListener("bodyScroll",a),n=this.popupService.addAsModalPopup(s,!0,function(t){i.eventService.removeEventListener("bodyScroll",a),e.setMenuVisible(!1,"contextMenu");var n=t instanceof KeyboardEvent;if(i.tabListener&&(i.tabListener=i.tabListener()),n&&o&&et.isVisible(o)){var r=i.focusController.findTabbableParent(o);r&&r.focus()}}),t(s),r.filterPromise.then(function(e){e.afterGuiAttached&&e.afterGuiAttached({hidePopup:n})}),this.hidePopup=n,e.setMenuVisible(!0,"contextMenu")},t.prototype.trapFocusWithin=function(e,t){e.keyCode===Ue.KEY_TAB&&(this.focusController.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),e.shiftKey?this.focusController.focusLastFocusableElement(t):this.focusController.focusFirstFocusableElement(t)))},t.prototype.isMenuEnabled=function(e){return e.isFilterAllowed()},Ts([ct("filterManager")],t.prototype,"filterManager",void 0),Ts([ct("popupService")],t.prototype,"popupService",void 0),Ts([ct("focusController")],t.prototype,"focusController",void 0),Ts([ut("menuFactory")],t)}(Dt),Fs=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ns=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},xs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dragEndFunctions=[],t.dragSources=[],t}return Fs(t,e),t.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},t.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},t.prototype.removeListener=function(e){var t=e.dragSource.eElement;t.removeEventListener("mousedown",e.mouseDownListener),e.touchEnabled&&t.removeEventListener("touchstart",e.touchStartListener,{passive:!0})},t.prototype.removeDragSource=function(e){var t=et.find(this.dragSources,function(t){return t.dragSource===e});t&&(this.removeListener(t),et.removeFromArray(this.dragSources,t))},t.prototype.setNoSelectToBody=function(e){var t=this.gridOptionsWrapper.getDocument().querySelector("body");et.exists(t)&&et.addOrRemoveCssClass(t,"ag-unselectable",e)},t.prototype.addDragSource=function(e,t){void 0===t&&(t=!1);var o=this.onMouseDown.bind(this,e);e.eElement.addEventListener("mousedown",o);var n=null,i=this.gridOptionsWrapper.isSuppressTouch();t&&!i&&(n=this.onTouchStart.bind(this,e),e.eElement.addEventListener("touchstart",n,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:o,touchStartListener:n,touchEnabled:t})},t.prototype.onTouchStart=function(e,t){var o=this;this.currentDragParams=e,this.dragging=!1;var n=t.touches[0];this.touchLastTime=n,this.touchStart=n,t.cancelable&&t.preventDefault();var i=function(t){return o.onTouchUp(t,e.eElement)},r=e.eElement;this.addTemporaryEvents([{target:r,type:"touchmove",listener:function(t){return o.onTouchMove(t,e.eElement)},options:{passive:!0}},{target:r,type:"touchend",listener:i,options:{passive:!0}},{target:r,type:"touchcancel",listener:i,options:{passive:!0}}]),0===e.dragStartPixels&&this.onCommonMove(n,this.touchStart,e.eElement)},t.prototype.onMouseDown=function(e,t){var o=this,n=t;if(!(e.skipMouseEvent&&e.skipMouseEvent(t)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,0!==t.button))){this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t;var i=this.gridOptionsWrapper.getDocument();this.setNoSelectToBody(!0),this.addTemporaryEvents([{target:i,type:"mousemove",listener:function(t,n){return o.onMouseMove(t,e.eElement)}},{target:i,type:"mouseup",listener:function(t,n){return o.onMouseUp(t,e.eElement)}},{target:i,type:"contextmenu",listener:function(e){return e.preventDefault()}}]),0===e.dragStartPixels&&this.onMouseMove(t,e.eElement)}},t.prototype.addTemporaryEvents=function(e){e.forEach(function(e){e.target.addEventListener(e.type,e.listener,e.options)}),this.dragEndFunctions.push(function(){e.forEach(function(e){e.target.removeEventListener(e.type,e.listener,e.options)})})},t.prototype.isEventNearStartEvent=function(e,t){var o=this.currentDragParams.dragStartPixels,n=et.exists(o)?o:4;return et.areEventsNear(e,t,n)},t.prototype.getFirstActiveTouch=function(e){for(var t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null},t.prototype.onCommonMove=function(e,t,o){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,t))return;this.dragging=!0,this.eventService.dispatchEvent({type:Ft.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi,target:o}),this.currentDragParams.onDragStart(t)}this.currentDragParams.onDragging(e)},t.prototype.onTouchMove=function(e,t){var o=this.getFirstActiveTouch(e.touches);o&&this.onCommonMove(o,this.touchStart,t)},t.prototype.onMouseMove=function(e,t){this.onCommonMove(e,this.mouseStartEvent,t)},t.prototype.onTouchUp=function(e,t){var o=this.getFirstActiveTouch(e.changedTouches);o||(o=this.touchLastTime),this.onUpCommon(o,t)},t.prototype.onMouseUp=function(e,t){this.onUpCommon(e,t)},t.prototype.onUpCommon=function(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:Ft.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi,target:t})),this.setNoSelectToBody(!1),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(e){return e()}),this.dragEndFunctions.length=0},Ns([ct("loggerFactory")],t.prototype,"loggerFactory",void 0),Ns([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ns([ct("columnApi")],t.prototype,"columnApi",void 0),Ns([ct("gridApi")],t.prototype,"gridApi",void 0),Ns([at],t.prototype,"init",null),Ns([lt],t.prototype,"removeAllListeners",null),Ns([ut("dragService")],t)}(Dt),Is=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ms=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ls=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getSortModel=function(){return t.getColumnsWithSortingOrdered().map(function(e){return{colId:e.getColId(),sort:e.getSort()}})},t}var o;return Is(t,e),o=t,t.prototype.progressSort=function(e,t,o){void 0===o&&(o="api");var n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,o)},t.prototype.setSortForColumn=function(e,t,o,n){if(void 0===n&&(n="api"),t!==Ue.SORT_ASC&&t!==Ue.SORT_DESC&&(t=null),e.setSort(t,n),e.getSort()){var i=Number((new Date).valueOf());e.setSortedAt(i)}else e.setSortedAt(null);o&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarThisColumn(e,n),this.dispatchSortChangedEvents()},t.prototype.onSortChanged=function(){this.dispatchSortChangedEvents()},t.prototype.dispatchSortChangedEvents=function(){this.eventService.dispatchEvent({type:Ft.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.clearSortBarThisColumn=function(e,t){this.columnController.getPrimaryAndSecondaryAndAutoColumns().forEach(function(o){o!==e&&o.setSort(void 0,t)})},t.prototype.getNextSortDirection=function(e){var t;if(t=e.getColDef().sortingOrder?e.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():o.DEFAULT_SORTING_ORDER,!Array.isArray(t)||t.length<=0)return console.warn("ag-grid: sortingOrder must be an array with at least one element, currently it's "+t),null;var n,i=t.indexOf(e.getSort());return o.DEFAULT_SORTING_ORDER.indexOf(n=i<0||i==t.length-1?t[0]:t[i+1])<0?(console.warn("ag-grid: invalid sort type "+n),null):n},t.prototype.setSortModel=function(e,t){var o=this;void 0===t&&(t="api");var n=e&&e.length>0;this.columnController.getPrimaryAndSecondaryAndAutoColumns().forEach(function(i){var r=null,s=-1;if(n&&i.getColDef().sortable)for(var a=0;a<e.length;a++){var l=e[a];"string"==typeof l.colId&&"string"==typeof i.getColId()&&o.compareColIds(l,i)&&(r=l.sort,s=a)}r?(i.setSort(r,t),i.setSortedAt(s)):(i.setSort(null,t),i.setSortedAt(null))}),this.dispatchSortChangedEvents()},t.prototype.compareColIds=function(e,t){return e.colId===t.getColId()},t.prototype.getColumnsWithSortingOrdered=function(){var e=this.columnController.getPrimaryAndSecondaryAndAutoColumns().filter(function(e){return!!e.getSort()});return e.sort(function(e,t){return e.sortedAt-t.sortedAt}),e},t.prototype.getSortForRowController=function(){return this.getColumnsWithSortingOrdered().map(function(e){return{inverter:e.getSort()===Ue.SORT_ASC?1:-1,column:e}})},t.DEFAULT_SORTING_ORDER=[Ue.SORT_ASC,Ue.SORT_DESC,null],Ms([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ms([ct("columnController")],t.prototype,"columnController",void 0),Ms([ct("columnApi")],t.prototype,"columnApi",void 0),Ms([ct("gridApi")],t.prototype,"gridApi",void 0),o=Ms([ut("sortController")],t)}(Dt),Gs=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ks=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Vs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.keyboardFocusActive=!1,t}var o;return Gs(t,e),o=t,t.prototype.init=function(){var e=this.gridOptionsWrapper.getDocument(),t=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_PIVOT_MODE_CHANGED,t),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_EVERYTHING_CHANGED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_GROUP_OPENED,t),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.addManagedListener(e,"keydown",this.activateKeyboardMode.bind(this)),this.addManagedListener(e,"mousedown",this.activateMouseMode.bind(this))},t.prototype.registerGridCore=function(e){this.gridCore=e},t.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var e=this.focusedCellPosition.column,t=this.columnController.getGridColumn(e.getId());e!==t&&this.clearFocusedCell()}},t.prototype.isKeyboardFocus=function(){return this.keyboardFocusActive},t.prototype.activateMouseMode=function(){this.keyboardFocusActive=!1,this.eventService.dispatchEvent({type:Ft.EVENT_MOUSE_FOCUS})},t.prototype.activateKeyboardMode=function(){this.keyboardFocusActive=!0,this.eventService.dispatchEvent({type:Ft.EVENT_KEYBOARD_FOCUS})},t.prototype.getFocusCellToUseAfterRefresh=function(){return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition?null:this.getGridCellForDomElement(document.activeElement)?this.focusedCellPosition:null},t.prototype.getGridCellForDomElement=function(e){for(var t=e;t;){var o=this.gridOptionsWrapper.getDomData(t,Wi.DOM_DATA_KEY_CELL_COMP);if(o)return o.getCellPosition();t=t.parentNode}return null},t.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1)},t.prototype.getFocusedCell=function(){return this.focusedCellPosition},t.prototype.setFocusedCell=function(e,t,o,n){void 0===n&&(n=!1);var i=et.makeNull(this.columnController.getGridColumn(t));this.focusedCellPosition={rowIndex:e,rowPinned:et.makeNull(o),column:i},this.onCellFocused(n)},t.prototype.isCellFocused=function(e){return!et.missing(this.focusedCellPosition)&&this.focusedCellPosition.column===e.column&&this.isRowFocused(e.rowIndex,e.rowPinned)},t.prototype.isRowNodeFocused=function(e){return this.isRowFocused(e.rowIndex,e.rowPinned)},t.prototype.isHeaderWrapperFocused=function(e){if(et.missing(this.focusedHeaderPosition))return!1;var t=e.getColumn(),o=e.getParentComponent().getRowIndex(),n=e.getPinned(),i=this.focusedHeaderPosition,r=i.column;return t===r&&o===i.headerRowIndex&&n==r.getPinned()},t.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},t.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},t.prototype.setFocusedHeader=function(e,t){this.focusedHeaderPosition={headerRowIndex:e,column:t}},t.prototype.focusHeaderPosition=function(e,t){this.headerNavigationService.scrollToColumn(e.column,t);var o=this.headerNavigationService.getHeaderContainer(e.column.getPinned()).getRowComps()[e.headerRowIndex].getHeaderComps()[e.column.getUniqueId()];return!!o&&(o.getFocusableElement().focus(),!0)},t.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},t.prototype.isRowFocused=function(e,t){if(et.missing(this.focusedCellPosition))return!1;var o=et.makeNull(t);return this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===o},t.prototype.findFocusableElements=function(e,t,n){var i=o.FOCUSABLE_EXCLUDE;t&&(i+=", "+t),n&&(i+=', [tabindex="-1"]');var r,s=Array.prototype.slice.apply(e.querySelectorAll(o.FOCUSABLE_SELECTOR)),a=Array.prototype.slice.apply(e.querySelectorAll(i));return a.length?(r=a,s.filter(function(e){return-1===r.indexOf(e)})):s},t.prototype.focusFirstFocusableElement=function(e,t){var o=this.findFocusableElements(e,null,t)[0];return!!o&&(o.focus(),!0)},t.prototype.focusLastFocusableElement=function(e,t){var o=et.last(this.findFocusableElements(e,null,t));return!!o&&(o.focus(),!0)},t.prototype.findNextFocusableElement=function(e,t,o){var n=this.findFocusableElements(e,t?':not([tabindex="-1"])':null),i=(t?et.findIndex(n,function(e){return e.contains(document.activeElement)}):n.indexOf(document.activeElement))+(o?-1:1);if(!(i<0||i>n.length))return n[i]},t.prototype.isFocusUnderManagedComponent=function(e){var t=e.querySelectorAll("."+rr.FOCUS_MANAGED_CLASS);if(!t.length)return!1;for(var o=0;o<t.length;o++)if(t[o].contains(document.activeElement))return!0;return!1},t.prototype.findTabbableParent=function(e,t){void 0===t&&(t=5);for(var o=0;e&&null===et.getTabIndex(e)&&++o<=t;)e=e.parentElement;return null===et.getTabIndex(e)?null:e},t.prototype.onCellFocused=function(e){var t={type:Ft.EVENT_CELL_FOCUSED,forceBrowserFocus:e,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null};this.focusedCellPosition&&(t.rowIndex=this.focusedCellPosition.rowIndex,t.column=this.focusedCellPosition.column,t.rowPinned=this.focusedCellPosition.rowPinned),this.eventService.dispatchEvent(t)},t.prototype.focusGridView=function(e){var t=this.rowPositionUtils.getFirstRow();if(!t)return!1;var o=t.rowIndex,n=t.rowPinned,i=this.getFocusedHeader();return e||(e=i.column),!!et.exists(o)&&(this.rowRenderer.ensureCellVisible({rowIndex:o,column:e,rowPinned:n}),this.setFocusedCell(o,e,et.makeNull(n),!0),this.rangeController&&this.rangeController.setRangeToCell({rowIndex:o,rowPinned:n,column:e}),!0)},t.prototype.focusNextGridCoreContainer=function(e){if(this.gridCore.focusNextInnerContainer(e))return!0;e||this.gridCore.forceFocusOutOfContainer()},t.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",t.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, .ag-disabled, .ag-disabled *",ks([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ks([ct("columnController")],t.prototype,"columnController",void 0),ks([ct("headerNavigationService")],t.prototype,"headerNavigationService",void 0),ks([ct("columnApi")],t.prototype,"columnApi",void 0),ks([ct("gridApi")],t.prototype,"gridApi",void 0),ks([ct("rowRenderer")],t.prototype,"rowRenderer",void 0),ks([ct("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),ks([pt("rangeController")],t.prototype,"rangeController",void 0),ks([at],t.prototype,"init",null),o=ks([ut("focusController")],t)}(Dt),Hs=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ws=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Bs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gridInstanceId=o.gridInstanceSequence.next(),t}var o;return Hs(t,e),o=t,t.prototype.init=function(){this.stampDomElementWithGridInstance()},t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.stampDomElementWithGridInstance=function(){this.eGridDiv[o.GRID_DOM_KEY]=this.gridInstanceId},t.prototype.getRenderedCellForEvent=function(e){return et.getCellCompForEvent(this.gridOptionsWrapper,e)},t.prototype.isEventFromThisGrid=function(e){for(var t=et.getEventPath(e),n=0;n<t.length;n++){var i=t[n][o.GRID_DOM_KEY];if(et.exists(i))return i===this.gridInstanceId}return!1},t.prototype.getCellPositionForEvent=function(e){var t=this.getRenderedCellForEvent(e);return t?t.getCellPosition():null},t.prototype.getNormalisedPosition=function(e){var t=this.gridOptionsWrapper.getDomLayout()===Ue.DOM_LAYOUT_NORMAL,o=e.x,n=e.y;if(t){var i=this.gridPanel.getVScrollPosition();return{x:o+this.gridPanel.getHScrollPosition().left,y:n+i.top}}return{x:o,y:n}},t.gridInstanceSequence=new tt,t.GRID_DOM_KEY="__ag_grid_instance",Ws([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ws([ct("eGridDiv")],t.prototype,"eGridDiv",void 0),Ws([at],t.prototype,"init",null),o=Ws([ut("mouseEventService")],t)}(Dt),js=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Us=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},zs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return js(t,e),t.prototype.getNextCellToFocus=function(e,t){for(var o=t,n=!1;!n;){switch(e){case Ue.KEY_UP:o=this.getCellAbove(o);break;case Ue.KEY_DOWN:o=this.getCellBelow(o);break;case Ue.KEY_RIGHT:o=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(o):this.getCellToRight(o);break;case Ue.KEY_LEFT:o=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(o):this.getCellToLeft(o);break;default:o=null,console.warn("ag-Grid: unknown key for navigation "+e)}n=!o||this.isCellGoodToFocusOn(o)}return o},t.prototype.isCellGoodToFocusOn=function(e){var t,o=e.column;switch(e.rowPinned){case Ue.PINNED_TOP:t=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case Ue.PINNED_BOTTOM:t=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:t=this.rowModel.getRow(e.rowIndex)}return!o.isSuppressNavigable(t)},t.prototype.getCellToLeft=function(e){if(!e)return null;var t=this.columnController.getDisplayedColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null},t.prototype.getCellToRight=function(e){if(!e)return null;var t=this.columnController.getDisplayedColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null},t.prototype.getRowBelow=function(e){var t=e.rowIndex,o=e.rowPinned;if(this.isLastRowInContainer(e))switch(o){case Ue.PINNED_BOTTOM:return null;case Ue.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:0,rowPinned:null}:this.pinnedRowModel.isRowsToRender(Ue.PINNED_BOTTOM)?{rowIndex:0,rowPinned:Ue.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(Ue.PINNED_BOTTOM)?{rowIndex:0,rowPinned:Ue.PINNED_BOTTOM}:null}return{rowIndex:t+1,rowPinned:o}},t.prototype.getCellBelow=function(e){if(!e)return null;var t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null},t.prototype.isLastRowInContainer=function(e){var t=e.rowPinned,o=e.rowIndex;return t===Ue.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=o:t===Ue.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=o:this.rowModel.getRowCount()-1<=o},t.prototype.getRowAbove=function(e){var t=e.rowIndex,o=e.rowPinned;return 0===t?o===Ue.PINNED_TOP?null:o&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(Ue.PINNED_TOP)?this.getLastFloatingTopRow():null:{rowIndex:t-1,rowPinned:o}},t.prototype.getCellAbove=function(e){if(!e)return null;var t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null},t.prototype.getLastBodyCell=function(){return{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}},t.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:Ue.PINNED_TOP}},t.prototype.getNextTabbedCell=function(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)},t.prototype.getNextTabbedCellForwards=function(e){var t=this.columnController.getAllDisplayedColumns(),o=e.rowIndex,n=e.rowPinned,i=this.columnController.getDisplayedColAfter(e.column);if(!i){i=t[0];var r=this.getRowBelow(e);if(et.missing(r))return null;o=r?r.rowIndex:null,n=r?r.rowPinned:null}return{rowIndex:o,column:i,rowPinned:n}},t.prototype.getNextTabbedCellBackwards=function(e){var t=this.columnController.getAllDisplayedColumns(),o=e.rowIndex,n=e.rowPinned,i=this.columnController.getDisplayedColBefore(e.column);if(!i){i=et.last(t);var r=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(et.missing(r))return null;o=r?r.rowIndex:null,n=r?r.rowPinned:null}return{rowIndex:o,column:i,rowPinned:n}},Us([ct("columnController")],t.prototype,"columnController",void 0),Us([ct("rowModel")],t.prototype,"rowModel",void 0),Us([ct("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Us([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Us([ut("cellNavigationService")],t)}(Dt),Ks=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ys=function(){function e(){this.cellRendererMap={}}var t;return t=e,e.prototype.init=function(){this.cellRendererMap[t.ANIMATE_SLIDE]=En,this.cellRendererMap[t.ANIMATE_SHOW_CHANGE]=bn,this.cellRendererMap[t.GROUP]=vn},e.prototype.addCellRenderer=function(e,t){this.cellRendererMap[e]=t},e.prototype.getCellRenderer=function(e){var t=this.cellRendererMap[e];return et.missing(t)?(console.warn("ag-Grid: unable to find cellRenderer for key "+e),null):t},e.ANIMATE_SLIDE="animateSlide",e.ANIMATE_SHOW_CHANGE="animateShowChange",e.GROUP="group",Ks([ct("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ks([ct("expressionService")],e.prototype,"expressionService",void 0),Ks([ct("eventService")],e.prototype,"eventService",void 0),Ks([at],e.prototype,"init",null),t=Ks([ut("cellRendererFactory")],e)}(),qs=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),$s=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Qs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qs(t,e),t.prototype.formatValue=function(e,t,o,n,i,r){void 0===r&&(r=!0);var s,a=null,l=e.getColDef();if(i?s=i:r&&(s=t&&t.rowPinned&&l.pinnedRowValueFormatter?l.pinnedRowValueFormatter:l.valueFormatter),s){var u={value:n,node:t,data:t?t.data:null,colDef:l,column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};u.$scope=o,a=this.expressionService.evaluate(s,u)}else if(l.refData)return l.refData[n]||"";return null==a&&Array.isArray(n)&&(a=n.join(", ")),a},$s([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),$s([ct("expressionService")],t.prototype,"expressionService",void 0),$s([ut("valueFormatterService")],t)}(Dt),Xs=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Zs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.className="ag-radio-button",t.inputType="radio",t}return Xs(t,e),t.prototype.isSelected=function(){return this.eInput.checked},t.prototype.toggle=function(){var e=this.getNextValue();this.setValue(e)},t.prototype.addInputListeners=function(){e.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,Ft.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},t.prototype.onChange=function(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)},t}(Ko),Js=function(){function e(){}return e.prototype.setTimeout=function(e,t){window.setTimeout(e,t)},e.prototype.addEventListenerOutsideAngular=function(e,t,o,n){e.addEventListener(t,o,n)},e}(),ea=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ta=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},oa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ea(t,e),t.prototype.setScrollsVisible=function(e){this.horizontalScrollShowing===e.horizontalScrollShowing&&this.verticalScrollShowing===e.verticalScrollShowing||(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:Ft.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},t.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},ta([ct("columnController")],t.prototype,"columnController",void 0),ta([ct("columnApi")],t.prototype,"columnApi",void 0),ta([ct("gridApi")],t.prototype,"gridApi",void 0),ta([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ta([ut("scrollVisibleService")],t)}(Dt),na=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ia=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ra=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return na(t,e),t.prototype.processAllCellClasses=function(e,t,o,n){this.processClassRules(e.cellClassRules,t,o,n),this.processStaticCellClasses(e,t,o)},t.prototype.processClassRules=function(e,t,o,n){if("object"==typeof e&&null!==e)for(var i=Object.keys(e),r=0;r<i.length;r++){var s=i[r],a=e[s],l=void 0;"string"==typeof a?l=this.expressionService.evaluate(a,t):"function"==typeof a&&(l=a(t)),l?o(s):n&&n(s)}},t.prototype.processStaticCellClasses=function(e,t,o){if(e.cellClass){var n=void 0;"string"==typeof(n="function"==typeof e.cellClass?(0,e.cellClass)(t):e.cellClass)?o(n):Array.isArray(n)&&n.forEach(function(e){o(e)})}},ia([ct("expressionService")],t.prototype,"expressionService",void 0),ia([ut("stylingService")],t)}(Dt),sa=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),aa=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},la=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sa(t,e),t.prototype.setMouseOver=function(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:Ft.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:Ft.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.isHovered=function(e){return this.selectedColumns&&this.selectedColumns.indexOf(e)>=0},aa([ct("columnApi")],t.prototype,"columnApi",void 0),aa([ct("gridApi")],t.prototype,"gridApi",void 0),aa([ut("columnHoverService")],t)}(Dt),ua=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ca=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},pa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.executeNextFuncs=[],t.executeLaterFuncs=[],t.active=!1,t.animationThreadCount=0,t}return ua(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.isActive=function(){return this.active},t.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},t.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},t.prototype.executeNextVMTurn=function(e){this.active?this.executeNextFuncs.push(e):e()},t.prototype.executeLaterVMTurn=function(e){this.active?this.executeLaterFuncs.push(e):e()},t.prototype.ensureAnimationCssClassPresent=function(){var e=this;this.animationThreadCount++;var t=this.animationThreadCount;this.gridPanel.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){e.animationThreadCount===t&&e.gridPanel.setColumnMovingCss(!1)})},t.prototype.flush=function(){var e=this.executeNextFuncs;this.executeNextFuncs=[];var t=this.executeLaterFuncs;this.executeLaterFuncs=[],0===e.length&&0===t.length||(window.setTimeout(function(){return e.forEach(function(e){return e()})},0),window.setTimeout(function(){return t.forEach(function(e){return e()})},300))},ca([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ca([ut("columnAnimationService")],t)}(Dt),da=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ha=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},fa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return da(t,e),o=t,t.prototype.createAutoGroupColumns=function(e){var t=this,o=[],n=this.gridOptionsWrapper.isTreeData(),i=this.gridOptionsWrapper.isGroupMultiAutoColumn();return n&&i&&(console.warn("ag-Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),i=!1),i?e.forEach(function(e,n){o.push(t.createOneAutoGroupColumn(e,n))}):o.push(this.createOneAutoGroupColumn()),o},t.prototype.createOneAutoGroupColumn=function(e,t){var n,i=this.generateDefaultColDef(e);n=e?Ue.GROUP_AUTO_COLUMN_ID+"-"+e.getId():o.GROUP_AUTO_COLUMN_BUNDLE_ID;var r=this.gridOptionsWrapper.getAutoGroupColumnDef();et.mergeDeep(i,r),(i=this.columnFactory.mergeColDefs(i)).colId=n,this.gridOptionsWrapper.isTreeData()||et.missing(i.field)&&et.missing(i.valueGetter)&&et.missing(i.filterValueGetter)&&(i.filter=!1),t&&t>0&&(i.headerCheckboxSelection=!1);var s=new Et(i,null,n,!0);return this.context.createBean(s),s},t.prototype.generateDefaultColDef=function(e){var t=this.gridOptionsWrapper.getAutoGroupColumnDef(),o={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(t&&(t.cellRenderer||t.cellRendererFramework)||(o.cellRenderer="agGroupCellRenderer"),e){var n=e.getColDef();et.assign(o,{headerName:this.columnController.getDisplayNameForColumn(e,"header"),headerValueGetter:n.headerValueGetter}),n.cellRenderer&&et.assign(o,{cellRendererParams:{innerRenderer:n.cellRenderer,innerRendererParams:n.cellRendererParams}}),o.showRowGroup=e.getColId()}else o.showRowGroup=!0;return o},t.GROUP_AUTO_COLUMN_BUNDLE_ID=Ue.GROUP_AUTO_COLUMN_ID,ha([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ha([ct("columnController")],t.prototype,"columnController",void 0),ha([ct("columnFactory")],t.prototype,"columnFactory",void 0),o=ha([ut("autoGroupColService")],t)}(Dt),ga=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ma=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ya=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentPage=0,t.topDisplayedRowIndex=0,t.bottomDisplayedRowIndex=0,t.pixelOffset=0,t.masterRowCount=0,t}return ga(t,e),t.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,Ft.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onModelUpdated.bind(this)),this.onModelUpdated()},t.prototype.ensureRowHeightsValid=function(e,t,o,n){var i=this.rowModel.ensureRowHeightsValid(e,t,this.getPageFirstRow(),this.getPageLastRow());return i&&this.calculatePages(),i},t.prototype.onModelUpdated=function(e){this.calculatePages(),this.eventService.dispatchEvent({type:Ft.EVENT_PAGINATION_CHANGED,animate:!!e&&e.animate,newData:!!e&&e.newData,newPage:!!e&&e.newPage,keepRenderedRows:!!e&&e.keepRenderedRows,api:this.gridApi,columnApi:this.columnApi})},t.prototype.goToPage=function(e){this.active&&this.currentPage!==e&&(this.currentPage=e,this.onModelUpdated({type:Ft.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.getPixelOffset=function(){return this.pixelOffset},t.prototype.getRow=function(e){return this.rowModel.getRow(e)},t.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},t.prototype.getRowIndexAtPixel=function(e){return this.rowModel.getRowIndexAtPixel(e)},t.prototype.getCurrentPageHeight=function(){return et.missing(this.topRowBounds)||et.missing(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},t.prototype.isRowPresent=function(e){return!!this.rowModel.isRowPresent(e)&&e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex},t.prototype.isEmpty=function(){return this.rowModel.isEmpty()},t.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},t.prototype.getNodesInRangeForSelection=function(e,t){return this.rowModel.getNodesInRangeForSelection(e,t)},t.prototype.forEachNode=function(e){return this.rowModel.forEachNode(e)},t.prototype.getType=function(){return this.rowModel.getType()},t.prototype.getRowBounds=function(e){var t=this.rowModel.getRowBounds(e);return t.rowIndex=e,t},t.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},t.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},t.prototype.getRowCount=function(){return this.rowModel.getRowCount()},t.prototype.goToPageWithIndex=function(e){if(this.active){var t=Math.floor(e/this.pageSize);this.goToPage(t)}},t.prototype.isLastPageFound=function(){return this.rowModel.isLastRowFound()},t.prototype.getCurrentPage=function(){return this.currentPage},t.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},t.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},t.prototype.goToFirstPage=function(){this.goToPage(0)},t.prototype.goToLastPage=function(){var e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getTotalPages=function(){return this.totalPages},t.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),this.pageSize>=1||(this.pageSize=100)},t.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.pixelOffset=et.exists(this.topRowBounds)?this.topRowBounds.rowTop:0},t.prototype.setZeroRows=function(){this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},t.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),0!==this.masterRowCount){var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!et.isNumeric(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var t=this.pageSize*(this.currentPage+1)-1;if(t>e&&(t=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),t===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var o=this.rowModel.getTopLevelRowDisplayedIndex(t+1);this.bottomDisplayedRowIndex=o-1}}else this.setZeroRows()},t.prototype.getMasterRowCount=function(){return this.masterRowCount},t.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!et.isNumeric(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}else this.setZeroRows()},t.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},ma([ct("rowModel")],t.prototype,"rowModel",void 0),ma([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ma([ct("selectionController")],t.prototype,"selectionController",void 0),ma([ct("columnApi")],t.prototype,"columnApi",void 0),ma([ct("gridApi")],t.prototype,"gridApi",void 0),ma([at],t.prototype,"postConstruct",null),ma([ut("paginationProxy")],t)}(Dt),va=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ca=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ba=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return va(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e,this.addManagedListener(this.eventService,Ft.EVENT_BODY_HEIGHT_CHANGED,this.onBodyHeightChanged.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.checkPageSize()},t.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},t.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},t.prototype.onBodyHeightChanged=function(){this.checkPageSize()},t.prototype.checkPageSize=function(){if(!this.notActive()){var e=this.gridOptionsWrapper.getRowHeightAsNumber(),t=this.gridPanel.getBodyHeight();if(t>0){var o=Math.floor(t/e);this.gridOptionsWrapper.setProperty("paginationPageSize",o)}}},Ca([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ca([ut("paginationAutoPageSizeService")],t)}(Dt),wa=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ea=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ra=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cacheVersion=0,t}return wa(t,e),t.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},t.prototype.onDataChanged=function(){this.neverExpires||this.expire()},t.prototype.expire=function(){this.cacheVersion++},t.prototype.setValue=function(e,t,o){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=o)},t.prototype.getValue=function(e,t){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[t]},Ea([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ea([at],t.prototype,"init",null),Ea([ut("valueCache")],t)}(Dt),_a=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Sa=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Oa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _a(t,e),t.prototype.init=function(){this.rowModel.getType()===Ue.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,Ft.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},t.prototype.onCellValueChanged=function(e){e.source!==Ue.SOURCE_PASTE&&this.doChangeDetection(e.node,e.column)},t.prototype.doChangeDetection=function(e,t){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!e.isRowPinned()){var o=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),n=new di(o,this.clientSideRowModel.getRootNode());n.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(n)}this.rowRenderer.refreshCells()}},Sa([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Sa([ct("rowModel")],t.prototype,"rowModel",void 0),Sa([ct("rowRenderer")],t.prototype,"rowRenderer",void 0),Sa([at],t.prototype,"init",null),Sa([ut("changeDetectionService")],t)}(Dt),Da=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Pa=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ta=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.consuming=!1,t}return Da(t,e),t.prototype.setBeans=function(e){this.logger=e.create("AlignedGridsService")},t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.init=function(){this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},t.prototype.fireEvent=function(e){if(!this.consuming){var t=this.gridOptionsWrapper.getAlignedGrids();t&&t.forEach(function(t){if(t.api){var o=t.api.__getAlignedGridService();e(o)}})}},t.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},t.prototype.fireColumnEvent=function(e){this.fireEvent(function(t){t.onColumnEvent(e)})},t.prototype.fireScrollEvent=function(e){"horizontal"===e.direction&&this.fireEvent(function(t){t.onScrollEvent(e)})},t.prototype.onScrollEvent=function(e){var t=this;this.onEvent(function(){t.gridPanel.setHorizontalScrollPosition(e.left)})},t.prototype.getMasterColumns=function(e){var t=[];return e.columns?e.columns.forEach(function(e){t.push(e)}):e.column&&t.push(e.column),t},t.prototype.getColumnIds=function(e){var t=[];return e.columns?e.columns.forEach(function(e){t.push(e.getColId())}):e.column&&t.push(e.column.getColId()),t},t.prototype.onColumnEvent=function(e){var t=this;this.onEvent(function(){switch(e.type){case Ft.EVENT_COLUMN_MOVED:case Ft.EVENT_COLUMN_VISIBLE:case Ft.EVENT_COLUMN_PINNED:case Ft.EVENT_COLUMN_RESIZED:t.processColumnEvent(e);break;case Ft.EVENT_COLUMN_GROUP_OPENED:t.processGroupOpenedEvent(e);break;case Ft.EVENT_COLUMN_PIVOT_CHANGED:console.warn("ag-Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},t.prototype.processGroupOpenedEvent=function(e){var t,o=e.columnGroup;if(o){var n=o.getGroupId();t=this.columnController.getOriginalColumnGroup(n)}o&&!t||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+o.isExpanded()),this.columnController.setColumnGroupOpened(t,o.isExpanded(),"alignedGridChanged"))},t.prototype.processColumnEvent=function(e){var t,o=this,n=e.column;if(n&&(t=this.columnController.getPrimaryColumn(n.getColId())),!n||t){var i=this.getColumnIds(e),r=this.getMasterColumns(e);switch(e.type){case Ft.EVENT_COLUMN_MOVED:var s=e;this.logger.log("onColumnEvent-> processing "+e.type+" toIndex = "+s.toIndex),this.columnController.moveColumns(i,s.toIndex,"alignedGridChanged");break;case Ft.EVENT_COLUMN_VISIBLE:var a=e;this.logger.log("onColumnEvent-> processing "+e.type+" visible = "+a.visible),this.columnController.setColumnsVisible(i,a.visible,"alignedGridChanged");break;case Ft.EVENT_COLUMN_PINNED:var l=e;this.logger.log("onColumnEvent-> processing "+e.type+" pinned = "+l.pinned),this.columnController.setColumnsPinned(i,l.pinned,"alignedGridChanged");break;case Ft.EVENT_COLUMN_RESIZED:var u=e;r.forEach(function(t){o.logger.log("onColumnEvent-> processing "+e.type+" actualWidth = "+t.getActualWidth());var n=[{key:t.getColId(),newWidth:t.getActualWidth()}];o.columnController.setColumnWidths(n,!1,u.finished,"alignedGridChanged")})}var c=this.gridPanel.isVerticalScrollShowing();this.gridOptionsWrapper.getAlignedGrids().forEach(function(e){e.api.setAlwaysShowVerticalScroll(c)})}},Pa([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Pa([ct("columnController")],t.prototype,"columnController",void 0),Pa([(0,o=ht("loggerFactory"),function(e,t){o(e,t,0)})],t.prototype,"setBeans",null),Pa([at],t.prototype,"init",null),Pa([ut("alignedGridsService")],t);var o}(Dt),Aa=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Fa=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Na=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Aa(t,e),t.prototype.adaptFunction=function(e,t,o,n){if(null==t)return{component:null,componentFromFramework:o,source:n,paramsFromSelector:null};var i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?{componentFromFramework:o,component:i.functionAdapter(t),source:n,paramsFromSelector:null}:null},t.prototype.adaptCellRendererFunction=function(e){return function(){function t(){}return t.prototype.refresh=function(e){return!1},t.prototype.getGui=function(){var t=e(this.params),o=typeof t;return"string"===o||"number"===o||"boolean"===o?et.loadTemplate("<span>"+t+"</span>"):t},t.prototype.init=function(e){this.params=e},t}()},t.prototype.doesImplementIComponent=function(e){return!!e&&e.prototype&&"getGui"in e.prototype},Fa([ct("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),Fa([ut("agComponentUtils")],t)}(Dt),xa=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ia=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ma=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xa(t,e),t.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerComponent:{mandatoryMethodList:[],optionalMethodList:[]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowInnerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},t.prototype.retrieve=function(e){return this.componentMetaData[e]},Ia([ct("agComponentUtils")],t.prototype,"agComponentUtils",void 0),Ia([at],t.prototype,"postConstruct",null),Ia([ut("componentMetadataProvider")],t)}(Dt),La=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ga=function(){function e(){}return e.prototype.registerGridComp=function(e){this.gridPanel=e},e.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},La([ct("paginationProxy")],e.prototype,"paginationProxy",void 0),La([ct("context")],e.prototype,"context",void 0),La([ct("columnApi")],e.prototype,"columnApi",void 0),La([ct("gridApi")],e.prototype,"gridApi",void 0),La([ct("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),La([ct("expressionService")],e.prototype,"expressionService",void 0),La([ct("rowRenderer")],e.prototype,"rowRenderer",void 0),La([ct("$compile")],e.prototype,"$compile",void 0),La([ct("templateService")],e.prototype,"templateService",void 0),La([ct("valueService")],e.prototype,"valueService",void 0),La([ct("eventService")],e.prototype,"eventService",void 0),La([ct("columnController")],e.prototype,"columnController",void 0),La([ct("headerNavigationService")],e.prototype,"headerNavigationService",void 0),La([ct("columnAnimationService")],e.prototype,"columnAnimationService",void 0),La([pt("rangeController")],e.prototype,"rangeController",void 0),La([ct("focusController")],e.prototype,"focusController",void 0),La([pt("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),La([ct("cellRendererFactory")],e.prototype,"cellRendererFactory",void 0),La([ct("popupService")],e.prototype,"popupService",void 0),La([ct("valueFormatterService")],e.prototype,"valueFormatterService",void 0),La([ct("stylingService")],e.prototype,"stylingService",void 0),La([ct("columnHoverService")],e.prototype,"columnHoverService",void 0),La([ct("userComponentFactory")],e.prototype,"userComponentFactory",void 0),La([ct("animationFrameService")],e.prototype,"taskQueue",void 0),La([ct("dragAndDropService")],e.prototype,"dragAndDropService",void 0),La([ct("sortController")],e.prototype,"sortController",void 0),La([ct("filterManager")],e.prototype,"filterManager",void 0),La([ct("maxDivHeightScaler")],e.prototype,"maxDivHeightScaler",void 0),La([ct("frameworkOverrides")],e.prototype,"frameworkOverrides",void 0),La([ct("detailRowCompCache")],e.prototype,"detailRowCompCache",void 0),La([ct("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),La([ct("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),La([ct("selectionController")],e.prototype,"selectionController",void 0),La([pt("selectionHandleFactory")],e.prototype,"selectionHandleFactory",void 0),La([at],e.prototype,"postConstruct",null),La([ut("beans")],e)}(),ka=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Va=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ha={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:40,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:28,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:30,rowHeight:42,chartMenuPanelWidth:240}},Wa={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Ba={},ja=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ka(t,e),t.prototype.getSassVariable=function(e,t){var o="ag-theme-"+(e.match("material")?"material":e.match("balham")?"balham":e.match("alpine")?"alpine":"custom"),n=Ha[o][t],i=0;if(Ba[e]||(Ba[e]={}),Ba[e][t])return Ba[e][t];if(Wa[t]){var r=Wa[t],s=document.createElement("div");s.style.position="absolute";var a=r.reduce(function(t,o,n){0===n&&et.addCssClass(t,e);var i=document.createElement("div");return i.style.position="static",et.addCssClass(i,o),t.appendChild(i),i},s);if(document.body){document.body.appendChild(s);var l=-1!==t.toLowerCase().indexOf("height")?"height":"width";i=parseInt(window.getComputedStyle(a)[l],10),document.body.removeChild(s)}}return Ba[e][t]=i||n,Ba[e][t]},t.prototype.isThemeDark=function(){var e=this.getTheme().theme;return!!e&&e.indexOf("dark")>=0},t.prototype.chartMenuPanelWidth=function(){var e=this.getTheme().themeFamily;return this.getSassVariable(e,"chartMenuPanelWidth")},t.prototype.getTheme=function(){for(var e,t=/\bag-(material|(?:theme-([\w\-]*)))\b/,o=this.eGridDiv;o&&!(e=t.exec(o.className));)o=o.parentElement;if(!e)return{};var n=e[0];if(void 0===e[2]){var i=n.replace("ag-","ag-theme-");et.doOnce(function(){return console.warn("ag-Grid: As of v19 old theme are no longer provided. Please replace "+n+" with "+i+".")},"using-old-theme")}return{theme:n,el:o,themeFamily:n.replace(/-dark$/,"")}},Va([ct("eGridDiv")],t.prototype,"eGridDiv",void 0),Va([ut("environment")],t)}(Dt),Ua=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),za=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ka=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.createTasksP1={list:[],sorted:!1},t.createTasksP2={list:[],sorted:!1},t.destroyTasks=[],t.ticking=!1,t.scrollGoingDown=!0,t.lastScrollTop=0,t.taskCount=0,t.cancelledTasks=new Set,t}return Ua(t,e),t.prototype.setScrollTop=function(e){this.scrollGoingDown=e>this.lastScrollTop,this.lastScrollTop=e},t.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},t.prototype.verifyAnimationFrameOn=function(e){!1===this.useAnimationFrame&&console.warn("ag-Grid: AnimationFrameService."+e+" called but animation frames are off")},t.prototype.createTask=function(e,t,o){this.verifyAnimationFrameOn(o);var n={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[o],n),this.schedule()},t.prototype.cancelTask=function(e){this.cancelledTasks.add(e)},t.prototype.addTaskToList=function(e,t){e.list.push(t),e.sorted=!1},t.prototype.sortTaskList=function(e){if(!e.sorted){var t=this.scrollGoingDown?1:-1;e.list.sort(function(e,o){return e.index!==o.index?t*(o.index-e.index):o.createOrder-e.createOrder}),e.sorted=!0}},t.prototype.addDestroyTask=function(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()},t.prototype.executeFrame=function(e){this.verifyAnimationFrameOn("executeFrame");for(var t=this.createTasksP1,o=t.list,n=this.createTasksP2,i=n.list,r=this.destroyTasks,s=(new Date).getTime(),a=(new Date).getTime()-s,l=e<=0;l||a<e;){var u=void 0;if(o.length)this.sortTaskList(t),u=o.pop().task;else if(i.length)this.sortTaskList(n),u=i.pop().task;else{if(!r.length){this.cancelledTasks.clear();break}u=r.pop()}this.cancelledTasks.has(u)||u(),a=(new Date).getTime()-s}o.length||i.length||r.length?this.requestFrame():this.stopTicking()},t.prototype.stopTicking=function(){this.ticking=!1;var e={type:Ft.EVENT_ANIMATION_QUEUE_EMPTY,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};this.eventService.dispatchEvent(e)},t.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},t.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},t.prototype.requestFrame=function(){var e=this.executeFrame.bind(this,60);window.requestAnimationFrame?window.requestAnimationFrame(e):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(e):window.setTimeout(e,0)},t.prototype.isQueueEmpty=function(){return!this.ticking},za([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),za([at],t.prototype,"init",null),za([ut("animationFrameService")],t)}(Dt),Ya=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),qa=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},$a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeLastPageEventProcessed=0,t}return Ya(t,e),t.prototype.init=function(){this.scrollWidth=this.gridOptionsWrapper.getScrollbarWidth()},t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.handlePageScrollingKey=function(e){var t=e.which||e.keyCode,o=e.altKey,n=e.ctrlKey,i=this.mouseEventService.getCellPositionForEvent(e);if(!i)return!1;var r=!1;switch(t){case Ue.KEY_PAGE_HOME:case Ue.KEY_PAGE_END:n||o||(this.onHomeOrEndKey(t),r=!0);break;case Ue.KEY_LEFT:case Ue.KEY_RIGHT:n&&!o&&(this.onCtrlLeftOrRight(t,i),r=!0);break;case Ue.KEY_UP:case Ue.KEY_DOWN:n&&!o&&(this.onCtrlUpOrDown(t,i),r=!0);break;case Ue.KEY_PAGE_DOWN:n||o||(this.onPageDown(i),r=!0);break;case Ue.KEY_PAGE_UP:n||o||(this.onPageUp(i),r=!0)}return r&&e.preventDefault(),r},t.prototype.isTimeSinceLastPageEventToRecent=function(){return(new Date).getTime()-this.timeLastPageEventProcessed<100},t.prototype.setTimeLastPageEventProcessed=function(){this.timeLastPageEventProcessed=(new Date).getTime()},t.prototype.onPageDown=function(e){if(!this.isTimeSinceLastPageEventToRecent()){var t=this.gridPanel.getVScrollPosition(),o=t.bottom-t.top;this.gridPanel.isHorizontalScrollShowing()&&(o-=this.scrollWidth);var n=this.paginationProxy.getPixelOffset(),i=this.paginationProxy.getRowIndexAtPixel(t.top+o+n),r=this.paginationProxy.getRow(e.rowIndex).rowTop,s=this.paginationProxy.getRowIndexAtPixel(r+o-n+n),a=this.paginationProxy.getPageLastRow();s>a&&(s=a),i>a&&(i=a),this.navigateTo(i,"top",null,s,e.column),this.setTimeLastPageEventProcessed()}},t.prototype.onPageUp=function(e){if(!this.isTimeSinceLastPageEventToRecent()){var t=this.gridPanel.getVScrollPosition(),o=t.bottom-t.top;this.gridPanel.isHorizontalScrollShowing()&&(o-=this.scrollWidth);var n=this.paginationProxy.getPixelOffset(),i=this.paginationProxy.getRowIndexAtPixel(t.top+n),r=this.paginationProxy.getRow(e.rowIndex),s=this.paginationProxy.getRowIndexAtPixel(r.rowTop+r.rowHeight-o-n+n),a=this.paginationProxy.getPageFirstRow();s<a&&(s=a),i<a&&(i=a),this.navigateTo(i,"bottom",null,s,e.column),this.setTimeLastPageEventProcessed()}},t.prototype.navigateTo=function(e,t,o,n,i){et.exists(o)&&this.gridPanel.ensureColumnVisible(o),et.exists(e)&&this.gridPanel.ensureIndexVisible(e,t),this.animationFrameService.flushAllFrames(),this.focusController.setFocusedCell(n,i,null,!0),this.rangeController&&this.rangeController.setRangeToCell({rowIndex:n,rowPinned:null,column:i})},t.prototype.onCtrlUpOrDown=function(e,t){var o=e===Ue.KEY_UP?0:this.paginationProxy.getPageLastRow();this.navigateTo(o,null,t.column,o,t.column)},t.prototype.onCtrlLeftOrRight=function(e,t){var o=e===Ue.KEY_LEFT,n=this.columnController.getAllDisplayedColumns(),i=o?n[0]:et.last(n);this.navigateTo(t.rowIndex,null,i,t.rowIndex,i)},t.prototype.onHomeOrEndKey=function(e){var t=e===Ue.KEY_PAGE_HOME,o=this.columnController.getAllDisplayedColumns(),n=t?o[0]:et.last(o),i=t?0:this.paginationProxy.getPageLastRow();this.navigateTo(i,null,n,i,n)},qa([ct("mouseEventService")],t.prototype,"mouseEventService",void 0),qa([ct("paginationProxy")],t.prototype,"paginationProxy",void 0),qa([ct("focusController")],t.prototype,"focusController",void 0),qa([ct("animationFrameService")],t.prototype,"animationFrameService",void 0),qa([pt("rangeController")],t.prototype,"rangeController",void 0),qa([ct("columnController")],t.prototype,"columnController",void 0),qa([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),qa([at],t.prototype,"init",null),qa([ut("navigationService")],t)}(Dt),Qa=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Xa=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Za=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollY=0,t.uiBodyHeight=0,t}return Qa(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Ft.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.scrollBarWidth=this.gridOptionsWrapper.getScrollbarWidth(),this.maxDivHeight=et.getMaxDivHeight()},t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.isScaling=function(){return this.scaling},t.prototype.getOffset=function(){return this.offset},t.prototype.updateOffset=function(){if(this.scaling){var e=this.gridPanel.getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}},t.prototype.calculateOffset=function(){this.uiContainerHeight=this.maxDivHeight,this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight,this.setOffset(this.scrollY/this.maxScrollY*this.pixelsToShave)},t.prototype.clearOffset=function(){this.uiContainerHeight=this.modelHeight,this.pixelsToShave=0,this.setOffset(0)},t.prototype.setOffset=function(e){var t="number"==typeof e?Math.floor(e):null;this.offset!==t&&(this.offset=t,this.eventService.dispatchEvent({type:Ft.EVENT_HEIGHT_SCALE_CHANGED}))},t.prototype.setModelHeight=function(e){this.modelHeight=e,this.scaling=this.maxDivHeight>0&&e>this.maxDivHeight,this.scaling?this.calculateOffset():this.clearOffset()},t.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},t.prototype.getRealPixelPosition=function(e){return e-this.offset},t.prototype.getUiBodyHeight=function(){var e=this.gridPanel.getVScrollPosition();return e.bottom-e.top},t.prototype.getScrollPositionForPixel=function(e){if(this.pixelsToShave<=0)return e;var t=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(e/t)},Xa([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Xa([at],t.prototype,"postConstruct",null),Xa([ut("maxDivHeightScaler")],t)}(Dt),Ja=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),el=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},tl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ja(t,e),t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},t.prototype.updateSelectableAfterGrouping=function(e){this.isRowSelectableFunc&&this.recurseDown(e.childrenAfterGroup,function(e){return e.childrenAfterGroup})},t.prototype.updateSelectableAfterFiltering=function(e){this.isRowSelectableFunc&&this.recurseDown(e.childrenAfterGroup,function(e){return e.childrenAfterFilter})},t.prototype.recurseDown=function(e,t){var o=this;e.forEach(function(e){if(e.group){var n;if(e.hasChildren()&&o.recurseDown(t(e),t),o.groupSelectsChildren){var i=et.find(t(e),"selectable",!0);n=et.exists(i)}else n=!!o.isRowSelectableFunc&&o.isRowSelectableFunc(e);e.setRowSelectable(n)}})},el([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),el([at],t.prototype,"init",null),el([ut("selectableService")],t)}(Dt),ol=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),nl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},il=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ol(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.getPreferredHeightForRow=function(e){var t=this;this.eDummyContainer||(this.eDummyContainer=document.createElement("div"),et.addCssClass(this.eDummyContainer,"ag-row ag-row-no-focus"));var o=this.gridPanel.getCenterContainer();o.appendChild(this.eDummyContainer);var n=[];this.columnController.getAllAutoRowHeightCols().filter(function(e){return e.isVisible()}).forEach(function(o){var i=new Wi(t.$scope,t.beans,o,e,null,!0,!1);i.setParentRow(t.eDummyContainer),n.push(i)});var i=n.map(function(e){return e.getCreateTemplate()}).join(" ");this.eDummyContainer.innerHTML=i,n.forEach(function(e){return e.afterAttached()});for(var r=0,s=0;s<this.eDummyContainer.children.length;s++){var a=this.eDummyContainer.children[s];a.offsetHeight>r&&(r=a.offsetHeight)}return o.removeChild(this.eDummyContainer),n.forEach(function(e){e.detach(),e.destroy()}),et.clearElement(this.eDummyContainer),r},nl([ct("beans")],t.prototype,"beans",void 0),nl([ct("$scope")],t.prototype,"$scope",void 0),nl([ct("columnController")],t.prototype,"columnController",void 0),nl([ut("autoHeightCalculator")],t)}(Dt),rl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),sl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},al=function(e){function t(){var t=e.call(this)||this;return t.previousAndFirstButtonsDisabled=!1,t.nextButtonDisabled=!1,t.lastButtonDisabled=!1,t}return rl(t,e),t.prototype.postConstruct=function(){var e=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",et.createIconNoSpan(e?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",et.createIconNoSpan(e?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",et.createIconNoSpan(e?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",et.createIconNoSpan(e?"first":"last",this.gridOptionsWrapper)),this.rowModel.getType()===Ue.ROW_MODEL_TYPE_SERVER_SIDE&&(this.serverSideRowModel=this.rowModel),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addManagedListener(this.eventService,Ft.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(this.btFirst,"click",this.onBtFirst.bind(this)),this.addManagedListener(this.btLast,"click",this.onBtLast.bind(this)),this.addManagedListener(this.btNext,"click",this.onBtNext.bind(this)),this.addManagedListener(this.btPrevious,"click",this.onBtPrevious.bind(this)),this.onPaginationChanged()):this.setDisplayed(!1)},t.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},t.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},t.prototype.setCurrentPageLabel=function(){var e=this.paginationProxy.getTotalPages()>0,t=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(e?t+1:0)},t.prototype.formatNumber=function(e){var t=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();return t?t({value:e}):et.formatNumberCommas(e)},t.prototype.getTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=e("page","Page"),o=e("to","to"),n=e("of","of");return'<div class="ag-paging-panel ag-unselectable">\n                <span ref="eSummaryPanel" class="ag-paging-row-summary-panel">\n                    <span ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    '+o+'\n                    <span ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    '+n+'\n                    <span ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel">\n                    <div ref="btFirst" class="ag-paging-button-wrapper">\n                        <button type="button" class="ag-paging-button">'+e("first","First")+'</button>\n                    </div>\n                    <div ref="btPrevious" class="ag-paging-button-wrapper">\n                        <button type="button" class="ag-paging-button">'+e("previous","Previous")+'</button>\n                    </div>\n                    <span class="ag-paging-description">\n                        '+t+'\n                        <span ref="lbCurrent" class="ag-paging-number"></span>\n                        '+n+'\n                        <span ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <span ref="lbTotal" class="ag-paging-number"></span>\n                    <div ref="btNext" class="ag-paging-button-wrapper">\n                        <button type="button" class="ag-paging-button">'+e("next","Next")+'</button>\n                    </div>\n                    <div ref="btLast" class="ag-paging-button-wrapper">\n                        <button type="button" class="ag-paging-button">'+e("last","Last")+"</button>\n                    </div>\n                </span>\n            </div>"},t.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},t.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},t.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},t.prototype.enableOrDisableButtons=function(){var e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,et.addOrRemoveCssClass(this.btPrevious,"ag-disabled",this.previousAndFirstButtonsDisabled),et.addOrRemoveCssClass(this.btFirst,"ag-disabled",this.previousAndFirstButtonsDisabled);var n=this.isZeroPagesToDisplay();this.nextButtonDisabled=t&&e===o-1||n,et.addOrRemoveCssClass(this.btNext,"ag-disabled",this.nextButtonDisabled),this.lastButtonDisabled=!t||n||e===o-1,et.addOrRemoveCssClass(this.btLast,"ag-disabled",this.lastButtonDisabled)},t.prototype.updateRowLabels=function(){var e,t,o=this.paginationProxy.getCurrentPage(),n=this.paginationProxy.getPageSize(),i=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?(e=0,t=0):(t=(e=n*o+1)+n-1,i&&t>r&&(t=r)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(e),this.lbLastRowOnPage.innerHTML=this.serverSideRowModel&&this.serverSideRowModel.isLoading()?"?":this.formatNumber(t)},t.prototype.isZeroPagesToDisplay=function(){var e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages();return e&&0===t},t.prototype.setTotalLabels=function(){var e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages(),o=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;if(e)this.lbTotal.innerHTML=this.formatNumber(t),this.lbRecordCount.innerHTML=this.formatNumber(o);else{var n=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=n,this.lbRecordCount.innerHTML=n}},sl([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),sl([ct("paginationProxy")],t.prototype,"paginationProxy",void 0),sl([ct("rowRenderer")],t.prototype,"rowRenderer",void 0),sl([ct("rowModel")],t.prototype,"rowModel",void 0),sl([ro("btFirst")],t.prototype,"btFirst",void 0),sl([ro("btPrevious")],t.prototype,"btPrevious",void 0),sl([ro("btNext")],t.prototype,"btNext",void 0),sl([ro("btLast")],t.prototype,"btLast",void 0),sl([ro("lbRecordCount")],t.prototype,"lbRecordCount",void 0),sl([ro("lbFirstRowOnPage")],t.prototype,"lbFirstRowOnPage",void 0),sl([ro("lbLastRowOnPage")],t.prototype,"lbLastRowOnPage",void 0),sl([ro("eSummaryPanel")],t.prototype,"eSummaryPanel",void 0),sl([ro("lbCurrent")],t.prototype,"lbCurrent",void 0),sl([ro("lbTotal")],t.prototype,"lbTotal",void 0),sl([at],t.prototype,"postConstruct",null),t}(oo),ll=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ul=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},cl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ll(t,e),t.prototype.observeResize=function(e,t,o){void 0===o&&(o=50);var n,i,r,s,a,l=this.getFrameworkOverrides(),u=et.debounce(t,o),c=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return window.ResizeObserver&&!c?((a=new window.ResizeObserver(u)).observe(e),function(){return a.disconnect()}):(n=et.offsetWidth(e),i=et.offsetHeight(e),r=!0,(s=function(){if(r){var a=et.offsetWidth(e),u=et.offsetHeight(e);(a!==n||u!==i)&&(n=a,i=u,t()),l.setTimeout(s,o)}})(),function(){return r=!1})},ul([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ul([ut("resizeObserverService")],t)}(Dt),pl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),dl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.Loading=0]="Loading",e[e.NoRows=1]="NoRows"}(Gr||(Gr={}));var hl=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.inProgress=!1,o.destroyRequested=!1,o}return pl(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.addLayoutElement(this.eOverlayWrapper),this.setDisplayed(!1)},t.prototype.setWrapperTypeClass=function(e){et.addOrRemoveCssClass(this.eOverlayWrapper,"ag-overlay-loading-wrapper",e===Gr.Loading),et.addOrRemoveCssClass(this.eOverlayWrapper,"ag-overlay-no-rows-wrapper",e===Gr.NoRows)},t.prototype.showLoadingOverlay=function(){var e=this.userComponentFactory.newLoadingOverlayComponent({api:this.gridOptionsWrapper.getApi()});this.showOverlay(e,Gr.Loading)},t.prototype.showNoRowsOverlay=function(){var e=this.userComponentFactory.newNoRowsOverlayComponent({api:this.gridOptionsWrapper.getApi()});this.showOverlay(e,Gr.NoRows)},t.prototype.showOverlay=function(e,t){var o=this;this.inProgress||(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.inProgress=!0,e.then(function(e){o.inProgress=!1,o.eOverlayWrapper.appendChild(e.getGui()),o.activeOverlay=e,o.destroyRequested&&(o.destroyRequested=!1,o.destroyActiveOverlay())}),this.setDisplayed(!0))},t.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),et.clearElement(this.eOverlayWrapper))},t.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1)},t.prototype.destroy=function(){this.destroyActiveOverlay(),e.prototype.destroy.call(this)},t.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',dl([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),dl([ct("userComponentFactory")],t.prototype,"userComponentFactory",void 0),dl([ro("eOverlayWrapper")],t.prototype,"eOverlayWrapper",void 0),dl([at],t.prototype,"postConstruct",null),t}(oo),fl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),gl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ml=function(e){function t(o){void 0===o&&(o={});var n=e.call(this,t.getTemplate(o))||this;n.suppressEnabledCheckbox=!0,n.suppressOpenCloseIcons=!1;var i=o.enabled,r=o.items,s=o.suppressEnabledCheckbox,a=o.suppressOpenCloseIcons;return n.title=o.title,n.cssIdentifier=o.cssIdentifier||"default",n.enabled=null==i||i,n.items=r||[],n.alignItems=o.alignItems||"center",null!=s&&(n.suppressEnabledCheckbox=s),null!=a&&(n.suppressOpenCloseIcons=a),n}return fl(t,e),t.getTemplate=function(e){var t=e.cssIdentifier||"default";return'<div class="ag-group ag-'+t+'-group">\n            <div class="ag-group-title-bar ag-'+t+'-group-title-bar ag-unselectable" ref="eTitleBar">\n                <span class="ag-group-title-bar-icon ag-'+t+'-group-title-bar-icon" ref="eGroupOpenedIcon"></span>\n                <span class="ag-group-title-bar-icon ag-'+t+'-group-title-bar-icon" ref="eGroupClosedIcon"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+t+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+t+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(e.direction||"vertical")+" ag-"+t+'-group-container"></div>\n        </div>'},t.prototype.postConstruct=function(){if(this.items.length){var e=this.items;this.items=[],this.addItems(e)}var t=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(t("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshChildDisplay()},t.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(et.createIcon("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(et.createIcon("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",function(){return e.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(t){t.keyCode===Ue.KEY_ENTER&&e.toggleGroupExpand()})},t.prototype.refreshChildDisplay=function(){var e=!this.suppressOpenCloseIcons;et.setDisplayed(this.eGroupClosedIcon,e&&!this.expanded),et.setDisplayed(this.eGroupOpenedIcon,e&&this.expanded),et.setDisplayed(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.setAlignItems=function(e){var t=this.getGui();return this.alignItems!==e&&et.removeCssClass(t,"ag-group-item-alignment-"+this.alignItems),this.alignItems=e,et.addCssClass(t,"ag-group-item-alignment-"+this.alignItems),this},t.prototype.toggleGroupExpand=function(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),et.setDisplayed(this.eContainer,!0),this):(this.expanded===(e=null!=e?e:!this.expanded)||(this.expanded=e,this.refreshChildDisplay(),et.setDisplayed(this.eContainer,e),this.dispatchEvent(this.expanded?{type:t.EVENT_EXPANDED}:{type:t.EVENT_COLLAPSED})),this)},t.prototype.addItems=function(e){var t=this;e.forEach(function(e){return t.addItem(e)})},t.prototype.addItem=function(e){var t=this.eContainer,o=e instanceof oo?e.getGui():e;et.addCssClass(o,"ag-group-item"),et.addCssClass(o,"ag-"+this.cssIdentifier+"-group-item"),t.appendChild(o),this.items.push(o)},t.prototype.hideItem=function(e,t){et.addOrRemoveCssClass(this.items[t],"ag-hidden",e)},t.prototype.setTitle=function(e){return this.eTitle.innerText=e,this},t.prototype.addCssClassToTitleBar=function(e){et.addCssClass(this.eTitleBar,e)},t.prototype.setEnabled=function(e,t){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),t||this.cbGroupEnabled.setValue(e),this},t.prototype.isEnabled=function(){return this.enabled},t.prototype.onEnableChange=function(e){var t=this;return this.cbGroupEnabled.onValueChange(function(o){t.setEnabled(o,!0),e(o)}),this},t.prototype.hideEnabledCheckbox=function(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},t.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this},t.prototype.refreshDisabledStyles=function(){et.addOrRemoveCssClass(this.getGui(),"ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(et.addCssClass(this.eTitleBar,"ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(et.removeCssClass(this.eTitleBar,"ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),et.addOrRemoveCssClass(this.eContainer,"ag-disabled-group-container",!this.enabled)},t.EVENT_EXPANDED="expanded",t.EVENT_COLLAPSED="collapsed",gl([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),gl([ro("eTitleBar")],t.prototype,"eTitleBar",void 0),gl([ro("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),gl([ro("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),gl([ro("eToolbar")],t.prototype,"eToolbar",void 0),gl([ro("cbGroupEnabled")],t.prototype,"cbGroupEnabled",void 0),gl([ro("eTitle")],t.prototype,"eTitle",void 0),gl([ro("eContainer")],t.prototype,"eContainer",void 0),gl([at],t.prototype,"postConstruct",null),t}(oo),yl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),vl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Cl=function(e){function t(o){var n=e.call(this,t.getTemplate(o))||this;return n.closable=!0,n.positioned=!1,n.dragStartPosition={x:0,y:0},n.position={x:0,y:0},n.size={width:void 0,height:void 0},n.config=o,n}return yl(t,e),t.getTemplate=function(e){var t=e&&e.cssIdentifier||"default";return'<div class="ag-panel ag-'+t+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+t+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+t+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+t+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+t+'-panel-content-wrapper"></div>\n        </div>'},t.prototype.postConstruct=function(){var e=this,t=this.config,o=t.component,n=t.closable,i=t.hideTitleBar,r=t.title,s=t.minWidth,a=t.width,l=t.minHeight,u=t.height,c=t.centered,p=t.x,d=t.y,h=this.getGui();o&&this.setBodyComponent(o),i?et.addCssClass(this.eTitleBar,"ag-hidden"):(r&&this.setTitle(r),this.setClosable(null!=n?n:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(t){if(h.contains(t.relatedTarget)||h.contains(document.activeElement)||e.eTitleBarButtons.contains(t.target))t.preventDefault();else{var o=e.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");o&&o.focus()}}),this.positioned||(this.minHeight=null!=l?l:250,this.minWidth=null!=s?s:250,this.popupParent=this.popupService.getPopupParent(),a&&this.setWidth(a),u&&this.setHeight(u),this.renderComponent&&this.renderComponent(),a&&u||this.refreshSize(),c?this.center():(p||d)&&this.offsetElement(p,d),this.positioned=!0,this.eContentWrapper.style.height="0")},t.prototype.renderComponent=function(){var e=this,t=this.getGui();t.focus(),this.close=function(){t.parentElement.removeChild(t),e.destroy()}},t.prototype.updateDragStartPosition=function(e,t){this.dragStartPosition={x:e,y:t}},t.prototype.calculateMouseMovement=function(e){var t=this.popupParent.getBoundingClientRect(),o=e.e,n=e.isLeft,i=e.isTop,r=e.anywhereWithin,s=e.topBuffer,a=o.clientX-this.dragStartPosition.x,l=o.clientY-this.dragStartPosition.y,u=this.getWidth(),c=this.getHeight(),p=t.left>=o.clientX&&this.position.x<=0||t.right<=o.clientX&&t.right<=this.position.x+t.left+u;return p||(p=n?a<0&&o.clientX>this.position.x+t.left||a>0&&o.clientX<this.position.x+t.left:r?a<0&&o.clientX>this.position.x+t.left+u||a>0&&o.clientX<this.position.x+t.left:a<0&&o.clientX>this.position.x+t.left+u||a>0&&o.clientX<this.position.x+t.left+u),{movementX:a=p?0:a,movementY:l=t.top>=o.clientY&&this.position.y<=0||t.bottom<=o.clientY&&t.bottom<=this.position.y+t.top+c||i&&(l<0&&o.clientY>this.position.y+t.top+(s||0)||l>0&&o.clientY<this.position.y+t.top)||!i&&(l<0&&o.clientY>this.position.y+t.top+c||l>0&&o.clientY<this.position.y+t.top+c)?0:l}},t.prototype.refreshSize=function(){var e=this.size,t=e.height;e.width||this.setWidth(this.getGui().offsetWidth),t||this.setHeight(this.getGui().offsetHeight)},t.prototype.offsetElement=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var o=this.getGui();this.popupService.positionPopup({ePopup:o,x:e,y:t,minWidth:this.minWidth,minHeight:this.minHeight,keepWithinBounds:!0}),this.position.x=parseInt(o.style.left,10),this.position.y=parseInt(o.style.top,10)},t.prototype.getHeight=function(){return this.size.height},t.prototype.setHeight=function(e){var t=this.getGui(),o=!1;if("string"==typeof e&&-1!==e.indexOf("%"))et.setFixedHeight(t,e),e=et.getAbsoluteHeight(t),o=!0;else{e=Math.max(this.minHeight,e);var n=t.offsetParent;n&&n.clientHeight&&e+this.position.y>n.clientHeight&&(e=n.clientHeight-this.position.y)}this.size.height!==e&&(this.size.height=e,o?(t.style.maxHeight="unset",t.style.minHeight="unset"):et.setFixedHeight(t,e))},t.prototype.getWidth=function(){return this.size.width},t.prototype.setWidth=function(e){var t=this.getGui(),o=!1;if("string"==typeof e&&-1!==e.indexOf("%"))et.setFixedWidth(t,e),e=et.getAbsoluteWidth(t),o=!0;else{e=Math.max(this.minWidth,e);var n=t.offsetParent;n&&n.clientWidth&&e+this.position.x>n.clientWidth&&(e=n.clientWidth-this.position.x)}this.size.width!==e&&(this.size.width=e,o?(t.style.maxWidth="unset",t.style.minWidth="unset"):et.setFixedWidth(t,e))},t.prototype.center=function(){var e=this.getGui(),t=e.offsetParent.clientWidth/2-this.getWidth()/2,o=e.offsetParent.clientHeight/2-this.getHeight()/2;this.offsetElement(t,o)},t.prototype.setClosable=function(e){if(e!==this.closable&&(this.closable=e),e){var o=this.closeButtonComp=new oo(t.CLOSE_BTN_TEMPLATE);this.getContext().createBean(o),(n=o.getGui()).appendChild(et.addCssClass(et.createIconNoSpan("close",this.gridOptionsWrapper),"ag-panel-title-bar-button-icon")),this.addTitleBarButton(o),o.addManagedListener(n,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var n;(n=this.closeButtonComp.getGui()).parentElement.removeChild(n),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},t.prototype.setBodyComponent=function(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())},t.prototype.addTitleBarButton=function(e,t){var o=this.eTitleBarButtons,n=o.children,i=n.length;null==t&&(t=i),t=Math.max(0,Math.min(t,i));var r=e.getGui();et.addCssClass(r,"ag-panel-title-bar-button"),0===t?o.insertAdjacentElement("afterbegin",r):t===i?o.insertAdjacentElement("beforeend",r):n[t-1].insertAdjacentElement("afterend",r),e.setParentComponent(this)},t.prototype.getBodyHeight=function(){return et.getInnerHeight(this.eContentWrapper)},t.prototype.getBodyWidth=function(){return et.getInnerWidth(this.eContentWrapper)},t.prototype.setTitle=function(e){this.eTitle.innerText=e},t.prototype.onBtClose=function(){this.close()},t.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var t=this.getGui();t&&t.offsetParent&&this.close(),e.prototype.destroy.call(this)},t.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',vl([ct("popupService")],t.prototype,"popupService",void 0),vl([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),vl([ro("eContentWrapper")],t.prototype,"eContentWrapper",void 0),vl([ro("eTitleBar")],t.prototype,"eTitleBar",void 0),vl([ro("eTitleBarButtons")],t.prototype,"eTitleBarButtons",void 0),vl([ro("eTitle")],t.prototype,"eTitle",void 0),vl([at],t.prototype,"postConstruct",null),t}(oo),bl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),wl=function(e){function t(t){var o=e.call(this,t)||this;return o.RESIZE_TEMPLATE='<div class="ag-resizer-wrapper">\n            <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n            <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n            <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n            <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n            <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n            <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n            <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n            <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n        </div>',o.MAXIMIZE_BTN_TEMPLATE='<div class="ag-dialog-button"></span>',o.resizable={},o.movable=!1,o.isMoving=!1,o.isMaximizable=!1,o.isMaximized=!1,o.maximizeListeners=[],o.resizeListenerDestroy=null,o.isResizing=!1,o.lastPosition={x:0,y:0,width:0,height:0},o}return bl(t,e),t.prototype.postConstruct=function(){var t=this,o=this.getGui(),n=this.config,i=n.movable,r=n.resizable,s=n.maximizable;et.addCssClass(o,"ag-dialog"),this.moveElement=this.eTitleBar,e.prototype.postConstruct.call(this),this.addManagedListener(o,"focusin",function(e){o.contains(e.relatedTarget)||t.popupService.bringPopupToFront(o)}),i&&this.setMovable(i),s&&this.setMaximizable(s),this.addResizers(),r&&this.setResizable(r)},t.prototype.renderComponent=function(){var e=this.getGui(),t=this.config,o=t.alwaysOnTop;this.close=this.popupService.addPopup(t.modal,e,!0,this.destroy.bind(this),void 0,o),e.focus()},t.prototype.addResizers=function(){var e=this.getGui();if(e){var t=(new DOMParser).parseFromString(this.RESIZE_TEMPLATE,"text/html").body;e.appendChild(t.firstChild),this.createMap()}},t.prototype.createMap=function(){var e=this.getGui();this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}},t.prototype.getResizerElement=function(e){return this.resizerMap[e].element},t.prototype.onResizeStart=function(e){this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onResize=function(e,t){if(this.isResizing){var o=!!t.match(/left/i),n=!!t.match(/right/i),i=!!t.match(/top/i),r=!!t.match(/bottom/i),s=o||n,a=i||r,l=this.calculateMouseMovement({e,isLeft:o,isTop:i}),u=l.movementX,c=l.movementY,p=0,d=0;if(s&&u){var h=o?-1:1,f=this.getWidth(),g=f+u*h,m=!1;o&&(this.position.x+(p=f-g)<=0||g<=this.minWidth)&&(m=!0,p=0),m||this.setWidth(g)}if(a&&c){h=i?-1:1;var y=this.getHeight(),v=y+c*h,C=!1;i&&(this.position.y+(d=y-v)<=0||v<=this.minHeight)&&(C=!0,d=0),C||this.setHeight(v)}this.updateDragStartPosition(e.clientX,e.clientY),(p||d)&&this.offsetElement(this.position.x+p,this.position.y+d)}},t.prototype.onResizeEnd=function(){this.isResizing=!1;var e={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.dispatchEvent(e)},t.prototype.onMoveStart=function(e){this.isMoving=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onMove=function(e){if(this.isMoving){var t=this.position,o=t.x,n=t.y,i=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:this.getHeight()-this.getBodyHeight()});this.offsetElement(o+i.movementX,n+i.movementY),this.updateDragStartPosition(e.clientX,e.clientY)}},t.prototype.onMoveEnd=function(){this.isMoving=!1},t.prototype.toggleMaximize=function(){if(this.isMaximized){var e=this.lastPosition,t=e.x,o=e.y,n=e.height;this.setWidth(e.width),this.setHeight(n),this.offsetElement(t,o)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=this.position.x,this.lastPosition.y=this.position.y,this.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},t.prototype.refreshMaximizeIcon=function(){et.addOrRemoveCssClass(this.maximizeIcon,"ag-hidden",this.isMaximized),et.addOrRemoveCssClass(this.minimizeIcon,"ag-hidden",!this.isMaximized)},t.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(e){return e()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},t.prototype.destroy=function(){this.setResizable(!1),this.setMovable(!1),this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),e.prototype.destroy.call(this)},t.prototype.setResizable=function(e){var t=this;"boolean"==typeof e&&(e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}),Object.keys(e).forEach(function(o){var n=o,i=!!e[n],r=t.getResizerElement(n),s=t.resizerMap[n].dragSource||{eElement:r,onDragStart:t.onResizeStart.bind(t),onDragging:function(e){return t.onResize(e,n)},onDragStop:t.onResizeEnd.bind(t)};!!t.resizable[n]===i&&(t.isAlive()||i)||(i?(t.dragService.addDragSource(s),r.style.pointerEvents="all"):(t.dragService.removeDragSource(s),r.style.pointerEvents="none"),t.resizerMap[n].dragSource=i?s:void 0)})},t.prototype.setMovable=function(e){if(e!==this.movable){this.movable=e;var t=this.moveElementDragListener||{eElement:this.moveElement,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(t),this.moveElementDragListener=t):(this.dragService.removeDragSource(t),this.moveElementDragListener=void 0)}},t.prototype.setMaximizable=function(e){var t=this;if(!1===e)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var o=this.eTitleBar;if(o&&e!==this.isMaximizable){var n=this.maximizeButtonComp=new oo(this.MAXIMIZE_BTN_TEMPLATE);this.getContext().createBean(n);var i=n.getGui();i.appendChild(this.maximizeIcon=et.createIconNoSpan("maximize",this.gridOptionsWrapper)),et.addCssClass(this.maximizeIcon,"ag-panel-title-bar-button-icon"),i.appendChild(this.minimizeIcon=et.createIconNoSpan("minimize",this.gridOptionsWrapper)),et.addCssClass(this.minimizeIcon,"ag-panel-title-bar-button-icon"),et.addCssClass(this.minimizeIcon,"ag-hidden"),n.addManagedListener(i,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(n,0),this.maximizeListeners.push(this.addManagedListener(o,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){t.isMaximized=!1,t.refreshMaximizeIcon()})}},function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([ct("dragService")],t.prototype,"dragService",void 0),t}(Cl),El=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Rl=function(e){function t(t){var o=e.call(this)||this;return o.className="ag-text-field",o.displayTag="input",o.inputType="text",o.setTemplate(o.TEMPLATE.replace(/%displayField%/g,o.displayTag)),t&&(o.config=t),o}return El(t,e),t.prototype.setValue=function(t,o){var n=e.prototype.setValue.call(this,t,o);return this.eInput.value!==t&&(this.eInput.value=et.exists(t)?t:""),n},t}(Uo),_l=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Sl=function(e){function t(t){var o=e.call(this)||this;return o.className="ag-text-area",o.displayTag="textarea",o.inputType="",o.setTemplate(o.TEMPLATE.replace(/%displayField%/g,o.displayTag)),t&&(o.config=t),o}return _l(t,e),t.prototype.setValue=function(t,o){var n=e.prototype.setValue.call(this,t,o);return this.eInput.value=t,n},t.prototype.setCols=function(e){return this.eInput.cols=e,this},t.prototype.setRows=function(e){return this.eInput.rows=e,this},t}(Uo),Ol=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Dl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Pl=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.labelAlignment="top",o}return Ol(t,e),t.prototype.init=function(){et.addCssClass(this.eSlider.getGui(),"ag-slider-field")},t.prototype.onValueChange=function(e){var t=this,o=Wo.EVENT_CHANGED;return this.addManagedListener(this.eText,o,function(){var o=parseFloat(t.eText.getValue());t.eSlider.setValue(o.toString(),!0),e(o||0)}),this.addManagedListener(this.eSlider,o,function(){var o=t.eSlider.getValue();t.eText.setValue(o,!0),e(parseFloat(o))}),this},t.prototype.setSliderWidth=function(e){return this.eSlider.setWidth(e),this},t.prototype.setTextFieldWidth=function(e){return this.eText.setWidth(e),this},t.prototype.setMinValue=function(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this},t.prototype.setMaxValue=function(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this},t.prototype.getValue=function(){return this.eText.getValue()},t.prototype.setValue=function(e){return this.getValue()===e||(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:Wo.EVENT_CHANGED})),this},t.prototype.setStep=function(e){return this.eSlider.setStep(e),this.eText.setStep(e),this},t.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',Dl([ro("eLabel")],t.prototype,"eLabel",void 0),Dl([ro("eSlider")],t.prototype,"eSlider",void 0),Dl([ro("eText")],t.prototype,"eText",void 0),Dl([at],t.prototype,"init",null),t}(Vo),Tl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Al=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Fl=function(e){function t(o){var n=e.call(this,t.TEMPLATE)||this;return n.H=1,n.S=1,n.B=1,n.A=1,n.isSpectrumDragging=!1,n.isSpectrumHueDragging=!1,n.isSpectrumAlphaDragging=!1,n.colorChanged=!1,n.picker=o.picker,n}return Tl(t,e),t.prototype.postConstruct=function(){var e=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},t.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},t.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},t.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},t.prototype.onSpectrumDraggerDown=function(e){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(e)},t.prototype.onSpectrumDraggerMove=function(e){this.isSpectrumDragging&&this.moveDragger(e)},t.prototype.onSpectrumHueDown=function(e){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(e)},t.prototype.onSpectrumHueMove=function(e){this.isSpectrumHueDragging&&this.moveHueSlider(e)},t.prototype.onSpectrumAlphaDown=function(e){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(e)},t.prototype.onSpectrumAlphaMove=function(e){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(e)},t.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},t.prototype.moveDragger=function(e){var t=this.spectrumValRect;if(t){var o=e.clientX-t.left,n=e.clientY-t.top;o=Math.max(o,0),o=Math.min(o,t.width),n=Math.max(n,0),n=Math.min(n,t.height),this.setSpectrumValue(o/t.width,1-n/t.height)}},t.prototype.moveHueSlider=function(e){var t=this.spectrumHueRect;if(t){var o=this.spectrumHueSlider,n=o.getBoundingClientRect(),i=e.clientX-t.left;i=Math.max(i,0),i=Math.min(i,t.width),this.H=1-i/t.width,o.style.left=i+n.width/2+"px",this.update()}},t.prototype.moveAlphaSlider=function(e){var t=this.spectrumAlphaRect;if(t){var o=this.spectrumAlphaSlider,n=o.getBoundingClientRect(),i=e.clientX-t.left;i=Math.max(i,0),i=Math.min(i,t.width),this.A=i/t.width,o.style.left=i+n.width/2+"px",this.update()}},t.prototype.update=function(){var e=n.fromHSB(360*this.H,this.S,this.B,this.A),t=n.fromHSB(360*this.H,1,1),o=e.toRgbaString(),i=this.picker;n.fromString(i.getValue()).toRgbaString()!==o&&(this.colorChanged=!0),i.setValue(o),this.spectrumColor.style.backgroundColor=t.toRgbaString(),this.spectrumDragger.style.backgroundColor=o},t.prototype.setSpectrumValue=function(e,t){var o=this.spectrumValRect||this.refreshSpectrumRect();if(o){var n=this.spectrumDragger,i=n.getBoundingClientRect();e=Math.max(0,e),e=Math.min(1,e),t=Math.max(0,t),t=Math.min(1,t),this.S=e,this.B=t,n.style.left=e*o.width-i.width/2+"px",n.style.top=(1-t)*o.height-i.height/2+"px",this.update()}},t.prototype.initRecentColors=function(){var e=t.recentColors.map(function(e,t){return'<div class="ag-recent-color" id='+t+' style="background-color: '+e+'; width: 15px; height: 15px;" recent-color="'+e+'"></div>'});this.recentColors.innerHTML=e.join("")},t.prototype.setValue=function(e){var t=n.fromString(e),o=t.toHSB(),i=o[0],r=o[1],s=o[2];this.H=(isNaN(i)?0:i)/360,this.A=t.a;var a=this.spectrumHueRect||this.refreshHueRect(),l=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-a.width+"px",this.spectrumAlphaSlider.style.left=this.A*l.width+"px",this.setSpectrumValue(r,s)},t.prototype.onRecentColorClick=function(e){var o=e.target;if(et.exists(o.id)){var n=parseInt(o.id,10);this.setValue(t.recentColors[n]),this.destroy()}},t.prototype.addRecentColor=function(){var e=n.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),o=t.recentColors;this.colorChanged&&o[0]!==e&&(o=o.filter(function(t){return t!=e}),(o=[e].concat(o)).length>t.maxRecentColors&&(o=o.slice(0,t.maxRecentColors)),t.recentColors=o)},t.prototype.destroy=function(){this.addRecentColor(),e.prototype.destroy.call(this)},t.maxRecentColors=8,t.recentColors=[],t.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',Al([ro("spectrumColor")],t.prototype,"spectrumColor",void 0),Al([ro("spectrumVal")],t.prototype,"spectrumVal",void 0),Al([ro("spectrumDragger")],t.prototype,"spectrumDragger",void 0),Al([ro("spectrumHue")],t.prototype,"spectrumHue",void 0),Al([ro("spectrumHueSlider")],t.prototype,"spectrumHueSlider",void 0),Al([ro("spectrumAlpha")],t.prototype,"spectrumAlpha",void 0),Al([ro("spectrumAlphaSlider")],t.prototype,"spectrumAlphaSlider",void 0),Al([ro("recentColors")],t.prototype,"recentColors",void 0),Al([at],t.prototype,"postConstruct",null),t}(oo),Nl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),xl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Il=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.TEMPLATE='<div class="ag-picker-field" role="presentation">\n            <label ref="eLabel"></label>\n            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper" tabIndex="-1">\n                <%displayField% ref="eDisplayField" class="ag-picker-field-display"></%displayField%>\n                <div ref="eIcon" class="ag-picker-field-icon"></div>\n            </div>\n        </div>',t.isDestroyingPicker=!1,t.skipClick=!1,t}return Nl(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this);var o=function(){t.skipClick?t.skipClick=!1:t.isDisabled()||(t.pickerComponent=t.showPicker())},n=this.getGui();this.addManagedListener(n,"mousedown",function(e){!t.skipClick&&t.pickerComponent&&t.pickerComponent.isAlive()&&et.isVisible(t.pickerComponent.getGui())&&n.contains(e.target)&&(t.skipClick=!0)}),this.addManagedListener(n,"keydown",function(e){switch(e.keyCode){case Ue.KEY_UP:case Ue.KEY_DOWN:case Ue.KEY_ENTER:case Ue.KEY_SPACE:o();case Ue.KEY_ESCAPE:e.preventDefault()}}),this.addManagedListener(this.eWrapper,"click",o),this.addManagedListener(this.eLabel,"click",o),this.pickerIcon&&this.eIcon.appendChild(et.createIconNoSpan(this.pickerIcon,this.gridOptionsWrapper,null))},t.prototype.setInputWidth=function(e){return et.setElementWidth(this.eWrapper,e),this},t.prototype.getFocusableElement=function(){return this.eWrapper},xl([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),xl([ro("eLabel")],t.prototype,"eLabel",void 0),xl([ro("eWrapper")],t.prototype,"eWrapper",void 0),xl([ro("eDisplayField")],t.prototype,"eDisplayField",void 0),xl([ro("eIcon")],t.prototype,"eIcon",void 0),t}(Wo),Ml=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ll=function(e){function t(t){var o=e.call(this)||this;return o.displayTag="div",o.className="ag-color-picker",o.pickerIcon="colorPicker",o.setTemplate(o.TEMPLATE.replace(/%displayField%/g,o.displayTag)),t&&t.color&&(o.value=t.color),o}return Ml(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},t.prototype.showPicker=function(){var e=this,t=this.getGui().getBoundingClientRect(),o=new wl({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:t.right-190,y:t.top-250});this.createBean(o),et.addCssClass(o.getGui(),"ag-color-dialog");var n=new Fl({picker:this});return this.createBean(n),n.addDestroyFunc(function(){o.isAlive()&&e.destroyBean(o)}),o.setParentComponent(this),o.setBodyComponent(n),n.setValue(this.getValue()),o.addDestroyFunc(function(){e.isDestroyingPicker?e.isDestroyingPicker=!1:(e.isDestroyingPicker=!0,n.isAlive()&&e.destroyBean(n)),e.isAlive()&&e.getFocusableElement().focus()}),o},t.prototype.setValue=function(e){return this.value===e||(this.value=e,this.eDisplayField.style.backgroundColor=e,this.dispatchEvent({type:Wo.EVENT_CHANGED})),this},t.prototype.getValue=function(){return this.value},t}(Il),Gl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),kl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.className="ag-number-field",t.inputType="number",t}return Gl(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var e=parseFloat(t.eInput.value),o=isNaN(e)?"":t.normalizeValue(e.toString());t.value!==o&&t.setValue(o)})},t.prototype.normalizeValue=function(e){if(""===e)return"";this.precision&&(e=this.adjustPrecision(e));var t=parseFloat(e);return null!=this.min&&t<this.min?e=this.min.toString():null!=this.max&&t>this.max&&(e=this.max.toString()),e},t.prototype.adjustPrecision=function(e){if(this.precision){var t=parseFloat(e).toFixed(this.precision);e=parseFloat(t).toString()}return e},t.prototype.setMin=function(e){return this.min===e||(this.min=e,null!=this.min?this.eInput.setAttribute("min",e.toString()):this.eInput.removeAttribute("min")),this},t.prototype.setMax=function(e){return this.max===e||(this.max=e,null!=this.max?this.eInput.setAttribute("max",e.toString()):this.eInput.removeAttribute("max")),this},t.prototype.setPrecision=function(e){return this.precision=e,this},t.prototype.setStep=function(e){return this.step===e||(this.step=e,null!=e?this.eInput.setAttribute("step",e.toString()):this.eInput.removeAttribute("step")),this},t.prototype.setValue=function(t,o){return(t=this.adjustPrecision(t))!=this.normalizeValue(t)?this:e.prototype.setValue.call(this,t,o)},t}(Rl),Vl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Hl=function(e){function t(t){var o=e.call(this)||this;return o.className="ag-range-field",o.displayTag="input",o.inputType="range",o.setTemplate(o.TEMPLATE.replace(/%displayField%/g,o.displayTag)),t&&(o.config=t),o}return Vl(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this);var t=this.config,o=t.min,n=t.max,i=t.step;null!=o&&this.setMinValue(o),null!=n&&this.setMaxValue(n),this.setStep(i||1)},t.prototype.addInputListeners=function(){var e=this,t=et.isBrowserIE();this.addManagedListener(this.eInput,t?"change":"input",function(t){e.setValue(t.target.value)})},t.prototype.setMinValue=function(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this},t.prototype.setMaxValue=function(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this},t.prototype.setStep=function(e){return this.step=e,this.eInput.setAttribute("step",e.toString()),this},t.prototype.setValue=function(t,o){null!=this.min&&(t=Math.max(parseFloat(t),this.min).toString()),null!=this.max&&(t=Math.min(parseFloat(t),this.max).toString());var n=e.prototype.setValue.call(this,t,o);return this.eInput.value=t,n},t}(Uo),Wl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Bl=function(e){function t(o){void 0===o&&(o="default");var n=e.call(this,t.getTemplate(o))||this;return n.cssIdentifier=o,n.options=[],n.itemEls=[],n}return Wl(t,e),t.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},t.getTemplate=function(e){return'<div class="ag-list ag-'+e+'-list"></div>'},t.prototype.handleKeyDown=function(e){var t=e.keyCode;switch(t){case Ue.KEY_ENTER:if(this.highlightedEl){var o=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(o)}else this.setValue(this.getValue());break;case Ue.KEY_DOWN:case Ue.KEY_UP:var n=t===Ue.KEY_DOWN,i=void 0;if(e.preventDefault(),this.highlightedEl){var r=this.itemEls.indexOf(this.highlightedEl)+(n?1:-1);r=Math.min(Math.max(r,0),this.itemEls.length-1),i=this.itemEls[r]}else i=this.itemEls[n?0:this.itemEls.length-1];this.highlightItem(i)}},t.prototype.addOptions=function(e){var t=this;return e.forEach(function(e){return t.addOption(e)}),this},t.prototype.addOption=function(e){var t=e.value,o=e.text,n=et.escape(void 0===o?t:o);return this.options.push({value:t,text:n}),this.renderOption(n),this},t.prototype.renderOption=function(e){var t=this,o=document.createElement("div"),n=document.createElement("span");et.addCssClass(o,"ag-list-item"),et.addCssClass(o,"ag-"+this.cssIdentifier+"-list-item"),o.tabIndex=-1,n.innerHTML=e,this.itemEls.push(o),this.addManagedListener(o,"mouseover",function(e){return t.highlightItem(o)}),this.addManagedListener(o,"mouseleave",function(){return t.clearHighlighted()}),this.addManagedListener(o,"click",function(){var e=t.itemEls.indexOf(o);t.setValueByIndex(e)}),o.appendChild(n),this.getGui().appendChild(o)},t.prototype.setValue=function(e,t){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(),this;var o=et.findIndex(this.options,function(t){return t.value===e});if(-1!==o){var n=this.options[o];this.value=n.value,this.displayValue=null!=n.text?n.text:n.value,this.highlightItem(this.itemEls[o]),t||this.fireChangeEvent()}return this},t.prototype.setValueByIndex=function(e){return this.setValue(this.options[e].value)},t.prototype.getValue=function(){return this.value},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.refreshHighlighted=function(){var e=this;this.clearHighlighted();var t=et.findIndex(this.options,function(t){return t.value===e.value});-1!==t&&this.highlightItem(this.itemEls[t])},t.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},t.prototype.highlightItem=function(e){e.offsetParent&&(et.radioCssClass(e,"ag-active-item"),this.highlightedEl=e,this.highlightedEl.focus())},t.prototype.clearHighlighted=function(){this.highlightedEl&&this.highlightedEl.offsetParent&&(et.removeCssClass(this.highlightedEl,"ag-active-item"),this.highlightedEl=null)},t.prototype.fireChangeEvent=function(){this.dispatchEvent({type:Wo.EVENT_CHANGED}),this.fireItemSelected()},t.prototype.fireItemSelected=function(){this.dispatchEvent({type:t.EVENT_ITEM_SELECTED})},t.EVENT_ITEM_SELECTED="selectedItem",function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([at],t.prototype,"init",null),t}(oo),jl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ul=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},zl=function(e){function t(t){var o=e.call(this)||this;return o.displayTag="div",o.className="ag-select",o.pickerIcon="smallDown",o.setTemplate(o.TEMPLATE.replace(/%displayField%/g,o.displayTag)),o}return jl(t,e),t.prototype.init=function(){var e=this;this.listComponent=new Bl("select"),this.getContext().createBean(this.listComponent),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,Bl.EVENT_ITEM_SELECTED,function(){e.hideList&&e.hideList()}),this.listComponent.addManagedListener(this.listComponent,Wo.EVENT_CHANGED,function(){e.setValue(e.listComponent.getValue(),!1,!0),e.hideList&&e.hideList()})},t.prototype.showPicker=function(){var e=this,t=this.listComponent.getGui(),o=this.addManagedListener(document.body,"wheel",function(o){!t.contains(o.target)&&e.hideList&&e.hideList()}),n=this.addManagedListener(t,"focusout",function(o){!t.contains(o.relatedTarget)&&e.hideList&&e.hideList()});return this.hideList=this.popupService.addPopup(!0,t,!0,function(){e.hideList=null,n(),o(),e.isAlive()&&e.getFocusableElement().focus()}),et.setElementWidth(t,et.getAbsoluteWidth(this.eWrapper)),t.style.maxHeight=et.getInnerHeight(this.popupService.getPopupParent())+"px",t.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:t,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},t.prototype.addOptions=function(e){var t=this;return e.forEach(function(e){return t.addOption(e)}),this},t.prototype.addOption=function(e){return this.listComponent.addOption(e),this},t.prototype.setValue=function(t,o,n){if(this.value!==t&&(n||this.listComponent.setValue(t,!0),this.listComponent.getValue()!==this.getValue()))return this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),e.prototype.setValue.call(this,t,o)},t.prototype.destroy=function(){this.hideList&&this.hideList(),this.getContext().destroyBean(this.listComponent),e.prototype.destroy.call(this)},Ul([ct("popupService")],t.prototype,"popupService",void 0),Ul([at],t.prototype,"init",null),t}(Il),Kl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Yl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ql=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.radius=0,o.offsetX=0,o.offsetY=0,o}return Kl(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(e){t.parentCircleRect=t.eParentCircle.getBoundingClientRect()},onDragging:function(e){return t.calculateAngleDrag(e)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange(function(e){null!=e&&""!==e||(e="0"),e=t.eAngleValue.normalizeValue(e);var o=parseFloat(e);o>180&&(o-=360),t.setValue(o)}),this.updateNumberInput(),et.exists(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,Wo.EVENT_CHANGED,function(){t.eAngleValue.getInputElement().contains(document.activeElement)||t.updateNumberInput()})},t.prototype.updateNumberInput=function(){var e=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(e.toString())},t.prototype.positionChildCircle=function(e){var t=this.parentCircleRect||{width:24,height:24},o=this.eChildCircle,n=t.height/2;o.style.left=t.width/2+8*Math.cos(e)+"px",o.style.top=n+8*Math.sin(e)+"px"},t.prototype.calculatePolar=function(){var e=this.offsetX,t=this.offsetY,o=Math.atan2(t,e);this.degrees=this.toDegrees(o),this.radius=Math.sqrt(e*e+t*t),this.positionChildCircle(o)},t.prototype.calculateCartesian=function(){var e=this.toRadians(this.getValue()),t=this.getRadius();this.setOffsetX(Math.cos(e)*t).setOffsetY(Math.sin(e)*t)},t.prototype.setOffsetX=function(e){return this.offsetX!==e&&(this.offsetX=e,this.calculatePolar()),this},t.prototype.setOffsetY=function(e){return this.offsetY!==e&&(this.offsetY=e,this.calculatePolar()),this},t.prototype.calculateAngleDrag=function(e){var t=this.parentCircleRect,o=Math.atan2(e.clientY-t.top-t.height/2,e.clientX-t.left-t.width/2);this.setValue(o,!0)},t.prototype.toDegrees=function(e){return e/Math.PI*180},t.prototype.toRadians=function(e){return e/180*Math.PI},t.prototype.normalizeNegativeValue=function(e){return e<0?360+e:e},t.prototype.normalizeAngle180=function(e){return(e%=2*Math.PI)<-Math.PI?e+=2*Math.PI:e>=Math.PI&&(e-=2*Math.PI),e},t.prototype.getRadius=function(){return this.radius},t.prototype.setRadius=function(e){return this.radius===e||(this.radius=e,this.calculateCartesian()),this},t.prototype.onValueChange=function(e){var t=this;return this.addManagedListener(this,Wo.EVENT_CHANGED,function(){e(t.degrees)}),this},t.prototype.getValue=function(e){return e?this.toRadians(this.degrees):this.degrees},t.prototype.setValue=function(e,t){var o;return o=t?e:this.normalizeAngle180(this.toRadians(e)),e=this.toDegrees(o),this.degrees!==e&&(this.degrees=Math.floor(e),this.calculateCartesian(),this.positionChildCircle(o),this.dispatchEvent({type:Wo.EVENT_CHANGED})),this},t.prototype.setWidth=function(e){return et.setFixedWidth(this.getGui(),e),this},t.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-angle-select">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',Yl([ro("eLabel")],t.prototype,"eLabel",void 0),Yl([ro("eParentCircle")],t.prototype,"eParentCircle",void 0),Yl([ro("eChildCircle")],t.prototype,"eChildCircle",void 0),Yl([ro("eAngleValue")],t.prototype,"eAngleValue",void 0),Yl([ct("dragService")],t.prototype,"dragService",void 0),t}(Vo),$l=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ql=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.className="ag-toggle-button",t.inputType="checkbox",t}return $l(t,e),t.prototype.setValue=function(t,o){return e.prototype.setValue.call(this,t,o),et.addOrRemoveCssClass(this.getGui(),"ag-selected",this.getValue()),this},t}(Zs),Xl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Zl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Jl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cacheItems=[],t}return Xl(t,e),t.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isKeepDetailRows(),this.maxCacheSize=this.gridOptionsWrapper.getKeepDetailRowsCount()},t.prototype.addOrDestroy=function(e,t,o){if(this.active&&e.detail){var n=this.getCacheItem(e,!0);switch(t){case Ue.PINNED_LEFT:this.destroyFullWidthRow(n.left),n.left=o;break;case Ue.PINNED_RIGHT:this.destroyFullWidthRow(n.right),n.right=o;break;default:this.destroyFullWidthRow(n.center),n.center=o}this.cacheItems.sort(function(e,t){return t.lastAccessedTime-e.lastAccessedTime}),this.purgeCache(this.maxCacheSize)}else this.destroyFullWidthRow(o)},t.prototype.getCacheItem=function(e,t){var o;void 0===t&&(t=!1);for(var n=0;n<this.cacheItems.length;n++){var i=this.cacheItems[n];if(i.rowNode===e){o=i;break}}return!o&&t&&this.cacheItems.push(o={rowNode:e}),o&&this.stampCacheItem(o),o},t.prototype.stampCacheItem=function(e){e.lastAccessedTime=(new Date).getTime()},t.prototype.destroyFullWidthRow=function(e){this.getContext().destroyBean(e)},t.prototype.purgeCache=function(e){for(var t=e;t<this.cacheItems.length;t++){var o=this.cacheItems[t];this.destroyFullWidthRow(o.center),this.destroyFullWidthRow(o.left),this.destroyFullWidthRow(o.right)}this.cacheItems.length>e&&(this.cacheItems.length=e)},t.prototype.get=function(e,t){if(e.detail){var o,n=this.getCacheItem(e);if(n)switch(t){case Ue.PINNED_LEFT:n.left&&(o=n.left,n.left=void 0);break;case Ue.PINNED_RIGHT:n.right&&(o=n.right,n.right=void 0);break;default:n.center&&(o=n.center,n.center=void 0)}return o}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.purgeCache(0)},Zl([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Zl([at],t.prototype,"postConstruct",null),Zl([lt],t.prototype,"destroy",null),Zl([ut("detailRowCompCache")],t)}(Dt),eu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),tu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ou=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return eu(t,e),t.prototype.getFirstRow=function(){var e;return this.pinnedRowModel.getPinnedTopRowCount()?e=Ue.PINNED_TOP:this.rowModel.getRowCount()?e=null:this.pinnedRowModel.getPinnedBottomRowCount()&&(e=Ue.PINNED_BOTTOM),void 0===e?null:{rowIndex:0,rowPinned:e}},t.prototype.getRowNode=function(e){switch(e.rowPinned){case Ue.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case Ue.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.sameRow=function(e,t){return!e&&!t||!(e&&!t||!e&&t)&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned},t.prototype.before=function(e,t){switch(e.rowPinned){case Ue.PINNED_TOP:if(t.rowPinned!==Ue.PINNED_TOP)return!0;break;case Ue.PINNED_BOTTOM:if(t.rowPinned!==Ue.PINNED_BOTTOM)return!1;break;default:if(et.exists(t.rowPinned))return t.rowPinned!==Ue.PINNED_TOP}return e.rowIndex<t.rowIndex},tu([ct("rowModel")],t.prototype,"rowModel",void 0),tu([ct("rowRenderer")],t.prototype,"rowRenderer",void 0),tu([ct("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),tu([ut("rowPositionUtils")],t)}(Dt),nu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),iu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nu(t,e),t.prototype.createId=function(e){return this.createIdFromValues(e.rowIndex,e.column,e.rowPinned)},t.prototype.createIdFromValues=function(e,t,o){return e+"."+(null==o?"null":o)+"."+t.getId()},t.prototype.equals=function(e,t){return e.column===t.column&&e.rowPinned===t.rowPinned&&e.rowIndex===t.rowIndex},function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}([ut("cellPositionUtils")],t)}(Dt),ru=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),su=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},au=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ru(t,e),t.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},t.prototype.isEmpty=function(e){return et.missingOrEmpty(e===Ue.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows)},t.prototype.isRowsToRender=function(e){return!this.isEmpty(e)},t.prototype.getRowAtPixel=function(e,t){var o=t===Ue.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(et.missingOrEmpty(o))return 0;for(var n=0;n<o.length;n++){var i=o[n];if(i.rowTop+i.rowHeight-1>=e)return n}return o.length-1},t.prototype.setPinnedTopRowData=function(e){this.pinnedTopRows=this.createNodesFromData(e,!0),this.eventService.dispatchEvent({type:Ft.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.setPinnedBottomRowData=function(e){this.pinnedBottomRows=this.createNodesFromData(e,!1),this.eventService.dispatchEvent({type:Ft.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.createNodesFromData=function(e,t){var o=this,n=[];if(e){var i=0;e.forEach(function(e,r){var s=new Go;o.context.createBean(s),s.data=e,s.id=(t?Go.ID_PREFIX_TOP_PINNED:Go.ID_PREFIX_BOTTOM_PINNED)+r,s.rowPinned=t?Ue.PINNED_TOP:Ue.PINNED_BOTTOM,s.setRowTop(i),s.setRowHeight(o.gridOptionsWrapper.getRowHeightForNode(s).height),s.setRowIndex(r),i+=s.rowHeight,n.push(s)})}return n},t.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},t.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},t.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},t.prototype.getPinnedTopRow=function(e){return this.pinnedTopRows[e]},t.prototype.getPinnedBottomRow=function(e){return this.pinnedBottomRows[e]},t.prototype.forEachPinnedTopRow=function(e){et.missingOrEmpty(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)},t.prototype.forEachPinnedBottomRow=function(e){et.missingOrEmpty(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)},t.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},t.prototype.getTotalHeight=function(e){if(e&&0!==e.length){var t=et.last(e);return t.rowTop+t.rowHeight}return 0},su([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),su([ct("columnApi")],t.prototype,"columnApi",void 0),su([ct("gridApi")],t.prototype,"gridApi",void 0),su([at],t.prototype,"init",null),su([ut("pinnedRowModel")],t)}(Dt),lu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),uu=function(e){this.cellValueChanges=e},cu=function(e){function t(t,o,n){var i=e.call(this,t)||this;return i.initialRange=o,i.finalRange=n,i}return lu(t,e),t}(uu),pu=function(){function e(t){this.actionStack=[],this.maxStackSize=t||e.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return e.prototype.pop=function(){return this.actionStack.pop()},e.prototype.push=function(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))},e.prototype.clear=function(){this.actionStack=[]},e.DEFAULT_STACK_SIZE=10,e}(),du=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),hu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},fu=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.cellValueChanges=[],t.isCellEditing=!1,t.isRowEditing=!1,t.isPasting=!1,t.isFilling=!1,t.onCellValueChanged=function(e){if(t.isCellEditing||t.isRowEditing||t.isPasting||t.isFilling){var o=e.oldValue,n=e.value,i={rowPinned:e.rowPinned,rowIndex:e.rowIndex,columnId:e.column.getColId(),oldValue:o,newValue:n};t.cellValueChanges.push(i)}},t.clearStacks=function(){t.undoStack.clear(),t.redoStack.clear()},t}return du(o,e),o.prototype.init=function(){if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var e=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();e<=0||(this.undoStack=new pu(e),this.redoStack=new pu(e),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addManagedListener(this.eventService,Ft.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,Ft.EVENT_MODEL_UPDATED,this.clearStacks),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_EVERYTHING_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,Ft.EVENT_ROW_DRAG_END,this.clearStacks))}},o.prototype.undo=function(){if(this.undoStack){var e=this.undoStack.pop();e&&e.cellValueChanges&&(this.processAction(e,function(e){return e.oldValue}),e instanceof cu?this.processRangeAndCellFocus(e.cellValueChanges,e.initialRange):this.processRangeAndCellFocus(e.cellValueChanges),this.redoStack.push(e))}},o.prototype.redo=function(){if(this.redoStack){var e=this.redoStack.pop();e&&e.cellValueChanges&&(this.processAction(e,function(e){return e.newValue}),e instanceof cu?this.processRangeAndCellFocus(e.cellValueChanges,e.finalRange):this.processRangeAndCellFocus(e.cellValueChanges),this.undoStack.push(e))}},o.prototype.processAction=function(e,t){var o=this;e.cellValueChanges.forEach(function(e){var n=e.columnId,i=o.getRowNode({rowIndex:e.rowIndex,rowPinned:e.rowPinned});null!=i.rowTop&&i.setDataValue(n,t(e))})},o.prototype.processRangeAndCellFocus=function(e,t){if(t){var o=t.startRow,n=t.endRow,i={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:t.startColumn.getColId()};return this.setLastFocusedCell(i),void this.gridApi.addCellRange({rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:n.rowIndex,rowEndPinned:n.rowPinned,columnStart:t.startColumn,columns:t.columns})}var r=e[0],s=this.getRowNode({rowIndex:r.rowIndex,rowPinned:r.rowPinned});this.setLastFocusedCell({rowPinned:r.rowPinned,rowIndex:s.rowIndex,columnId:r.columnId})},o.prototype.setLastFocusedCell=function(e){var o=e.rowIndex,n=e.columnId,i=e.rowPinned;this.gridApi.ensureIndexVisible(o),this.gridApi.ensureColumnVisible(n),bt.isRegistered(t.ModuleNames.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusController.setFocusedCell(o,n,i,!0)},o.prototype.addRowEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,Ft.EVENT_ROW_EDITING_STARTED,function(){e.isRowEditing=!0}),this.addManagedListener(this.eventService,Ft.EVENT_ROW_EDITING_STOPPED,function(){var t=new uu(e.cellValueChanges);e.pushActionsToUndoStack(t),e.isRowEditing=!1})},o.prototype.addCellEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,Ft.EVENT_CELL_EDITING_STARTED,function(){e.isCellEditing=!0}),this.addManagedListener(this.eventService,Ft.EVENT_CELL_EDITING_STOPPED,function(){if(e.isCellEditing=!1,!e.isRowEditing&&!e.isPasting&&!e.isFilling){var t=new uu(e.cellValueChanges);e.pushActionsToUndoStack(t)}})},o.prototype.addPasteListeners=function(){var e=this;this.addManagedListener(this.eventService,Ft.EVENT_PASTE_START,function(){e.isPasting=!0}),this.addManagedListener(this.eventService,Ft.EVENT_PASTE_END,function(){var t=new uu(e.cellValueChanges);e.pushActionsToUndoStack(t),e.isPasting=!1})},o.prototype.addFillListeners=function(){var e=this;this.addManagedListener(this.eventService,Ft.EVENT_FILL_START,function(){e.isFilling=!0}),this.addManagedListener(this.eventService,Ft.EVENT_FILL_END,function(t){var o=new cu(e.cellValueChanges,t.initialRange,t.finalRange);e.pushActionsToUndoStack(o),e.isFilling=!1})},o.prototype.pushActionsToUndoStack=function(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()},o.prototype.getRowNode=function(e){switch(e.rowPinned){case Ue.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case Ue.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},hu([ct("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),hu([ct("focusController")],o.prototype,"focusController",void 0),hu([ct("gridApi")],o.prototype,"gridApi",void 0),hu([ct("rowModel")],o.prototype,"rowModel",void 0),hu([ct("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),hu([at],o.prototype,"init",null),hu([ut("undoRedoService")],o)}(Dt),gu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),mu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.componentsMappedByName={},t}return gu(t,e),t.prototype.setupComponents=function(e){var t=this;e&&e.forEach(function(e){return t.addComponent(e)})},t.prototype.addComponent=function(e){var t=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[t]=e.componentClass},t.prototype.getComponentClass=function(e){return this.componentsMappedByName[e]},function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}([ut("agStackComponentsRegistry")],t)}(Dt),yu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),vu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Cu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yu(t,e),t.prototype.findHeader=function(e,t){var o;if(o=e.column instanceof Rt?this.columnController["getDisplayedGroup"+t](e.column):this.columnController["getDisplayedCol"+t](e.column))return{column:o,headerRowIndex:e.headerRowIndex}},t.prototype.findColAtEdgeForHeaderRow=function(e,t){var o=this.columnController.getAllDisplayedColumns(),n=o["start"===t?0:o.length-1];if(n){var i=this.headerNavigationService.getHeaderContainer(n.getPinned()).getRowComps()[e];return(i&&i.getType())==Gi.COLUMN_GROUP?{headerRowIndex:e,column:this.columnController.getColumnGroupAtLevel(n,e)}:{headerRowIndex:i?e:-1,column:n}}},vu([ct("columnController")],t.prototype,"columnController",void 0),vu([ct("headerNavigationService")],t.prototype,"headerNavigationService",void 0),vu([ut("headerPositionUtils")],t)}(Dt),bu=function(){function e(e,o,n){if(e)if(o){var i=!!o.debug;this.gridOptions=o;var r=this.getRegisteredModules(n),s=this.createBeansList(r),a=this.createProvidedBeans(e,n);if(s){var l={providedBeanInstances:a,beanClasses:s,debug:i};this.logger=new vs("ag-Grid",function(){return o.debug});var u=new vs("Context",function(){return l.debug});this.context=new rt(l,u),this.registerModuleUserComponents(r),this.registerStackComponents(r);var c=new(n&&n.rootComponent||Ds);this.context.createBean(c),this.setColumnsAndData(),this.dispatchGridReadyEvent(o);var p=bt.isRegistered(t.ModuleNames.EnterpriseCoreModule);this.logger.log("initialised successfully, enterprise = "+p)}}else console.error("ag-Grid: no gridOptions provided to the grid");else console.error("ag-Grid: no div element provided to the grid")}return e.prototype.registerStackComponents=function(e){var t=this.createAgStackComponentsList(e);this.context.getBean("agStackComponentsRegistry").setupComponents(t)},e.prototype.getRegisteredModules=function(e){var t=e?e.modules:null,o=bt.getRegisteredModules(),n=[],i={};function r(e,t){!function(t){i[t.moduleName]||(i[t.moduleName]=!0,n.push(t),bt.register(t,e))}(t),t.dependantModules&&t.dependantModules.forEach(r.bind(null,e))}return t&&t.forEach(r.bind(null,!0)),o&&o.forEach(r.bind(null,!bt.isPackageBased())),n},e.prototype.registerModuleUserComponents=function(e){var t=this.context.getBean("userComponentRegistry");this.extractModuleEntity(e,function(e){return e.userComponents?e.userComponents:[]}).forEach(function(e){t.registerDefaultComponent(e.componentName,e.componentClass)})},e.prototype.createProvidedBeans=function(e,t){var o=t?t.frameworkOverrides:null;et.missing(o)&&(o=new Js);var n={gridOptions:this.gridOptions,eGridDiv:e,$scope:t?t.$scope:null,$compile:t?t.$compile:null,quickFilterOnScope:t?t.quickFilterOnScope:null,globalEventListener:t?t.globalEventListener:null,frameworkOverrides:o};return t&&t.providedBeanInstances&&et.assign(n,t.providedBeanInstances),n},e.prototype.createAgStackComponentsList=function(e){var t=[{componentName:"AgCheckbox",componentClass:Ko},{componentName:"AgRadioButton",componentClass:Zs},{componentName:"AgToggleButton",componentClass:Ql},{componentName:"AgInputTextField",componentClass:Rl},{componentName:"AgInputTextArea",componentClass:Sl},{componentName:"AgInputNumberField",componentClass:kl},{componentName:"AgInputRange",componentClass:Hl},{componentName:"AgSelect",componentClass:zl},{componentName:"AgSlider",componentClass:Pl},{componentName:"AgAngleSelect",componentClass:ql},{componentName:"AgColorPicker",componentClass:Ll},{componentName:"AgGridComp",componentClass:ns},{componentName:"AgHeaderRoot",componentClass:Wr},{componentName:"AgPagination",componentClass:al},{componentName:"AgOverlayWrapper",componentClass:hl},{componentName:"AgGroupComponent",componentClass:ml},{componentName:"AgPanel",componentClass:Cl},{componentName:"AgDialog",componentClass:wl}],o=this.extractModuleEntity(e,function(e){return e.agStackComponents?e.agStackComponents:[]});return t.concat(o)},e.prototype.createBeansList=function(e){var t=this.getRowModelClass(e);if(t){var o=[t,Ga,ou,iu,Cu,ba,rs,pi,Na,Ma,cl,gn,Za,il,Ys,_s,au,xs,Wt,vt,$t,fs,gi,Ur,Mt,kr,ya,Yi,ls,At,ps,Ta,$a,Ra,Yr,ys,kt,ws,As,_i,yi,Vs,Bs,ja,zs,Qs,ra,oa,Ls,la,pa,tl,fa,Oa,Ka,Jl,fu,mu],n=this.extractModuleEntity(e,function(e){return e.beans?e.beans:[]});o.push.apply(o,n);var i=[];return o.forEach(function(e){i.indexOf(e)<0&&i.push(e)}),i}},e.prototype.extractModuleEntity=function(e,t){return[].concat.apply([],e.map(t))},e.prototype.setColumnsAndData=function(){var e=this.context.getBean("gridOptionsWrapper"),t=this.context.getBean("columnController"),o=e.getColumnDefs();et.exists(o)&&t.setColumnDefs(o,"gridInitializing"),this.context.getBean("rowModel").start()},e.prototype.dispatchGridReadyEvent=function(e){this.context.getBean("eventService").dispatchEvent({type:Ft.EVENT_GRID_READY,api:e.api,columnApi:e.columnApi})},e.prototype.getRowModelClass=function(e){var o=this.gridOptions.rowModelType;"enterprise"===o&&(console.warn("ag-Grid: enterprise rowModel deprecated. Should now be called server side row model instead."),o=Ue.ROW_MODEL_TYPE_SERVER_SIDE),"normal"===o&&(console.warn("ag-Grid: normal rowModel deprecated. Should now be called client side row model instead."),o=Ue.ROW_MODEL_TYPE_CLIENT_SIDE),o||(o=Ue.ROW_MODEL_TYPE_CLIENT_SIDE);var n={};e.forEach(function(e){et.iterateObject(e.rowModels,function(e,t){n[e]=t})});var i=n[o];return et.exists(i)?i:(o===Ue.ROW_MODEL_TYPE_INFINITE&&console.error('ag-Grid: Row Model "Infinite" not found. Please ensure the '+t.ModuleNames.InfiniteRowModelModule+" is registered.';"),console.error("ag-Grid: could not find matching row model for rowModelType "+o),o===Ue.ROW_MODEL_TYPE_VIEWPORT&&console.error('ag-Grid: Row Model "Viewport" not found. Please ensure the ag-Grid Enterprise Module '+t.ModuleNames.ViewportRowModelModule+" is registered.';"),o===Ue.ROW_MODEL_TYPE_SERVER_SIDE&&console.error('ag-Grid: Row Model "Server Side" not found. Please ensure the ag-Grid Enterprise Module '+t.ModuleNames.ServerSideRowModelModule+" is registered.';"),void(o===Ue.ROW_MODEL_TYPE_CLIENT_SIDE&&console.error('ag-Grid: Row Model "Client Side" not found. Please ensure the '+t.ModuleNames.ClientSideRowModelModule+" is registered.';")))},e.prototype.destroy=function(){this.gridOptions.api.destroy()},e}();function wu(e,t,o,n){var i,r,s=n.agGrid;if(r=s+".quickFilterText",i=t.$eval(s)){var a=new bu(e[0],i,{$scope:t,$compile:o,quickFilterOnScope:r});t.$on("$destroy",function(){a.destroy(),a=null})}else console.warn("WARNING - grid options for ag-Grid not found. Please ensure the attribute ag-grid points to a valid object on the scope")}var Eu,Ru,_u=!1,Su=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ou=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Du=function(e){function t(o){var n=e.call(this,t.getTemplate(o.cssClass))||this;return n.items=[],n.params=o,o.items&&o.items.forEach(function(e){return n.addItem(e)}),n}return Su(t,e),t.getTemplate=function(e){return'<div class="ag-tabs '+e+'">\n            <div ref="eHeader" class="ag-tabs-header '+(e?e+"-header":"")+'"></div>\n            <div ref="eBody" class="ag-tabs-body '+(e?e+"-body":"")+'"></div>\n        </div>'},t.prototype.handleKeyDown=function(e){switch(e.keyCode){case Ue.KEY_RIGHT:case Ue.KEY_LEFT:if(!this.eHeader.contains(document.activeElement))return;var t=this.items.indexOf(this.activeItem),o=e.keyCode===Ue.KEY_RIGHT?Math.min(t+1,this.items.length-1):Math.max(t-1,0);if(t===o)return;e.preventDefault();var n=this.items[o];this.showItemWrapper(n),n.eHeaderButton.focus();break;case Ue.KEY_UP:case Ue.KEY_DOWN:e.stopPropagation()}},t.prototype.onTabKeyDown=function(e){var t=this.focusController,o=this.eBody,n=this.activeItem,i=document.activeElement,r=this.eHeader.contains(i);if(e.preventDefault(),r)e.shiftKey?t.focusLastFocusableElement(o):t.focusFirstFocusableElement(o);else if(t.isFocusUnderManagedComponent(o))n.eHeaderButton.focus();else{var s=t.findNextFocusableElement(o,!1,e.shiftKey);s?s.focus():n.eHeaderButton.focus()}},t.prototype.setAfterAttachedParams=function(e){this.afterAttachedParams=e},t.prototype.getMinDimensions=function(){var e=this.getGui().cloneNode(!0),t=e.querySelector('[ref="eBody"]');e.style.position="fixed",this.getGui().appendChild(e);var o=0,n=0;return this.items.forEach(function(i){et.clearElement(t);var r=i.tabbedItem.bodyPromise.resolveNow(null,function(e){return e.cloneNode(!0)});null!=r&&(t.appendChild(r),o<e.offsetWidth&&(o=e.offsetWidth),n<e.offsetHeight&&(n=e.offsetHeight))}),this.getGui().removeChild(e),{height:n,width:o}},t.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},t.prototype.addItem=function(e){var t=document.createElement("span");t.tabIndex=-1,t.appendChild(e.title),et.addCssClass(t,"ag-tab"),this.eHeader.appendChild(t),t.setAttribute("aria-label",e.titleLabel);var o={tabbedItem:e,eHeaderButton:t};this.items.push(o),t.addEventListener("click",this.showItemWrapper.bind(this,o))},t.prototype.showItem=function(e){var t=et.find(this.items,function(t){return t.tabbedItem===e});t&&this.showItemWrapper(t)},t.prototype.showItemWrapper=function(e){var t=this;this.params.onItemClicked&&this.params.onItemClicked({item:e.tabbedItem}),this.activeItem!==e?(et.clearElement(this.eBody),e.tabbedItem.bodyPromise.then(function(e){t.eBody.appendChild(e);var o=!t.focusController.isKeyboardFocus();t.focusController.focusFirstFocusableElement(t.eBody,o)}),this.activeItem&&et.removeCssClass(this.activeItem.eHeaderButton,"ag-tab-selected"),et.addCssClass(e.eHeaderButton,"ag-tab-selected"),this.activeItem=e,e.tabbedItem.afterAttachedCallback&&e.tabbedItem.afterAttachedCallback(this.afterAttachedParams)):et.callIfPresent(this.params.onActiveItemClicked)},Ou([ro("eHeader")],t.prototype,"eHeader",void 0),Ou([ro("eBody")],t.prototype,"eBody",void 0),t}(rr),Pu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Tu=function(e){function t(o,n){var i=e.call(this)||this;return i.version=0,i.state=t.STATE_DIRTY,i.rowNodeCacheParams=n,i.blockNumber=o,i.startRow=o*n.blockSize,i.endRow=i.startRow+n.blockSize,i}return Pu(t,e),t.prototype.isAnyNodeOpen=function(e){var t=!1;return this.forEachNodeCallback(function(e){e.expanded&&(t=!0)},e),t},t.prototype.forEachNodeCallback=function(e,t){for(var o=this.startRow;o<this.endRow;o++)o<t&&e(this.getRowUsingLocalIndex(o),o)},t.prototype.forEachNode=function(e,t,o,n){this.forEachNodeCallback(function(o){e(o,t.next()),n&&o.childrenCache&&o.childrenCache.forEachNodeDeep(e,t)},o)},t.prototype.forEachNodeDeep=function(e,t,o){this.forEachNode(e,t,o,!0)},t.prototype.forEachNodeShallow=function(e,t,o){this.forEachNode(e,t,o,!1)},t.prototype.getVersion=function(){return this.version},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRowUsingLocalIndex=function(e,t){return void 0===t&&(t=!1),t||(this.lastAccessed=this.rowNodeCacheParams.lastAccessedSequence.next()),this.rowNodes[e-this.startRow]},t.prototype.init=function(e){this.beans=e,this.createRowNodes()},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.getBlockNumber=function(){return this.blockNumber},t.prototype.setDirty=function(){this.version++,this.state=t.STATE_DIRTY},t.prototype.setDirtyAndPurge=function(){this.setDirty(),this.rowNodes.forEach(function(e){e.setData(null)})},t.prototype.getState=function(){return this.state},t.prototype.setRowNode=function(e,t){this.rowNodes[e-this.startRow]=t},t.prototype.setBlankRowNode=function(e){var t=e-this.startRow,o=this.createBlankRowNode(e);return this.rowNodes[t]=o,o},t.prototype.setNewData=function(e,t){var o=this.setBlankRowNode(e);return this.setDataAndId(o,t,this.startRow+e),o},t.prototype.createBlankRowNode=function(e){var t=new Go;return this.beans.context.createBean(t),t.setRowHeight(this.rowNodeCacheParams.rowHeight),t},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.rowNodeCacheParams.blockSize;e++){var t=this.createBlankRowNode(this.startRow+e);this.rowNodes.push(t)}},t.prototype.load=function(){this.state=t.STATE_LOADING,this.loadFromDatasource()},t.prototype.pageLoadFailed=function(){this.state=t.STATE_FAILED,this.dispatchEvent({type:t.EVENT_LOAD_COMPLETE,success:!1,page:this,lastRow:null})},t.prototype.populateWithRowData=function(e){var t=this,o=[];this.rowNodes.forEach(function(n,i){var r=e[i];n.stub&&o.push(n),t.setDataAndId(n,r,t.startRow+i)}),o.length>0&&this.beans.rowRenderer.redrawRows(o)},t.prototype.destroyRowNodes=function(){var e=this;this.rowNodes.forEach(function(t){t.childrenCache&&(e.destroyBean(t.childrenCache),t.childrenCache=null),t.clearRowTop()})},t.prototype.pageLoaded=function(e,o,n){e===this.version&&(this.state=t.STATE_LOADED,this.populateWithRowData(o)),n=et.cleanNumber(n),this.dispatchEvent({type:t.EVENT_LOAD_COMPLETE,success:!0,page:this,lastRow:n})},t.EVENT_LOAD_COMPLETE="loadComplete",t.STATE_DIRTY="dirty",t.STATE_LOADING="loading",t.STATE_LOADED="loaded",t.STATE_FAILED="failed",function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([lt],t.prototype,"destroyRowNodes",null),t}(Dt),Au=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Fu=function(e){function t(t,o){var n=e.call(this)||this;return n.activeBlockLoadsCount=0,n.blocks=[],n.active=!0,n.maxConcurrentRequests=t,o&&o>0&&(n.checkBlockToLoadDebounce=et.debounce(n.performCheckBlocksToLoad.bind(n),o)),n}return Au(t,e),t.prototype.setBeans=function(e){this.logger=e.create("RowNodeBlockLoader")},t.prototype.addBlock=function(e){this.blocks.push(e)},t.prototype.removeBlock=function(e){et.removeFromArray(this.blocks,e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.active=!1},t.prototype.loadComplete=function(){this.activeBlockLoadsCount--},t.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},t.prototype.performCheckBlocksToLoad=function(){if(this.active)if(this.printCacheStatus(),this.activeBlockLoadsCount>=this.maxConcurrentRequests)this.logger.log("checkBlockToLoad: max loads exceeded");else{var e=null;this.blocks.forEach(function(t){t.getState()===Tu.STATE_DIRTY&&(e=t)}),e?(e.load(),this.activeBlockLoadsCount++,this.logger.log("checkBlockToLoad: loading page "+e.getBlockNumber()),this.printCacheStatus()):this.logger.log("checkBlockToLoad: no pages to load")}},t.prototype.getBlockState=function(){var e={};return this.blocks.forEach(function(t){var o=t.getNodeIdPrefix(),n={blockNumber:t.getBlockNumber(),startRow:t.getStartRow(),endRow:t.getEndRow(),pageStatus:t.getState()};et.exists(o)?e[o+t.getBlockNumber()]=n:e[t.getBlockNumber()]=n}),e},t.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},t.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);r>3&&s&&Object.defineProperty(t,o,s)}([(0,o=ht("loggerFactory"),function(e,t){o(e,t,0)})],t.prototype,"setBeans",null),t;var o}(Dt),Nu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),xu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Iu=function(e){function t(t){var o=e.call(this)||this;return o.maxRowFound=!1,o.blocks={},o.blockCount=0,o.virtualRowCount=t.initialRowCount,o.cacheParams=t,o}return Nu(t,e),t.prototype.destroyAllBlocks=function(){var e=this;this.forEachBlockInOrder(function(t){return e.destroyBlock(t)})},t.prototype.init=function(){var e=this;this.active=!0,this.addDestroyFunc(function(){return e.active=!1})},t.prototype.isActive=function(){return this.active},t.prototype.getVirtualRowCount=function(){return this.virtualRowCount},t.prototype.hack_setVirtualRowCount=function(e){this.virtualRowCount=e},t.prototype.isMaxRowFound=function(){return this.maxRowFound},t.prototype.onPageLoaded=function(e){this.cacheParams.rowNodeBlockLoader.loadComplete(),this.checkBlockToLoad(),this.isActive()&&(this.logger.log("onPageLoaded: page = "+e.page.getBlockNumber()+", lastRow = "+e.lastRow),e.success&&this.checkVirtualRowCount(e.page,e.lastRow))},t.prototype.purgeBlocksIfNeeded=function(e){var o=this,n=[];this.forEachBlockInOrder(function(t){t!==e&&n.push(t)}),n.sort(function(e,t){return t.getLastAccessed()-e.getLastAccessed()});var i=this.cacheParams.maxBlocksInCache>0,r=i?this.cacheParams.maxBlocksInCache-1:null,s=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;n.forEach(function(e,t){if(e.getState()===Tu.STATE_DIRTY&&t>=s||i&&t>=r){if(e.isAnyNodeOpen(o.virtualRowCount))return;if(o.isBlockCurrentlyDisplayed(e))return;o.removeBlockFromCache(e)}})},t.prototype.isBlockCurrentlyDisplayed=function(e){var t=this.rowRenderer.getFirstVirtualRenderedRow(),o=this.rowRenderer.getLastVirtualRenderedRow(),n=e.getDisplayIndexStart(),i=e.getDisplayIndexEnd()-1;return!(null==n||null==i||n>o||i<t)},t.prototype.postCreateBlock=function(e){e.addEventListener(Tu.EVENT_LOAD_COMPLETE,this.onPageLoaded.bind(this)),this.setBlock(e.getBlockNumber(),e),this.purgeBlocksIfNeeded(e),this.checkBlockToLoad()},t.prototype.removeBlockFromCache=function(e){e&&this.destroyBlock(e)},t.prototype.checkBlockToLoad=function(){this.cacheParams.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.checkVirtualRowCount=function(e,t){if("number"==typeof t&&t>=0)this.virtualRowCount=t,this.maxRowFound=!0,this.onCacheUpdated();else if(!this.maxRowFound){var o=(e.getBlockNumber()+1)*this.cacheParams.blockSize+this.cacheParams.overflowSize;this.virtualRowCount<o?(this.virtualRowCount=o,this.onCacheUpdated()):this.cacheParams.dynamicRowHeight&&this.onCacheUpdated()}},t.prototype.setVirtualRowCount=function(e,t){this.virtualRowCount=e,et.exists(t)&&(this.maxRowFound=t),this.maxRowFound||this.virtualRowCount%this.cacheParams.blockSize==0&&this.virtualRowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e,t){var o=this;void 0===t&&(t=new tt),this.forEachBlockInOrder(function(n){n.forEachNodeDeep(e,t,o.virtualRowCount)})},t.prototype.forEachBlockInOrder=function(e){var t=this.getBlockIdsSorted();this.forEachBlockId(t,e)},t.prototype.forEachBlockInReverseOrder=function(e){var t=this.getBlockIdsSorted().reverse();this.forEachBlockId(t,e)},t.prototype.forEachBlockId=function(e,t){var o=this;e.forEach(function(e){t(o.blocks[e],e)})},t.prototype.getBlockIdsSorted=function(){return Object.keys(this.blocks).map(function(e){return parseInt(e,10)}).sort(function(e,t){return e-t})},t.prototype.getBlock=function(e){return this.blocks[e]},t.prototype.setBlock=function(e,t){this.blocks[e]=t,this.blockCount++,this.cacheParams.rowNodeBlockLoader.addBlock(t)},t.prototype.destroyBlock=function(e){delete this.blocks[e.getBlockNumber()],this.destroyBean(e),this.blockCount--,this.cacheParams.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){this.isActive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.dispatchEvent({type:t.EVENT_CACHE_UPDATED}))},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,t=[];this.forEachBlockInOrder(function(o,n){n*e.cacheParams.blockSize>=e.virtualRowCount&&t.push(o)}),t.length>0&&t.forEach(function(t){return e.destroyBlock(t)})},t.prototype.purgeCache=function(){var e=this;this.forEachBlockInOrder(function(t){return e.removeBlockFromCache(t)}),this.maxRowFound=!1,0===this.virtualRowCount&&(this.virtualRowCount=this.cacheParams.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,t){var o=this,n=[],i=-1,r=!1,s=new tt;et.missing(e)&&(r=!0);var a=!1;return this.forEachBlockInOrder(function(l,u){a||(r&&i+1!==u?a=!0:(i=u,l.forEachNodeShallow(function(o){var i=o===e||o===t;(r||i)&&n.push(o),i&&(r=!r)},s,o.virtualRowCount)))}),a||r?[]:n},t.EVENT_CACHE_UPDATED="cacheUpdated",t.MAX_EMPTY_BLOCKS_TO_KEEP=2,xu([ct("rowRenderer")],t.prototype,"rowRenderer",void 0),xu([lt],t.prototype,"destroyAllBlocks",null),xu([at],t.prototype,"init",null),t}(Dt),Mu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Lu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Gu=function(e){function t(o){void 0===o&&(o="default");var n=e.call(this,t.getTemplate(o))||this;return n.cssIdentifier=o,n.renderedRows=new Map,n.rowHeight=20,n}return Mu(t,e),t.prototype.postConstruct=function(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),e.prototype.postConstruct.call(this)},t.prototype.isFocusableContainer=function(){return!0},t.prototype.focusInnerElement=function(e){var t=this.model.getRowCount();this.focusRow(e?t-1:0)},t.prototype.onFocusIn=function(t){e.prototype.onFocusIn.call(this,t);var o=t.target;et.containsClass(o,"ag-virtual-list-item")&&(this.lastFocusedRow=parseInt(o.getAttribute("aria-rowindex"),10)-1)},t.prototype.onFocusOut=function(t){e.prototype.onFocusOut.call(this,t),this.getFocusableElement().contains(t.relatedTarget)||(this.lastFocusedRow=null)},t.prototype.handleKeyDown=function(e){switch(e.keyCode){case Ue.KEY_UP:case Ue.KEY_DOWN:case Ue.KEY_TAB:this.navigate(e.keyCode===Ue.KEY_UP||e.keyCode===Ue.KEY_TAB&&e.shiftKey)&&e.preventDefault()}},t.prototype.navigate=function(e){if(!et.exists(this.lastFocusedRow))return!1;var t=this.lastFocusedRow+(e?-1:1);return!(t<0||t>=this.model.getRowCount()||(this.focusRow(t),0))},t.prototype.getLastFocusedRow=function(){return this.lastFocusedRow},t.prototype.focusRow=function(e){var t=this;this.ensureIndexVisible(e),window.setTimeout(function(){var o=t.renderedRows.get(e);o&&o.eDiv.focus()},10)},t.prototype.getComponentAt=function(e){var t=this.renderedRows.get(e);return t&&t.rowComponent},t.getTemplate=function(e){return'\n            <div class="ag-virtual-list-viewport ag-'+e+'-virtual-list-viewport">\n                <div class="ag-virtual-list-container ag-'+e+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},t.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},t.prototype.ensureIndexVisible=function(e){var t=this.model.getRowCount();if("number"!=typeof e||e<0||e>=t)console.warn("invalid row index for ensureIndexVisible: "+e);else{var o=e*this.rowHeight,n=o+this.rowHeight,i=this.getGui(),r=i.scrollTop,s=i.offsetHeight,a=r+s<n;r>o?i.scrollTop=o:a&&(i.scrollTop=n-s)}},t.prototype.setComponentCreator=function(e){this.componentCreator=e},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getScrollTop=function(){return this.getGui().scrollTop},t.prototype.setRowHeight=function(e){this.rowHeight=e,this.refresh()},t.prototype.refresh=function(){var e=this;if(null!=this.model){var t=this.model.getRowCount();this.eContainer.style.height=t*this.rowHeight+"px",this.eContainer.setAttribute("aria-rowcount",t.toString()),setTimeout(function(){e.clearVirtualRows(),e.drawVirtualRows()},0)}},t.prototype.clearVirtualRows=function(){var e=this;this.renderedRows.forEach(function(t,o){return e.removeRow(o)})},t.prototype.drawVirtualRows=function(){var e=this.getGui(),t=e.scrollTop,o=t+e.offsetHeight,n=Math.floor(t/this.rowHeight),i=Math.floor(o/this.rowHeight);this.ensureRowsRendered(n,i)},t.prototype.ensureRowsRendered=function(e,t){var o=this;this.renderedRows.forEach(function(n,i){(i<e||i>t)&&i!==o.lastFocusedRow&&o.removeRow(i)});for(var n=e;n<=t;n++)if(!this.renderedRows.has(n)&&n<this.model.getRowCount()){var i=this.model.getRow(n);this.insertRow(i,n)}},t.prototype.insertRow=function(e,t){var o=document.createElement("div");et.addCssClass(o,"ag-virtual-list-item"),et.addCssClass(o,"ag-"+this.cssIdentifier+"-virtual-list-item"),o.setAttribute("aria-rowindex",(t+1).toString()),o.setAttribute("tabindex","-1"),o.style.height=this.rowHeight+"px",o.style.top=this.rowHeight*t+"px";var n=this.componentCreator(e);o.appendChild(n.getGui()),this.eContainer.appendChild(o),this.renderedRows.set(t,{rowComponent:n,eDiv:o})},t.prototype.removeRow=function(e){var t=this.renderedRows.get(e);this.eContainer.removeChild(t.eDiv),this.destroyBean(t.rowComponent),this.renderedRows.delete(e)},t.prototype.addScrollListener=function(){var e=this;this.addGuiEventListener("scroll",function(){return e.drawVirtualRows()})},t.prototype.setModel=function(e){this.model=e},Lu([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Lu([ro("eContainer")],t.prototype,"eContainer",void 0),t}(rr),ku=function(){function e(){}return e.prototype.wrap=function(e,t,o,n,i){var r=this;void 0===o&&(o=[]);var s=this.createWrapper(e,n,i);return t.forEach(function(e){r.createMethod(s,e,!0)}),o.forEach(function(e){r.createMethod(s,e,!1)}),s},e.prototype.createMethod=function(e,t,o){e.addMethod(t,this.createMethodProxy(e,t,o))},e.prototype.createMethodProxy=function(e,t,o){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(o&&console.warn("ag-Grid: Framework component is missing the method "+t+"()"),null)}},e}();(Eu=t.ChartType||(t.ChartType={})).GroupedColumn="groupedColumn",Eu.StackedColumn="stackedColumn",Eu.NormalizedColumn="normalizedColumn",Eu.GroupedBar="groupedBar",Eu.StackedBar="stackedBar",Eu.NormalizedBar="normalizedBar",Eu.Line="line",Eu.Scatter="scatter",Eu.Bubble="bubble",Eu.Pie="pie",Eu.Doughnut="doughnut",Eu.Area="area",Eu.StackedArea="stackedArea",Eu.NormalizedArea="normalizedArea",Eu.Histogram="histogram",(Ru=t.LegendPosition||(t.LegendPosition={})).Top="top",Ru.Right="right",Ru.Bottom="bottom",Ru.Left="left";var Vu="undefined"==typeof global?{}:global;Vu.HTMLElement="undefined"==typeof HTMLElement?{}:HTMLElement,Vu.HTMLButtonElement="undefined"==typeof HTMLButtonElement?{}:HTMLButtonElement,Vu.HTMLSelectElement="undefined"==typeof HTMLSelectElement?{}:HTMLSelectElement,Vu.HTMLInputElement="undefined"==typeof HTMLInputElement?{}:HTMLInputElement,Vu.Node="undefined"==typeof Node?{}:Node,Vu.MouseEvent="undefined"==typeof MouseEvent?{}:MouseEvent;var Hu,Wu=function(){function e(t,o,n,i,r,s,a,l){this.nextId=0,this.allNodesMap={},this.rootNode=t,this.gridOptionsWrapper=o,this.context=n,this.eventService=i,this.columnController=r,this.gridApi=s,this.columnApi=a,this.selectionController=l,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=e.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return e.prototype.postConstruct=function(){this.getNodeChildDetails=this.gridOptionsWrapper.getNodeChildDetailsFunc(),this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.doesDataFlower=this.gridOptionsWrapper.getDoesDataFlowerFunc(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingLegacyTreeData=!this.doingTreeData&&et.exists(this.getNodeChildDetails),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.getNodeChildDetails&&console.warn("ag-Grid: the callback nodeChildDetailsFunc() is now deprecated. The new way of doing\n                                    tree data in ag-Grid was introduced in v14 (released November 2017). In the next\n                                    major release of ag-Grid we will be dropping support for the old version of\n                                    tree data. If you are reading this message, please go to the docs to see how\n                                    to implement Tree Data without using nodeChildDetailsFunc().")},e.prototype.getCopyOfNodesMap=function(){return et.cloneObject(this.allNodesMap)},e.prototype.getRowNode=function(e){return this.allNodesMap[e]},e.prototype.setRowData=function(t){if(this.rootNode.childrenAfterFilter=null,this.rootNode.childrenAfterGroup=null,this.rootNode.childrenAfterSort=null,this.rootNode.childrenMapped=null,this.nextId=0,this.allNodesMap={},!t)return this.rootNode.allLeafChildren=[],void(this.rootNode.childrenAfterGroup=[]);var o=this.recursiveFunction(t,this.rootNode,e.TOP_LEVEL);this.doingLegacyTreeData?(this.rootNode.childrenAfterGroup=o,this.setLeafChildren(this.rootNode)):this.rootNode.allLeafChildren=o},e.prototype.updateRowData=function(e,t){if(this.isLegacyTreeData())return null;var o={remove:[],update:[],add:[]},n=[];return this.executeAdd(e,o),this.executeRemove(e,o,n),this.executeUpdate(e,o,n),this.updateSelection(n),t&&et.sortRowNodesByOrder(this.rootNode.allLeafChildren,t),o},e.prototype.updateSelection=function(e){var t=e.length>0;t&&e.forEach(function(e){e.setSelected(!1,!1,!0)}),this.selectionController.updateGroupsFromChildrenSelections(),t&&this.eventService.dispatchEvent({type:Ft.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.executeAdd=function(e,t){var o=this,n=e.add,i=e.addIndex;n&&("number"==typeof i&&i>=0?n.reverse().forEach(function(e){var n=o.addRowNode(e,i);t.add.push(n)}):n.forEach(function(e){var n=o.addRowNode(e);t.add.push(n)}))},e.prototype.executeRemove=function(e,t,o){var n=this,i=e.remove;if(i){var r={};i.forEach(function(e){var i=n.lookupRowNode(e);i&&(i.isSelected()&&o.push(i),i.clearRowTop(),r[i.id]=!0,delete n.allNodesMap[i.id],t.remove.push(i))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(e){return!r[e.id]})}},e.prototype.executeUpdate=function(t,o,n){var i=this,r=t.update;r&&r.forEach(function(t){var r=i.lookupRowNode(t);r&&(r.updateData(t),!r.selectable&&r.isSelected()&&n.push(r),i.setMasterForRow(r,t,e.TOP_LEVEL,!1),o.update.push(r))})},e.prototype.addRowNode=function(t,o){var n=this.createNode(t,this.rootNode,e.TOP_LEVEL);return et.exists(o)?et.insertIntoArray(this.rootNode.allLeafChildren,n,o):this.rootNode.allLeafChildren.push(n),n},e.prototype.lookupRowNode=function(e){var t,o=this.gridOptionsWrapper.getRowNodeIdFunc();if(et.exists(o)){var n=o(e);if(!(t=this.allNodesMap[n]))return console.error("ag-Grid: could not find row id="+n+", data item was not found for this id"),null}else if(!(t=et.find(this.rootNode.allLeafChildren,function(t){return t.data===e})))return console.error("ag-Grid: could not find data item as object was not found",e),null;return t},e.prototype.recursiveFunction=function(e,t,o){var n=this;if("string"!=typeof e){var i=[];return e.forEach(function(e){var r=n.createNode(e,t,o);i.push(r)}),i}console.warn("ag-Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},e.prototype.createNode=function(e,t,o){var n=new Go;this.context.createBean(n);var i=this.doingLegacyTreeData?this.getNodeChildDetails(e):null;return i&&i.group?(n.group=!0,n.childrenAfterGroup=this.recursiveFunction(i.children,n,o+1),n.expanded=!0===i.expanded,n.field=i.field,n.key=i.key,this.setLeafChildren(n)):(n.group=!1,this.setMasterForRow(n,e,o,!0)),n.canFlower=n.master,t&&!this.suppressParentsInRowNodes&&(n.parent=t),n.level=o,n.setDataAndId(e,this.nextId.toString()),this.allNodesMap[n.id]&&console.warn("ag-grid: duplicate node id '"+n.id+"' detected from getRowNodeId callback, this could cause issues in your grid."),this.allNodesMap[n.id]=n,this.nextId++,n},e.prototype.setMasterForRow=function(e,t,o,n){if(this.doingTreeData)e.setMaster(!1),n&&(e.expanded=!1);else if(e.setMaster(this.doesDataFlower?this.doesDataFlower(t):!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(t))),n){var i=this.columnController.getRowGroupColumns();e.expanded=!!e.master&&this.isExpanded(o+(i?i.length:0))}},e.prototype.isExpanded=function(e){var t=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===t||e<t},e.prototype.setLeafChildren=function(e){e.allLeafChildren=[],e.childrenAfterGroup&&e.childrenAfterGroup.forEach(function(t){t.group?t.allLeafChildren&&t.allLeafChildren.forEach(function(t){return e.allLeafChildren.push(t)}):e.allLeafChildren.push(t)})},e.prototype.isLegacyTreeData=function(){return!!et.exists(this.gridOptionsWrapper.getNodeChildDetailsFunc())&&(console.warn("ag-Grid: adding and removing rows is not supported when using nodeChildDetailsFunc, ie it is not supported for legacy tree data. Please see the docs on the new preferred way of providing tree data that works with delta updates."),!0)},e.TOP_LEVEL=0,e.ROOT_NODE_ID="ROOT_NODE_ID",e}(),Bu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ju=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.Normal=0]="Normal",e[e.AfterFilter=1]="AfterFilter",e[e.AfterFilterAndSort=2]="AfterFilterAndSort",e[e.PivotNodes=3]="PivotNodes"}(Hu||(Hu={}));var Uu,zu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Bu(t,e),t.prototype.init=function(){var e=this.refreshModel.bind(this,{step:Ue.STEP_EVERYTHING}),t=this.refreshModel.bind(this,{step:Ue.STEP_EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0});this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_EVERYTHING_CHANGED,t),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:Ue.STEP_PIVOT})),this.addManagedListener(this.eventService,Ft.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_PIVOT_MODE_CHANGED,e);var o=this.refreshModel.bind(this,{step:Ue.STEP_MAP,keepRenderedRows:!0,animate:!0});this.addManagedListener(this.gridOptionsWrapper,$t.PROP_GROUP_REMOVE_SINGLE_CHILDREN,o),this.addManagedListener(this.gridOptionsWrapper,$t.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,o),this.rootNode=new Go,this.nodeManager=new Wu(this.rootNode,this.gridOptionsWrapper,this.getContext(),this.eventService,this.columnController,this.gridApi,this.columnApi,this.selectionController),this.createBean(this.rootNode)},t.prototype.start=function(){var e=this.gridOptionsWrapper.getRowData();e&&this.setRowData(e)},t.prototype.ensureRowHeightsValid=function(e,t,o,n){var i,r=!1;do{i=!1;for(var s=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(s,o),u=Math.min(a,n),c=l;c<=u;c++){var p=this.getRow(c);if(p.rowHeightEstimated){var d=this.gridOptionsWrapper.getRowHeightForNode(p);p.setRowHeight(d.height),i=!0,r=!0}}i&&this.setRowTops()}while(i);return r},t.prototype.setRowTops=function(){for(var e=0,t=0;t<this.rowsToDisplay.length;t++){var o=this.gridOptionsWrapper.getDomLayout()===Ue.DOM_LAYOUT_NORMAL,n=this.rowsToDisplay[t];if(et.missing(n.rowHeight)){var i=this.gridOptionsWrapper.getRowHeightForNode(n,o);n.setRowHeight(i.height,i.estimated)}n.setRowTop(e),n.setRowIndex(t),e+=n.rowHeight}},t.prototype.resetRowTops=function(e,t){if(e.clearRowTop(),e.hasChildren()){if(e.childrenAfterGroup&&(!t.isActive()||e.expanded))for(var o=0;o<e.childrenAfterGroup.length;o++)this.resetRowTops(e.childrenAfterGroup[o],t);e.sibling&&e.sibling.clearRowTop()}e.detailNode&&e.detailNode.clearRowTop()},t.prototype.ensureRowsAtPixel=function(e,t,o){var n=this;void 0===o&&(o=0);var i=this.getRowIndexAtPixel(t);return this.getRow(i)!==e[0]&&(e.forEach(function(e){et.removeFromArray(n.rootNode.allLeafChildren,e)}),e.forEach(function(e,t){et.insertIntoArray(n.rootNode.allLeafChildren,e,i+o+t)}),this.refreshModel({step:Ue.STEP_EVERYTHING,keepRenderedRows:!0,animate:!0,keepEditingRows:!0}),!0)},t.prototype.highlightRowAtPixel=function(e,t){var o=null!=t?this.getRowIndexAtPixel(t):null,n=null!=o?this.getRow(o):null;if(n&&e&&n!==e&&null!=t){var i=this.getHighlightPosition(t,n);this.lastHighlightedRow&&this.lastHighlightedRow!==n&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),n.setHighlighted(i),this.lastHighlightedRow=n}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},t.prototype.getHighlightPosition=function(e,t){if(!t){var o=this.getRowIndexAtPixel(e);if(!(t=this.getRow(o||0)))return"below"}return e-t.rowTop<t.rowHeight/2?"above":"below"},t.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},t.prototype.isLastRowFound=function(){return!0},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getTopLevelRowCount=function(){return this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode?1:this.rootNode.childrenAfterFilter?this.rootNode.childrenAfterFilter.length:0},t.prototype.getTopLevelRowDisplayedIndex=function(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;var t=this.rootNode.childrenAfterSort[e];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;t.expanded&&t.childrenAfterSort&&t.childrenAfterSort.length>0;)t=t.childrenAfterSort[0];return t.rowIndex},t.prototype.getRowBounds=function(e){if(et.missing(this.rowsToDisplay))return null;var t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null},t.prototype.onRowGroupOpened=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:Ue.STEP_MAP,keepRenderedRows:!0,animate:e})},t.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var t=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:Ue.STEP_FILTER,keepRenderedRows:!0,animate:t})}},t.prototype.onSortChanged=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:Ue.STEP_SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},t.prototype.getType=function(){return Ue.ROW_MODEL_TYPE_CLIENT_SIDE},t.prototype.onValueChanged=function(){this.columnController.isPivotActive()?this.refreshModel({step:Ue.STEP_PIVOT}):this.refreshModel({step:Ue.STEP_AGGREGATE})},t.prototype.createChangePath=function(e){var t=et.missingOrEmpty(e),o=new di(!1,this.rootNode);return(t||this.gridOptionsWrapper.isTreeData())&&o.setInactive(),o},t.prototype.refreshModel=function(e){var t=this,o=this.createChangePath(e.rowNodeTransactions);switch(e.step){case Ue.STEP_EVERYTHING:this.doRowGrouping(e.groupState,e.rowNodeTransactions,e.rowNodeOrder,o,e.afterColumnsChanged);case Ue.STEP_FILTER:this.doFilter(o);case Ue.STEP_PIVOT:this.doPivot(o);case Ue.STEP_AGGREGATE:this.doAggregate(o);case Ue.STEP_SORT:this.doSort(e.rowNodeTransactions,o);case Ue.STEP_MAP:this.doRowsToDisplay()}this.resetRowTops(this.rootNode,o),this.setRowTops(),this.eventService.dispatchEvent({type:Ft.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1}),this.$scope&&window.setTimeout(function(){t.$scope.$apply()},0)},t.prototype.isEmpty=function(){var e;return e=et.exists(this.gridOptionsWrapper.getNodeChildDetailsFunc())?et.missing(this.rootNode.childrenAfterGroup)||0===this.rootNode.childrenAfterGroup.length:et.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length,et.missing(this.rootNode)||e||!this.columnController.isReady()},t.prototype.isRowsToRender=function(){return et.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.getNodesInRangeForSelection=function(e,t){var o,n=!t,i=!1,r=[],s=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort(function(a){var l=n&&!i;if(n||a!==t&&a!==e||(n=!0),!a.group||!s){var u=n&&!i,c=a.isParentOfNode(o);(u||c)&&r.push(a)}l&&(a!==t&&a!==e||(i=!0,o=a===t?t:e))}),r},t.prototype.setDatasource=function(e){console.error("ag-Grid: should never call setDatasource on clientSideRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRootNode=function(){return this.rootNode},t.prototype.getRow=function(e){return this.rowsToDisplay[e]},t.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},t.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty())return-1;var t=0,o=this.rowsToDisplay.length-1;if(e<=0)return 0;if(et.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;for(;;){var n=Math.floor((t+o)/2),i=this.rowsToDisplay[n];if(this.isRowInPixel(i,e))return n;i.rowTop<e?t=n+1:i.rowTop>e&&(o=n-1)}},t.prototype.isRowInPixel=function(e,t){return e.rowTop<=t&&e.rowTop+e.rowHeight>t},t.prototype.getCurrentPageHeight=function(){if(this.rowsToDisplay&&this.rowsToDisplay.length>0){var e=et.last(this.rowsToDisplay);return e.rowTop+e.rowHeight}return 0},t.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(t,o){return e(t,o)})},t.prototype.forEachNode=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,e,Hu.Normal,0)},t.prototype.forEachNodeAfterFilter=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterFilter,e,Hu.AfterFilter,0)},t.prototype.forEachNodeAfterFilterAndSort=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,e,Hu.AfterFilterAndSort,0)},t.prototype.forEachPivotNode=function(e){this.recursivelyWalkNodesAndCallback([this.rootNode],e,Hu.PivotNodes,0)},t.prototype.recursivelyWalkNodesAndCallback=function(e,t,o,n){if(!e)return n;for(var i=0;i<e.length;i++){var r=e[i];if(t(r,n++),r.hasChildren()){var s=null;switch(o){case Hu.Normal:s=r.childrenAfterGroup;break;case Hu.AfterFilter:s=r.childrenAfterFilter;break;case Hu.AfterFilterAndSort:s=r.childrenAfterSort;break;case Hu.PivotNodes:s=r.leafGroup?null:r.childrenAfterSort}s&&(n=this.recursivelyWalkNodesAndCallback(s,t,o,n))}}return n},t.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.expandOrCollapseAll=function(e){var t=this.gridOptionsWrapper.isTreeData();this.rootNode&&function o(n){n&&n.forEach(function(n){(t?et.exists(n.childrenAfterGroup):n.group)&&(n.expanded=e,o(n.childrenAfterGroup))})}(this.rootNode.childrenAfterGroup),this.refreshModel({step:Ue.STEP_MAP}),this.eventService.dispatchEvent({api:this.gridApi,columnApi:this.columnApi,type:Ft.EVENT_EXPAND_COLLAPSE_ALL,source:e?"expandAll":"collapseAll"})},t.prototype.doSort=function(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})},t.prototype.doRowGrouping=function(e,t,o,n,i){et.exists(this.gridOptionsWrapper.getNodeChildDetailsFunc())||(this.groupStage?(t?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,rowNodeOrder:o,changedPath:n}):(this.selectionController.removeGroupsFromSelection(),this.groupStage.execute({rowNode:this.rootNode,changedPath:n,afterColumnsChanged:i}),this.restoreGroupState(e)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionController.updateGroupsFromChildrenSelections(n)):this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren)},t.prototype.restoreGroupState=function(e){e&&et.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(t,o){"boolean"==typeof e[o]&&(t.expanded=e[o])})},t.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var e={};return et.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(t,o){return e[o]=t.expanded}),e},t.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},t.prototype.getRowNode=function(e){return this.nodeManager.getRowNode(e)},t.prototype.setRowData=function(e){var t=this.getGroupState();this.nodeManager.setRowData(e),this.eventService.dispatchEvent({type:Ft.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.refreshModel({step:Ue.STEP_EVERYTHING,groupState:t,newData:!0})},t.prototype.batchUpdateRowData=function(e,t){var o=this;if(!this.rowDataTransactionBatch){this.rowDataTransactionBatch=[];var n=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();window.setTimeout(function(){o.executeBatchUpdateRowData(),o.rowDataTransactionBatch=null},n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})},t.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var t=[],o=[];this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(n){var i=e.nodeManager.updateRowData(n.rowDataTransaction,null);o.push(i),n.callback&&t.push(n.callback.bind(null,i))}),this.commonUpdateRowData(o),t.length>0&&window.setTimeout(function(){t.forEach(function(e){return e()})},0)},t.prototype.updateRowData=function(e,t){this.valueCache.onDataChanged();var o=this.nodeManager.updateRowData(e,t);return this.commonUpdateRowData([o],t),o},t.prototype.commonUpdateRowData=function(e,t){this.refreshModel({step:Ue.STEP_EVERYTHING,rowNodeTransactions:e,rowNodeOrder:t,keepRenderedRows:!0,animate:!0,keepEditingRows:!0}),this.eventService.dispatchEvent({type:Ft.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},t.prototype.onRowHeightChanged=function(){this.refreshModel({step:Ue.STEP_MAP,keepRenderedRows:!0,keepEditingRows:!0})},t.prototype.resetRowHeights=function(){this.forEachNode(function(e){e.setRowHeight(null),e.detailNode&&e.detailNode.setRowHeight(null)}),this.onRowHeightChanged()},ju([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ju([ct("columnController")],t.prototype,"columnController",void 0),ju([ct("filterManager")],t.prototype,"filterManager",void 0),ju([ct("$scope")],t.prototype,"$scope",void 0),ju([ct("selectionController")],t.prototype,"selectionController",void 0),ju([ct("valueService")],t.prototype,"valueService",void 0),ju([ct("valueCache")],t.prototype,"valueCache",void 0),ju([ct("columnApi")],t.prototype,"columnApi",void 0),ju([ct("gridApi")],t.prototype,"gridApi",void 0),ju([ct("filterStage")],t.prototype,"filterStage",void 0),ju([ct("sortStage")],t.prototype,"sortStage",void 0),ju([ct("flattenStage")],t.prototype,"flattenStage",void 0),ju([pt("groupStage")],t.prototype,"groupStage",void 0),ju([pt("aggregationStage")],t.prototype,"aggregationStage",void 0),ju([pt("pivotStage")],t.prototype,"pivotStage",void 0),ju([at],t.prototype,"init",null),ju([ut("rowModel")],t)}(Dt),Ku=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Yu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},qu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ku(t,e),t.prototype.execute=function(e){var t=e.rowNode;this.filterService.filter(e.changedPath),this.selectableService.updateSelectableAfterFiltering(t)},Yu([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Yu([ct("selectableService")],t.prototype,"selectableService",void 0),Yu([ct("filterService")],t.prototype,"filterService",void 0),Yu([ut("filterStage")],t)}(Dt),$u=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Qu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Xu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),t.prototype.execute=function(e){var t=this.sortController.getSortForRowController(),o=et.exists(t)&&t.length>0,n=o&&et.exists(e.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),i=n?this.calculateDirtyNodes(e.rowNodeTransactions):null,r=this.columnController.getValueColumns(),s=et.missingOrEmpty(r);this.sortService.sort(t,o,n,i,e.changedPath,s)},t.prototype.calculateDirtyNodes=function(e){var t={},o=function(e){e&&e.forEach(function(e){return t[e.id]=!0})};return e.forEach(function(e){o(e.add),o(e.update),o(e.remove)}),t},Qu([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Qu([ct("sortService")],t.prototype,"sortService",void 0),Qu([ct("sortController")],t.prototype,"sortController",void 0),Qu([ct("columnController")],t.prototype,"columnController",void 0),Qu([ut("sortStage")],t)}(Dt),Zu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ju=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ec=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zu(t,e),t.prototype.execute=function(e){var t=e.rowNode,o=[],n={value:0},i=this.columnController.isPivotMode(),r=i&&t.leafGroup;return this.recursivelyAddToRowsToDisplay(r?[t]:t.childrenAfterSort,o,n,i,0),!r&&o.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(t),this.addRowNodeToRowsToDisplay(t.sibling,o,n,0)),o},t.prototype.recursivelyAddToRowsToDisplay=function(e,t,o,n,i){if(!et.missingOrEmpty(e))for(var r=this.gridOptionsWrapper.isGroupSuppressRow(),s=this.gridOptionsWrapper.isGroupHideOpenParents(),a=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),l=!a&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),u=0;u<e.length;u++){var c=e[u],p=c.hasChildren(),d=a&&p&&1===c.childrenAfterGroup.length,h=l&&p&&c.leafGroup&&1===c.childrenAfterGroup.length;if(!(n&&!p||r&&p||s&&c.expanded&&(!n||!c.leafGroup)||d||h)&&this.addRowNodeToRowsToDisplay(c,t,o,i),!n||!c.leafGroup)if(p){var f=d||h;(c.expanded||f)&&(this.recursivelyAddToRowsToDisplay(c.childrenAfterSort,t,o,n,f?i:i+1),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(c),this.addRowNodeToRowsToDisplay(c.sibling,t,o,i)))}else if(c.master&&c.expanded){var g=this.createDetailNode(c);this.addRowNodeToRowsToDisplay(g,t,o,i)}}},t.prototype.addRowNodeToRowsToDisplay=function(e,t,o,n){var i=this.gridOptionsWrapper.isGroupMultiAutoColumn();t.push(e),e.setUiLevel(i?0:n)},t.prototype.ensureFooterNodeExists=function(e){if(!et.exists(e.sibling)){var t=new Go;this.context.createBean(t),Object.keys(e).forEach(function(o){t[o]=e[o]}),t.footer=!0,t.rowTop=null,t.oldRowTop=null,et.exists(t.id)&&(t.id="rowGroupFooter_"+t.id),t.sibling=e,e.sibling=t}},t.prototype.createDetailNode=function(e){if(et.exists(e.detailNode))return e.detailNode;var t=new Go;return this.context.createBean(t),t.detail=!0,t.selectable=!1,t.flower=t.detail,t.parent=e,et.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,e.childFlower=e.detailNode,t},Ju([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ju([ct("selectionController")],t.prototype,"selectionController",void 0),Ju([ct("columnController")],t.prototype,"columnController",void 0),Ju([ut("flattenStage")],t)}(Dt),tc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),oc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},nc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tc(t,e),t.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},t.prototype.sort=function(e,t,o,n,i,r){var s=this;i.forEachChangedNodeDepthFirst(function(a){if(s.pullDownGroupDataForHideOpenParents(a.childrenAfterFilter,!0),t){var l=o?s.doDeltaSort(a,e,n,i,r):s.doFullSort(a,e);a.childrenAfterSort=l.map(function(e){return e.rowNode})}else a.childrenAfterSort=a.childrenAfterFilter.slice(0);s.updateChildIndexes(a),s.postSortFunc&&s.postSortFunc(a.childrenAfterSort)}),this.updateGroupDataForHiddenOpenParents(i)},t.prototype.doFullSort=function(e,t){var o=e.childrenAfterFilter.map(this.mapNodeToSortedNode.bind(this));return o.sort(this.compareRowNodes.bind(this,t)),o},t.prototype.mapNodeToSortedNode=function(e,t){return{currentPos:t,rowNode:e}},t.prototype.doDeltaSort=function(e,t,o,n,i){var r=e.childrenAfterSort.filter(function(e){var t=!o[e.id],r=i||n.canSkip(e);return t&&r}).map(this.mapNodeToSortedNode.bind(this)),s={};r.forEach(function(e){return s[e.rowNode.id]=e.rowNode});var a=e.childrenAfterFilter.filter(function(e){return!s[e.id]}).map(this.mapNodeToSortedNode.bind(this));return a.sort(this.compareRowNodes.bind(this,t)),0===a.length?r:0===r.length?a:this.mergeSortedArrays(t,r,a)},t.prototype.mergeSortedArrays=function(e,t,o){for(var n=[],i=0,r=0;i<t.length&&r<o.length;){var s=this.compareRowNodes(e,t[i],o[r]);n.push(s<0?t[i++]:o[r++])}for(;i<t.length;)n.push(t[i++]);for(;r<o.length;)n.push(o[r++]);return n},t.prototype.compareRowNodes=function(e,t,o){for(var n=t.rowNode,i=o.rowNode,r=0,s=e.length;r<s;r++){var a,l=e[r],u=-1===l.inverter,c=this.getValue(n,l.column),p=this.getValue(i,l.column);if(0!==(a=l.column.getColDef().comparator?l.column.getColDef().comparator(c,p,n,i,u):et.defaultComparator(c,p,this.gridOptionsWrapper.isAccentedSort())))return a*l.inverter}return t.currentPos-o.currentPos},t.prototype.getValue=function(e,t){return this.valueService.getValue(t,e)},t.prototype.updateChildIndexes=function(e){if(!et.missing(e.childrenAfterSort))for(var t=e.childrenAfterSort,o=0;o<t.length;o++){var n=t[o],i=o===e.childrenAfterSort.length-1;n.setFirstChild(0===o),n.setLastChild(i),n.setChildIndex(o)}},t.prototype.updateGroupDataForHiddenOpenParents=function(e){var t=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){var o=function(e){t.pullDownGroupDataForHideOpenParents(e.childrenAfterSort,!1),e.childrenAfterSort.forEach(function(e){e.hasChildren()&&o(e)})};e.executeFromRootNode(function(e){return o(e)})}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,t){var o=this;et.missing(e)||this.gridOptionsWrapper.isGroupHideOpenParents()&&e.forEach(function(e){o.columnController.getGroupDisplayColumns().forEach(function(n){var i=n.getColDef().showRowGroup;if("string"==typeof i){var r=o.columnController.getPrimaryColumn(i);if(r!==e.rowGroupColumn)if(t)e.setGroupValue(n.getId(),null);else{var s=e.getFirstChildOfFirstChild(r);s&&e.setGroupValue(n.getId(),s.key)}}else console.error("ag-Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},oc([ct("sortController")],t.prototype,"sortController",void 0),oc([ct("columnController")],t.prototype,"columnController",void 0),oc([ct("valueService")],t.prototype,"valueService",void 0),oc([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),oc([at],t.prototype,"init",null),oc([ut("sortService")],t)}(Dt),ic=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),rc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},sc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ic(t,e),t.prototype.postConstruct=function(){this.doingTreeData=this.gridOptionsWrapper.isTreeData()},t.prototype.filter=function(e){var t=this.filterManager.isAnyFilterPresent();this.filterNodes(t,e)},t.prototype.filterNodes=function(e,t){var o=this,n=function(t,n){t.hasChildren()?(t.childrenAfterFilter=e&&!n?t.childrenAfterGroup.filter(function(e){var t=e.childrenAfterFilter&&e.childrenAfterFilter.length>0,n=e.data&&o.filterManager.doesRowPassFilter(e);return t||n}):t.childrenAfterGroup,o.setAllChildrenCount(t)):(t.childrenAfterFilter=t.childrenAfterGroup,t.setAllChildrenCount(null))};if(this.doingTreeDataFiltering()){var i=function(e,t){if(e.childrenAfterGroup)for(var r=0;r<e.childrenAfterGroup.length;r++){var s=e.childrenAfterGroup[r],a=t||o.filterManager.doesRowPassFilter(s);s.childrenAfterGroup?i(e.childrenAfterGroup[r],a):n(s,a)}n(e,t)};t.executeFromRootNode(function(e){return i(e,!1)})}else t.forEachChangedNodeDepthFirst(function(e){return n(e,!1)},!0)},t.prototype.setAllChildrenCountTreeData=function(e){var t=0;e.childrenAfterFilter.forEach(function(e){t++,t+=e.allChildrenCount}),e.setAllChildrenCount(t)},t.prototype.setAllChildrenCountGridGrouping=function(e){var t=0;e.childrenAfterFilter.forEach(function(e){e.group?t+=e.allChildrenCount:t++}),e.setAllChildrenCount(t)},t.prototype.setAllChildrenCount=function(e){this.doingTreeData?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e)},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},rc([ct("filterManager")],t.prototype,"filterManager",void 0),rc([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),rc([at],t.prototype,"postConstruct",null),rc([ut("filterService")],t)}(Dt),ac=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),lc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},uc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ac(t,e),t.prototype.postConstruct=function(){this.rowModel.getType()===Ue.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},t.prototype.createTransactionForRowData=function(e){if(et.missing(this.clientSideRowModel))console.error("ag-Grid: ImmutableService only works with ClientSideRowModel");else{var t=this.gridOptionsWrapper.getRowNodeIdFunc();if(t&&!et.missing(t)){var o={remove:[],update:[],add:[]},n=this.clientSideRowModel.getCopyOfNodesMap(),i=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?null:{};return et.exists(e)&&e.forEach(function(e,r){var s=t(e),a=n[s];i&&(i[s]=r),a?(a.data!==e&&o.update.push(e),n[s]=void 0):o.add.push(e)}),et.iterateObject(n,function(e,t){t&&o.remove.push(t.data)}),[o,i]}console.error("ag-Grid: ImmutableService requires getRowNodeId() callback to be implemented, your row data need IDs!")}},lc([ct("rowModel")],t.prototype,"rowModel",void 0),lc([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),lc([at],t.prototype,"postConstruct",null),lc([ut("immutableService")],t)}(Dt),cc={moduleName:t.ModuleNames.ClientSideRowModelModule,beans:[qu,Xu,ec,nc,sc,uc],rowModels:{clientSide:zu}},pc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),dc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},hc=function(e){function t(t,o){var n=e.call(this,t,o)||this;return n.cacheParams=o,n}return pc(t,e),t.prototype.getDisplayIndexStart=function(){return this.getBlockNumber()*this.cacheParams.blockSize},t.prototype.getDisplayIndexEnd=function(){return this.getDisplayIndexStart()+this.cacheParams.blockSize},t.prototype.createBlankRowNode=function(t){var o=e.prototype.createBlankRowNode.call(this,t);return o.uiLevel=0,this.setIndexAndTopOnRowNode(o,t),o},t.prototype.setDataAndId=function(e,t,o){et.exists(t)?e.setDataAndId(t,o.toString()):e.setDataAndId(void 0,void 0)},t.prototype.setRowNode=function(t,o){e.prototype.setRowNode.call(this,t,o),this.setIndexAndTopOnRowNode(o,t)},t.prototype.init=function(){e.prototype.init.call(this,{context:this.getContext(),rowRenderer:this.rowRenderer})},t.prototype.getNodeIdPrefix=function(){return null},t.prototype.getRow=function(e){return this.getRowUsingLocalIndex(e)},t.prototype.setIndexAndTopOnRowNode=function(e,t){e.setRowIndex(t),e.rowTop=this.cacheParams.rowHeight*t},t.prototype.loadFromDatasource=function(){var e=this,t={startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this),sortModel:this.cacheParams.sortModel,filterModel:this.cacheParams.filterModel,context:this.gridOptionsWrapper.getContext()};et.missing(this.cacheParams.datasource.getRows)?console.warn("ag-Grid: datasource is missing getRows method"):window.setTimeout(function(){e.cacheParams.datasource.getRows(t)},0)},dc([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),dc([ct("rowRenderer")],t.prototype,"rowRenderer",void 0),dc([at],t.prototype,"init",null),t}(Tu),fc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),gc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},mc=function(e){function t(t){return e.call(this,t)||this}return fc(t,e),t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.moveItemsDown=function(e,t,o){for(var n=e.getStartRow(),i=t+o,r=e.getEndRow()-1;r>=n;r--)if(!(r<i)){var s=this.getRow(r-o,!0);s?e.setRowNode(r,s):(e.setBlankRowNode(r),e.setDirty())}},t.prototype.insertItems=function(e,t,o){for(var n=e.getStartRow(),i=e.getEndRow(),r=[],s=0;s<o.length;s++){var a=t+s;if(a>=n&&a<i){var l=e.setNewData(a,o[s]);r.push(l)}}return r},t.prototype.insertItemsAtIndex=function(e,t){var o=this,n=[];this.forEachBlockInReverseOrder(function(i){i.getEndRow()<=e||(o.moveItemsDown(i,e,t.length),o.insertItems(i,e,t).forEach(function(e){return n.push(e)}))}),this.isMaxRowFound()&&this.hack_setVirtualRowCount(this.getVirtualRowCount()+t.length),this.onCacheUpdated(),this.eventService.dispatchEvent({type:Ft.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.getRow=function(e,t){void 0===t&&(t=!1);var o=Math.floor(e/this.cacheParams.blockSize),n=this.getBlock(o);if(!n){if(t)return null;n=this.createBlock(o)}return n.getRow(e)},t.prototype.createBlock=function(e){var t=new hc(e,this.cacheParams);return this.getContext().createBean(t),this.postCreateBlock(t),t},t.prototype.refreshCache=function(){this.forEachBlockInOrder(function(e){return e.setDirty()}),this.checkBlockToLoad()},gc([ct("columnApi")],t.prototype,"columnApi",void 0),gc([ct("gridApi")],t.prototype,"gridApi",void 0),gc([(0,o=ht("loggerFactory"),function(e,t){o(e,t,0)})],t.prototype,"setBeans",null),t;var o}(Iu),yc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),vc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Cc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yc(t,e),t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,t,o,n){return!1},t.prototype.init=function(){var e=this;this.gridOptionsWrapper.isRowModelInfinite()&&(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return e.destroyCache()}))},t.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.isLastRowFound=function(){return!!this.infiniteCache&&this.infiniteCache.isMaxRowFound()},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,Ft.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Ft.EVENT_COLUMN_EVERYTHING_CHANGED,this.onColumnEverything.bind(this))},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},t.prototype.isSortModelDifferent=function(){return!et.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return Ue.ROW_MODEL_TYPE_INFINITE},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&(this.checkForDeprecated(),this.reset())},t.prototype.checkForDeprecated=function(){var e=this.datasource;et.exists(e.maxConcurrentRequests)&&console.error("ag-Grid: since version 5.1.x, maxConcurrentRequests is replaced with grid property maxConcurrentDatasourceRequests"),et.exists(e.maxPagesInCache)&&console.error("ag-Grid: since version 5.1.x, maxPagesInCache is replaced with grid property maxPagesInPaginationCache"),et.exists(e.overflowSize)&&console.error("ag-Grid: since version 5.1.x, overflowSize is replaced with grid property paginationOverflowSize"),et.exists(e.blockSize)&&console.error("ag-Grid: since version 5.1.x, pageSize/blockSize is replaced with grid property infinitePageSize")},t.prototype.isEmpty=function(){return et.missing(this.infiniteCache)},t.prototype.isRowsToRender=function(){return et.exists(this.infiniteCache)},t.prototype.getNodesInRangeForSelection=function(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]},t.prototype.reset=function(){if(!et.missing(this.datasource)){et.exists(this.gridOptionsWrapper.getRowNodeIdFunc())||this.selectionController.reset(),this.resetCache();var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}},t.prototype.createModelUpdatedEvent=function(){return{type:Ft.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!1,animate:!1}},t.prototype.resetCache=function(){this.destroyCache();var e=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests(),t=this.gridOptionsWrapper.getBlockLoadDebounceMillis();this.rowNodeBlockLoader=new Fu(e,t),this.getContext().createBean(this.rowNodeBlockLoader),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,maxConcurrentRequests:e,overflowSize:this.gridOptionsWrapper.getCacheOverflowSize(),initialRowCount:this.gridOptionsWrapper.getInfiniteInitialRowCount(),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),blockSize:this.gridOptionsWrapper.getCacheBlockSize(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),lastAccessedSequence:new tt},this.cacheParams.maxConcurrentRequests&&this.cacheParams.maxConcurrentRequests>=1||(this.cacheParams.maxConcurrentRequests=2),this.cacheParams.blockSize&&this.cacheParams.blockSize>=1||(this.cacheParams.blockSize=100),this.cacheParams.initialRowCount>=1||(this.cacheParams.initialRowCount=1),this.cacheParams.overflowSize>=1||(this.cacheParams.overflowSize=1),this.infiniteCache=new mc(this.cacheParams),this.getContext().createBean(this.infiniteCache),this.infiniteCache.addEventListener(Iu.EVENT_CACHE_UPDATED,this.onCacheUpdated.bind(this))},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache)),this.rowNodeBlockLoader&&(this.rowNodeBlockLoader=this.destroyBean(this.rowNodeBlockLoader))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){return this.infiniteCache?this.infiniteCache.getRow(e):null},t.prototype.getRowNode=function(e){var t=null;return this.forEachNode(function(o){o.id===e&&(t=o)}),t},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e,new tt)},t.prototype.getCurrentPageHeight=function(){return this.getRowCount()*this.rowHeight},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(0!==this.rowHeight){var t=Math.floor(e/this.rowHeight),o=this.getRowCount()-1;return t>o?o:t}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getVirtualRowCount():0},t.prototype.updateRowData=function(e){et.exists(e.remove)||et.exists(e.update)?console.warn("ag-Grid: updateRowData for InfiniteRowModel does not support remove or update, only add"):et.missing(e.addIndex)?console.warn("ag-Grid: updateRowData for InfiniteRowModel requires add and addIndex to be set"):this.infiniteCache&&this.infiniteCache.insertItemsAtIndex(e.addIndex,e.add)},t.prototype.isRowPresent=function(e){return!1},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.getVirtualRowCount=function(){return this.infiniteCache?this.infiniteCache.getVirtualRowCount():null},t.prototype.isMaxRowFound=function(){if(this.infiniteCache)return this.infiniteCache.isMaxRowFound()},t.prototype.setVirtualRowCount=function(e,t){this.infiniteCache&&this.infiniteCache.setVirtualRowCount(e,t)},t.prototype.getBlockState=function(){return this.rowNodeBlockLoader?this.rowNodeBlockLoader.getBlockState():null},vc([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),vc([ct("filterManager")],t.prototype,"filterManager",void 0),vc([ct("sortController")],t.prototype,"sortController",void 0),vc([ct("selectionController")],t.prototype,"selectionController",void 0),vc([ct("gridApi")],t.prototype,"gridApi",void 0),vc([ct("columnApi")],t.prototype,"columnApi",void 0),vc([ct("rowRenderer")],t.prototype,"rowRenderer",void 0),vc([at],t.prototype,"init",null),vc([lt],t.prototype,"destroyDatasource",null),vc([ut("rowModel")],t)}(Dt),bc={moduleName:t.ModuleNames.InfiniteRowModelModule,rowModels:{infinite:Cc}},wc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ec=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Rc=function(){function e(e){var t=e.valueService,o=e.gridOptionsWrapper,n=e.processCellCallback,i=e.processHeaderCallback,r=e.processGroupHeaderCallback,s=e.processRowGroupCallback;this.columnController=e.columnController,this.valueService=t,this.gridOptionsWrapper=o,this.processCellCallback=n,this.processHeaderCallback=i,this.processGroupHeaderCallback=r,this.processRowGroupCallback=s}return e.prototype.prepare=function(e){this.firstGroupColumn=et.find(e,function(e){return!!e.getColDef().showRowGroup})},e.prototype.extractHeaderValue=function(e){var t=this.getHeaderName(this.processHeaderCallback,e);return null!=t?t:""},e.prototype.extractRowCellValue=function(e,t,o,n){var i;i=n&&n.group&&(e===this.firstGroupColumn||0===t&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnController.isPivotMode()))?this.createValueForGroupNode(n):this.valueService.getValue(e,n);var r=this.processCell(n,e,i,this.processCellCallback,o);return null!=r?r:""},e.prototype.getHeaderName=function(e,t){return e?e({column:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnController.getDisplayNameForColumn(t,"csv",!0)},e.prototype.createValueForGroupNode=function(e){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});for(var t=[e.key];e.parent;)t.push((e=e.parent).key);return t.reverse().join(" -> ")},e.prototype.processCell=function(e,t,o,n,i){return n?n({column:t,node:e,value:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:i}):o},e}(),_c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return wc(t,e),t.prototype.serialize=function(e,t){void 0===t&&(t={});var o=t.shouldRowBeSkipped||function(){return!1},n=this.gridOptionsWrapper.getApi(),i=this.gridOptionsWrapper.getColumnApi(),r=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),s=this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),a=this.gridOptionsWrapper.getContext(),l=this.columnController.isPivotMode(),u=this.rowModel.getType()===Ue.ROW_MODEL_TYPE_CLIENT_SIDE,c=!u&&t.onlySelected,p=[];if(p=et.existsAndNotEmpty(t.columnKeys)?this.columnController.getGridColumns(t.columnKeys):t.allColumns&&!l?(p=this.gridOptionsWrapper.isTreeData()?this.columnController.getGridColumns([Ue.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnController.getAllPrimaryColumns()||[]):this.columnController.getAllDisplayedColumns(),t.customHeader&&e.addCustomContent(t.customHeader),e.prepare(p),t.columnGroups){var d=new Nt,h=this.displayedGroupCreator.createDisplayedGroups(p,this.columnController.getGridBalancedTree(),d,null);this.recursivelyAddHeaderGroups(h,e,t.processGroupHeaderCallback)}if(!t.skipHeader){var f=e.onNewHeaderRow();p.forEach(function(e,t){f.onColumn(e,t,void 0)})}function g(l){if((!l.group||!t.skipGroups&&(1!==l.allChildrenCount||!(r||s&&l.leafGroup)))&&(!t.skipFooters||!l.footer)&&(!t.onlySelected||l.isSelected())&&(!t.skipPinnedTop||"top"!==l.rowPinned)&&(!t.skipPinnedBottom||"bottom"!==l.rowPinned)&&(-1!==l.level||l.leafGroup)&&!o({node:l,api:n,context:a})){var u=e.onNewBodyRow();if(p.forEach(function(e,t){u.onColumn(e,t,l)}),t.getCustomContentBelowRow){var c=t.getCustomContentBelowRow({node:l,api:n,columnApi:i,context:a});c&&e.addCustomContent(c)}}}return this.pinnedRowModel.forEachPinnedTopRow(g),l?this.rowModel.forEachPivotNode?this.rowModel.forEachPivotNode(g):this.rowModel.forEachNode(g):t.onlySelectedAllPages||c?this.selectionController.getSelectedNodes().forEach(function(e){g(e)}):u?this.rowModel.forEachNodeAfterFilterAndSort(g):this.rowModel.forEachNode(g),this.pinnedRowModel.forEachPinnedBottomRow(g),t.customFooter&&e.addCustomContent(t.customFooter),e.parse()},t.prototype.recursivelyAddHeaderGroups=function(e,t,o){var n=[];e.forEach(function(e){e.getChildren&&e.getChildren().forEach(function(e){return n.push(e)})}),e.length>0&&e[0]instanceof Rt&&this.doAddHeaderHeader(t,e,o),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,o)},t.prototype.doAddHeaderHeader=function(e,t,o){var n=this,i=e.onNewHeaderGroupingRow(),r=0;t.forEach(function(e){var t,s=e;t=o?o({columnGroup:s,api:n.gridOptionsWrapper.getApi(),columnApi:n.gridOptionsWrapper.getColumnApi(),context:n.gridOptionsWrapper.getContext()}):n.columnController.getDisplayNameForColumnGroup(s,"header"),i.onColumn(t||"",r++,s.getLeafColumns().length-1)})},Ec([ct("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),Ec([ct("columnController")],t.prototype,"columnController",void 0),Ec([ct("rowModel")],t.prototype,"rowModel",void 0),Ec([ct("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Ec([ct("selectionController")],t.prototype,"selectionController",void 0),Ec([ct("columnFactory")],t.prototype,"columnFactory",void 0),Ec([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ec([ut("gridSerializer")],t)}(Dt);!function(e){e[e.HEADER_GROUPING=0]="HEADER_GROUPING",e[e.HEADER=1]="HEADER",e[e.BODY=2]="BODY"}(Uu||(Uu={}));var Sc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Oc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Dc=function(e){function t(t){var o=e.call(this,t)||this;o.isFirstLine=!0,o.result="";var n=t.columnSeparator;return o.suppressQuotes=t.suppressQuotes,o.columnSeparator=n,o}return Sc(t,e),t.prototype.addCustomContent=function(e){var t=this;e&&("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(function(e){t.beginNewLine(),e.forEach(function(e,o){0!==o&&(t.result+=t.columnSeparator),t.result+=t.putInQuotes(e.data.value||""),e.mergeAcross&&t.appendEmptyCells(e.mergeAcross)})}))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,t,o){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(o)},t.prototype.appendEmptyCells=function(e){for(var t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,t,o){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,t,o){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(e,t,Ue.EXPORT_TYPE_CSV,o))},t.prototype.putInQuotes=function(e){return this.suppressQuotes?e:null==e?'""':("string"==typeof e?t=e:"function"==typeof e.toString?t=e.toString():(console.warn("unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"');var t},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},t}(Rc),Pc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype.postConstruct=function(){this.setBeans({downloader:this.downloader,gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e){return this.getData(e)},t.prototype.getMimeType=function(){return"text/csv;charset=utf-8;"},t.prototype.getDefaultFileName=function(){return"export.csv"},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){return new Dc({columnController:this.columnController,valueService:this.valueService,gridOptionsWrapper:this.gridOptionsWrapper,processCellCallback:e.processCellCallback||void 0,processHeaderCallback:e.processHeaderCallback||void 0,processGroupHeaderCallback:e.processGroupHeaderCallback||void 0,processRowGroupCallback:e.processRowGroupCallback||void 0,suppressQuotes:e.suppressQuotes||!1,columnSeparator:e.columnSeparator||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},Oc([ct("columnController")],t.prototype,"columnController",void 0),Oc([ct("valueService")],t.prototype,"valueService",void 0),Oc([ct("downloader")],t.prototype,"downloader",void 0),Oc([ct("gridSerializer")],t.prototype,"gridSerializer",void 0),Oc([ct("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Oc([at],t.prototype,"postConstruct",null),Oc([ut("csvCreator")],t)}(function(){function e(){}return e.prototype.setBeans=function(e){this.beans=e},e.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("ag-grid: Export cancelled. Export is not allowed as per your configuration."),"";var t=this.getMergedParamsAndData(e),o=t.mergedParams,n=t.data,i=o&&o.fileName&&0!==o.fileName.length?o.fileName:this.getDefaultFileName();return-1===i.indexOf(".")&&(i=i+"."+this.getDefaultFileExtension()),this.beans.downloader.download(i,this.packageFile(n)),n},e.prototype.getData=function(e){return this.getMergedParamsAndData(e).data},e.prototype.getMergedParamsAndData=function(e){var t=this.mergeDefaultParams(e);return{mergedParams:t,data:this.beans.gridSerializer.serialize(this.createSerializingSession(t),t)}},e.prototype.mergeDefaultParams=function(e){var t=this.beans.gridOptionsWrapper.getDefaultExportParams(),o={};return et.assign(o,t),et.assign(o,e),o},e.prototype.packageFile=function(e){return new Blob(["\ufeff",e],{type:window.navigator.msSaveOrOpenBlob?this.getMimeType():"octet/stream"})},e}()),Tc=function(){function e(){}return e.prototype.download=function(e,t){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(t,e);else{var o=document.createElement("a"),n=window.URL.createObjectURL(t);o.setAttribute("href",n),o.setAttribute("download",e),o.style.display="none",document.body.appendChild(o),o.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:window})),document.body.removeChild(o),window.setTimeout(function(){window.URL.revokeObjectURL(n)},0)}},function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}([ut("downloader")],e)}(),Ac=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Fc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ac(t,e),t.prototype.createHeader=function(e){void 0===e&&(e={});var t=["version"];return e.version||(e.version="1.0"),e.encoding&&t.push("encoding"),e.standalone&&t.push("standalone"),"<?xml "+t.map(function(t){return t+'="'+e[t]+'"'}).join(" ")+" ?>"},t.prototype.createXml=function(e,t){var o=this,n="";e.properties&&(e.properties.prefixedAttributes&&e.properties.prefixedAttributes.forEach(function(e){Object.keys(e.map).forEach(function(i){n+=o.returnAttributeIfPopulated(e.prefix+i,e.map[i],t)})}),e.properties.rawMap&&Object.keys(e.properties.rawMap).forEach(function(i){n+=o.returnAttributeIfPopulated(i,e.properties.rawMap[i],t)}));var i="<"+e.name+n;return e.children||null!=e.textNode?null!=e.textNode?i+">"+e.textNode+"</"+e.name+">\r\n":(i+=">\r\n",e.children&&e.children.forEach(function(e){i+=o.createXml(e,t)}),i+"</"+e.name+">\r\n"):i+"/>\r\n"},t.prototype.returnAttributeIfPopulated=function(e,t,o){if(!t&&""!==t&&0!==t)return"";var n=t;return"boolean"==typeof t&&o&&(n=o(t))," "+e+'="'+n+'"'},function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}([ut("xmlFactory")],t)}(Dt),Nc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),xc=[0,1996959894,-301047508,-1727442502,124634137,1886057615,-379345611,-1637575261,249268274,2044508324,-522852066,-1747789432,162941995,2125561021,-407360249,-1866523247,498536548,1789927666,-205950648,-2067906082,450548861,1843258603,-187386543,-2083289657,325883990,1684777152,-43845254,-1973040660,335633487,1661365465,-99664541,-1928851979,997073096,1281953886,-715111964,-1570279054,1006888145,1258607687,-770865667,-1526024853,901097722,1119000684,-608450090,-1396901568,853044451,1172266101,-589951537,-1412350631,651767980,1373503546,-925412992,-1076862698,565507253,1454621731,-809855591,-1195530993,671266974,1594198024,-972236366,-1324619484,795835527,1483230225,-1050600021,-1234817731,1994146192,31158534,-1731059524,-271249366,1907459465,112637215,-1614814043,-390540237,2013776290,251722036,-1777751922,-519137256,2137656763,141376813,-1855689577,-429695999,1802195444,476864866,-2056965928,-228458418,1812370925,453092731,-2113342271,-183516073,1706088902,314042704,-1950435094,-54949764,1658658271,366619977,-1932296973,-69972891,1303535960,984961486,-1547960204,-725929758,1256170817,1037604311,-1529756563,-740887301,1131014506,879679996,-1385723834,-631195440,1141124467,855842277,-1442165665,-586318647,1342533948,654459306,-1106571248,-921952122,1466479909,544179635,-1184443383,-832445281,1591671054,702138776,-1328506846,-942167884,1504918807,783551873,-1212326853,-1061524307,-306674912,-1698712650,62317068,1957810842,-355121351,-1647151185,81470997,1943803523,-480048366,-1805370492,225274430,2053790376,-468791541,-1828061283,167816743,2097651377,-267414716,-2029476910,503444072,1762050814,-144550051,-2140837941,426522225,1852507879,-19653770,-1982649376,282753626,1742555852,-105259153,-1900089351,397917763,1622183637,-690576408,-1580100738,953729732,1340076626,-776247311,-1497606297,1068828381,1219638859,-670225446,-1358292148,906185462,1090812512,-547295293,-1469587627,829329135,1181335161,-882789492,-1134132454,628085408,1382605366,-871598187,-1156888829,570562233,1426400815,-977650754,-1296233688,733239954,1555261956,-1026031705,-1244606671,752459403,1541320221,-1687895376,-328994266,1969922972,40735498,-1677130071,-351390145,1913087877,83908371,-1782625662,-491226604,2075208622,213261112,-1831694693,-438977011,2094854071,198958881,-2032938284,-237706686,1759359992,534414190,-2118248755,-155638181,1873836001,414664567,-2012718362,-15766928,1711684554,285281116,-1889165569,-127750551,1634467795,376229701,-1609899400,-686959890,1308918612,956543938,-1486412191,-799009033,1231636301,1047427035,-1362007478,-640263460,1088359270,936918e3,-1447252397,-558129467,1202900863,817233897,-1111625188,-893730166,1404277552,615818150,-1160759803,-841546093,1423857449,601450431,-1285129682,-1000256840,1567103746,711928724,-1274298825,-1022587231,1510334235,755167117],Ic=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.folders=[],t.files=[],t.addFolder=function(e){t.folders.push({path:e,created:new Date})},t}return Nc(t,e),t.prototype.addFolders=function(e){e.forEach(this.addFolder)},t.prototype.addFile=function(e,t){this.files.push({path:e,created:new Date,content:t})},t.prototype.clearStream=function(){this.folders=[],this.files=[]},t.prototype.getContent=function(e){void 0===e&&(e="application/zip");var t=this.buildFileStream(),o=this.buildUint8Array(t);return this.clearStream(),new Blob([o],{type:e})},t.prototype.buildFileStream=function(e){void 0===e&&(e="");for(var t=this.folders.concat(this.files),o=t.length,n="",i=0,r=0,s=0,a=t;s<a.length;s++){var l=this.getHeader(a[s],i),u=l.fileHeader,c=l.folderHeader,p=l.content;i+=u.length+p.length,r+=c.length,e+=u+p,n+=c}return e+n+this.buildFolderEnd(o,r,i)},t.prototype.getHeader=function(e,t){var o=e.content,n=e.path,i=e.created,r=et.decToHex,s=(0,et.utf8_encode)(n),a=s!==n,l=this.convertTime(i),u=this.convertDate(i),c="";if(a){var p=r(1,1)+r(this.getFromCrc32Table(s),4)+s;c="up"+r(p.length,2)+p}var d="\n\0"+(a?"\0\b":"\0\0")+"\0\0"+r(l,2)+r(u,2)+r(o?this.getFromCrc32Table(o):0,4)+r(o?o.length:0,4)+r(o?o.length:0,4)+r(s.length,2)+r(c.length,2);return{fileHeader:"PK\x03\x04"+d+s+c,folderHeader:"PK\x01\x02\x14\0"+d+"\0\0\0\0\0\0"+(o?"\0\0\0\0":"\x10\0\0\0")+r(t,4)+s+c,content:o||""}},t.prototype.buildFolderEnd=function(e,t,o){var n=et.decToHex;return"PK\x05\x06\0\0\0\0"+n(e,2)+n(e,2)+n(t,4)+n(o,4)+"\0\0"},t.prototype.buildUint8Array=function(e){for(var t=new Uint8Array(e.length),o=0;o<t.length;o++)t[o]=e.charCodeAt(o);return t},t.prototype.getFromCrc32Table=function(e,t){if(void 0===t&&(t=0),!e.length)return 0;t^=-1;for(var o=0,n=0;n<e.length;n++)o=e.charCodeAt(n),t=t>>>8^xc[255&(t^o)];return-1^t},t.prototype.convertTime=function(e){var t=e.getHours();return t<<=6,t|=e.getMinutes(),(t<<=5)|e.getSeconds()/2},t.prototype.convertDate=function(e){var t=e.getFullYear()-1980;return t<<=4,t|=e.getMonth()+1,(t<<=5)|e.getDate()},function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}([ut("zipContainer")],t)}(Dt),Mc={moduleName:t.ModuleNames.CsvExportModule,beans:[Pc,Tc,Fc,_c,Ic]};bt.register(cc,!1),bt.register(bc,!1),bt.register(Mc,!1),t.AgAbstractField=Wo,t.AgAngleSelect=ql,t.AgCheckbox=Ko,t.AgColorPicker=Ll,t.AgDialog=wl,t.AgGroupComponent=ml,t.AgInputNumberField=kl,t.AgInputRange=Hl,t.AgInputTextArea=Sl,t.AgInputTextField=Rl,t.AgPanel=Cl,t.AgRadioButton=Zs,t.AgSelect=zl,t.AgSlider=Pl,t.AgToggleButton=Ql,t.AlignedGridsService=Ta,t.AnimateShowChangeCellRenderer=bn,t.AnimateSlideCellRenderer=En,t.AutoWidthCalculator=ws,t.Autowired=ct,t.BaseComponentWrapper=ku,t.Bean=ut,t.BeanStub=Dt,t.BodyDropPivotTarget=Dr,t.BodyDropTarget=Fr,t.CellComp=Wi,t.CellNavigationService=zs,t.CellPositionUtils=iu,t.CellRendererFactory=Ys,t.ChangedPath=di,t.CheckboxSelectionComponent=$o,t.ColDefUtil=jt,t.Color=n,t.Column=Et,t.ColumnApi=yi,t.ColumnController=Mt,t.ColumnFactory=At,t.ColumnGroup=Rt,t.ColumnKeyCreator=it,t.ColumnUtils=kt,t.Component=oo,t.ComponentUtil=Xt,t.Constants=Ue,t.Context=rt,t.CssClassApplier=qi,t.DateFilter=Po,t.DisplayedGroupCreator=Wt,t.DragAndDropService=_i,t.DragService=xs,t.Environment=ja,t.EventService=vt,t.Events=Ft,t.ExpressionService=ls,t.FilterManager=Ur,t.FocusController=Vs,t.Grid=bu,t.GridApi=rs,t.GridCore=Ds,t.GridListener=function(e){return ao.bind(this,e)},t.GridOptionsWrapper=$t,t.GridPanel=ns,t.GroupCellRenderer=vn,t.GroupInstanceIdCreator=Nt,t.GuiListener=function(e,t){return lo.bind(this,e,t)},t.HeaderContainer=Ir,t.HeaderNavigationService=kr,t.HeaderPositionUtils=Cu,t.HeaderRootComp=Wr,t.HeaderRowComp=Rr,t.HorizontalResizeService=_s,t.LargeTextCellEditor=In,t.Logger=vs,t.LoggerFactory=ys,t.ManagedFocusComponent=rr,t.ModuleRegistry=bt,t.MouseEventService=Bs,t.MoveColumnController=Sr,t.NumberFilter=Gn,t.NumberSequence=tt,t.Optional=pt,t.OriginalColumnGroup=_t,t.PaginationProxy=ya,t.PinnedRowModel=au,t.PopupComponent=io,t.PopupEditorWrapper=Ni,t.PopupSelectCellEditor=Nn,t.PopupService=fs,t.PopupTextCellEditor=An,t.PostConstruct=at,t.PreConstruct=st,t.PreDestroy=lt,t.Promise=ot,t.PropertyKeys=Bt,t.ProvidedFilter=vo,t.Qualifier=ht,t.QuerySelector=function(e){return so.bind(this,e)},t.RefSelector=ro,t.ResizeObserverService=cl,t.RowComp=Ui,t.RowNode=Go,t.RowNodeBlock=Tu,t.RowNodeBlockLoader=Fu,t.RowNodeCache=Iu,t.RowPositionUtils=ou,t.RowRenderer=Yi,t.ScalarFilter=So,t.ScrollVisibleService=oa,t.SelectCellEditor=Pn,t.SelectableService=tl,t.SelectionController=gi,t.SetLeftFeature=Ji,t.SimpleFilter=Ro,t.SortController=Ls,t.StandardMenuFactory=As,t.StylingService=ra,t.TabbedLayout=Du,t.TemplateService=ps,t.TextCellEditor=ho,t.TextFilter=Jn,t.Timer=nt,t.TooltipFeature=ki,t.TouchListener=To,t.UserComponentFactory=gn,t.UserComponentRegistry=pi,t.ValueCache=Ra,t.ValueFormatterService=Qs,t.ValueService=Yr,t.VanillaFrameworkOverrides=Js,t.VirtualList=Gu,t._=et,t.defaultGroupComparator=function(e,t,o,n,i){void 0===i&&(i=!1),console.warn("ag-Grid: Since ag-grid 11.0.0 defaultGroupComparator is not necessary. You can remove this from your colDef");var r=et.exists(o)&&o.group,s=et.exists(n)&&n.group,a=!r&&!s;return r&&s?et.defaultComparator(o.key,n.key,i):a?et.defaultComparator(e,t,i):r?1:-1},t.initialiseAgGridWithAngular1=function(e){e.module("agGrid",[]).directive("agGrid",function(){return{restrict:"A",controller:["$element","$scope","$compile","$attrs",wu],scope:!0}})},t.initialiseAgGridWithWebComponents=function(){if(console.warn("ag-grid: initialiseAgGridWithWebComponents is deprecated. Please use the ag-grid-webcomponent dependency instead. "),!_u){_u=!0,"undefined"!=typeof document&&document.registerElement||console.error("ag-Grid: unable to find document.registerElement() function, unable to initialise ag-Grid as a Web Component");var e=Object.create(HTMLElement.prototype);Xt.ALL_PROPERTIES.forEach(function(t){Object.defineProperty(e,t,{set:function(e){this.__agGridSetProperty(t,e)},get:function(){return this.__agGridGetProperty(t)},enumerable:!0,configurable:!0})});var t=e;t.__agGridSetProperty=function(e,t){this.__attributes||(this.__attributes={}),this.__attributes[e]=t;var o={};o[e]={currentValue:t},this.onChange(o)},t.onChange=function(e){this._initialised&&Xt.processOnChange(e,this._gridOptions,this.api,this.columnApi)},t.__agGridGetProperty=function(e){return this.__attributes||(this.__attributes={}),this.__attributes[e]},t.setGridOptions=function(e){var t=this.globalEventListener.bind(this);this._gridOptions=Xt.copyAttributesToGridOptions(e,this),this._agGrid=new bu(this,this._gridOptions,{globalEventListener:t}),this.api=e.api,this.columnApi=e.columnApi,this._initialised=!0},t.createdCallback=function(){for(var e=0;e<this.attributes.length;e++)this.setPropertyFromAttribute(this.attributes[e])},t.setPropertyFromAttribute=function(e){var t,o="string"==typeof(t=e.nodeName)?t.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()}):t,n=e.nodeValue;Xt.ALL_PROPERTIES.indexOf(o)>=0&&(this[o]=n)},t.attachedCallback=function(e){},t.detachedCallback=function(e){},t.attributeChangedCallback=function(e){this.setPropertyFromAttribute(this.attributes[e])},t.globalEventListener=function(e,t){var o=e.toLowerCase(),n=new Event(o);n.agGridDetails=t,this.dispatchEvent(n);var i="on"+o;"function"==typeof this[i]&&this[i](n)},document.registerElement("ag-grid",{prototype:e})}},t.simpleHttpRequest=function(e){return new ot(function(t){var o=new XMLHttpRequest;o.open("GET",e.url),o.send(),o.onreadystatechange=function(){4===o.readyState&&200===o.status&&t(JSON.parse(o.responseText))}})},t.stringToArray=i},fVDX:function(e,t,o){"use strict";o.d(t,"a",function(){return E});var n=o("fXoL"),i=o("qfBg"),r=o("ofXK"),s=o("A2Dp"),a=o("o9p/"),l=o("lcMn"),u=o("T+4S"),c=o("rBUq"),p=o("/OYx"),d=o("Ludi");function h(e,t){1&e&&n.Nb(0,"app-wearer-home-screen")}function f(e,t){1&e&&n.Nb(0,"app-badge-add-bulk")}function g(e,t){1&e&&n.Nb(0,"app-analyte-exposure")}function m(e,t){1&e&&n.Nb(0,"app-analyzed-data-selection")}function y(e,t){1&e&&n.Nb(0,"app-analyzed-data-selection")}function v(e,t){1&e&&n.Nb(0,"app-unlock-account")}function C(e,t){1&e&&n.Nb(0,"app-custom-data")}function b(e,t){1&e&&n.Nb(0,"app-analyzed-data-selection")}function w(e,t){1&e&&n.Nb(0,"app-grid")}let E=(()=>{class e{constructor(e){this.userService=e}determineUserRole(){var e;return null===(e=this.userService.getActiveUser())||void 0===e?void 0:e.role}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(i.a))},e.\u0275cmp=n.Gb({type:e,selectors:[["ng-component"]],decls:10,vars:9,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(e,t){1&e&&(n.Qb(0,0),n.Fc(1,h,1,0,"app-wearer-home-screen",1),n.Fc(2,f,1,0,"app-badge-add-bulk",1),n.Fc(3,g,1,0,"app-analyte-exposure",1),n.Fc(4,m,1,0,"app-analyzed-data-selection",1),n.Fc(5,y,1,0,"app-analyzed-data-selection",1),n.Fc(6,v,1,0,"app-unlock-account",1),n.Fc(7,C,1,0,"app-custom-data",1),n.Fc(8,b,1,0,"app-analyzed-data-selection",1),n.Fc(9,w,1,0,"app-grid",2),n.Pb()),2&e&&(n.nc("ngSwitch",t.determineUserRole()),n.zb(1),n.nc("ngSwitchCase",1),n.zb(1),n.nc("ngSwitchCase",2),n.zb(1),n.nc("ngSwitchCase",3),n.zb(1),n.nc("ngSwitchCase",4),n.zb(1),n.nc("ngSwitchCase",5),n.zb(1),n.nc("ngSwitchCase",6),n.zb(1),n.nc("ngSwitchCase",7),n.zb(1),n.nc("ngSwitchCase",8))},directives:[r.y,r.z,r.A,s.a,a.a,l.a,u.a,c.a,p.a,d.a],encapsulation:2}),e})()},fXoL:function(e,t,o){"use strict";o.d(t,"a",function(){return Lr}),o.d(t,"b",function(){return Lu}),o.d(t,"c",function(){return Fu}),o.d(t,"d",function(){return Tu}),o.d(t,"e",function(){return Au}),o.d(t,"f",function(){return Oc}),o.d(t,"g",function(){return mc}),o.d(t,"h",function(){return g}),o.d(t,"i",function(){return vr}),o.d(t,"j",function(){return Yu}),o.d(t,"k",function(){return sl}),o.d(t,"l",function(){return Vu}),o.d(t,"m",function(){return al}),o.d(t,"n",function(){return Fo}),o.d(t,"o",function(){return iu}),o.d(t,"p",function(){return f}),o.d(t,"q",function(){return q}),o.d(t,"r",function(){return c}),o.d(t,"s",function(){return Y}),o.d(t,"t",function(){return Mr}),o.d(t,"u",function(){return Ol}),o.d(t,"v",function(){return Dl}),o.d(t,"w",function(){return ku}),o.d(t,"x",function(){return le}),o.d(t,"y",function(){return vc}),o.d(t,"z",function(){return ae}),o.d(t,"A",function(){return pc}),o.d(t,"B",function(){return Qu}),o.d(t,"C",function(){return p}),o.d(t,"D",function(){return Mu}),o.d(t,"E",function(){return Iu}),o.d(t,"F",function(){return pl}),o.d(t,"G",function(){return ul}),o.d(t,"H",function(){return cl}),o.d(t,"I",function(){return hl}),o.d(t,"J",function(){return En}),o.d(t,"K",function(){return h}),o.d(t,"L",function(){return wc}),o.d(t,"M",function(){return Fl}),o.d(t,"N",function(){return ic}),o.d(t,"O",function(){return br}),o.d(t,"P",function(){return fl}),o.d(t,"Q",function(){return xl}),o.d(t,"R",function(){return Ce}),o.d(t,"S",function(){return dc}),o.d(t,"T",function(){return $o}),o.d(t,"U",function(){return N}),o.d(t,"V",function(){return qo}),o.d(t,"W",function(){return _c}),o.d(t,"X",function(){return ac}),o.d(t,"Y",function(){return Gu}),o.d(t,"Z",function(){return wr}),o.d(t,"ab",function(){return la}),o.d(t,"bb",function(){return bn}),o.d(t,"cb",function(){return tn}),o.d(t,"db",function(){return Vo}),o.d(t,"eb",function(){return Wo}),o.d(t,"fb",function(){return zo}),o.d(t,"gb",function(){return jo}),o.d(t,"hb",function(){return Bo}),o.d(t,"ib",function(){return Uo}),o.d(t,"jb",function(){return ia}),o.d(t,"kb",function(){return Rc}),o.d(t,"lb",function(){return ra}),o.d(t,"mb",function(){return sa}),o.d(t,"nb",function(){return Ho}),o.d(t,"ob",function(){return V}),o.d(t,"pb",function(){return Yr}),o.d(t,"qb",function(){return fs}),o.d(t,"rb",function(){return hs}),o.d(t,"sb",function(){return na}),o.d(t,"tb",function(){return ot}),o.d(t,"ub",function(){return T}),o.d(t,"vb",function(){return ko}),o.d(t,"wb",function(){return Vr}),o.d(t,"xb",function(){return Qe}),o.d(t,"yb",function(){return nl}),o.d(t,"zb",function(){return jn}),o.d(t,"Ab",function(){return Zr}),o.d(t,"Bb",function(){return Ms}),o.d(t,"Cb",function(){return Xs}),o.d(t,"Db",function(){return Zs}),o.d(t,"Eb",function(){return Is}),o.d(t,"Fb",function(){return bu}),o.d(t,"Gb",function(){return Re}),o.d(t,"Hb",function(){return Fe}),o.d(t,"Ib",function(){return C}),o.d(t,"Jb",function(){return b}),o.d(t,"Kb",function(){return Pe}),o.d(t,"Lb",function(){return Ne}),o.d(t,"Mb",function(){return os}),o.d(t,"Nb",function(){return ls}),o.d(t,"Ob",function(){return ps}),o.d(t,"Pb",function(){return cs}),o.d(t,"Qb",function(){return us}),o.d(t,"Rb",function(){return as}),o.d(t,"Sb",function(){return ss}),o.d(t,"Tb",function(){return ds}),o.d(t,"Ub",function(){return Do}),o.d(t,"Vb",function(){return Js}),o.d(t,"Wb",function(){return Ka}),o.d(t,"Xb",function(){return $a}),o.d(t,"Yb",function(){return Ya}),o.d(t,"Zb",function(){return qa}),o.d(t,"ac",function(){return ne}),o.d(t,"bc",function(){return ns}),o.d(t,"cc",function(){return Pu}),o.d(t,"dc",function(){return gs}),o.d(t,"ec",function(){return Ru}),o.d(t,"fc",function(){return Yt}),o.d(t,"gc",function(){return vs}),o.d(t,"hc",function(){return Zl}),o.d(t,"ic",function(){return Jl}),o.d(t,"jc",function(){return eu}),o.d(t,"kc",function(){return tu}),o.d(t,"lc",function(){return Rs}),o.d(t,"mc",function(){return bs}),o.d(t,"nc",function(){return is}),o.d(t,"oc",function(){return _s}),o.d(t,"pc",function(){return Ss}),o.d(t,"qc",function(){return Ul}),o.d(t,"rc",function(){return zl}),o.d(t,"sc",function(){return Kl}),o.d(t,"tc",function(){return Yl}),o.d(t,"uc",function(){return mu}),o.d(t,"vc",function(){return ts}),o.d(t,"wc",function(){return Ke}),o.d(t,"xc",function(){return Et}),o.d(t,"yc",function(){return Rn}),o.d(t,"zc",function(){return _n}),o.d(t,"Ac",function(){return _e}),o.d(t,"Bc",function(){return Te}),o.d(t,"Cc",function(){return wu}),o.d(t,"Dc",function(){return yu}),o.d(t,"Ec",function(){return xs}),o.d(t,"Fc",function(){return es}),o.d(t,"Gc",function(){return Du}),o.d(t,"Hc",function(){return Ys}),o.d(t,"Ic",function(){return qs}),o.d(t,"Jc",function(){return $s}),o.d(t,"Kc",function(){return Qs}),o.d(t,"Lc",function(){return vu});var n=o("XNiG"),i=o("quSY"),r=o("HDdC"),s=o("VRyK"),a=o("w1tV");function l(e){return{toString:e}.toString()}function u(e,t,o){return l(()=>{const n=function(e){return function(...t){if(e){const o=e(...t);for(const e in o)this[e]=o[e]}}}(t);function i(...e){if(this instanceof i)return n.apply(this,e),this;const t=new i(...e);return o.annotation=t,o;function o(e,o,n){const i=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;for(;i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(t),e}}return o&&(i.prototype=Object.create(o.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}const c=u("Inject",e=>({token:e})),p=u("Optional"),d=u("Self"),h=u("SkipSelf"),f=u("Host"),g=u("Attribute",e=>({attributeName:e}));var m=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function y(e){for(let t in e)if(e[t]===y)return t;throw Error("Could not find renamed property on target object.")}function v(e,t){for(const o in t)t.hasOwnProperty(o)&&!e.hasOwnProperty(o)&&(e[o]=t[o])}function C(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function b(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function w(e){return E(e,e[_])||E(e,e[D])}function E(e,t){return t&&t.token===e?t:null}function R(e){return e&&(e.hasOwnProperty(S)||e.hasOwnProperty(P))?e[S]:null}const _=y({\u0275prov:y}),S=y({\u0275inj:y}),O=y({\u0275provFallback:y}),D=y({ngInjectableDef:y}),P=y({ngInjectorDef:y});function T(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(T).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;const t=e.toString();if(null==t)return""+t;const o=t.indexOf("\n");return-1===o?t:t.substring(0,o)}function A(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const F=y({__forward_ref__:y});function N(e){return e.__forward_ref__=N,e.toString=function(){return T(this())},e}function x(e){return I(e)?e():e}function I(e){return"function"==typeof e&&e.hasOwnProperty(F)&&e.__forward_ref__===N}const M="undefined"!=typeof globalThis&&globalThis,L="undefined"!=typeof window&&window,G="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,k="undefined"!=typeof global&&global,V=M||k||L||G,H=y({\u0275cmp:y}),W=y({\u0275dir:y}),B=y({\u0275pipe:y}),j=y({\u0275mod:y}),U=y({\u0275loc:y}),z=y({\u0275fac:y}),K=y({__NG_ELEMENT_ID__:y});class Y{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=C({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return"InjectionToken "+this._desc}}const q=new Y("INJECTOR",-1),$={},Q=/\n/gm,X=y({provide:String,useValue:y});let Z,J=void 0;function ee(e){const t=J;return J=e,t}function te(e){const t=Z;return Z=e,t}function oe(e,t=m.Default){if(void 0===J)throw new Error("inject() must be called from an injection context");return null===J?ie(e,void 0,t):J.get(e,t&m.Optional?null:void 0,t)}function ne(e,t=m.Default){return(Z||oe)(x(e),t)}function ie(e,t,o){const n=w(e);if(n&&"root"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;if(o&m.Optional)return null;if(void 0!==t)return t;throw new Error(`Injector: NOT_FOUND [${T(e)}]`)}function re(e){const t=[];for(let o=0;o<e.length;o++){const n=x(e[o]);if(Array.isArray(n)){if(0===n.length)throw new Error("Arguments array must have arguments.");let e=void 0,o=m.Default;for(let t=0;t<n.length;t++){const i=n[t];i instanceof p||"Optional"===i.ngMetadataName||i===p?o|=m.Optional:i instanceof h||"SkipSelf"===i.ngMetadataName||i===h?o|=m.SkipSelf:i instanceof d||"Self"===i.ngMetadataName||i===d?o|=m.Self:e=i instanceof c||i===c?i.token:i}t.push(ne(e,o))}else t.push(ne(n))}return t}class se{get(e,t=$){if(t===$){const t=new Error(`NullInjectorError: No provider for ${T(e)}!`);throw t.name="NullInjectorError",t}return t}}class ae{}class le{}function ue(e,t){for(let o=0;o<e.length;o++)t.push(e[o])}function ce(e,t){void 0===t&&(t=e);for(let o=0;o<e.length;o++){let n=e[o];Array.isArray(n)?(t===e&&(t=e.slice(0,o)),ce(n,t)):t!==e&&t.push(n)}return t}function pe(e,t){e.forEach(e=>Array.isArray(e)?pe(e,t):t(e))}function de(e,t,o){t>=e.length?e.push(o):e.splice(t,0,o)}function he(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function fe(e,t){const o=[];for(let n=0;n<e;n++)o.push(t);return o}function ge(e,t,o){let n=ye(e,t);return n>=0?e[1|n]=o:(n=~n,function(e,t,o,n){let i=e.length;if(i==t)e.push(o,n);else if(1===i)e.push(n,e[0]),e[0]=o;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=o,e[t+1]=n}}(e,n,t,o)),n}function me(e,t){const o=ye(e,t);if(o>=0)return e[1|o]}function ye(e,t){return function(e,t,o){let n=0,i=e.length>>1;for(;i!==n;){const o=n+(i-n>>1),r=e[o<<1];if(t===r)return o<<1;r>t?i=o:n=o+1}return~(i<<1)}(e,t)}var ve=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),Ce=function(e){return e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({});const be={},we=[];let Ee=0;function Re(e){return l(()=>{const t={},o={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===ve.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||we,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Ce.Emulated,id:"c",styles:e.styles||we,_:null,setInput:null,schemas:e.schemas||null,tView:null},n=e.directives,i=e.features,r=e.pipes;return o.id+=Ee++,o.inputs=Ae(e.inputs,t),o.outputs=Ae(e.outputs),i&&i.forEach(e=>e(o)),o.directiveDefs=n?()=>("function"==typeof n?n():n).map(Se):null,o.pipeDefs=r?()=>("function"==typeof r?r():r).map(Oe):null,o})}function _e(e,t,o){const n=e.\u0275cmp;n.directiveDefs=()=>t.map(Se),n.pipeDefs=()=>o.map(Oe)}function Se(e){return xe(e)||function(e){return e[W]||null}(e)}function Oe(e){return function(e){return e[B]||null}(e)}const De={};function Pe(e){const t={type:e.type,bootstrap:e.bootstrap||we,declarations:e.declarations||we,imports:e.imports||we,exports:e.exports||we,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&l(()=>{De[e.id]=e.type}),t}function Te(e,t){return l(()=>{const o=Me(e,!0);o.declarations=t.declarations||we,o.imports=t.imports||we,o.exports=t.exports||we})}function Ae(e,t){if(null==e)return be;const o={};for(const n in e)if(e.hasOwnProperty(n)){let i=e[n],r=i;Array.isArray(i)&&(r=i[1],i=i[0]),o[i]=n,t&&(t[i]=r)}return o}const Fe=Re;function Ne(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function xe(e){return e[H]||null}function Ie(e,t){return e.hasOwnProperty(z)?e[z]:null}function Me(e,t){const o=e[j]||null;if(!o&&!0===t)throw new Error(`Type ${T(e)} does not have '\u0275mod' property.`);return o}function Le(e){return Array.isArray(e)&&"object"==typeof e[1]}function Ge(e){return Array.isArray(e)&&!0===e[1]}function ke(e){return 0!=(8&e.flags)}function Ve(e){return 2==(2&e.flags)}function He(e){return 1==(1&e.flags)}function We(e){return null!==e.template}function Be(e){return 0!=(512&e[2])}function je(e){return"string"==typeof e?e:null==e?"":""+e}function Ue(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():je(e)}const ze=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(V))();function Ke(e){return{name:"document",target:e.ownerDocument}}function Ye(e){return e instanceof Function?e():e}function qe(e,t){const o=t?" in "+t:"";throw new Error(`No provider for ${Ue(e)} found${o}`)}class $e{constructor(e,t,o){this.previousValue=e,this.currentValue=t,this.firstChange=o}isFirstChange(){return this.firstChange}}function Qe(){return Xe}function Xe(e){return e.type.prototype.ngOnChanges&&(e.setInput=Je),Ze}function Ze(){const e=et(this),t=null==e?void 0:e.current;if(t){const o=e.previous;if(o===be)e.previous=t;else for(let e in t)o[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Je(e,t,o,n){const i=et(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:be,current:null}),r=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[o],l=s[a];r[a]=new $e(l&&l.currentValue,t,s===be),e[n]=t}function et(e){return e.__ngSimpleChanges__||null}Qe.ngInherit=!0;let tt=void 0;function ot(e){tt=e}function nt(){return void 0!==tt?tt:"undefined"!=typeof document?document:void 0}function it(e){return!!e.listen}const rt={createRenderer:(e,t)=>nt()};function st(e){for(;Array.isArray(e);)e=e[0];return e}function at(e,t){return st(t[e+20])}function lt(e,t){return st(t[e.index])}function ut(e,t){return e.data[t+20]}function ct(e,t){return e[t+20]}function pt(e,t){const o=t[e];return Le(o)?o:o[0]}function dt(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function ht(e){return 4==(4&e[2])}function ft(e){return 128==(128&e[2])}function gt(e,t){return null===e||null==t?null:e[t]}function mt(e){e[18]=0}function yt(e,t){e[5]+=t;let o=e,n=e[3];for(;null!==n&&(1===t&&1===o[5]||-1===t&&0===o[5]);)n[5]+=t,o=n,n=n[3]}const vt={lFrame:Ht(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ct(){return vt.bindingsEnabled}function bt(){return vt.lFrame.lView}function wt(){return vt.lFrame.tView}function Et(e){vt.lFrame.contextLView=e}function Rt(){return vt.lFrame.currentTNode}function _t(e,t){vt.lFrame.currentTNode=e,vt.lFrame.isParent=t}function St(){return vt.lFrame.isParent}function Ot(){vt.lFrame.isParent=!1}function Dt(){return vt.isInCheckNoChangesMode}function Pt(e){vt.isInCheckNoChangesMode=e}function Tt(){const e=vt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function At(){return vt.lFrame.bindingIndex}function Ft(){return vt.lFrame.bindingIndex++}function Nt(e){const t=vt.lFrame,o=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,o}function xt(e,t){const o=vt.lFrame;o.bindingIndex=o.bindingRootIndex=e,It(t)}function It(e){vt.lFrame.currentDirectiveIndex=e}function Mt(){return vt.lFrame.currentQueryIndex}function Lt(e){vt.lFrame.currentQueryIndex=e}function Gt(e,t){const o=Vt();vt.lFrame=o,o.currentTNode=t,o.lView=e}function kt(e){const t=Vt(),o=e[1];vt.lFrame=t,t.currentTNode=o.firstChild,t.lView=e,t.tView=o,t.contextLView=e,t.bindingIndex=o.bindingStartIndex}function Vt(){const e=vt.lFrame,t=null===e?null:e.child;return null===t?Ht(e):t}function Ht(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function Wt(){const e=vt.lFrame;return vt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Bt=Wt;function jt(){const e=Wt();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ut(){return vt.lFrame.selectedIndex}function zt(e){vt.lFrame.selectedIndex=e}function Kt(){const e=vt.lFrame;return ut(e.tView,e.selectedIndex)}function Yt(){vt.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function qt(e,t){for(let o=t.directiveStart,n=t.directiveEnd;o<n;o++){const t=e.data[o].type.prototype,{ngAfterContentInit:n,ngAfterContentChecked:i,ngAfterViewInit:r,ngAfterViewChecked:s,ngOnDestroy:a}=t;n&&(e.contentHooks||(e.contentHooks=[])).push(-o,n),i&&((e.contentHooks||(e.contentHooks=[])).push(o,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(o,i)),r&&(e.viewHooks||(e.viewHooks=[])).push(-o,r),s&&((e.viewHooks||(e.viewHooks=[])).push(o,s),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(o,s)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(o,a)}}function $t(e,t,o){Zt(e,t,3,o)}function Qt(e,t,o,n){(3&e[2])===o&&Zt(e,t,o,n)}function Xt(e,t){let o=e[2];(3&o)===t&&(o&=2047,o+=1,e[2]=o)}function Zt(e,t,o,n){const i=null!=n?n:-1;let r=0;for(let s=void 0!==n?65535&e[18]:0;s<t.length;s++)if("number"==typeof t[s+1]){if(r=t[s],null!=n&&r>=n)break}else t[s]<0&&(e[18]+=65536),(r<i||-1==i)&&(Jt(e,o,t,s),e[18]=(4294901760&e[18])+s+2),s++}function Jt(e,t,o,n){const i=o[n]<0,r=o[n+1],s=e[i?-o[n]:o[n]];i?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,r.call(s)):r.call(s)}class eo{constructor(e,t,o){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=o}}function to(e,t,o){const n=it(e);let i=0;for(;i<o.length;){const r=o[i];if("number"==typeof r){if(0!==r)break;i++;const s=o[i++],a=o[i++],l=o[i++];n?e.setAttribute(t,a,l,s):t.setAttributeNS(s,a,l)}else{const s=r,a=o[++i];no(s)?n&&e.setProperty(t,s,a):n?e.setAttribute(t,s,a):t.setAttribute(s,a),i++}}return i}function oo(e){return 3===e||4===e||6===e}function no(e){return 64===e.charCodeAt(0)}function io(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let o=-1;for(let n=0;n<t.length;n++){const i=t[n];"number"==typeof i?o=i:0===o||ro(e,o,i,null,-1===o||2===o?t[++n]:null)}}return e}function ro(e,t,o,n,i){let r=0,s=e.length;if(-1===t)s=-1;else for(;r<e.length;){const o=e[r++];if("number"==typeof o){if(o===t){s=-1;break}if(o>t){s=r-1;break}}}for(;r<e.length;){const t=e[r];if("number"==typeof t)break;if(t===o){if(null===n)return void(null!==i&&(e[r+1]=i));if(n===e[r+1])return void(e[r+2]=i)}r++,null!==n&&r++,null!==i&&r++}-1!==s&&(e.splice(s,0,t),r=s+1),e.splice(r++,0,o),null!==n&&e.splice(r++,0,n),null!==i&&e.splice(r++,0,i)}function so(e){return-1!==e}function ao(e){return 32767&e}function lo(e,t){let o=e>>16,n=t;for(;o>0;)n=n[15],o--;return n}let uo=!0;function co(e){const t=uo;return uo=e,t}let po=0;function ho(e,t){const o=go(e,t);if(-1!==o)return o;const n=t[1];n.firstCreatePass&&(e.injectorIndex=t.length,fo(n.data,e),fo(t,null),fo(n.blueprint,null));const i=mo(e,t),r=e.injectorIndex;if(so(i)){const e=ao(i),o=lo(i,t),n=o[1].data;for(let i=0;i<8;i++)t[r+i]=o[e+i]|n[e+i]}return t[r+8]=i,r}function fo(e,t){e.push(0,0,0,0,0,0,0,0,t)}function go(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function mo(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let o=0,n=null,i=t;for(;null!==i;){const e=i[1],t=e.type;if(n=2===t?e.declTNode:1===t?i[6]:null,null===n)return-1;if(o++,i=i[15],-1!==n.injectorIndex)return n.injectorIndex|o<<16}return-1}function yo(e,t,o){!function(e,t,o){let n;"string"==typeof o?n=o.charCodeAt(0)||0:o.hasOwnProperty(K)&&(n=o[K]),null==n&&(n=o[K]=po++);const i=255&n,r=1<<i,s=64&i,a=32&i,l=t.data;128&i?s?a?l[e+7]|=r:l[e+6]|=r:a?l[e+5]|=r:l[e+4]|=r:s?a?l[e+3]|=r:l[e+2]|=r:a?l[e+1]|=r:l[e]|=r}(e,t,o)}function vo(e,t,o,n=m.Default,i){if(null!==e){const i=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(K)?e[K]:void 0;return"number"==typeof t&&t>0?255&t:t}(o);if("function"==typeof i){Gt(t,e);try{const e=i();if(null!=e||n&m.Optional)return e;qe(o)}finally{Bt()}}else if("number"==typeof i){if(-1===i)return new So(e,t);let r=null,s=go(e,t),a=-1,l=n&m.Host?t[16][6]:null;for((-1===s||n&m.SkipSelf)&&(a=-1===s?mo(e,t):t[s+8],-1!==a&&_o(n,!1)?(r=t[1],s=ao(a),t=lo(a,t)):s=-1);-1!==s;){const e=t[1];if(Ro(i,s,e.data)){const e=bo(s,t,o,r,n,l);if(e!==Co)return e}a=t[s+8],-1!==a&&_o(n,t[1].data[s+8]===l)&&Ro(i,s,t)?(r=e,s=ao(a),t=lo(a,t)):s=-1}}}if(n&m.Optional&&void 0===i&&(i=null),0==(n&(m.Self|m.Host))){const e=t[9],r=te(void 0);try{return e?e.get(o,i,n&m.Optional):ie(o,i,n&m.Optional)}finally{te(r)}}if(n&m.Optional)return i;qe(o,"NodeInjector")}const Co={};function bo(e,t,o,n,i,r){const s=t[1],a=s.data[e+8],l=wo(a,s,o,null==n?Ve(a)&&uo:n!=s&&2===a.type,i&m.Host&&r===a);return null!==l?Eo(t,s,l,a):Co}function wo(e,t,o,n,i){const r=e.providerIndexes,s=t.data,a=1048575&r,l=e.directiveStart,u=r>>20,c=i?a+u:e.directiveEnd;for(let p=n?a:a+u;p<c;p++){const e=s[p];if(p<l&&o===e||p>=l&&e.type===o)return p}if(i){const e=s[l];if(e&&We(e)&&e.type===o)return l}return null}function Eo(e,t,o,n){let i=e[o];const r=t.data;if(i instanceof eo){const s=i;s.resolving&&function(e,t){throw new Error("Circular dependency in DI detected for "+e)}(Ue(r[o]));const a=co(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?te(s.injectImpl):null;Gt(e,n);try{i=e[o]=s.factory(void 0,r,e,n),t.firstCreatePass&&o>=n.directiveStart&&function(e,t,o){const{ngOnChanges:n,ngOnInit:i,ngDoCheck:r}=t.type.prototype;if(n){const n=Xe(t);(o.preOrderHooks||(o.preOrderHooks=[])).push(e,n),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(e,n)}i&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-e,i),r&&((o.preOrderHooks||(o.preOrderHooks=[])).push(e,r),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(e,r))}(o,r[o],t)}finally{null!==l&&te(l),co(a),s.resolving=!1,Bt()}}return i}function Ro(e,t,o){const n=64&e,i=32&e;let r;return r=128&e?n?i?o[t+7]:o[t+6]:i?o[t+5]:o[t+4]:n?i?o[t+3]:o[t+2]:i?o[t+1]:o[t],!!(r&1<<e)}function _o(e,t){return!(e&m.Self||e&m.Host&&t)}class So{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return vo(this._tNode,this._lView,e,void 0,t)}}function Oo(e){const t=e;if(I(e))return()=>{const e=Oo(x(t));return e?e():null};let o=Ie(t);if(null===o){const e=R(t);o=e&&e.factory}return o||null}function Do(e){return l(()=>{const t=e.prototype.constructor,o=t[z]||Oo(t),n=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==n;){const e=i[z]||Oo(i);if(e&&e!==o)return e;i=Object.getPrototypeOf(i)}return e=>new e})}function Po(e){return e.ngDebugContext}function To(e){return e.ngOriginalError}function Ao(e,...t){e.error(...t)}class Fo{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),o=this._findContext(e),n=function(e){return e.ngErrorLogger||Ao}(e);n(this._console,"ERROR",e),t&&n(this._console,"ORIGINAL ERROR",t),o&&n(this._console,"ERROR CONTEXT",o)}_findContext(e){return e?Po(e)?Po(e):this._findContext(To(e)):null}_findOriginalError(e){let t=To(e);for(;t&&To(t);)t=To(t);return t}}class No{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class xo extends No{getTypeName(){return"HTML"}}class Io extends No{getTypeName(){return"Style"}}class Mo extends No{getTypeName(){return"Script"}}class Lo extends No{getTypeName(){return"URL"}}class Go extends No{getTypeName(){return"ResourceURL"}}function ko(e){return e instanceof No?e.changingThisBreaksApplicationSecurity:e}function Vo(e,t){const o=Ho(e);if(null!=o&&o!==t){if("ResourceURL"===o&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${o} (see http://g.co/ng/security#xss)`)}return o===t}function Ho(e){return e instanceof No&&e.getTypeName()||null}function Wo(e){return new xo(e)}function Bo(e){return new Io(e)}function jo(e){return new Mo(e)}function Uo(e){return new Lo(e)}function zo(e){return new Go(e)}let Ko=!0,Yo=!1;function qo(){return Yo=!0,Ko}function $o(){if(Yo)throw new Error("Cannot enable prod mode after platform setup.");Ko=!1}function Qo(e){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(e){return!1}}()?new Xo:new Zo(e)}class Xo{getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}}class Zo{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;const o=this.inertDocument.createElement("body");return o.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(o),o}stripCustomNsAttrs(e){const t=e.attributes;for(let n=t.length-1;0<n;n--){const o=t.item(n).name;"xmlns:ns1"!==o&&0!==o.indexOf("ns1:")||e.removeAttribute(o)}let o=e.firstChild;for(;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling}}const Jo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,en=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function tn(e){return(e=String(e)).match(Jo)||e.match(en)?e:(qo()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function on(e){return(e=String(e)).split(",").map(e=>tn(e.trim())).join(", ")}function nn(e){const t={};for(const o of e.split(","))t[o]=!0;return t}function rn(...e){const t={};for(const o of e)for(const e in o)o.hasOwnProperty(e)&&(t[e]=!0);return t}const sn=nn("area,br,col,hr,img,wbr"),an=nn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ln=nn("rp,rt"),un=rn(ln,an),cn=rn(sn,rn(an,nn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rn(ln,nn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),un),pn=nn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dn=nn("srcset"),hn=rn(pn,dn,nn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),nn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fn=nn("script,style,template");class gn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,o=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?o=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,o&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!cn.hasOwnProperty(t))return this.sanitizedSomething=!0,!fn.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const o=e.attributes;for(let n=0;n<o.length;n++){const e=o.item(n),t=e.name,i=t.toLowerCase();if(!hn.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let r=e.value;pn[i]&&(r=tn(r)),dn[i]&&(r=on(r)),this.buf.push(" ",t,'="',vn(r),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();cn.hasOwnProperty(t)&&!sn.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(vn(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}const mn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yn=/([^\#-~ |!])/g;function vn(e){return e.replace(/&/g,"&amp;").replace(mn,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(yn,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Cn;function bn(e,t){let o=null;try{Cn=Cn||Qo(e);let n=t?String(t):"";o=Cn.getInertBodyElement(n);let i=5,r=n;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,n=r,r=o.innerHTML,o=Cn.getInertBodyElement(n)}while(n!==r);const s=new gn,a=s.sanitizeChildren(wn(o)||o);return qo()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(o){const e=wn(o)||o;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function wn(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var En=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function Rn(e){const t=Sn();return t?t.sanitize(En.HTML,e)||"":Vo(e,"HTML")?ko(e):bn(nt(),je(e))}function _n(e){const t=Sn();return t?t.sanitize(En.URL,e)||"":Vo(e,"URL")?ko(e):tn(je(e))}function Sn(){const e=bt();return e&&e[12]}function On(e,t){e.__ngContext__=t}function Dn(e,t,o){let n=e.length;for(;;){const i=e.indexOf(t,o);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===n||e.charCodeAt(i+o)<=32)return i}o=i+1}}function Pn(e,t,o){let n=0;for(;n<e.length;){let i=e[n++];if(o&&"class"===i){if(i=e[n],-1!==Dn(i.toLowerCase(),t,0))return!0}else if(1===i){for(;n<e.length&&"string"==typeof(i=e[n++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Tn(e){return 0===e.type&&"ng-template"!==e.tagName}function An(e,t,o){return t===(0!==e.type||o?e.tagName:"ng-template")}function Fn(e,t,o){let n=4;const i=e.attrs||[],r=function(e){for(let t=0;t<e.length;t++)if(oo(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&n){if(n=2|1&n,""!==l&&!An(e,l,o)||""===l&&1===t.length){if(Nn(n))return!1;s=!0}}else{const u=8&n?l:t[++a];if(8&n&&null!==e.attrs){if(!Pn(e.attrs,u,o)){if(Nn(n))return!1;s=!0}continue}const c=xn(8&n?"class":l,i,Tn(e),o);if(-1===c){if(Nn(n))return!1;s=!0;continue}if(""!==u){let e;e=c>r?"":i[c+1].toLowerCase();const t=8&n?e:null;if(t&&-1!==Dn(t,u,0)||2&n&&u!==e){if(Nn(n))return!1;s=!0}}}}else{if(!s&&!Nn(n)&&!Nn(l))return!1;if(s&&Nn(l))continue;s=!1,n=l|1&n}}return Nn(n)||s}function Nn(e){return 0==(1&e)}function xn(e,t,o,n){if(null===t)return-1;let i=0;if(n||!o){let o=!1;for(;i<t.length;){const n=t[i];if(n===e)return i;if(3===n||6===n)o=!0;else{if(1===n||2===n){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===n)break;if(0===n){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){let o=e.indexOf(4);if(o>-1)for(o++;o<e.length;){const n=e[o];if("number"==typeof n)return-1;if(n===t)return o;o++}return-1}(t,e)}function In(e,t,o=!1){for(let n=0;n<t.length;n++)if(Fn(e,t[n],o))return!0;return!1}function Mn(e,t){e:for(let o=0;o<t.length;o++){const n=t[o];if(e.length===n.length){for(let t=0;t<e.length;t++)if(e[t]!==n[t])continue e;return!0}}return!1}function Ln(e,t){return e?":not("+t.trim()+")":t}function Gn(e){let t=e[0],o=1,n=2,i="",r=!1;for(;o<e.length;){let s=e[o];if("string"==typeof s)if(2&n){const t=e[++o];i+="["+s+(t.length>0?'="'+t+'"':"")+"]"}else 8&n?i+="."+s:4&n&&(i+=" "+s);else""===i||Nn(s)||(t+=Ln(r,i),i=""),n=s,r=r||!Nn(n);o++}return""!==i&&(t+=Ln(r,i)),t}const kn={};function Vn(e){const t=e[3];return Ge(t)?t[3]:t}function Hn(e){return Bn(e[13])}function Wn(e){return Bn(e[4])}function Bn(e){for(;null!==e&&!Ge(e);)e=e[4];return e}function jn(e){Un(wt(),bt(),Ut()+e,Dt())}function Un(e,t,o,n){if(!n)if(3==(3&t[2])){const n=e.preOrderCheckHooks;null!==n&&$t(t,n,o)}else{const n=e.preOrderHooks;null!==n&&Qt(t,n,0,o)}zt(o)}function zn(e,t){return e<<17|t<<2}function Kn(e){return e>>17&32767}function Yn(e){return 2|e}function qn(e){return(131068&e)>>2}function $n(e,t){return-131069&e|t<<2}function Qn(e){return 1|e}function Xn(e,t){const o=e.contentQueries;if(null!==o)for(let n=0;n<o.length;n+=2){const i=o[n],r=o[n+1];if(-1!==r){const o=e.data[r];Lt(i),o.contentQueries(2,t[r],r)}}}function Zn(e,t,o){return it(t)?t.createElement(e,o):null===o?t.createElement(e):t.createElementNS(o,e)}function Jn(e,t,o,n,i,r,s,a,l,u){const c=t.blueprint.slice();return c[0]=i,c[2]=140|n,mt(c),c[3]=c[15]=e,c[8]=o,c[10]=s||e&&e[10],c[11]=a||e&&e[11],c[12]=l||e&&e[12]||null,c[9]=u||e&&e[9]||null,c[6]=r,c[16]=2==t.type?e[16]:c,c}function ei(e,t,o,n,i){const r=t+20,s=e.data[r]||function(e,t,o,n,i){const r=Rt(),s=St(),a=e.data[t]=function(e,t,o,n,i,r){return{type:o,index:n,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?r:r&&r.parent,o,t,n,i);return null===e.firstChild&&(e.firstChild=a),null!==r&&(s&&null==r.child&&null!==a.parent?r.child=a:s||(r.next=a)),a}(e,r,o,n,i);return _t(s,!0),s}function ti(e,t,o){kt(t);try{const n=e.viewQuery;null!==n&&Ii(1,n,o);const i=e.template;null!==i&&ii(e,t,i,1,o),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Xn(e,t),e.staticViewQueries&&Ii(2,e.viewQuery,o);const r=e.components;null!==r&&function(e,t){for(let o=0;o<t.length;o++)Ti(e,t[o])}(t,r)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),n}finally{t[2]&=-5,jt()}}function oi(e,t,o,n){const i=t[2];if(256==(256&i))return;kt(t);const r=Dt();try{mt(t),vt.lFrame.bindingIndex=e.bindingStartIndex,null!==o&&ii(e,t,o,2,n);const s=3==(3&i);if(!r)if(s){const o=e.preOrderCheckHooks;null!==o&&$t(t,o,null)}else{const o=e.preOrderHooks;null!==o&&Qt(t,o,0,null),Xt(t,0)}if(function(e){for(let t=Hn(e);null!==t;t=Wn(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const o=e[t],n=o[3];0==(1024&o[2])&&yt(n,1),o[2]|=1024}}}(t),function(e){for(let t=Hn(e);null!==t;t=Wn(t))for(let e=10;e<t.length;e++){const o=t[e],n=o[1];ft(o)&&oi(n,o,n.template,o[8])}}(t),null!==e.contentQueries&&Xn(e,t),!r)if(s){const o=e.contentCheckHooks;null!==o&&$t(t,o)}else{const o=e.contentHooks;null!==o&&Qt(t,o,1),Xt(t,1)}!function(e,t){try{const o=e.expandoInstructions;if(null!==o){let n=e.expandoStartIndex,i=-1,r=-1;for(let e=0;e<o.length;e++){const s=o[e];"number"==typeof s?s<=0?(r=0-s,zt(r),n+=9+o[++e],i=n):n+=s:(null!==s&&(xt(n,i),s(2,t[i])),i++)}}}finally{zt(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let o=0;o<t.length;o++)Di(e,t[o])}(t,a);const l=e.viewQuery;if(null!==l&&Ii(2,l,n),!r)if(s){const o=e.viewCheckHooks;null!==o&&$t(t,o)}else{const o=e.viewHooks;null!==o&&Qt(t,o,2),Xt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,yt(t[3],-1))}finally{jt()}}function ni(e,t,o,n){const i=t[10],r=!Dt(),s=ht(t);try{r&&!s&&i.begin&&i.begin(),s&&ti(e,t,n),oi(e,t,o,n)}finally{r&&!s&&i.end&&i.end()}}function ii(e,t,o,n,i){const r=Ut();try{zt(-1),2&n&&t.length>20&&Un(e,t,0,Dt()),o(n,i)}finally{zt(r)}}function ri(e,t,o){if(ke(t)){const n=t.directiveEnd;for(let i=t.directiveStart;i<n;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,o[i],i)}}}function si(e,t,o){Ct()&&(function(e,t,o,n){const i=o.directiveStart,r=o.directiveEnd;e.firstCreatePass||ho(o,t),On(n,t);const s=o.initialInputs;for(let a=i;a<r;a++){const n=e.data[a],r=We(n);r&&Ei(t,o,n);const l=Eo(t,e,a,o);On(l,t),null!==s&&_i(0,a-i,l,n,0,s),r&&(pt(o.index,t)[8]=l)}}(e,t,o,lt(o,t)),128==(128&o.flags)&&function(e,t,o){const n=o.directiveStart,i=o.directiveEnd,r=e.expandoInstructions,s=e.firstCreatePass,a=o.index-20,l=vt.lFrame.currentDirectiveIndex;try{zt(a);for(let o=n;o<i;o++){const n=e.data[o],i=t[o];It(o),null!==n.hostBindings||0!==n.hostVars||null!==n.hostAttrs?mi(n,i):s&&r.push(null)}}finally{zt(-1),It(l)}}(e,t,o))}function ai(e,t,o=lt){const n=t.localNames;if(null!==n){let i=t.index+1;for(let r=0;r<n.length;r+=2){const s=n[r+1],a=-1===s?o(t,e):e[s];e[i++]=a}}}function li(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=ui(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function ui(e,t,o,n,i,r,s,a,l,u){const c=20+n,p=c+i,d=function(e,t){const o=[];for(let n=0;n<t;n++)o.push(n<e?null:kn);return o}(c,p),h="function"==typeof u?u():u;return d[1]={type:e,blueprint:d,template:o,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:p,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:h,incompleteFirstPass:!1}}function ci(e,t,o,n){const i=Li(t);i.push(o),e.firstCreatePass&&function(e){return e.cleanup||(e.cleanup=[])}(e).push(n,i.length-1)}function pi(e,t,o){for(let n in e)if(e.hasOwnProperty(n)){const i=e[n];(o=null===o?{}:o).hasOwnProperty(n)?o[n].push(t,i):o[n]=[t,i]}return o}function di(e,t,o,n,i,r,s,a){const l=lt(t,o);let u,c=t.inputs;var p;!a&&null!=c&&(u=c[n])?(ki(e,o,u,n,i),Ve(t)&&function(e,t){const o=pt(t,e);16&o[2]||(o[2]|=64)}(o,t.index)):2===t.type&&(n="class"===(p=n)?"className":"for"===p?"htmlFor":"formaction"===p?"formAction":"innerHtml"===p?"innerHTML":"readonly"===p?"readOnly":"tabindex"===p?"tabIndex":p,i=null!=s?s(i,t.tagName||"",n):i,it(r)?r.setProperty(l,n,i):no(n)||(l.setProperty?l.setProperty(n,i):l[n]=i))}function hi(e,t,o,n){let i=!1;if(Ct()){const r=function(e,t,o){const n=e.directiveRegistry;let i=null;if(n)for(let r=0;r<n.length;r++){const s=n[r];In(o,s.selectors,!1)&&(i||(i=[]),yo(ho(o,t),e,s.type),We(s)?(vi(e,o),i.unshift(s)):i.push(s))}return i}(e,t,o),s=null===n?null:{"":-1};if(null!==r){let n=0;i=!0,bi(o,e.data.length,r.length);for(let e=0;e<r.length;e++){const t=r[e];t.providersResolver&&t.providersResolver(t)}yi(e,o,r.length);let a=!1,l=!1;for(let i=0;i<r.length;i++){const u=r[i];o.mergedAttrs=io(o.mergedAttrs,u.hostAttrs),wi(e,t,u),Ci(e.data.length-1,u,s),null!==u.contentQueries&&(o.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(o.flags|=128);const c=u.type.prototype;!a&&(c.ngOnChanges||c.ngOnInit||c.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(o.index-20),a=!0),l||!c.ngOnChanges&&!c.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(o.index-20),l=!0),fi(e,u),n+=u.hostVars}!function(e,t){const o=t.directiveEnd,n=e.data,i=t.attrs,r=[];let s=null,a=null;for(let l=t.directiveStart;l<o;l++){const e=n[l],o=e.inputs,u=null===i||Tn(t)?null:Si(o,i);r.push(u),s=pi(o,l,s),a=pi(e.outputs,l,a)}null!==s&&(s.hasOwnProperty("class")&&(t.flags|=16),s.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=r,t.inputs=s,t.outputs=a}(e,o),gi(e,t,n)}s&&function(e,t,o){if(t){const n=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=o[t[e+1]];if(null==i)throw new Error(`Export of name '${t[e+1]}' not found!`);n.push(t[e],i)}}}(o,n,s)}return o.mergedAttrs=io(o.mergedAttrs,o.attrs),i}function fi(e,t){const o=e.expandoInstructions;o.push(t.hostBindings),0!==t.hostVars&&o.push(t.hostVars)}function gi(e,t,o){for(let n=0;n<o;n++)t.push(kn),e.blueprint.push(kn),e.data.push(null)}function mi(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function yi(e,t,o){const n=20-t.index,i=e.data.length-(1048575&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(n,i,o)}function vi(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Ci(e,t,o){if(o){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)o[t.exportAs[n]]=e;We(t)&&(o[""]=e)}}function bi(e,t,o){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+o,e.providerIndexes=t}function wi(e,t,o){e.data.push(o);const n=o.factory||(o.factory=Ie(o.type)),i=new eo(n,We(o),null);e.blueprint.push(i),t.push(i)}function Ei(e,t,o){const n=lt(t,e),i=li(o),r=e[10],s=Ai(e,Jn(e,i,null,o.onPush?64:16,n,t,r,r.createRenderer(n,o),null,null));e[t.index]=s}function Ri(e,t,o,n,i,r){const s=lt(e,t),a=t[11];if(null==n)it(a)?a.removeAttribute(s,o,r):s.removeAttribute(o);else{const t=null==i?je(n):i(n,e.tagName||"",o);it(a)?a.setAttribute(s,o,t,r):r?s.setAttributeNS(r,o,t):s.setAttribute(o,t)}}function _i(e,t,o,n,i,r){const s=r[t];if(null!==s){const e=n.setInput;for(let t=0;t<s.length;){const i=s[t++],r=s[t++],a=s[t++];null!==e?n.setInput(o,a,i,r):o[r]=a}}}function Si(e,t){let o=null,n=0;for(;n<t.length;){const i=t[n];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===o&&(o=[]),o.push(i,e[i],t[n+1])),n+=2}else n+=2;else n+=4}return o}function Oi(e,t,o,n){return new Array(e,!0,!1,t,null,0,n,o,null,null)}function Di(e,t){const o=pt(t,e);if(ft(o)){const e=o[1];80&o[2]?oi(e,o,e.template,o[8]):o[5]>0&&Pi(o)}}function Pi(e){for(let o=Hn(e);null!==o;o=Wn(o))for(let e=10;e<o.length;e++){const t=o[e];if(1024&t[2]){const e=t[1];oi(e,t,e.template,t[8])}else t[5]>0&&Pi(t)}const t=e[1].components;if(null!==t)for(let o=0;o<t.length;o++){const n=pt(t[o],e);ft(n)&&n[5]>0&&Pi(n)}}function Ti(e,t){const o=pt(t,e),n=o[1];!function(e,t){for(let o=t.length;o<e.blueprint.length;o++)t.push(e.blueprint[o])}(n,o),ti(n,o,o[8])}function Ai(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Fi(e){for(;e;){e[2]|=64;const t=Vn(e);if(Be(e)&&!t)return e;e=t}return null}function Ni(e,t,o){const n=t[10];n.begin&&n.begin();try{oi(e,t,e.template,o)}catch(i){throw Gi(t,i),i}finally{n.end&&n.end()}}function xi(e){!function(e){for(let t=0;t<e.components.length;t++){const o=e.components[t],n=dt(o),i=n[1];ni(i,n,i.template,o)}}(e[8])}function Ii(e,t,o){Lt(0),t(e,o)}const Mi=(()=>Promise.resolve(null))();function Li(e){return e[7]||(e[7]=[])}function Gi(e,t){const o=e[9],n=o?o.get(Fo,null):null;n&&n.handleError(t)}function ki(e,t,o,n,i){for(let r=0;r<o.length;){const s=o[r++],a=o[r++],l=t[s],u=e.data[s];null!==u.setInput?u.setInput(l,i,n,a):l[a]=i}}function Vi(e,t,o){const n=at(t,e),i=e[11];it(i)?i.setValue(n,o):n.textContent=o}function Hi(e,t,o,n,i){if(null!=n){let r,s=!1;Ge(n)?r=n:Le(n)&&(s=!0,n=n[0]);const a=st(n);0===e&&null!==o?null==i?qi(t,o,a):Yi(t,o,a,i||null):1===e&&null!==o?Yi(t,o,a,i||null):2===e?tr(t,a,s):3===e&&t.destroyNode(a),null!=r&&function(e,t,o,n,i){const r=o[7];r!==st(o)&&Hi(t,e,n,r,i);for(let s=10;s<o.length;s++){const i=o[s];nr(i[1],i,e,t,n,r)}}(t,e,r,o,i)}}function Wi(e,t){return it(t)?t.createText(e):t.createTextNode(e)}function Bi(e,t){const o=e[9],n=o.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,yt(i,-1)),o.splice(n,1)}function ji(e,t){if(e.length<=10)return;const o=10+t,n=e[o];if(n){const r=n[17];null!==r&&r!==e&&Bi(r,n),t>0&&(e[o-1][4]=n[4]);const s=he(e,10+t);nr(n[1],i=n,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),n[3]=null,n[4]=null,n[2]&=-129}var i;return n}function Ui(e,t){if(!(256&t[2])){const o=t[11];it(o)&&o.destroyNode&&nr(e,t,o,3,null,null),function(e){let t=e[13];if(!t)return zi(e[1],e);for(;t;){let o=null;if(Le(t))o=t[13];else{const e=t[10];e&&(o=e)}if(!o){for(;t&&!t[4]&&t!==e;)Le(t)&&zi(t[1],t),t=t[3];null===t&&(t=e),Le(t)&&zi(t[1],t),o=t&&t[4]}t=o}}(t)}}function zi(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let o;if(null!=e&&null!=(o=e.destroyHooks))for(let n=0;n<o.length;n+=2){const e=t[o[n]];if(!(e instanceof eo)){const t=o[n+1];if(Array.isArray(t))for(let o=0;o<t.length;o+=2)t[o+1].call(e[t[o]]);else t.call(e)}}}(e,t),function(e,t){const o=e.cleanup;if(null!==o){const e=t[7];for(let n=0;n<o.length-1;n+=2)if("string"==typeof o[n]){const i=o[n+1],r="function"==typeof i?i(t):st(t[i]),s=e[o[n+2]],a=o[n+3];"boolean"==typeof a?r.removeEventListener(o[n],s,a):a>=0?e[a]():e[-a].unsubscribe(),n+=2}else o[n].call(e[o[n+1]]);t[7]=null}}(e,t),1===t[1].type&&it(t[11])&&t[11].destroy();const o=t[17];if(null!==o&&Ge(t[3])){o!==t[3]&&Bi(o,t);const n=t[19];null!==n&&n.detachView(e)}}}function Ki(e,t,o){let n=t.parent;for(;null!=n&&(3===n.type||4===n.type);)n=(t=n).parent;if(null===n)return o[0];if(t&&4===t.type&&4&t.flags)return lt(t,o).parentNode;if(2&n.flags){const t=e.data,o=t[t[n.index].directiveStart].encapsulation;if(o!==Ce.ShadowDom&&o!==Ce.Native)return null}return lt(n,o)}function Yi(e,t,o,n){it(e)?e.insertBefore(t,o,n):t.insertBefore(o,n,!0)}function qi(e,t,o){it(e)?e.appendChild(t,o):t.appendChild(o)}function $i(e,t,o,n){null!==n?Yi(e,t,o,n):qi(e,t,o)}function Qi(e,t){return it(e)?e.parentNode(t):t.parentNode}function Xi(e,t){return 3===e.type||4===e.type?lt(e,t):null}function Zi(e,t,o,n){const i=Ki(e,n,t);if(null!=i){const e=t[11],r=Xi(n.parent||t[6],t);if(Array.isArray(o))for(let t=0;t<o.length;t++)$i(e,i,o[t],r);else $i(e,i,o,r)}}function Ji(e,t){if(null!==t){const o=t.type;if(2===o)return lt(t,e);if(0===o)return er(-1,e[t.index]);if(3===o||4===o){const o=t.child;if(null!==o)return Ji(e,o);{const o=e[t.index];return Ge(o)?er(-1,o):st(o)}}{const o=e[16],n=o[6],i=Vn(o),r=n.projection[t.projection];return null!=r?Ji(i,r):Ji(e,t.next)}}return null}function er(e,t){const o=10+e+1;if(o<t.length){const e=t[o],n=e[1].firstChild;if(null!==n)return Ji(e,n)}return t[7]}function tr(e,t,o){const n=Qi(e,t);n&&function(e,t,o,n){it(e)?e.removeChild(t,o,n):t.removeChild(o)}(e,n,t,o)}function or(e,t,o,n,i,r,s){for(;null!=o;){const a=n[o.index],l=o.type;s&&0===t&&(a&&On(st(a),n),o.flags|=4),64!=(64&o.flags)&&(3===l||4===l?(or(e,t,o.child,n,i,r,!1),Hi(t,e,i,a,r)):1===l?rr(e,t,n,o,i,r):Hi(t,e,i,a,r)),o=s?o.projectionNext:o.next}}function nr(e,t,o,n,i,r){or(o,n,e.firstChild,t,i,r,!1)}function ir(e,t,o){rr(t[11],0,t,o,Ki(e,o,t),Xi(o.parent||t[6],t))}function rr(e,t,o,n,i,r){const s=o[16],a=s[6].projection[n.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)Hi(t,e,i,a[l],r);else or(e,t,a,s[3],i,r,!0)}function sr(e,t,o){it(e)?e.setAttribute(t,"style",o):t.style.cssText=o}function ar(e,t,o){it(e)?""===o?e.removeAttribute(t,"class"):e.setAttribute(t,"class",o):t.className=o}class lr{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const e=this._lView,t=e[1];return cr(t,e,t.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}Ui(this._lView[1],this._lView)}onDestroy(e){ci(this._lView[1],this._lView,null,e)}markForCheck(){Fi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ni(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,o){Pt(!0);try{Ni(e,t,o)}finally{Pt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}detachFromAppRef(){var e;this._appRef=null,nr(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class ur extends lr{constructor(e){super(e),this._view=e}detectChanges(){xi(this._view)}checkNoChanges(){!function(e){Pt(!0);try{xi(e)}finally{Pt(!1)}}(this._view)}get context(){return null}}function cr(e,t,o,n,i=!1){for(;null!==o;){const r=t[o.index];if(null!==r&&n.push(st(r)),Ge(r))for(let e=10;e<r.length;e++){const t=r[e],o=t[1].firstChild;null!==o&&cr(t[1],t,o,n)}const s=o.type;if(3===s||4===s)cr(e,t,o.child,n);else if(1===s){const e=t[16],i=e[6].projection[o.projection];if(Array.isArray(i))n.push(...i);else{const t=Vn(e);cr(t[1],t,i,n,!0)}}o=i?o.projectionNext:o.next}return n}let pr,dr,hr;function fr(e,t,o){return pr||(pr=class extends e{}),new pr(lt(t,o))}function gr(e,t,o,n){return dr||(dr=class extends e{constructor(e,t,o){super(),this._declarationView=e,this._declarationTContainer=t,this.elementRef=o}createEmbeddedView(e){const t=this._declarationTContainer.tViews,o=Jn(this._declarationView,t,e,16,null,t.declTNode,null,null,null,null);o[17]=this._declarationView[this._declarationTContainer.index];const n=this._declarationView[19];return null!==n&&(o[19]=n.createEmbeddedView(t)),ti(t,o,e),new lr(o)}}),0===o.type?new dr(n,o,fr(t,o,n)):null}function mr(e,t,o,n){let i;hr||(hr=class extends e{constructor(e,t,o){super(),this._lContainer=e,this._hostTNode=t,this._hostView=o}get element(){return fr(t,this._hostTNode,this._hostView)}get injector(){return new So(this._hostTNode,this._hostView)}get parentInjector(){const e=mo(this._hostTNode,this._hostView);if(so(e)){const t=lo(e,this._hostView),o=ao(e);return new So(t[1].data[o+8],t)}return new So(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,o){const n=e.createEmbeddedView(t||{});return this.insert(n,o),n}createComponent(e,t,o,n,i){const r=o||this.parentInjector;if(!i&&null==e.ngModule&&r){const e=r.get(ae,null);e&&(i=e)}const s=e.create(r,n,void 0,i);return this.insert(s.hostView,t),s}insert(e,t){const o=e._lView,n=o[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ge(o[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=o[3],n=new hr(t,t[6],t[3]);n.detach(n.indexOf(e))}}const i=this._adjustIndex(t),r=this._lContainer;!function(e,t,o,n){const i=10+n,r=o.length;n>0&&(o[i-1][4]=t),n<r-10?(t[4]=o[i],de(o,10+n,t)):(o.push(t),t[4]=null),t[3]=o;const s=t[17];null!==s&&o!==s&&function(e,t){const o=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===o?e[9]=[t]:o.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(n,o,r,i);const s=er(i,r),a=o[11],l=Qi(a,r[7]);return null!==l&&function(e,t,o,n,i,r){n[0]=i,n[6]=t,nr(e,n,o,1,i,r)}(n,r[6],a,o,l,s),e.attachToViewContainerRef(this),de(r[8],i,e),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}indexOf(e){const t=this._lContainer[8];return null!==t?t.indexOf(e):-1}remove(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1),o=ji(this._lContainer,t);o&&(he(this._lContainer[8],t),Ui(o[1],o))}detach(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1),o=ji(this._lContainer,t);return o&&null!=he(this._lContainer[8],t)?new lr(o):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const r=n[o.index];if(Ge(r))i=r;else{let e;if(3===o.type)e=st(r);else if(e=n[11].createComment(""),Be(n)){const t=n[11],i=lt(o,n);Yi(t,Qi(t,i),e,function(e,t){return it(e)?e.nextSibling(t):t.nextSibling}(t,i))}else Zi(n[1],n,e,o);n[o.index]=i=Oi(r,n,e,o),Ai(n,i)}return new hr(i,o,n)}function yr(e=!1){return function(e,t,o){if(!o&&Ve(e)){const o=pt(e.index,t);return new lr(o,o)}return 2===e.type||0===e.type||3===e.type||4===e.type?new lr(t[16],t):null}(Rt(),bt(),e)}let vr=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Cr(),e})();const Cr=yr,br=Function,wr=new Y("Set Injector scope."),Er={},Rr={},_r=[];let Sr=void 0;function Or(){return void 0===Sr&&(Sr=new se),Sr}function Dr(e,t=null,o=null,n){return new Pr(e,o,t||Or(),n)}class Pr{constructor(e,t,o,n=null){this.parent=o,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&pe(t,o=>this.processProvider(o,e,t)),pe([e],e=>this.processInjectorType(e,[],i)),this.records.set(q,Fr(void 0,this));const r=this.records.get(wr);this.scope=null!=r?r.value:null,this.source=n||("object"==typeof e?null:T(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=$,o=m.Default){this.assertNotDestroyed();const n=ee(this);try{if(!(o&m.SkipSelf)){let t=this.records.get(e);if(void 0===t){const o=("function"==typeof(i=e)||"object"==typeof i&&i instanceof Y)&&w(e);t=o&&this.injectableDefInScope(o)?Fr(Tr(e),Er):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(o&m.Self?Or():this.parent).get(e,t=o&m.Optional&&t===$?null:t)}catch(r){if("NullInjectorError"===r.name){if((r.ngTempTokenPath=r.ngTempTokenPath||[]).unshift(T(e)),n)throw r;return function(e,t,o,n){const i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=function(e,t,o,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=T(t);if(Array.isArray(t))i=t.map(T).join(" -> ");else if("object"==typeof t){let e=[];for(let o in t)if(t.hasOwnProperty(o)){let n=t[o];e.push(o+":"+("string"==typeof n?JSON.stringify(n):T(n)))}i=`{${e.join(", ")}}`}return`${o}${n?"("+n+")":""}[${i}]: ${e.replace(Q,"\n  ")}`}("\n"+e.message,i,o,n),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(r,e,"R3InjectorError",this.source)}throw r}finally{ee(n)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,o)=>e.push(T(o))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,o){if(!(e=x(e)))return!1;let n=R(e);const i=null==n&&e.ngModule||void 0,r=void 0===i?e:i,s=-1!==o.indexOf(r);if(void 0!==i&&(n=R(i)),null==n)return!1;if(null!=n.imports&&!s){let e;o.push(r);try{pe(n.imports,n=>{this.processInjectorType(n,t,o)&&(void 0===e&&(e=[]),e.push(n))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:o,providers:n}=e[t];pe(n,e=>this.processProvider(e,o,n||_r))}}this.injectorDefTypes.add(r),this.records.set(r,Fr(n.factory,Er));const a=n.providers;if(null!=a&&!s){const t=e;pe(a,e=>this.processProvider(e,t,a))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,o){let n=xr(e=x(e))?e:x(e&&e.provide);const i=function(e,t,o){return Nr(e)?Fr(void 0,e.useValue):Fr(Ar(e),Er)}(e);if(xr(e)||!0!==e.multi)this.records.get(n);else{let t=this.records.get(n);t||(t=Fr(void 0,Er,!0),t.factory=()=>re(t.multi),this.records.set(n,t)),n=e,t.multi.push(e)}this.records.set(n,i)}hydrate(e,t){var o;return t.value===Er&&(t.value=Rr,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(o=t.value)&&"object"==typeof o&&"function"==typeof o.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}function Tr(e){const t=w(e),o=null!==t?t.factory:Ie(e);if(null!==o)return o;const n=R(e);if(null!==n)return n.factory;if(e instanceof Y)throw new Error(`Token ${T(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const o=fe(t,"?");throw new Error(`Can't resolve all parameters for ${T(e)}: (${o.join(", ")}).`)}const o=function(e){const t=e&&(e[_]||e[D]||e[O]&&e[O]());if(t){const o=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),t}return null}(e);return null!==o?()=>o.factory(e):()=>new e}(e);throw new Error("unreachable")}function Ar(e,t,o){let n=void 0;if(xr(e)){const t=x(e);return Ie(t)||Tr(t)}if(Nr(e))n=()=>x(e.useValue);else if((i=e)&&i.useFactory)n=()=>e.useFactory(...re(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))n=()=>ne(x(e.useExisting));else{const t=x(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return Ie(t)||Tr(t);n=()=>new t(...re(e.deps))}var i;return n}function Fr(e,t,o=!1){return{factory:e,value:t,multi:o?[]:void 0}}function Nr(e){return null!==e&&"object"==typeof e&&X in e}function xr(e){return"function"==typeof e}const Ir=function(e,t,o){return function(e,t=null,o=null,n){const i=Dr(e,t,o,n);return i._resolveInjectorDefTypes(),i}({name:o},t,e,o)};let Mr=(()=>{class e{static create(e,t){return Array.isArray(e)?Ir(e,t,""):Ir(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=$,e.NULL=new se,e.\u0275prov=C({token:e,providedIn:"any",factory:()=>ne(q)}),e.__NG_ELEMENT_ID__=-1,e})();const Lr=new Y("AnalyzeForEntryComponents");function Gr(e,t,o){let n=o?e.styles:null,i=o?e.classes:null,r=0;if(null!==t)for(let s=0;s<t.length;s++){const e=t[s];"number"==typeof e?r=e:1==r?i=A(i,e):2==r&&(n=A(n,e+": "+t[++s]+";"))}o?e.styles=n:e.stylesWithoutHost=n,o?e.classes=i:e.classesWithoutHost=i}function kr(e,t){const o=dt(e)[1],n=o.data.length-1;qt(o,{directiveStart:n,directiveEnd:n+1})}function Vr(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,o=!0;const n=[e];for(;t;){let i=void 0;if(We(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(o){n.push(i);const t=e;t.inputs=Hr(e.inputs),t.declaredInputs=Hr(e.declaredInputs),t.outputs=Hr(e.outputs);const o=i.hostBindings;o&&jr(e,o);const r=i.viewQuery,s=i.contentQueries;if(r&&Wr(e,r),s&&Br(e,s),v(e.inputs,i.inputs),v(e.declaredInputs,i.declaredInputs),v(e.outputs,i.outputs),We(i)&&i.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(i.data.animation)}}const t=i.features;if(t)for(let n=0;n<t.length;n++){const i=t[n];i&&i.ngInherit&&i(e),i===Vr&&(o=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,o=null;for(let n=e.length-1;n>=0;n--){const i=e[n];i.hostVars=t+=i.hostVars,i.hostAttrs=io(i.hostAttrs,o=io(o,i.hostAttrs))}}(n)}function Hr(e){return e===be?{}:e===we?[]:e}function Wr(e,t){const o=e.viewQuery;e.viewQuery=o?(e,n)=>{t(e,n),o(e,n)}:t}function Br(e,t){const o=e.contentQueries;e.contentQueries=o?(e,n,i)=>{t(e,n,i),o(e,n,i)}:t}function jr(e,t){const o=e.hostBindings;e.hostBindings=o?(e,n)=>{t(e,n),o(e,n)}:t}let Ur=null;function zr(){if(!Ur){const e=V.Symbol;if(e&&e.iterator)Ur=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const o=e[t];"entries"!==o&&"size"!==o&&Map.prototype[o]===Map.prototype.entries&&(Ur=o)}}}return Ur}class Kr{constructor(e){this.wrapped=e}static wrap(e){return new Kr(e)}static unwrap(e){return Kr.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Kr}}function Yr(e){return!!qr(e)&&(Array.isArray(e)||!(e instanceof Map)&&zr()in e)}function qr(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function $r(e,t,o){return e[t]=o}function Qr(e,t,o){return!Object.is(e[t],o)&&(e[t]=o,!0)}function Xr(e,t,o,n){const i=Qr(e,t,o);return Qr(e,t+1,n)||i}function Zr(e,t,o,n){const i=bt();return Qr(i,Ft(),t)&&(wt(),Ri(Kt(),i,e,t,o,n)),Zr}function Jr(e,t,o,n){return Qr(e,Ft(),o)?t+je(o)+n:kn}function es(e,t,o,n,i,r,s,a){const l=bt(),u=wt(),c=e+20,p=u.firstCreatePass?function(e,t,o,n,i,r,s,a,l){const u=t.consts,c=ei(t,e,0,s||null,gt(u,a));hi(t,o,c,gt(u,l)),qt(t,c);const p=c.tViews=ui(2,c,n,i,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u);return null!==t.queries&&(t.queries.template(t,c),p.queries=t.queries.embeddedTView(c)),c}(e,u,l,t,o,n,i,r,s):u.data[c];_t(p,!1);const d=l[11].createComment("");Zi(u,l,d,p),On(d,l),Ai(l,l[c]=Oi(d,l,d,p)),He(p)&&si(u,l,p),null!=s&&ai(l,p,a)}function ts(e){return ct(vt.lFrame.contextLView,e)}function os(e,t=m.Default){const o=bt();return null===o?ne(e,t):vo(Rt(),o,x(e),t)}function ns(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const o=e.attrs;if(o){const e=o.length;let n=0;for(;n<e;){const i=o[n];if(oo(i))break;if(0===i)n+=2;else if("number"==typeof i)for(n++;n<e&&"string"==typeof o[n];)n++;else{if(i===t)return o[n+1];n+=2}}}return null}(Rt(),e)}function is(e,t,o){const n=bt();return Qr(n,Ft(),t)&&di(wt(),Kt(),n,e,t,n[11],o,!1),is}function rs(e,t,o,n,i){const r=i?"class":"style";ki(e,o,t.inputs[r],r,n)}function ss(e,t,o,n){const i=bt(),r=wt(),s=20+e,a=i[11],l=i[s]=Zn(t,a,vt.lFrame.currentNamespace),u=r.firstCreatePass?function(e,t,o,n,i,r,s){const a=t.consts,l=ei(t,e,2,i,gt(a,r));return hi(t,o,l,gt(a,s)),null!==l.attrs&&Gr(l,l.attrs,!1),null!==l.mergedAttrs&&Gr(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(e,r,i,0,t,o,n):r.data[s];_t(u,!0);const c=u.mergedAttrs;null!==c&&to(a,l,c);const p=u.classes;null!==p&&ar(a,l,p);const d=u.styles;null!==d&&sr(a,l,d),Zi(r,i,l,u),0===vt.lFrame.elementDepthCount&&On(l,i),vt.lFrame.elementDepthCount++,He(u)&&(si(r,i,u),ri(r,u,i)),null!==n&&ai(i,u)}function as(){let e=Rt();St()?Ot():(e=e.parent,_t(e,!1));const t=e;vt.lFrame.elementDepthCount--;const o=wt();o.firstCreatePass&&(qt(o,e),ke(e)&&o.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&rs(o,t,bt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&rs(o,t,bt(),t.stylesWithoutHost,!1)}function ls(e,t,o,n){ss(e,t,o,n),as()}function us(e,t,o){const n=bt(),i=wt(),r=e+20,s=i.firstCreatePass?function(e,t,o,n,i){const r=t.consts,s=gt(r,n),a=ei(t,e,3,"ng-container",s);return null!==s&&Gr(a,s,!0),hi(t,o,a,gt(r,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(e,i,n,t,o):i.data[r];_t(s,!0);const a=n[r]=n[11].createComment("");Zi(i,n,a,s),On(a,n),He(s)&&(si(i,n,s),ri(i,s,n)),null!=o&&ai(n,s)}function cs(){let e=Rt();const t=wt();St()?Ot():(e=e.parent,_t(e,!1)),t.firstCreatePass&&(qt(t,e),ke(e)&&t.queries.elementEnd(e))}function ps(e,t,o){us(e,t,o),cs()}function ds(){return bt()}function hs(e){return!!e&&"function"==typeof e.then}function fs(e){return!!e&&"function"==typeof e.subscribe}function gs(e,t,o=!1,n){const i=bt(),r=wt(),s=Rt();return function(e,t,o,n,i,r,s=!1,a){const l=He(n),u=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),c=Li(t);let p=!0;if(2===n.type){const d=lt(n,t),h=a?a(d):be,f=h.target||d,g=c.length,m=a?e=>a(st(e[n.index])).target:n.index;if(it(o)){let s=null;if(!a&&l&&(s=function(e,t,o,n){const i=e.cleanup;if(null!=i)for(let r=0;r<i.length-1;r+=2){const e=i[r];if(e===o&&i[r+1]===n){const e=t[7],o=i[r+2];return e.length>o?e[o]:null}"string"==typeof e&&(r+=2)}return null}(e,t,i,n.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=r,s.__ngLastListenerFn__=r,p=!1;else{r=ys(n,t,r,!1);const e=o.listen(h.name||f,i,r);c.push(r,e),u&&u.push(i,m,g,g+1)}}else r=ys(n,t,r,!0),f.addEventListener(i,r,s),c.push(r),u&&u.push(i,m,g,s)}const d=n.outputs;let h;if(p&&null!==d&&(h=d[i])){const e=h.length;if(e)for(let o=0;o<e;o+=2){const e=t[h[o]][h[o+1]].subscribe(r),s=c.length;c.push(r,e),u&&u.push(i,n.index,s,-(s+1))}}}(r,i,i[11],s,e,t,o,n),gs}function ms(e,t,o){try{return!1!==t(o)}catch(n){return Gi(e,n),!1}}function ys(e,t,o,n){return function i(r){if(r===Function)return o;const s=2&e.flags?pt(e.index,t):t;0==(32&t[2])&&Fi(s);let a=ms(t,o,r),l=i.__ngNextListenerFn__;for(;l;)a=ms(t,l,r)&&a,l=l.__ngNextListenerFn__;return n&&!1===a&&(r.preventDefault(),r.returnValue=!1),a}}function vs(e=1){return function(e){return(vt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,vt.lFrame.contextLView))[8]}(e)}function Cs(e,t){let o=null;const n=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let i=0;i<t.length;i++){const r=t[i];if("*"!==r){if(null===n?In(e,r,!0):Mn(n,r))return i}else o=i}return o}function bs(e){const t=bt()[16][6];if(!t.projection){const o=t.projection=fe(e?e.length:1,null),n=o.slice();let i=t.child;for(;null!==i;){const t=e?Cs(i,e):0;null!==t&&(n[t]?n[t].projectionNext=i:o[t]=i,n[t]=i),i=i.next}}}let ws=!1;function Es(e){ws=e}function Rs(e,t=0,o){const n=bt(),i=wt(),r=ei(i,e,1,null,o||null);null===r.projection&&(r.projection=t),Ot(),ws||ir(i,n,r)}function _s(e,t,o){return Ss(e,"",t,"",o),_s}function Ss(e,t,o,n,i){const r=bt(),s=Jr(r,t,o,n);return s!==kn&&di(wt(),Kt(),r,e,s,r[11],i,!1),Ss}const Os=[];function Ds(e,t,o,n,i){const r=e[o+1],s=null===t;let a=n?Kn(r):qn(r),l=!1;for(;0!==a&&(!1===l||s);){const o=e[a+1];Ps(e[a],t)&&(l=!0,e[a+1]=n?Qn(o):Yn(o)),a=n?Kn(o):qn(o)}l&&(e[o+1]=n?Yn(r):Qn(r))}function Ps(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ye(e,t)>=0}const Ts={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function As(e){return e.substring(Ts.key,Ts.keyEnd)}function Fs(e,t){const o=Ts.textEnd;return o===t?-1:(t=Ts.keyEnd=function(e,t,o){for(;t<o&&e.charCodeAt(t)>32;)t++;return t}(e,Ts.key=t,o),Ns(e,t,o))}function Ns(e,t,o){for(;t<o&&e.charCodeAt(t)<=32;)t++;return t}function xs(e,t,o){return Gs(e,t,o,!1),xs}function Is(e,t){return Gs(e,t,null,!0),Is}function Ms(e){ks(ge,Ls,e,!0)}function Ls(e,t){for(let o=function(e){return function(e){Ts.key=0,Ts.keyEnd=0,Ts.value=0,Ts.valueEnd=0,Ts.textEnd=e.length}(e),Fs(e,Ns(e,0,Ts.textEnd))}(t);o>=0;o=Fs(t,o))ge(e,As(t),!0)}function Gs(e,t,o,n){const i=bt(),r=wt(),s=Nt(2);r.firstUpdatePass&&Hs(r,e,s,n),t!==kn&&Qr(i,s,t)&&js(r,r.data[Ut()+20],i,i[11],e,i[s+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=T(ko(e)))),e}(t,o),n,s)}function ks(e,t,o,n){const i=wt(),r=Nt(2);i.firstUpdatePass&&Hs(i,null,r,n);const s=bt();if(o!==kn&&Qr(s,r,o)){const a=i.data[Ut()+20];if(Ks(a,n)&&!Vs(i,r)){let e=n?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(o=A(e,o||"")),rs(i,a,s,o,n)}else!function(e,t,o,n,i,r,s,a){i===kn&&(i=Os);let l=0,u=0,c=0<i.length?i[0]:null,p=0<r.length?r[0]:null;for(;null!==c||null!==p;){const d=l<i.length?i[l+1]:void 0,h=u<r.length?r[u+1]:void 0;let f=null,g=void 0;c===p?(l+=2,u+=2,d!==h&&(f=p,g=h)):null===p||null!==c&&c<p?(l+=2,f=c):(u+=2,f=p,g=h),null!==f&&js(e,t,o,n,f,g,s,a),c=l<i.length?i[l]:null,p=u<r.length?r[u]:null}}(i,a,s,s[11],s[r+1],s[r+1]=function(e,t,o){if(null==o||""===o)return Os;const n=[],i=ko(o);if(Array.isArray(i))for(let r=0;r<i.length;r++)e(n,i[r],!0);else if("object"==typeof i)for(const r in i)i.hasOwnProperty(r)&&e(n,r,i[r]);else"string"==typeof i&&t(n,i);return n}(e,t,o),n,r)}}function Vs(e,t){return t>=e.expandoStartIndex}function Hs(e,t,o,n){const i=e.data;if(null===i[o+1]){const r=i[Ut()+20],s=Vs(e,o);Ks(r,n)&&null===t&&!s&&(t=!1),t=function(e,t,o,n){const i=function(e){const t=vt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let r=n?t.residualClasses:t.residualStyles;if(null===i)0===(n?t.classBindings:t.styleBindings)&&(o=Bs(o=Ws(null,e,t,o,n),t.attrs,n),r=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(o=Ws(i,e,t,o,n),null===r){let o=function(e,t,o){const n=o?t.classBindings:t.styleBindings;if(0!==qn(n))return e[Kn(n)]}(e,t,n);void 0!==o&&Array.isArray(o)&&(o=Ws(null,e,t,o[1],n),o=Bs(o,t.attrs,n),function(e,t,o,n){e[Kn(o?t.classBindings:t.styleBindings)]=n}(e,t,n,o))}else r=function(e,t,o){let n=void 0;const i=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<i;r++)n=Bs(n,e[r].hostAttrs,o);return Bs(n,t.attrs,o)}(e,t,n)}return void 0!==r&&(n?t.residualClasses=r:t.residualStyles=r),o}(i,r,t,n),function(e,t,o,n,i,r){let s=r?t.classBindings:t.styleBindings,a=Kn(s),l=qn(s);e[n]=o;let u,c=!1;if(Array.isArray(o)){const e=o;u=e[1],(null===u||ye(e,u)>0)&&(c=!0)}else u=o;if(i)if(0!==l){const t=Kn(e[a+1]);e[n+1]=zn(t,a),0!==t&&(e[t+1]=$n(e[t+1],n)),e[a+1]=131071&e[a+1]|n<<17}else e[n+1]=zn(a,0),0!==a&&(e[a+1]=$n(e[a+1],n)),a=n;else e[n+1]=zn(l,0),0===a?a=n:e[l+1]=$n(e[l+1],n),l=n;c&&(e[n+1]=Yn(e[n+1])),Ds(e,u,n,!0),Ds(e,u,n,!1),function(e,t,o,n,i){const r=i?e.residualClasses:e.residualStyles;null!=r&&"string"==typeof t&&ye(r,t)>=0&&(o[n+1]=Qn(o[n+1]))}(t,u,e,n,r),s=zn(a,l),r?t.classBindings=s:t.styleBindings=s}(i,r,t,o,s,n)}}function Ws(e,t,o,n,i){let r=null;const s=o.directiveEnd;let a=o.directiveStylingLast;for(-1===a?a=o.directiveStart:a++;a<s&&(r=t[a],n=Bs(n,r.hostAttrs,i),r!==e);)a++;return null!==e&&(o.directiveStylingLast=a),n}function Bs(e,t,o){const n=o?1:2;let i=-1;if(null!==t)for(let r=0;r<t.length;r++){const s=t[r];"number"==typeof s?i=s:i===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ge(e,s,!!o||t[++r]))}return void 0===e?null:e}function js(e,t,o,n,i,r,s,a){if(2!==t.type)return;const l=e.data,u=l[a+1];zs(1==(1&u)?Us(l,t,o,i,qn(u),s):void 0)||(zs(r)||2==(2&u)&&(r=Us(l,null,o,i,a,s)),function(e,t,o,n,i){const r=it(e);if(t)i?r?e.addClass(o,n):o.classList.add(n):r?e.removeClass(o,n):o.classList.remove(n);else{const t=-1==n.indexOf("-")?void 0:2;null==i?r?e.removeStyle(o,n,t):o.style.removeProperty(n):r?e.setStyle(o,n,i,t):o.style.setProperty(n,i)}}(n,s,at(Ut(),o),i,r))}function Us(e,t,o,n,i,r){const s=null===t;let a=void 0;for(;i>0;){const t=e[i],r=Array.isArray(t),l=r?t[1]:t,u=null===l;let c=o[i+1];c===kn&&(c=u?Os:void 0);let p=u?me(c,n):l===n?c:void 0;if(r&&!zs(p)&&(p=me(t,n)),zs(p)&&(a=p,s))return a;const d=e[i+1];i=s?Kn(d):qn(d)}if(null!==t){let e=r?t.residualClasses:t.residualStyles;null!=e&&(a=me(e,n))}return a}function zs(e){return void 0!==e}function Ks(e,t){return 0!=(e.flags&(t?16:32))}function Ys(e,t=""){const o=bt(),n=wt(),i=e+20,r=n.firstCreatePass?ei(n,e,2,null,null):n.data[i],s=o[i]=Wi(t,o[11]);Zi(n,o,s,r),_t(r,!1)}function qs(e){return $s("",e,""),qs}function $s(e,t,o){const n=bt(),i=Jr(n,e,t,o);return i!==kn&&Vi(n,Ut(),i),$s}function Qs(e,t,o,n,i){const r=bt(),s=function(e,t,o,n,i,r){const s=Xr(e,At(),o,i);return Nt(2),s?t+je(o)+n+je(i)+r:kn}(r,e,t,o,n,i);return s!==kn&&Vi(r,Ut(),s),Qs}function Xs(e,t,o){ks(ge,Ls,Jr(bt(),e,t,o),!0)}function Zs(e,t,o,n,i,r,s,a,l){ks(ge,Ls,function(e,t,o,n,i,r,s,a,l,u){const c=function(e,t,o,n,i,r){const s=Xr(e,t,o,n);return Xr(e,t+2,i,r)||s}(e,At(),o,i,s,l);return Nt(4),c?t+je(o)+n+je(i)+r+je(s)+a+je(l)+u:kn}(bt(),e,t,o,n,i,r,s,a,l),!0)}function Js(e,t,o){const n=bt();return Qr(n,Ft(),t)&&di(wt(),Kt(),n,e,t,n[11],o,!0),Js}const ea=void 0;var ta=["en",[["a","p"],["AM","PM"],ea],[["AM","PM"],ea,ea],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ea,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ea,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ea,"{1} 'at' {0}",ea],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===o?1:5}];let oa={};function na(e,t,o){"string"!=typeof t&&(o=t,t=e[la.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),oa[t]=e,o&&(oa[t][la.ExtraData]=o)}function ia(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let o=aa(t);if(o)return o;const n=t.split("-")[0];if(o=aa(n),o)return o;if("en"===n)return ta;throw new Error(`Missing locale data for the locale "${e}".`)}function ra(e){return ia(e)[la.CurrencyCode]||null}function sa(e){return ia(e)[la.PluralCase]}function aa(e){return e in oa||(oa[e]=V.ng&&V.ng.common&&V.ng.common.locales&&V.ng.common.locales[e]),oa[e]}var la=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});const ua=["zero","one","two","few","many"],ca={marker:"element"},pa={marker:"comment"};let da="en-US";function ha(e){var t,o;o="Expected localeId to be defined",null==(t=e)&&function(e,t,o,n){throw new Error("ASSERTION ERROR: "+e+` [Expected=> null != ${t} <=Actual]`)}(o,t),"string"==typeof e&&(da=e.toLowerCase().replace(/_/g,"-"))}const fa=[];let ga=-1,ma=0,ya=0;function va(e,t,o,n){const i=n[11];let r=null,s=null;const a=[];for(let l=0;l<o.length;l++){const u=o[l];if("string"==typeof u){const t=Wi(u,i),c=o[++l];s=r,r=Sa(e,n,c,2,t,null),a.push(c),Ot()}else if("number"==typeof u)switch(7&u){case 1:const i=u>>>17;let c;c=i===t?n[6]:ut(e,i),s=Ra(e,r,c,s,n);break;case 0:const p=u>=0,d=(p?u:~u)>>>3;a.push(d),s=r,r=ut(e,d),r&&_t(r,p);break;case 5:s=r=ut(e,u>>>3),_t(r,!1);break;case 4:const h=o[++l],f=o[++l];Ri(ut(e,u>>>3),n,h,f,null,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case pa:const t=o[++l],c=o[++l],p=i.createComment(t);s=r,r=Sa(e,n,c,4,p,null),a.push(c),On(p,n),Ot();break;case ca:const d=o[++l],h=o[++l];s=r,r=Sa(e,n,h,2,i.createElement(d),d),a.push(h);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}}return Ot(),a}function Ca(e,t,o,n,i,r){let s=!1;for(let a=0;a<n.length;a++){const l=n[a],u=n[++a];if(l&r){let r="";for(let l=a+1;l<=a+u;l++){const a=n[l];if("string"==typeof a)r+=a;else if("number"==typeof a)if(a<0)r+=je(o[i-a]);else{const u=a>>>2;switch(3&a){case 1:const a=n[++l],c=n[++l];di(e,ut(e,u),o,a,r,o[11],c,!1);break;case 0:Vi(o,u,r);break;case 2:s=wa(e,t,n[++l],o,r);break;case 3:ba(e,t,n[++l],i,o,s)}}}}a+=u}}function ba(e,t,o,n,i,r){const s=t[o],a=i[s.currentCaseLViewIndex];null!==a&&Ca(e,t,i,s.update[a],n,r?-1:ma)}function wa(e,t,o,n,i){Ea(e,t,o,n);let r=!1;const s=t[o],a=function(e,t){let o=e.cases.indexOf(t);if(-1===o)switch(e.type){case 1:{const n=function(e,t){const o=sa(t)(parseInt(e,10)),n=ua[o];return void 0!==n?n:"other"}(t,da);o=e.cases.indexOf(n),-1===o&&"other"!==n&&(o=e.cases.indexOf("other"));break}case 0:o=e.cases.indexOf("other")}return o}(s,i);return n[s.currentCaseLViewIndex]=-1!==a?a:null,a>-1&&(va(e,-1,s.create[a],n),r=!0),r}function Ea(e,t,o,n){const i=t[o],r=n[i.currentCaseLViewIndex];if(null!==r){const o=i.remove[r];for(let i=0;i<o.length;i++){const r=o[i],s=r>>>3;switch(7&r){case 3:_a(e,n,s,!1);break;case 6:Ea(e,t,s,n)}}}}function Ra(e,t,o,n,i){const r=t.next;n||(n=o),n===o&&t!==o.child?(t.next=o.child,null===t.parent?e.firstChild=t:o.child=t):n!==o&&t!==n.next?(t.next=n.next,n.next=t):t.next=null,o!==i[6]&&(t.parent=o);let s=t.next;for(;s;)s.next===t&&(s.next=r),s=s.next;if(1===t.type)return ir(e,i,t),t;Zi(e,i,lt(t,i),t);const a=i[t.index];return 0!==t.type&&Ge(a)&&Zi(e,i,a[7],t),t}function _a(e,t,o,n){const i=ut(e,o),r=at(o,t);r&&tr(t[11],r);const s=ct(t,o);if(Ge(s)){const e=s;0!==i.type&&tr(t[11],e[7])}n&&i&&(i.flags|=64)}function Sa(e,t,o,n,i,r){const s=Rt();t[o+20]=i;const a=ei(e,o,n,r,null);return s&&s.next===a&&(s.next=null),a}const Oa=/\ufffd(\d+):?\d*\ufffd/gi,Da=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,Pa=/\ufffd(\d+)\ufffd/,Ta=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/;let Aa;const Fa=[],Na=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,xa=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,Ia=/\uE500/g;function Ma(e,t,o,n=null){const i=[null,null],r=e.split(Oa);let s=0;for(let a=0;a<r.length;a++){const e=r[a];if(1&a){const t=parseInt(e,10);i.push(-1-t),s|=ka(t)}else""!==e&&i.push(e)}return i.push(t<<2|(o?1:0)),o&&i.push(o,n),i[0]=s,i[1]=i.length-2,i}function La(e,t=0){let o;t|=ka(e.mainBinding);for(let n=0;n<e.values.length;n++){const i=e.values[n];for(let e=0;e<i.length;e++){const n=i[e];if("string"==typeof n)for(;o=Oa.exec(n);)t|=ka(parseInt(o[1],10));else t=La(n,t)}}return t}function Ga(e){return e+Aa++}function ka(e){return 1<<Math.min(e,31)}function Va(e){return void 0===e}function Ha(e){let t,o,n="",i=0,r=!1;for(;null!==(t=Na.exec(e));)r?t[0]===`\ufffd/*${o}\ufffd`&&(i=t.index,r=!1):(n+=e.substring(i,t.index+t[0].length),o=t[1],r=!0);return n+=e.substr(i),n}function Wa(e,t,o,n){const i=[],r=[],s=[],a=[],l=[],u=t.values;for(let c=0;c<u.length;c++){const t=u[c],p=[];for(let e=0;e<t.length;e++){const o=t[e];if("string"!=typeof o){const n=p.push(o)-1;t[e]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}const d=ja(t.join(""),o,p,e,n);i.push(d.create),r.push(d.remove),s.push(d.update),a.push(d.vars),l.push(d.childIcus)}e.push({type:t.type,vars:a,currentCaseLViewIndex:20+n+1,childIcus:l,cases:t.cases,create:i,remove:r,update:s}),Aa+=Math.max(...a)}function Ba(e){const t=[],o=[];let n=1,i=0;const r=Ua(e=e.replace(Ta,function(e,t,o){return n="select"===o?0:1,i=parseInt(t.substr(1),10),""}));for(let s=0;s<r.length;){let e=r[s++].trim();1===n&&(e=e.replace(/\s*(?:=)?(\w+)\s*/,"$1")),e.length&&t.push(e);const i=Ua(r[s++]);t.length>o.length&&o.push(i)}return{type:n,mainBinding:i,cases:t,values:o}}function ja(e,t,o,n,i){const r=Qo(nt()).getInertBodyElement(e);if(!r)throw new Error("Unable to generate inert body element");const s={vars:1,childIcus:[],create:[],remove:[],update:[]};return za((wn(r)||r).firstChild,s,t,o,n,i),s}function Ua(e){if(!e)return[];let t=0;const o=[],n=[],i=/[{}]/g;let r;for(i.lastIndex=0;r=i.exec(e);){const i=r.index;if("}"==r[0]){if(o.pop(),0==o.length){const o=e.substring(t,i);Ta.test(o)?n.push(Ba(o)):n.push(o),t=i+1}}else{if(0==o.length){const o=e.substring(t,i);n.push(o),t=i+1}o.push("{")}}const s=e.substring(t);return n.push(s),n}function za(e,t,o,n,i,r){if(e){const s=[];for(;e;){const a=e.nextSibling,l=r+ ++t.vars;switch(e.nodeType){case Node.ELEMENT_NODE:const a=e,u=a.tagName.toLowerCase();if(cn.hasOwnProperty(u)){t.create.push(ca,u,l,o<<17|1);const s=a.attributes;for(let e=0;e<s.length;e++){const o=s.item(e),n=o.name.toLowerCase();o.value.match(Oa)?hn.hasOwnProperty(n)&&ue(pn[n]?Ma(o.value,l,o.name,tn):dn[n]?Ma(o.value,l,o.name,on):Ma(o.value,l,o.name),t.update):t.create.push(l<<3|4,o.name,o.value)}za(e.firstChild,t,l,n,i,r),t.remove.push(l<<3|3)}else t.vars--;break;case Node.TEXT_NODE:const c=e.textContent||"",p=c.match(Oa);t.create.push(p?"":c,l,o<<17|1),t.remove.push(l<<3|3),p&&ue(Ma(c,l),t.update);break;case Node.COMMENT_NODE:const d=Pa.exec(e.textContent||"");if(d){const e=parseInt(d[1],10);t.create.push(pa,"",l,o<<17|1),s.push([n[e],l])}else t.vars--;break;default:t.vars--}e=a}for(let e=0;e<s.length;e++){const o=s[e][0],n=s[e][1];Wa(i,o,n,r+t.vars);const a=i.length-1;t.vars+=Math.max(...i[a].vars),t.childIcus.push(a);const l=La(o);t.update.push(ka(o.mainBinding),3,-1-o.mainBinding,n<<2|2,a,l,2,n<<2|3,a),t.remove.push(a<<3|6,n<<3|3)}}}function Ka(e,t,o){(function(e,t,o){const n=wt(),i=gt(n.consts,t);!function(e){fa[++ga]=e}(e),Es(!0),n.firstCreatePass&&null===n.data[e+20]&&function(e,t,o,n,i){const r=t.blueprint.length-20;Aa=0;const s=Rt(),a=St()?s:s&&s.parent;let l=a&&a!==e[6]?a.index-20:o,u=0;Fa[u]=l;const c=[];if(o>0&&s!==a){let e=s.index-20;St()||(e=~e),c.push(e<<3|0)}const p=[],d=[];if(""===n&&Va(i))c.push(n,Ga(r),l<<17|1);else{const e=function(e,t){if(Va(t))return Ha(e);{const o=e.indexOf(`:${t}\ufffd`)+2+t.toString().length,n=e.search(new RegExp(`\ufffd\\/\\*\\d+:${t}\ufffd`));return Ha(e.substring(o,n))}}(n,i),t=(h=e,h.replace(Ia," ")).split(xa);for(let o=0;o<t.length;o++){let n=t[o];if(1&o)if("/"===n.charAt(0)){if("#"===n.charAt(1)){const e=parseInt(n.substr(2),10);l=Fa[--u],c.push(e<<3|5)}}else{const e=parseInt(n.substr(1),10),t="#"===n.charAt(0);c.push((t?e:~e)<<3|0,l<<17|1),t&&(Fa[++u]=l=e)}else{const t=Ua(n);for(let o=0;o<t.length;o++)if(1&o){const n=t[o];if("object"!=typeof n)throw new Error(`Unable to parse ICU expression in "${e}" message.`);const i=Ga(r);c.push(pa,"",i,l<<17|1);const s=La(n);Wa(d,n,i,i);const a=d.length-1;p.push(ka(n.mainBinding),3,-1-n.mainBinding,i<<2|2,a,s,2,i<<2|3,a)}else if(""!==t[o]){const e=t[o],n=e.match(Oa),i=Ga(r);c.push(n?"":e,i,l<<17|1),n&&ue(Ma(e,i),p)}}}}var h;Aa>0&&function(e,t,o){if(o>0&&e.firstCreatePass){for(let n=0;n<o;n++)e.blueprint.push(null),e.data.push(null),t.push(null);e.expandoInstructions?e.expandoInstructions.push(o):e.expandoStartIndex+=o}}(t,e,Aa),t.data[o+20]={vars:Aa,create:c,update:p,icus:d.length?d:null}}(bt(),n,e,i,o)})(e,t,o),function(){const e=bt();(function(e,t){const o=fa[ga--],n=e.data[o+20],i=Rt(),r=va(e,o,n.create,t);let s=o+1;for(;null!==i&&s<=i.index-20;){-1===r.indexOf(s)&&_a(e,t,s,!0);const o=ut(e,s);!o||0!==o.type&&2!==o.type&&3!==o.type||null===o.localNames||(s+=o.localNames.length>>1),s++}})(wt(),e),Es(!1)}()}function Ya(e,t){const o=bt(),n=wt();!function(e,t,o,n){const i=Rt().index-20,r=[];for(let s=0;s<n.length;s+=2){const a=n[s],l=n[s+1].split(Da);for(let n=0;n<l.length;n++){const s=l[n];if(1&n)throw new Error("ICU expressions are not yet supported in attributes");if(""!==s)if(s.match(Oa))t.firstCreatePass&&null===t.data[o+20]&&ue(Ma(s,i,a),r);else{const o=ut(t,i);2===o.type&&Ri(o,e,a,s,null,null);const n=null!==o.inputs&&o.inputs[a];n&&ki(t,e,n,a,s)}}}t.firstCreatePass&&null===t.data[o+20]&&(t.data[o+20]=r)}(o,n,e,gt(n.consts,t))}function qa(e){return Qr(bt(),Ft(),e)&&(ma|=1<<ya),ya++,qa}function $a(e){!function(e,t,o){if(ya>0){const n=e.data[o+20];let i,r=null;Array.isArray(n)?i=n:(i=n.update,r=n.icus),Ca(e,r,t,i,At()-ya-1,ma),ma=0,ya=0}}(wt(),bt(),e)}function Qa(e,t,o,n,i){if(e=x(e),Array.isArray(e))for(let r=0;r<e.length;r++)Qa(e[r],t,o,n,i);else{const r=wt(),s=bt();let a=xr(e)?e:x(e.provide),l=Ar(e);const u=Rt(),c=1048575&u.providerIndexes,p=u.directiveStart,d=u.providerIndexes>>20;if(xr(e)||!e.multi){const n=new eo(l,i,os),h=Ja(a,t,i?c:c+d,p);-1===h?(yo(ho(u,s),r,a),Xa(r,e,t.length),t.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),o.push(n),s.push(n)):(o[h]=n,s[h]=n)}else{const h=Ja(a,t,c+d,p),f=Ja(a,t,c,c+d),g=h>=0&&o[h],m=f>=0&&o[f];if(i&&!m||!i&&!g){yo(ho(u,s),r,a);const c=function(e,t,o,n,i){const r=new eo(e,o,os);return r.multi=[],r.index=t,r.componentProviders=0,Za(r,i,n&&!o),r}(i?tl:el,o.length,i,n,l);!i&&m&&(o[f].providerFactory=c),Xa(r,e,t.length,0),t.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),o.push(c),s.push(c)}else Xa(r,e,h>-1?h:f,Za(o[i?f:h],l,!i&&n));!i&&n&&m&&o[f].componentProviders++}}}function Xa(e,t,o,n){const i=xr(t);if(i||t.useClass){const r=(t.useClass||t).prototype.ngOnDestroy;if(r){const s=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const e=s.indexOf(o);-1===e?s.push(o,[n,r]):s[e+1].push(n,r)}else s.push(o,r)}}}function Za(e,t,o){return o&&e.componentProviders++,e.multi.push(t)-1}function Ja(e,t,o,n){for(let i=o;i<n;i++)if(t[i]===e)return i;return-1}function el(e,t,o,n){return ol(this.multi,[])}function tl(e,t,o,n){const i=this.multi;let r;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=Eo(o,o[1],this.providerFactory.index,n);r=t.slice(0,e),ol(i,r);for(let o=e;o<t.length;o++)r.push(t[o])}else r=[],ol(i,r);return r}function ol(e,t){for(let o=0;o<e.length;o++)t.push((0,e[o])());return t}function nl(e,t=[]){return o=>{o.providersResolver=(o,n)=>function(e,t,o){const n=wt();if(n.firstCreatePass){const i=We(e);Qa(o,n.data,n.blueprint,i,!0),Qa(t,n.data,n.blueprint,i,!1)}}(o,n?n(e):e,t)}}class il{}class rl{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${T(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}let sl=(()=>{class e{}return e.NULL=new rl,e})(),al=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>ll(e),e})();const ll=function(e){return fr(e,Rt(),bt())};class ul{}var cl=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});let pl=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>dl(),e})();const dl=function(){const e=bt(),t=pt(Rt().index,e);return function(e){const t=e[11];if(it(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Le(t)?t:e)};let hl=(()=>{class e{}return e.\u0275prov=C({token:e,providedIn:"root",factory:()=>null}),e})();class fl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const gl=new fl("10.2.3");class ml{constructor(){}supports(e){return Yr(e)}create(e){return new vl(e)}}const yl=(e,t)=>t;class vl{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||yl}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,o=this._removalsHead,n=0,i=null;for(;t||o;){const r=!o||t&&t.currentIndex<El(o,n,i)?t:o,s=El(r,n,i),a=r.currentIndex;if(r===o)n--,o=o._nextRemoved;else if(t=t._next,null==r.previousIndex)n++;else{i||(i=[]);const e=s-n,t=a-n;if(e!=t){for(let o=0;o<e;o++){const n=o<i.length?i[o]:i[o]=0,r=n+o;t<=r&&r<e&&(i[o]=n+1)}i[r.previousIndex]=t-e}}s!==a&&e(r,s,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Yr(e))throw new Error(`Error trying to diff '${T(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,o,n,i=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)o=e[t],n=this._trackByFn(t,o),null!==i&&Object.is(i.trackById,n)?(r&&(i=this._verifyReinsertion(i,o,n,t)),Object.is(i.item,o)||this._addIdentityChange(i,o)):(i=this._mismatch(i,o,n,t),r=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let o=0;o<e.length;o++)t(e[o]);else{const o=e[zr()]();let n;for(;!(n=o.next()).done;)t(n.value)}}(e,e=>{n=this._trackByFn(t,e),null!==i&&Object.is(i.trackById,n)?(r&&(i=this._verifyReinsertion(i,e,n,t)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,n,t),r=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,o,n){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(o,n))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,n)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,n)):e=this._addAfter(new Cl(t,o),i,n),e}_verifyReinsertion(e,t,o,n){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==i?e=this._reinsertAfter(i,e._prev,n):e.currentIndex!=n&&(e.currentIndex=n,this._addToMoves(e,n)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const n=e._prevRemoved,i=e._nextRemoved;return null===n?this._removalsHead=i:n._nextRemoved=i,null===i?this._removalsTail=n:i._prevRemoved=n,this._insertAfter(e,t,o),this._addToMoves(e,o),e}_moveAfter(e,t,o){return this._unlink(e),this._insertAfter(e,t,o),this._addToMoves(e,o),e}_addAfter(e,t,o){return this._insertAfter(e,t,o),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,o){const n=null===t?this._itHead:t._next;return e._next=n,e._prev=t,null===n?this._itTail=e:n._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new wl),this._linkedRecords.put(e),e.currentIndex=o,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,o=e._next;return null===t?this._itHead=o:t._next=o,null===o?this._itTail=t:o._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Cl{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bl{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===t||t<=o.currentIndex)&&Object.is(o.trackById,e))return o;return null}remove(e){const t=e._prevDup,o=e._nextDup;return null===t?this._head=o:t._nextDup=o,null===o?this._tail=t:o._prevDup=t,null===this._head}}class wl{constructor(){this.map=new Map}put(e){const t=e.trackById;let o=this.map.get(t);o||(o=new bl,this.map.set(t,o)),o.add(e)}get(e,t){const o=this.map.get(e);return o?o.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function El(e,t,o){const n=e.previousIndex;if(null===n)return n;let i=0;return o&&n<o.length&&(i=o[n]),n+t+i}class Rl{constructor(){}supports(e){return e instanceof Map||qr(e)}create(){return new _l}}class _l{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||qr(e)))throw new Error(`Error trying to diff '${T(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,o)=>{if(t&&t.key===o)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const n=this._getOrCreateRecordForKey(o,e);t=this._insertBeforeOrAppend(t,n)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const o=e._prev;return t._next=e,t._prev=o,e._prev=t,o&&(o._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const o=this._records.get(e);this._maybeAddToChanges(o,t);const n=o._prev,i=o._next;return n&&(n._next=i),i&&(i._prev=n),o._next=null,o._prev=null,o}const o=new Sl(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(o=>t(e[o],o))}}class Sl{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Ol=(()=>{class e{constructor(e){this.factories=e}static create(t,o){if(null!=o){const e=o.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:o=>{if(!o)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,o)},deps:[[e,new h,new p]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${o=e,o.name||typeof o}'`);var o}}return e.\u0275prov=C({token:e,providedIn:"root",factory:()=>new e([new ml])}),e})(),Dl=(()=>{class e{constructor(e){this.factories=e}static create(t,o){if(o){const e=o.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:o=>{if(!o)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,o)},deps:[[e,new h,new p]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=C({token:e,providedIn:"root",factory:()=>new e([new Rl])}),e})();const Pl=[new Rl],Tl=new Ol([new ml]),Al=new Dl(Pl);let Fl=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Nl(e,al),e})();const Nl=function(e,t){return gr(e,t,Rt(),bt())};let xl=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Il(e,al),e})();const Il=function(e,t){return mr(e,t,Rt(),bt())},Ml={};class Ll extends sl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=xe(e);return new Vl(t,this.ngModule)}}function Gl(e){const t=[];for(let o in e)e.hasOwnProperty(o)&&t.push({propName:e[o],templateName:o});return t}const kl=new Y("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ze});class Vl extends il{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(Gn).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Gl(this.componentDef.inputs)}get outputs(){return Gl(this.componentDef.outputs)}create(e,t,o,n){const i=(n=n||this.ngModule)?function(e,t){return{get:(o,n,i)=>{const r=e.get(o,Ml,i);return r!==Ml||n===Ml?r:t.get(o,n,i)}}}(e,n.injector):e,r=i.get(ul,rt),s=i.get(hl,null),a=r.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",u=o?function(e,t,o){if(it(e))return e.selectRootElement(t,o===Ce.ShadowDom);let n="string"==typeof t?e.querySelector(t):t;return n.textContent="",n}(a,o,this.componentDef.encapsulation):Zn(l,r.createRenderer(null,this.componentDef),function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),c=this.componentDef.onPush?576:528,p={components:[],scheduler:ze,clean:Mi,playerHandler:null,flags:0},d=ui(0,null,null,1,0,null,null,null,null,null),h=Jn(null,d,p,c,null,null,r,a,s,i);let f,g;kt(h);try{const e=function(e,t,o,n,i,r){const s=o[1];o[20]=e;const a=ei(s,0,2,null,null),l=a.mergedAttrs=t.hostAttrs;null!==l&&(Gr(a,l,!0),null!==e&&(to(i,e,l),null!==a.classes&&ar(i,e,a.classes),null!==a.styles&&sr(i,e,a.styles)));const u=n.createRenderer(e,t),c=Jn(o,li(t),null,t.onPush?64:16,o[20],a,n,u,null,null);return s.firstCreatePass&&(yo(ho(a,o),s,t.type),vi(s,a),bi(a,o.length,1)),Ai(o,c),o[20]=c}(u,this.componentDef,h,r,a);if(u)if(o)to(a,u,["ng-version",gl.full]);else{const{attrs:e,classes:t}=function(e){const t=[],o=[];let n=1,i=2;for(;n<e.length;){let r=e[n];if("string"==typeof r)2===i?""!==r&&t.push(r,e[++n]):8===i&&o.push(r);else{if(!Nn(i))break;i=r}n++}return{attrs:t,classes:o}}(this.componentDef.selectors[0]);e&&to(a,u,e),t&&t.length>0&&ar(a,u,t.join(" "))}if(g=ut(d,0),void 0!==t){const e=g.projection=[];for(let o=0;o<this.ngContentSelectors.length;o++){const n=t[o];e.push(null!=n?Array.from(n):null)}}f=function(e,t,o,n,i){const r=o[1],s=function(e,t,o){const n=Rt();e.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),yi(e,n,1),wi(e,t,o));const i=Eo(t,e,t.length-1,n);On(i,t);const r=lt(n,t);return r&&On(r,t),i}(r,o,t);n.components.push(s),e[8]=s,i&&i.forEach(e=>e(s,t)),t.contentQueries&&t.contentQueries(1,s,o.length-1);const a=Rt();if(r.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){zt(a.index-20);const e=o[1];fi(e,t),gi(e,o,t.hostVars),mi(t,s)}return s}(e,this.componentDef,h,p,[kr]),ti(d,h,null)}finally{jt()}return new Hl(this.componentType,f,fr(al,g,h),h,g)}}class Hl extends class{}{constructor(e,t,o,n,i){super(),this.location=o,this._rootLView=n,this._tNode=i,this.destroyCbs=[],this.instance=t,this.hostView=this.changeDetectorRef=new ur(n),this.componentType=e}get injector(){return new So(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(e=>e()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(e){this.destroyCbs&&this.destroyCbs.push(e)}}const Wl=new Map;class Bl extends ae{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ll(this);const o=Me(e),n=e[U]||null;n&&ha(n),this._bootstrapComponents=Ye(o.bootstrap),this._r3Injector=Dr(e,t,[{provide:ae,useValue:this},{provide:sl,useValue:this.componentFactoryResolver}],T(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Mr.THROW_IF_NOT_FOUND,o=m.Default){return e===Mr||e===ae||e===q?this:this._r3Injector.get(e,t,o)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class jl extends le{constructor(e){super(),this.moduleType=e,null!==Me(e)&&function(e){const t=new Set;!function e(o){const n=Me(o,!0),i=n.id;null!==i&&(function(e,t,o){if(t&&t!==o)throw new Error(`Duplicate module registered for ${e} - ${T(t)} vs ${T(t.name)}`)}(i,Wl.get(i),o),Wl.set(i,o));const r=Ye(n.imports);for(const s of r)t.has(s)||(t.add(s),e(s))}(e)}(e)}create(e){return new Bl(this.moduleType,e)}}function Ul(e,t,o){const n=Tt()+e,i=bt();return i[n]===kn?$r(i,n,o?t.call(o):t()):function(e,t){return e[t]}(i,n)}function zl(e,t,o,n){return $l(bt(),Tt(),e,t,o,n)}function Kl(e,t,o,n,i){return Ql(bt(),Tt(),e,t,o,n,i)}function Yl(e,t,o,n,i,r){return Xl(bt(),Tt(),e,t,o,n,i,r)}function ql(e,t){const o=e[t];return o===kn?void 0:o}function $l(e,t,o,n,i,r){const s=t+o;return Qr(e,s,i)?$r(e,s+1,r?n.call(r,i):n(i)):ql(e,s+1)}function Ql(e,t,o,n,i,r,s){const a=t+o;return Xr(e,a,i,r)?$r(e,a+2,s?n.call(s,i,r):n(i,r)):ql(e,a+2)}function Xl(e,t,o,n,i,r,s,a){const l=t+o;return function(e,t,o,n,i){const r=Xr(e,t,o,n);return Qr(e,t+2,i)||r}(e,l,i,r,s)?$r(e,l+3,a?n.call(a,i,r,s):n(i,r,s)):ql(e,l+3)}function Zl(e,t){const o=wt();let n;const i=e+20;o.firstCreatePass?(n=function(e,t){if(t)for(let o=t.length-1;o>=0;o--){const n=t[o];if(e===n.name)return n}throw new Error(`The pipe '${e}' could not be found!`)}(t,o.pipeRegistry),o.data[i]=n,n.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(i,n.onDestroy)):n=o.data[i];const r=n.factory||(n.factory=Ie(n.type)),s=te(os);try{const t=co(!1),n=r();return co(t),function(e,t,o,n){const i=o+20;i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=n}(o,bt(),e,n),n}finally{te(s)}}function Jl(e,t,o){const n=bt(),i=ct(n,e);return nu(n,ou(n,e)?$l(n,Tt(),t,i.transform,o,i):i.transform(o))}function eu(e,t,o,n){const i=bt(),r=ct(i,e);return nu(i,ou(i,e)?Ql(i,Tt(),t,r.transform,o,n,r):r.transform(o,n))}function tu(e,t,o,n,i){const r=bt(),s=ct(r,e);return nu(r,ou(r,e)?Xl(r,Tt(),t,s.transform,o,n,i,s):s.transform(o,n,i))}function ou(e,t){return e[1].data[t+20].pure}function nu(e,t){return Kr.isWrapped(t)&&(t=Kr.unwrap(t),e[At()]=kn),t}const iu=class extends n.a{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,o){let n,r=e=>null,s=()=>null;e&&"object"==typeof e?(n=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(r=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(s=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(n=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),o&&(s=this.__isAsync?()=>{setTimeout(()=>o())}:()=>{o()}));const a=super.subscribe(n,r,s);return e instanceof i.a&&e.add(a),a}};function ru(){return this._results[zr()]()}class su{constructor(){this.dirty=!0,this._results=[],this.changes=new iu,this.length=0;const e=zr(),t=su.prototype;t[e]||(t[e]=ru)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=ce(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class au{constructor(e){this.queryList=e,this.matches=null}clone(){return new au(this.queryList)}setDirty(){this.queryList.setDirty()}}class lu{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const o=null!==e.contentQueries?e.contentQueries[0]:t.length,n=[];for(let e=0;e<o;e++){const o=t.getByIndex(e);n.push(this.queries[o.indexInDeclarationView].clone())}return new lu(n)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Ou(e,t).matches&&this.queries[t].setDirty()}}class uu{constructor(e,t,o,n=null){this.predicate=e,this.descendants=t,this.isStatic=o,this.read=n}}class cu{constructor(e=[]){this.queries=e}elementStart(e,t){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let o=0;o<this.length;o++){const n=null!==t?t.length:0,i=this.getByIndex(o).embeddedTView(e,n);i&&(i.indexInDeclarationView=o,null!==t?t.push(i):t=[i])}return null!==t?new cu(t):null}template(e,t){for(let o=0;o<this.queries.length;o++)this.queries[o].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class pu{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new pu(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){const t=this._declarationNodeIndex;let o=e.parent;for(;null!==o&&3===o.type&&o.index!==t;)o=o.parent;return t===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const o=this.metadata.predicate;if(Array.isArray(o))for(let n=0;n<o.length;n++){const i=o[n];this.matchTNodeWithReadOption(e,t,du(t,i)),this.matchTNodeWithReadOption(e,t,wo(t,e,i,!1,!1))}else o===Fl?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,wo(t,e,o,!1,!1))}matchTNodeWithReadOption(e,t,o){if(null!==o){const n=this.metadata.read;if(null!==n)if(n===al||n===xl||n===Fl&&0===t.type)this.addMatch(t.index,-2);else{const o=wo(t,e,n,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,o)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function du(e,t){const o=e.localNames;if(null!==o)for(let n=0;n<o.length;n+=2)if(o[n]===t)return o[n+1];return null}function hu(e,t,o,n){return-1===o?function(e,t){return 2===e.type||3===e.type?fr(al,e,t):0===e.type?gr(Fl,al,e,t):null}(t,e):-2===o?function(e,t,o){return o===al?fr(al,t,e):o===Fl?gr(Fl,al,t,e):o===xl?mr(xl,al,t,e):void 0}(e,t,n):Eo(e,e[1],o,t)}function fu(e,t,o,n){const i=t[19].queries[n];if(null===i.matches){const n=e.data,r=o.matches,s=[];for(let e=0;e<r.length;e+=2){const i=r[e];s.push(i<0?null:hu(t,n[i],r[e+1],o.metadata.read))}i.matches=s}return i.matches}function gu(e,t,o,n){const i=e.queries.getByIndex(o),r=i.matches;if(null!==r){const s=fu(e,t,i,o);for(let e=0;e<r.length;e+=2){const o=r[e];if(o>0)n.push(s[e/2]);else{const i=r[e+1],s=t[-o];for(let e=10;e<s.length;e++){const t=s[e];t[17]===t[3]&&gu(t[1],t,i,n)}if(null!==s[9]){const e=s[9];for(let t=0;t<e.length;t++){const o=e[t];gu(o[1],o,i,n)}}}}}return n}function mu(e){const t=bt(),o=wt(),n=Mt();Lt(n+1);const i=Ou(o,n);if(e.dirty&&ht(t)===i.metadata.isStatic){if(null===i.matches)e.reset([]);else{const r=i.crossesNgTemplate?gu(o,t,n,[]):fu(o,t,i,n);e.reset(r),e.notifyOnChanges()}return!0}return!1}function yu(e,t,o){Cu(wt(),bt(),e,t,o,!0)}function vu(e,t,o){Cu(wt(),bt(),e,t,o,!1)}function Cu(e,t,o,n,i,r){e.firstCreatePass&&(Su(e,new uu(o,n,r,i),-1),r&&(e.staticViewQueries=!0)),_u(e,t)}function bu(e,t,o,n){Eu(wt(),bt(),t,o,n,!1,Rt(),e)}function wu(e,t,o,n){Eu(wt(),bt(),t,o,n,!0,Rt(),e)}function Eu(e,t,o,n,i,r,s,a){e.firstCreatePass&&(Su(e,new uu(o,n,r,i),s.index),function(e,t){const o=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?o[o.length-1]:-1)&&o.push(e.queries.length-1,t)}(e,a),r&&(e.staticContentQueries=!0)),_u(e,t)}function Ru(){return e=bt(),t=Mt(),e[19].queries[t].queryList;var e,t}function _u(e,t){const o=new su;ci(e,t,o,o.destroy),null===t[19]&&(t[19]=new lu),t[19].queries.push(new au(o))}function Su(e,t,o){null===e.queries&&(e.queries=new cu),e.queries.track(new pu(t,o))}function Ou(e,t){return e.queries.getByIndex(t)}function Du(e,t){return gr(Fl,al,e,t)}function Pu(e=m.Default){const t=yr(!0);if(null!=t||e&m.Optional)return t;qe("ChangeDetectorRef")}const Tu=new Y("Application Initializer");let Au=(()=>{class e{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const t=this.appInits[o]();hs(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(ne(Tu,8))},e.\u0275prov=C({token:e,factory:e.\u0275fac}),e})();const Fu=new Y("AppId"),Nu={provide:Fu,useFactory:function(){return`${xu()}${xu()}${xu()}`},deps:[]};function xu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Iu=new Y("Platform Initializer"),Mu=new Y("Platform ID"),Lu=new Y("appBootstrapListener");let Gu=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac}),e})();const ku=new Y("LocaleId"),Vu=new Y("DefaultCurrencyCode");class Hu{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const Wu=function(e){return new jl(e)},Bu=Wu,ju=function(e){return Promise.resolve(Wu(e))},Uu=function(e){const t=Wu(e),o=Ye(Me(e).declarations).reduce((e,t)=>{const o=xe(t);return o&&e.push(new Vl(o)),e},[]);return new Hu(t,o)},zu=Uu,Ku=function(e){return Promise.resolve(Uu(e))};let Yu=(()=>{class e{constructor(){this.compileModuleSync=Bu,this.compileModuleAsync=ju,this.compileModuleAndAllComponentsSync=zu,this.compileModuleAndAllComponentsAsync=Ku}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac}),e})();const qu=(()=>Promise.resolve(0))();function $u(e){"undefined"==typeof Zone?qu.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Qu{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new iu(!1),this.onMicrotaskEmpty=new iu(!1),this.onStable=new iu(!1),this.onError=new iu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=t,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let e=V.requestAnimationFrame,t=V.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const o=e[Zone.__symbol__("OriginalDelegate")];o&&(e=o);const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=!!e.shouldCoalesceEventChangeDetection&&e.nativeRequestAnimationFrame&&(()=>{!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(V,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,ec(e),Ju(e)},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),ec(e))}(e)});e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:t},onInvokeTask:(o,n,i,r,s,a)=>{try{return tc(e),o.invokeTask(i,r,s,a)}finally{t&&"eventTask"===r.type&&t(),oc(e)}},onInvoke:(t,o,n,i,r,s,a)=>{try{return tc(e),t.invoke(n,i,r,s,a)}finally{oc(e)}},onHasTask:(t,o,n,i)=>{t.hasTask(n,i),o===n&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,ec(e),Ju(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,o,n,i)=>(t.handleError(n,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Qu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,o){return this._inner.run(e,t,o)}runTask(e,t,o,n){const i=this._inner,r=i.scheduleEventTask("NgZoneEvent: "+n,e,Zu,Xu,Xu);try{return i.runTask(r,t,o)}finally{i.cancelTask(r)}}runGuarded(e,t,o){return this._inner.runGuarded(e,t,o)}runOutsideAngular(e){return this._outer.run(e)}}function Xu(){}const Zu={};function Ju(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ec(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function tc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function oc(e){e._nesting--,Ju(e)}class nc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new iu,this.onMicrotaskEmpty=new iu,this.onStable=new iu,this.onError=new iu}run(e,t,o){return e.apply(t,o)}runGuarded(e,t,o){return e.apply(t,o)}runOutsideAngular(e){return e()}runTask(e,t,o,n){return e.apply(t,o)}}let ic=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qu.assertNotInAngularZone(),$u(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$u(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,o){let n=-1;t&&t>0&&(n=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==n),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:n,updateCb:o})}whenStable(e,t,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,o){return[]}}return e.\u0275fac=function(t){return new(t||e)(ne(Qu))},e.\u0275prov=C({token:e,factory:e.\u0275fac}),e})(),rc=(()=>{class e{constructor(){this._applications=new Map,uc.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return uc.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac}),e})();class sc{addToWindow(e){}findTestabilityInTree(e,t,o){return null}}function ac(e){uc=e}let lc,uc=new sc;const cc=new Y("AllowMultipleToken");class pc{constructor(e,t){this.name=e,this.token=t}}function dc(e,t,o=[]){const n="Platform: "+t,i=new Y(n);return(t=[])=>{let r=hc();if(!r||r.injector.get(cc,!1))if(e)e(o.concat(t).concat({provide:i,useValue:!0}));else{const e=o.concat(t).concat({provide:i,useValue:!0},{provide:wr,useValue:"platform"});!function(e){if(lc&&!lc.destroyed&&!lc.injector.get(cc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");lc=e.get(fc);const t=e.get(Iu,null);t&&t.forEach(e=>e())}(Mr.create({providers:e,name:n}))}return function(e){const t=hc();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function hc(){return lc&&!lc.destroyed?lc:null}let fc=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const o=function(e,t){let o;return o="noop"===e?new nc:("zone.js"===e?void 0:e)||new Qu({enableLongStackTrace:qo(),shouldCoalesceEventChangeDetection:t}),o}(t?t.ngZone:void 0,t&&t.ngZoneEventCoalescing||!1),n=[{provide:Qu,useValue:o}];return o.run(()=>{const t=Mr.create({providers:n,parent:this.injector,name:e.moduleType.name}),i=e.create(t),r=i.injector.get(Fo,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>yc(this._modules,i)),o.runOutsideAngular(()=>o.onError.subscribe({next:e=>{r.handleError(e)}})),function(e,t,o){try{const n=o();return hs(n)?n.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(r,o,()=>{const e=i.injector.get(Au);return e.runInitializers(),e.donePromise.then(()=>(ha(i.injector.get(ku,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const o=gc({},t);return function(e,t,o){const n=new jl(o);return Promise.resolve(n)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,o))}_moduleDoBootstrap(e){const t=e.injector.get(mc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${T(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(ne(Mr))},e.\u0275prov=C({token:e,factory:e.\u0275fac}),e})();function gc(e,t){return Array.isArray(t)?t.reduce(gc,e):Object.assign(Object.assign({},e),t)}let mc=(()=>{class e{constructor(e,t,o,n,i,l){this._zone=e,this._console=t,this._injector=o,this._exceptionHandler=n,this._componentFactoryResolver=i,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=qo(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new r.a(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),c=new r.a(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Qu.assertNotInAngularZone(),$u(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const o=this._zone.onUnstable.subscribe(()=>{Qu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),o.unsubscribe()}});this.isStable=Object(s.a)(u,c.pipe(Object(a.a)()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let o;o=e instanceof il?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(o.componentType);const n=o.isBoundToModule?void 0:this._injector.get(ae),i=o.create(Mr.NULL,[],t||o.selector,n);i.onDestroy(()=>{this._unloadComponent(i)});const r=i.injector.get(ic,null);return r&&i.injector.get(rc).registerApplication(i.location.nativeElement,r),this._loadComponent(i),qo()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;yc(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Lu,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),yc(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(ne(Qu),ne(Gu),ne(Mr),ne(Fo),ne(sl),ne(Au))},e.\u0275prov=C({token:e,factory:e.\u0275fac}),e})();function yc(e,t){const o=e.indexOf(t);o>-1&&e.splice(o,1)}class vc{}class Cc{}const bc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let wc=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||bc}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,n]=e.split("#");return void 0===n&&(n="default"),o("zn8P")(t).then(e=>e[n]).then(e=>Ec(e,t,n)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,n]=e.split("#"),i="NgFactory";return void 0===n&&(n="default",i=""),o("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[n+i]).then(e=>Ec(e,t,n))}}return e.\u0275fac=function(t){return new(t||e)(ne(Yu),ne(Cc,8))},e.\u0275prov=C({token:e,factory:e.\u0275fac}),e})();function Ec(e,t,o){if(!e)throw new Error(`Cannot find '${o}' in '${t}'`);return e}const Rc=function(e){return null},_c=dc(null,"core",[{provide:Mu,useValue:"unknown"},{provide:fc,deps:[Mr]},{provide:rc,deps:[]},{provide:Gu,deps:[]}]),Sc=[{provide:mc,useClass:mc,deps:[Qu,Gu,Mr,Fo,sl,Au]},{provide:kl,deps:[Qu],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Au,useClass:Au,deps:[[new p,Tu]]},{provide:Yu,useClass:Yu,deps:[]},Nu,{provide:Ol,useFactory:function(){return Tl},deps:[]},{provide:Dl,useFactory:function(){return Al},deps:[]},{provide:ku,useFactory:function(e){return ha(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new c(ku),new p,new h]]},{provide:Vu,useValue:"USD"}];let Oc=(()=>{class e{constructor(e){}}return e.\u0275mod=Pe({type:e}),e.\u0275inj=b({factory:function(t){return new(t||e)(ne(mc))},providers:Sc}),e})()},flj8:function(e,t,o){"use strict";o.d(t,"a",function(){return c});var n=o("2Vo4"),i=o("AytR"),r=o("fXoL"),s=o("tk/3"),a=o("qfBg"),l=o("EFyh"),u=o("gA3Z");let c=(()=>{class e{constructor(e,t,o,i){this.httpClient=e,this.userService=t,this.loginService=o,this.modalService=i,this.lockedAccounts=new n.a(null),this.unlockedAccounts=new n.a(null),this.activeUser=this.userService.getActiveUser()}handleError(e){this.loginService.setErrorCode(e.status),401===e.status&&this.loginService.getLoggedInValue()&&this.logout()}unlockAccount(e){const t=this.userService.getActiveUser();this.httpClient.post(i.a.apiUrl+"/unlockAccount",{lockedAccountId:e,activeUserId:t.userId}).subscribe(e=>{this.lockedAccounts.next(e)},e=>{console.log(e),this.handleError(e)},()=>{this.modalService.setModalContext("User Account has been unlocked"),this.getLockedAccounts(),this.getUnLockedAccounts()})}lockAccount(e){const t=this.userService.getActiveUser();this.httpClient.post(i.a.apiUrl+"/lockAccount",{lockedAccountId:e,activeUserId:t.userId}).subscribe(e=>{this.unlockedAccounts.next(e)},e=>{console.log("From lockAccount(number):"+e),this.handleError(e)},()=>{this.modalService.setModalContext("User Account has been Locked"),this.getLockedAccounts(),this.getUnLockedAccounts()})}getLockedAccounts(){const e=this.userService.getActiveUser().userId;this.httpClient.get(i.a.apiUrl+"/getLockedAccounts"+e).subscribe(e=>{this.lockedAccounts.next(e)},e=>{this.handleError(e)},()=>{})}getUnLockedAccounts(){const e=this.userService.getActiveUser().userId;this.httpClient.get(i.a.apiUrl+"/getUnLockedAccounts"+e).subscribe(e=>{this.unlockedAccounts.next(e)},e=>{this.handleError(e)},()=>{})}logout(){this.loginService.backendForceLogout()}}return e.\u0275fac=function(t){return new(t||e)(r.ac(s.b),r.ac(a.a),r.ac(l.a),r.ac(u.a))},e.\u0275prov=r.Ib({token:e,factory:e.\u0275fac}),e})()},gA3Z:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var n=o("2Vo4"),i=o("fXoL");let r=(()=>{class e{constructor(){this.modalContextUpdated=new n.a(null),this.popUpContextUpdated=new n.a(null),this.context=null}setModalContext(e){this.context=e,this.modalContextUpdated.next(this.context)}setPopOutContext(e){this.context=e,this.popUpContextUpdated.next(this.context)}getModalContext(){return this.context}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Ib({token:e,factory:e.\u0275fac}),e})()},gRHU:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var n=o("2fFW"),i=o("NJ4a");const r={closed:!0,next(e){},error(e){if(n.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete(){}}},itXk:function(e,t,o){"use strict";o.d(t,"a",function(){return u});var n=o("z+Ro"),i=o("DH7j"),r=o("l7GE"),s=o("ZUHj"),a=o("yCtX");const l={};function u(...e){let t=null,o=null;return Object(n.a)(e[e.length-1])&&(o=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&Object(i.a)(e[0])&&(e=e[0]),Object(a.a)(e,o).lift(new c(t))}class c{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new p(e,this.resultSelector))}}class p extends r.a{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(l),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let o=0;o<t;o++){const t=e[o];this.add(Object(s.a)(this,t,t,o))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,o,n,i){const r=this.values,s=this.toRespond?r[o]===l?--this.toRespond:this.toRespond:0;r[o]=t,0===s&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(o){return void this.destination.error(o)}this.destination.next(t)}}},jECJ:function(e,t,o){"use strict";o.d(t,"a",function(){return w});var n=o("quSY"),i=o("LRne"),r=o("AytR"),s=o("JIr8"),a=o("vkgz"),l=o("3Pt+"),u=o("fXoL"),c=o("tk/3"),p=o("qfBg"),d=o("EFyh"),h=o("ofXK");function f(e,t){if(1&e&&(u.Sb(0,"option",11),u.Hc(1),u.Rb()),2&e){const e=t.$implicit;u.oc("value",null==e?null:e.SampleId),u.zb(1),u.Jc(" ",null==e?null:e.LabSampleId," ")}}function g(e,t){if(1&e&&(u.Sb(0,"div"),u.Sb(1,"tr"),u.Sb(2,"span"),u.Sb(3,"b"),u.Sb(4,"strong"),u.Hc(5,"<Lab>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(6,"tr"),u.Sb(7,"span"),u.Sb(8,"b"),u.Sb(9,"strong"),u.Hc(10,"<LabName>"),u.Rb(),u.Rb(),u.Hc(11),u.Sb(12,"b"),u.Sb(13,"strong"),u.Hc(14,"</LabName>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(15,"tr"),u.Sb(16,"span"),u.Sb(17,"b"),u.Sb(18,"strong"),u.Hc(19,"<LabCode>"),u.Rb(),u.Rb(),u.Hc(20),u.Sb(21,"b"),u.Sb(22,"strong"),u.Hc(23,"</LabCode>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(24,"tr"),u.Sb(25,"span"),u.Sb(26,"b"),u.Sb(27,"strong"),u.Hc(28,"<POCName>"),u.Rb(),u.Rb(),u.Hc(29),u.Sb(30,"b"),u.Sb(31,"strong"),u.Hc(32,"</POCName>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(33,"tr"),u.Sb(34,"span"),u.Sb(35,"b"),u.Sb(36,"strong"),u.Hc(37,"<POCEmail>"),u.Rb(),u.Rb(),u.Hc(38),u.Sb(39,"b"),u.Sb(40,"strong"),u.Hc(41,"</POCEmail>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(42,"tr"),u.Sb(43,"span"),u.Sb(44,"b"),u.Sb(45,"strong"),u.Hc(46,"<POCPhone>"),u.Rb(),u.Rb(),u.Hc(47),u.Sb(48,"b"),u.Sb(49,"strong"),u.Hc(50,"</POCPhone>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(51,"tr"),u.Sb(52,"span"),u.Sb(53,"b"),u.Sb(54,"strong"),u.Hc(55,"</Lab>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb()),2&e){const e=u.gc(3);u.zb(11),u.Jc(" ",e.selectedLab.LabName," "),u.zb(9),u.Jc(" ",e.selectedLab.LabCode," "),u.zb(9),u.Jc(" ",e.selectedLab.POCName," "),u.zb(9),u.Jc(" ",e.selectedLab.POCEmail," "),u.zb(9),u.Jc(" ",e.selectedLab.POCPhone," ")}}function m(e,t){if(1&e&&(u.Sb(0,"div"),u.Sb(1,"tr"),u.Sb(2,"span"),u.Sb(3,"b"),u.Sb(4,"strong"),u.Hc(5,"<SampleData>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(6,"tr"),u.Sb(7,"span"),u.Sb(8,"b"),u.Sb(9,"strong"),u.Hc(10,"<SampleId>"),u.Rb(),u.Rb(),u.Hc(11),u.Sb(12,"b"),u.Sb(13,"strong"),u.Hc(14,"</SampleId>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(15,"tr"),u.Sb(16,"span"),u.Sb(17,"b"),u.Sb(18,"strong"),u.Hc(19,"<SampleFieldId>"),u.Rb(),u.Rb(),u.Hc(20),u.Sb(21,"b"),u.Sb(22,"strong"),u.Hc(23,"</SampleFieldId>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(24,"tr"),u.Sb(25,"span"),u.Sb(26,"b"),u.Sb(27,"strong"),u.Hc(28,"<LabSampleComments>"),u.Rb(),u.Rb(),u.Hc(29),u.Sb(30,"b"),u.Sb(31,"strong"),u.Hc(32,"</LabSampleComments>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(33,"tr"),u.Sb(34,"span"),u.Sb(35,"b"),u.Sb(36,"strong"),u.Hc(37,"<SampleAnalyzedDate>"),u.Rb(),u.Rb(),u.Hc(38),u.Sb(39,"b"),u.Sb(40,"strong"),u.Hc(41,"</SampleAnalyzedDate>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(42,"tr"),u.Sb(43,"span"),u.Sb(44,"b"),u.Sb(45,"strong"),u.Hc(46,"<ResultsReportedDate>"),u.Rb(),u.Rb(),u.Hc(47),u.Sb(48,"b"),u.Sb(49,"strong"),u.Hc(50,"</ResultsReportedDate>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(51,"tr"),u.Sb(52,"span"),u.Sb(53,"b"),u.Sb(54,"strong"),u.Hc(55,"<ResultsReturnedDate>"),u.Rb(),u.Rb(),u.Hc(56),u.Sb(57,"b"),u.Sb(58,"strong"),u.Hc(59,"</ResultsReturnedDate>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(60,"tr"),u.Sb(61,"span"),u.Sb(62,"b"),u.Sb(63,"strong"),u.Hc(64,"<PostSampledWeight>"),u.Rb(),u.Rb(),u.Hc(65),u.Sb(66,"b"),u.Sb(67,"strong"),u.Hc(68,"</PostSampledWeight>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(69,"tr"),u.Sb(70,"span"),u.Sb(71,"b"),u.Sb(72,"strong"),u.Hc(73,"<NetWeight>"),u.Rb(),u.Rb(),u.Hc(74),u.Sb(75,"b"),u.Sb(76,"strong"),u.Hc(77,"</NetWeight>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(78,"tr"),u.Sb(79,"span"),u.Sb(80,"b"),u.Sb(81,"strong"),u.Hc(82,"</SampleData>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb()),2&e){const e=u.gc(3);u.zb(11),u.Jc(" ",e.selectedSample.SampleId," "),u.zb(9),u.Jc(" ",e.selectedSample.SampleFieldId," "),u.zb(9),u.Jc(" ",e.selectedSample.LabSampleComments," "),u.zb(9),u.Jc(" ",e.selectedSample.SampleAnalyzedDate," "),u.zb(9),u.Jc(" ",e.selectedSample.ResultsReportedDate," "),u.zb(9),u.Jc(" ",e.selectedSample.ResultsReturnedDate," "),u.zb(9),u.Jc(" ",e.selectedSample.PostSampledWeight," "),u.zb(9),u.Jc(" ",e.selectedSample.NetWeight," ")}}function y(e,t){if(1&e&&(u.Sb(0,"div"),u.Sb(1,"tr"),u.Sb(2,"span"),u.Sb(3,"b"),u.Sb(4,"strong"),u.Hc(5,"<ChainOfCustody>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(6,"tr"),u.Sb(7,"span"),u.Sb(8,"b"),u.Sb(9,"strong"),u.Hc(10,"<RelinquishedBy>"),u.Rb(),u.Rb(),u.Hc(11),u.Sb(12,"b"),u.Sb(13,"strong"),u.Hc(14,"</RelinquishedBy>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(15,"tr"),u.Sb(16,"span"),u.Sb(17,"b"),u.Sb(18,"strong"),u.Hc(19,"<RelinquishedDateTime>"),u.Rb(),u.Rb(),u.Hc(20),u.Sb(21,"b"),u.Sb(22,"strong"),u.Hc(23,"</RelinquishedDateTime>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(24,"tr"),u.Sb(25,"span"),u.Sb(26,"b"),u.Sb(27,"strong"),u.Hc(28,"<ReceivedBy>"),u.Rb(),u.Rb(),u.Hc(29),u.Sb(30,"b"),u.Sb(31,"strong"),u.Hc(32,"</ReceivedBy>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(33,"tr"),u.Sb(34,"span"),u.Sb(35,"b"),u.Sb(36,"strong"),u.Hc(37,"<ReceivedDateTime>"),u.Rb(),u.Rb(),u.Hc(38),u.Sb(39,"b"),u.Sb(40,"strong"),u.Hc(41,"</ReceivedDateTime>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(42,"tr"),u.Sb(43,"span"),u.Sb(44,"b"),u.Sb(45,"strong"),u.Hc(46,"<Comments>"),u.Rb(),u.Rb(),u.Hc(47),u.Sb(48,"b"),u.Sb(49,"strong"),u.Hc(50,"</Comments>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(51,"tr"),u.Sb(52,"span"),u.Sb(53,"b"),u.Sb(54,"strong"),u.Hc(55,"</ChainOfCustody>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb()),2&e){const e=t.$implicit;u.zb(11),u.Jc(" ",e.RelinquishedBy," "),u.zb(9),u.Jc(" ",e.RelinquishedDateTime," "),u.zb(9),u.Jc(" ",e.ReceivedBy," "),u.zb(9),u.Jc(" ",e.ReceivedDateTime," "),u.zb(9),u.Jc(" ",e.Comments," ")}}function v(e,t){if(1&e&&(u.Sb(0,"div"),u.Sb(1,"tr"),u.Sb(2,"span"),u.Sb(3,"b"),u.Sb(4,"strong"),u.Hc(5,"<AnalyteResult>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(6,"tr"),u.Sb(7,"span"),u.Sb(8,"b"),u.Sb(9,"strong"),u.Hc(10,"<AnalyteIdentifier>"),u.Rb(),u.Rb(),u.Hc(11),u.Sb(12,"b"),u.Sb(13,"strong"),u.Hc(14,"</AnalyteIdentifier>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(15,"tr"),u.Sb(16,"span"),u.Sb(17,"b"),u.Sb(18,"strong"),u.Hc(19,"<AnalyteName>"),u.Rb(),u.Rb(),u.Hc(20),u.Sb(21,"b"),u.Sb(22,"strong"),u.Hc(23,"</AnalyteName>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(24,"tr"),u.Sb(25,"span"),u.Sb(26,"b"),u.Sb(27,"strong"),u.Hc(28,"<AnalyzedDateTime>"),u.Rb(),u.Rb(),u.Hc(29),u.Sb(30,"b"),u.Sb(31,"strong"),u.Hc(32,"</AnalyzedDateTime>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(33,"tr"),u.Sb(34,"span"),u.Sb(35,"b"),u.Sb(36,"strong"),u.Hc(37,"<Inspirability>"),u.Rb(),u.Rb(),u.Hc(38),u.Sb(39,"b"),u.Sb(40,"strong"),u.Hc(41,"</Inspirability>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(42,"tr"),u.Sb(43,"span"),u.Sb(44,"b"),u.Sb(45,"strong"),u.Hc(46,"<AnalyticalMethod>"),u.Rb(),u.Rb(),u.Hc(47),u.Sb(48,"b"),u.Sb(49,"strong"),u.Hc(50,"</AnalyticalMethod>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(51,"tr"),u.Sb(52,"span"),u.Sb(53,"b"),u.Sb(54,"strong"),u.Hc(55,"<MassMeasuredResult>"),u.Rb(),u.Rb(),u.Hc(56),u.Sb(57,"b"),u.Sb(58,"strong"),u.Hc(59,"</MassMeasuredResult>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(60,"tr"),u.Sb(61,"span"),u.Sb(62,"b"),u.Sb(63,"strong"),u.Hc(64,"<MassMeasuredResultQualifier>"),u.Rb(),u.Rb(),u.Hc(65),u.Sb(66,"b"),u.Sb(67,"strong"),u.Hc(68,"</MassMeasuredResultQualifier>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(69,"tr"),u.Sb(70,"span"),u.Sb(71,"b"),u.Sb(72,"strong"),u.Hc(73,"<MassCorrectedResult>"),u.Rb(),u.Rb(),u.Hc(74),u.Sb(75,"b"),u.Sb(76,"strong"),u.Hc(77,"</MassCorrectedResult>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(78,"tr"),u.Sb(79,"span"),u.Sb(80,"b"),u.Sb(81,"strong"),u.Hc(82,"<MassCorrectedResultQualifier>"),u.Rb(),u.Rb(),u.Hc(83),u.Sb(84,"b"),u.Sb(85,"strong"),u.Hc(86,"</MassCorrectedResultQualifier>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(87,"tr"),u.Sb(88,"span"),u.Sb(89,"b"),u.Sb(90,"strong"),u.Hc(91,"<MassResultUnit>"),u.Rb(),u.Rb(),u.Hc(92),u.Sb(93,"b"),u.Sb(94,"strong"),u.Hc(95,"</MassResultUnit>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(96,"tr"),u.Sb(97,"span"),u.Sb(98,"b"),u.Sb(99,"strong"),u.Hc(100,"<ResultNotDetected>"),u.Rb(),u.Rb(),u.Hc(101),u.Sb(102,"b"),u.Sb(103,"strong"),u.Hc(104,"</ResultNotDetected>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(105,"tr"),u.Sb(106,"span"),u.Sb(107,"b"),u.Sb(108,"strong"),u.Hc(109,"<ResultComments>"),u.Rb(),u.Rb(),u.Hc(110),u.Sb(111,"b"),u.Sb(112,"strong"),u.Hc(113,"</ResultComments>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(114,"tr"),u.Sb(115,"span"),u.Sb(116,"b"),u.Sb(117,"strong"),u.Hc(118,"<ReportingLimit>"),u.Rb(),u.Rb(),u.Hc(119),u.Sb(120,"b"),u.Sb(121,"strong"),u.Hc(122,"</ReportingLimit>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(123,"tr"),u.Sb(124,"span"),u.Sb(125,"b"),u.Sb(126,"strong"),u.Hc(127,"<ReportingLimitUnit>"),u.Rb(),u.Rb(),u.Hc(128),u.Sb(129,"b"),u.Sb(130,"strong"),u.Hc(131,"</ReportingLimitUnit>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(132,"tr"),u.Sb(133,"span"),u.Sb(134,"b"),u.Sb(135,"strong"),u.Hc(136,"</AnalyteResult>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb()),2&e){const e=t.$implicit;u.zb(11),u.Jc(" ",e.AnalyteIdentifier," "),u.zb(9),u.Jc(" ",e.AnalyteName," "),u.zb(9),u.Jc(" ",e.AnalyzedDateTime," "),u.zb(9),u.Jc(" ",e.Inspirability," "),u.zb(9),u.Jc(" ",e.AnalyticalMethod," "),u.zb(9),u.Jc(" ",e.MassMeasuredResult," "),u.zb(9),u.Jc(" ",e.MassMeasuredResultQualifier," "),u.zb(9),u.Jc(" ",e.MassCorrectedResult," "),u.zb(9),u.Jc(" ",e.MassCorrectedResultQualifier," "),u.zb(9),u.Jc(" ",e.MassResultUnit," "),u.zb(9),u.Jc(" ",e.ResultNotDetected," "),u.zb(9),u.Jc(" ",e.ResultComments," "),u.zb(9),u.Jc(" ",e.ReportingLimit," "),u.zb(9),u.Jc(" ",e.ReportingLimitUnit," ")}}function C(e,t){if(1&e&&(u.Sb(0,"div"),u.Fc(1,g,56,5,"div",3),u.Sb(2,"div"),u.Sb(3,"tr"),u.Sb(4,"span"),u.Sb(5,"b"),u.Sb(6,"strong"),u.Hc(7,"<Sample>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Fc(8,m,83,8,"div",3),u.Sb(9,"div"),u.Sb(10,"tr"),u.Sb(11,"span"),u.Sb(12,"b"),u.Sb(13,"strong"),u.Hc(14,"<ChainOfCustodyData>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Fc(15,y,56,5,"div",12),u.Sb(16,"tr"),u.Sb(17,"span"),u.Sb(18,"b"),u.Sb(19,"strong"),u.Hc(20,"</ChainOfCustodyData>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(21,"div"),u.Sb(22,"tr"),u.Sb(23,"span"),u.Sb(24,"b"),u.Sb(25,"strong"),u.Hc(26,"<AnalyteResultData>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Fc(27,v,137,14,"div",12),u.Sb(28,"tr"),u.Sb(29,"span"),u.Sb(30,"b"),u.Sb(31,"strong"),u.Hc(32,"</AnalyteResultData>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(33,"div"),u.Sb(34,"tr"),u.Sb(35,"span"),u.Sb(36,"b"),u.Sb(37,"strong"),u.Hc(38,"</Sample>"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb()),2&e){const e=u.gc(2);u.zb(1),u.nc("ngIf",e.selectedLab),u.zb(7),u.nc("ngIf",e.selectedSample),u.zb(7),u.nc("ngForOf",e.selectedChainOfCustody),u.zb(12),u.nc("ngForOf",e.selectedAnalyteResultData)}}function b(e,t){if(1&e){const e=u.Tb();u.Sb(0,"div"),u.Sb(1,"form",4),u.Sb(2,"div",1),u.Sb(3,"div",5),u.Sb(4,"label"),u.Hc(5," Doehrs Sample: "),u.Rb(),u.Sb(6,"select",6),u.Nb(7,"option",7),u.Fc(8,f,2,2,"option",8),u.Rb(),u.Rb(),u.Sb(9,"div",9),u.Sb(10,"button",10),u.dc("click",function(){return u.xc(e),u.gc().submit()}),u.Hc(11,"Select"),u.Rb(),u.Rb(),u.Fc(12,C,39,4,"div",3),u.Rb(),u.Rb(),u.Rb()}if(2&e){const e=u.gc();u.zb(1),u.nc("formGroup",e.doehrsInformation),u.zb(7),u.nc("ngForOf",e.doehrsSample),u.zb(4),u.nc("ngIf",e.selectedSample)}}let w=(()=>{class e{constructor(e,t,o){this.http=e,this.userService=t,this.loginService=o,this.doehrsInformation=new l.k({sample:new l.h,chainOfCustody:new l.h(""),analyteResultData:new l.h(""),lab:new l.h("")}),this.showForm=!1,this.doehrsAnalyteResultData=[],this.doehrsChainOfCustody=[],this.doehrsLab=[],this.doehrsSample=[],this.ihLabAnalysis=[],this.selectedChainOfCustody=[],this.selectedAnalyteResultData=[],this.subscriptions=new n.a,this.constantSubscriptions=new n.a,this.selectedSample=null,this.selectedLab=null}handleError(e){this.loginService.setErrorCode(e.status),401===e.status&&this.loginService.getLoggedInValue()&&this.logout()}resetValues(){this.resetSubscriptions(),this.selectedChainOfCustody=[],this.selectedAnalyteResultData=[],this.selectedLab=null}formatDate(e){if(null===e)return null;const t=(e+"").slice(0,16).replace("T"," ")+":00";return console.log("The New Formatted Time is: "+t),t}submit(){this.selectedSample=this.doehrsSample.find(e=>e.SampleId===this.doehrsInformation.controls.sample.value),this.selectedSample&&this.determineDisplay()}determineDisplay(){this.resetValues(),this.selectedAnalyteResultData=this.doehrsAnalyteResultData.filter(e=>e.AnalyteIdentifier===this.selectedSample.SampleId),this.selectedChainOfCustody=this.doehrsChainOfCustody.filter(e=>e.LabSampleId===this.selectedSample.LabSampleId);const e=this.ihLabAnalysis.find(e=>e.LabSampleId===this.selectedSample.LabSampleId);e&&(this.selectedLab=this.doehrsLab.find(t=>t.id===e.Lab))}ngOnInit(){this.constantSubscriptions.add(this.AnalyteResults().subscribe(e=>{e&&(this.doehrsAnalyteResultData=e)})),this.constantSubscriptions.add(this.LabResults().subscribe(e=>{e&&(this.doehrsLab=e)})),this.constantSubscriptions.add(this.SampleResults().subscribe(e=>{e&&(this.doehrsSample=e,this.showForm=!0)})),this.constantSubscriptions.add(this.ChainOfCustodyResults().subscribe(e=>{e&&(this.doehrsChainOfCustody=e)})),this.constantSubscriptions.add(this.IHLabAnalysisResults().subscribe(e=>{e&&(this.ihLabAnalysis=e)}))}AnalyteResults(){const e=this.userService.getActiveUser();return void 0===(null==e?void 0:e.userId)?Object(i.a)():this.http.post(r.a.apiUrl+"/doehrsAnalyteResultData",{activeUserId:e.userId}).pipe(Object(s.a)(e=>this.handleError(e)),Object(a.a)(e=>{}))}LabResults(){const e=this.userService.getActiveUser();return void 0===(null==e?void 0:e.userId)?Object(i.a)():this.http.post(r.a.apiUrl+"/doehrsLabData",{activeUserId:e.userId}).pipe(Object(s.a)(e=>this.handleError(e)),Object(a.a)(e=>{}))}ChainOfCustodyResults(){const e=this.userService.getActiveUser();return void 0===(null==e?void 0:e.userId)?Object(i.a)():this.http.post(r.a.apiUrl+"/doehrsChainOfCustodyData",{activeUserId:e.userId}).pipe(Object(s.a)(e=>this.handleError(e)),Object(a.a)(e=>{}))}SampleResults(){const e=this.userService.getActiveUser();return void 0===(null==e?void 0:e.userId)?Object(i.a)():this.http.post(r.a.apiUrl+"/doehrsSampleData",{activeUserId:e.userId}).pipe(Object(s.a)(e=>this.handleError(e)),Object(a.a)(e=>{}))}IHLabAnalysisResults(){const e=this.userService.getActiveUser();return void 0===(null==e?void 0:e.userId)?Object(i.a)():this.http.post(r.a.apiUrl+"/doehrsIHLabAnalysis",{activeUserId:e.userId}).pipe(Object(s.a)(e=>this.handleError(e)),Object(a.a)(e=>{}))}logout(){this.loginService.backendForceLogout()}resetSubscriptions(){this.subscriptions.unsubscribe()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.constantSubscriptions.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(u.Mb(c.b),u.Mb(p.a),u.Mb(d.a))},e.\u0275cmp=u.Gb({type:e,selectors:[["app-doehrs-upload"]],decls:11,vars:1,consts:[[1,"flexContainer"],[1,"flexElement"],[1,"description"],[4,"ngIf"],[1,"flexContainer",3,"formGroup"],[1,"input-group","flexElement"],["id","sample","formControlName","sample","placeHolder","Sample Id"],["value","null"],[3,"value",4,"ngFor","ngForOf"],[1,"btn"],["id","submit",3,"click"],[3,"value"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(u.Sb(0,"div",0),u.Sb(1,"div",1),u.Sb(2,"h3"),u.Sb(3,"b"),u.Sb(4,"strong"),u.Hc(5,"Doehrs Information"),u.Rb(),u.Rb(),u.Rb(),u.Sb(6,"div",2),u.Sb(7,"span",2),u.Hc(8,"Select a Doehrs Sample from the drop down."),u.Rb(),u.Rb(),u.Nb(9,"br"),u.Rb(),u.Fc(10,b,13,3,"div",3),u.Rb()),2&e&&(u.zb(10),u.nc("ngIf",t.showForm))},directives:[h.u,l.H,l.t,l.l,l.E,l.s,l.j,l.x,l.G,h.t],styles:[""]}),e})()},jZKg:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var n=o("HDdC"),i=o("quSY");function r(e,t){return new n.a(o=>{const n=new i.a;let r=0;return n.add(t.schedule(function(){r!==e.length?(o.next(e[r++]),o.closed||n.add(this.schedule())):o.complete()})),n})}},kJWO:function(e,t,o){"use strict";o.d(t,"a",function(){return n});const n=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},l7GE:function(e,t,o){"use strict";o.d(t,"a",function(){return i});var n=o("7o/Q");class i extends n.a{notifyNext(e,t,o,n,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}},lJxs:function(e,t,o){"use strict";o.d(t,"a",function(){return i});var n=o("7o/Q");function i(e,t){return function(o){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return o.lift(new r(e,t))}}class r{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new s(e,this.project,this.thisArg))}}class s extends n.a{constructor(e,t,o){super(e),this.project=t,this.count=0,this.thisArg=o||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(o){return void this.destination.error(o)}this.destination.next(t)}}},lcMn:function(e,t,o){"use strict";o.d(t,"a",function(){return v});var n=o("3Pt+"),i=o("2Vo4"),r=o("quSY"),s=o("JIr8"),a=o("vkgz"),l=o("AytR"),u=o("fXoL"),c=o("tk/3"),p=o("Wl7B"),d=o("qfBg"),h=o("gA3Z"),f=o("ofXK"),g=o("Ludi");function m(e,t){if(1&e&&(u.Sb(0,"option",22),u.Hc(1),u.Rb()),2&e){const e=t.$implicit;u.oc("value",null==e?null:e.cas_number),u.zb(1),u.Jc(" ",null==e?null:e.analyte_name," ")}}function y(e,t){if(1&e){const e=u.Tb();u.Sb(0,"div",1),u.Sb(1,"div",4),u.Sb(2,"label"),u.Hc(3," Analyte: "),u.Rb(),u.Sb(4,"select",11),u.Nb(5,"option",12),u.Fc(6,m,2,2,"option",13),u.Rb(),u.Rb(),u.Sb(7,"div",4),u.Sb(8,"label"),u.Hc(9," OSHA PPM Value: "),u.Rb(),u.Nb(10,"input",14),u.Rb(),u.Sb(11,"div",4),u.Sb(12,"label"),u.Hc(13," OSHA Mg Value: "),u.Rb(),u.Nb(14,"input",15),u.Rb(),u.Sb(15,"div",4),u.Sb(16,"label"),u.Hc(17," TWA Value: "),u.Rb(),u.Nb(18,"input",16),u.Rb(),u.Sb(19,"div",4),u.Sb(20,"label"),u.Hc(21," TWA (St) Value: "),u.Rb(),u.Nb(22,"input",17),u.Rb(),u.Sb(23,"div",4),u.Sb(24,"label"),u.Hc(25," TWA (C) Value: "),u.Rb(),u.Nb(26,"input",18),u.Rb(),u.Sb(27,"div",4),u.Sb(28,"label"),u.Hc(29," Osu Sampling Rate: "),u.Rb(),u.Nb(30,"input",19),u.Rb(),u.Sb(31,"div",4),u.Sb(32,"label"),u.Hc(33," Detection Limit: "),u.Rb(),u.Nb(34,"input",20),u.Rb(),u.Sb(35,"div",1),u.Sb(36,"button",21),u.dc("click",function(){return u.xc(e),u.gc().updateAnalyteCheck()}),u.Hc(37," Update Analyte "),u.Rb(),u.Rb(),u.Rb()}if(2&e){const e=u.gc();u.zb(6),u.nc("ngForOf",e.analytesList)}}let v=(()=>{class e{constructor(e,t,o,s){this.http=e,this.agGridService=t,this.userService=o,this.modalService=s,this.organizationSelection=new n.k({analyteOrganization:new n.h}),this.analyteInformation=new n.k({oshaPPMValue:new n.h,oshaMgValue:new n.h,twaValue:new n.h,twaStValue:new n.h,twaCValue:new n.h,osuSamplingRateValue:new n.h,detectionLimitValue:new n.h,analytes:new n.h}),this.showForm=!1,this.User=new i.a(null),this.organizationSelection.controls.analyteOrganization.setValue(0),this.subscriptions=new r.a,this.rowSelectionSub=new r.a,this.agGridService.setGridType(null),this.selectedAnalyte=null,this.selectedCasNumber="",this.oshaPPMValue="",this.oshaMgValue="",this.twaCValue="",this.twaStValue="",this.twaValue="",this.osuSamplingRate="",this.detectionLimit="",this.userSelection=!1,this.gridSelection=!1,this.valueHasBeenReset=!1,this.selectedOrganization=0}setSelectedAnalyte(){const e=this.agGridService.getSelectedRow();this.selectedAnalyte=e,this.showSelectedAnalyte()}showSelectedAnalyte(){this.selectedAnalyte&&(this.userSelection||this.analyteInformation.controls.analytes.setValue(this.selectedAnalyte.cas_number),this.analyteInformation.controls.oshaPPMValue.setValue(this.selectedAnalyte.osha_pel_ppm),this.analyteInformation.controls.oshaMgValue.setValue(this.selectedAnalyte.osha_pel_mg),"1"===this.selectedOrganization.toString()?(this.analyteInformation.controls.twaValue.setValue(this.selectedAnalyte.cal_osha_pel_8_hour_twa),this.analyteInformation.controls.twaStValue.setValue(this.selectedAnalyte.cal_osha_pel_8_hour_twa_st),this.analyteInformation.controls.twaCValue.setValue(this.selectedAnalyte.cal_osha_pel_8_hour_twa_c)):"2"===this.selectedOrganization.toString()?(this.analyteInformation.controls.twaValue.setValue(this.selectedAnalyte.niosh_rel_10_hour_twa),this.analyteInformation.controls.twaStValue.setValue(this.selectedAnalyte.niosh_rel_10_hour_twa_st),this.analyteInformation.controls.twaCValue.setValue(this.selectedAnalyte.niosh_rel_10_hour_twa_c)):"3"===this.selectedOrganization.toString()&&(this.analyteInformation.controls.twaValue.setValue(this.selectedAnalyte.acgih_2019_tlv_8_hour_twa),this.analyteInformation.controls.twaStValue.setValue(this.selectedAnalyte.acgih_2019_tlv_8_hour_twa_st),this.analyteInformation.controls.twaCValue.setValue(this.selectedAnalyte.acgih_2019_tlv_8_hour_twa_c)),this.analyteInformation.controls.osuSamplingRateValue.setValue(this.selectedAnalyte.osu_6_sampling_rate),this.analyteInformation.controls.detectionLimitValue.setValue(this.selectedAnalyte.detection_limit),this.userSelection=!1,this.gridSelection=!1)}updateAnalyte(){if(!this.selectedCasNumber||!this.selectedAnalyte)return void console.log("something went wrong.");const e=this.userService.getActiveUser(),t=new r.a;t.add(this.http.post(l.a.apiUrl+"/updateAnalyte",{osha_pel_ppm:this.selectedAnalyte.osha_pel_ppm,osha_pel_mg:this.selectedAnalyte.osha_pel_mg,cal_osha_pel_8_hour_twa:this.selectedAnalyte.cal_osha_pel_8_hour_twa,cal_osha_pel_8_hour_twa_st:this.selectedAnalyte.cal_osha_pel_8_hour_twa_st,cal_osha_pel_8_hour_twa_c:this.selectedAnalyte.cal_osha_pel_8_hour_twa_c,niosh_rel_10_hour_twa:this.selectedAnalyte.niosh_rel_10_hour_twa,niosh_rel_10_hour_twa_st:this.selectedAnalyte.niosh_rel_10_hour_twa_st,niosh_rel_10_hour_twa_c:this.selectedAnalyte.niosh_rel_10_hour_twa_c,acgih_2019_tlv_8_hour_twa:this.selectedAnalyte.acgih_2019_tlv_8_hour_twa,acgih_2019_tlv_8_hour_twa_st:this.selectedAnalyte.acgih_2019_tlv_8_hour_twa_st,acgih_2019_tlv_8_hour_twa_c:this.selectedAnalyte.acgih_2019_tlv_8_hour_twa_c,cas_number:this.selectedCasNumber,activeUserId:null==e?void 0:e.userId}).pipe(Object(s.a)(e=>this.agGridService.handleError(e)),Object(a.a)(e=>{})).subscribe(e=>{},e=>{this.agGridService.handleError(e)},()=>{t.unsubscribe()}))}updateSamplingRate(){if(!this.selectedCasNumber||!this.selectedAnalyte)return void console.log("something went wrong.");const e=this.userService.getActiveUser(),t=new r.a;t.add(this.http.post(l.a.apiUrl+"/updateSamplingRate",{osu_6_sampling_rate:this.selectedAnalyte.osu_6_sampling_rate,detection_limit:this.selectedAnalyte.detection_limit,cas_number:this.selectedCasNumber,activeUserId:null==e?void 0:e.userId}).pipe(Object(s.a)(e=>this.agGridService.handleError(e)),Object(a.a)(e=>{})).subscribe(e=>{},e=>{this.agGridService.handleError(e)},()=>{this.agGridService.setGridType(2),t.unsubscribe()}))}buildCols(){const e=[];e.push({headerName:"Analyte Name",field:"analyte_name",width:150,height:50,sortable:!0,visible:!0,resizable:!0},{headerName:"CAS Number",field:"cas_number",width:150,height:50,sortable:!0,visible:!0,resizable:!0},{headerName:"OSHA pel PPM",field:"osha_pel_ppm",width:150,height:50,sortable:!0,visible:!0,resizable:!0},{headerName:"OSHA pel mg/m^3",field:"osha_pel_mg",width:150,height:50,sortable:!0,visible:!0,resizable:!0}),"1"===this.selectedOrganization.toString()?e.push({headerName:"Osha 8 Hour TWA",field:"cal_osha_pel_8_hour_twa",width:150,height:50,sortable:!0,visible:!0,resizable:!0},{headerName:"Osha 8 Hour TWA (st)",field:"cal_osha_pel_8_hour_twa_st",width:150,height:50,sortable:!0,visible:!0,resizable:!0},{headerName:"Osha 8 Hour TWA (C)",field:"cal_osha_pel_8_hour_twa_c",width:150,height:50,sortable:!0,visible:!0,resizable:!0}):"2"===this.selectedOrganization.toString()?e.push({headerName:"NIOSH 10 Hour TWA",field:"niosh_rel_10_hour_twa",width:150,height:50,sortable:!0,visible:!0,resizable:!0},{headerName:"NIOSH 10 Hour TWA (st)",field:"niosh_rel_10_hour_twa_st",width:100,height:50,sortable:!0,visible:!0,resizable:!0},{headerName:"NIOSH 10 Hour TWA (C)",field:"niosh_rel_10_hour_twa_c",width:150,height:50,sortable:!0,visible:!0,resizable:!0}):"3"===this.selectedOrganization.toString()?e.push({headerName:"ACGIH 8 Hour TWA",field:"acgih_2019_tlv_8_hour_twa",width:150,height:50,sortable:!0,visible:!0,resizable:!0},{headerName:"ACGIH 8 Hour TWA (st)",field:"acgih_2019_tlv_8_hour_twa_st",width:100,height:50,sortable:!0,visible:!0,resizable:!0},{headerName:"ACGIH 8 Hour TWA (C)",field:"acgih_2019_tlv_8_hour_twa_c",width:150,height:50,sortable:!0,visible:!0,resizable:!0}):console.log("Was not able to correlate organization"),e.push({headerName:"OSU 6 Sampling Rate",field:"osu_6_sampling_rate",width:150,height:50,sortable:!0,visible:!0,resizable:!0}),this.agGridService.setCols(e),this.agGridService.setRows(this.analytesList)}updateAnalyteCheck(){if(this.selectedCasNumber=this.analyteInformation.controls.analytes.value,this.selectedAnalyte=null,this.selectedAnalyte=this.analytesList.filter(e=>e.cas_number===this.selectedCasNumber),this.selectedAnalyte){switch(this.twaValue=this.analyteInformation.controls.twaValue.value?this.analyteInformation.controls.twaValue.value:null,this.twaStValue=this.analyteInformation.controls.twaStValue.value?this.analyteInformation.controls.twaStValue.value:null,this.twaCValue=this.analyteInformation.controls.twaCValue.value?this.analyteInformation.controls.twaCValue.value:null,this.oshaMgValue=this.analyteInformation.controls.oshaMgValue.value?this.analyteInformation.controls.oshaMgValue.value:null,this.oshaPPMValue=this.analyteInformation.controls.oshaPPMValue.value?this.analyteInformation.controls.oshaPPMValue.value:null,this.osuSamplingRate=this.analyteInformation.controls.osuSamplingRateValue.value?this.analyteInformation.controls.osuSamplingRateValue.value:null,this.detectionLimit=this.analyteInformation.controls.detectionLimitValue.value?this.analyteInformation.controls.detectionLimitValue.value:null,this.twaValue||(this.twaValue=null),this.twaStValue||(this.twaStValue=null),this.twaCValue||(this.twaCValue=null),this.oshaMgValue||(this.oshaMgValue=null),this.oshaPPMValue||(this.oshaPPMValue=null),this.osuSamplingRate||(this.osuSamplingRate=null),this.detectionLimit||(this.detectionLimit=null),this.selectedAnalyte.osha_pel_ppm=this.oshaPPMValue,this.selectedAnalyte.osha_pel_mg=this.oshaMgValue,this.selectedAnalyte.osu_6_sampling_rate=this.osuSamplingRate,this.selectedAnalyte.detection_limit=this.detectionLimit,this.selectedAnalyte.cas_number=this.selectedCasNumber,this.selectedOrganization.toString()){case"1":this.selectedAnalyte.cal_osha_pel_8_hour_twa=this.twaValue,this.selectedAnalyte.cal_osha_pel_8_hour_twa_st=this.twaStValue,this.selectedAnalyte.cal_osha_pel_8_hour_twa_c=this.twaCValue;break;case"2":this.selectedAnalyte.niosh_rel_10_hour_twa=this.twaValue,this.selectedAnalyte.niosh_rel_10_hour_twa_st=this.twaStValue,this.selectedAnalyte.niosh_rel_10_hour_twa_c=this.twaCValue;break;case"3":this.selectedAnalyte.acgih_2019_tlv_8_hour_twa=this.twaValue,this.selectedAnalyte.acgih_2019_tlv_8_hour_twa_st=this.twaStValue,this.selectedAnalyte.acgih_2019_tlv_8_hour_twa_c=this.twaCValue}this.checkUndefinedValues(),this.updateAnalyte(),this.updateSamplingRate(),this.modalService.setModalContext("Analyte Values have been updated."),this.resetPageParameters()}else console.log("could not locate the selected analyte")}checkUndefinedValues(){this.selectedAnalyte.osha_pel_ppm||(this.selectedAnalyte.osha_pel_ppm=null),this.selectedAnalyte.osha_pel_mg||(this.selectedAnalyte.osha_pel_mg=null),this.selectedAnalyte.cal_osha_pel_8_hour_twa||(this.selectedAnalyte.cal_osha_pel_8_hour_twa=null),this.selectedAnalyte.cal_osha_pel_8_hour_twa_st||(this.selectedAnalyte.cal_osha_pel_8_hour_twa_st=null),this.selectedAnalyte.cal_osha_pel_8_hour_twa_c||(this.selectedAnalyte.cal_osha_pel_8_hour_twa_c=null),this.selectedAnalyte.niosh_rel_10_hour_twa||(this.selectedAnalyte.niosh_rel_10_hour_twa=null),this.selectedAnalyte.niosh_rel_10_hour_twa_st||(this.selectedAnalyte.niosh_rel_10_hour_twa_st=null),this.selectedAnalyte.niosh_rel_10_hour_twa_c||(this.selectedAnalyte.niosh_rel_10_hour_twa_c=null),this.selectedAnalyte.acgih_2019_tlv_8_hour_twa||(this.selectedAnalyte.acgih_2019_tlv_8_hour_twa=null),this.selectedAnalyte.acgih_2019_tlv_8_hour_twa_st||(this.selectedAnalyte.acgih_2019_tlv_8_hour_twa_st=null),this.selectedAnalyte.acgih_2019_tlv_8_hour_twa_c||(this.selectedAnalyte.acgih_2019_tlv_8_hour_twa_c=null),this.selectedAnalyte.detection_limit||(this.selectedAnalyte.detection_limit=null),this.selectedAnalyte.osu_6_sampling_rate||(this.selectedAnalyte.osu_6_sampling_rate=null)}resetPageParameters(){this.agGridService.setGridType(2),this.analytesList=this.agGridService.getRows(),this.selectedAnalyte.analyte_name=this.analytesList.find(e=>e.cas_number===this.selectedCasNumber).analyte_name;const e=this.analytesList.findIndex(e=>e.cas_number===this.selectedCasNumber);this.analytesList[e]=this.selectedAnalyte,this.analyteInformation.reset(),this.selectedAnalyte=null,this.selectedCasNumber="",this.oshaPPMValue="",this.oshaMgValue="",this.twaCValue="",this.twaStValue="",this.twaValue="",this.osuSamplingRate="",this.detectionLimit=""}ngOnInit(){this.subscriptions.add(this.agGridService.AnalyteResponse().subscribe(e=>{this.analytesList=e})),this.subscriptions.add(this.agGridService.SamplingRateResponse().subscribe(e=>{this.samplingRateList=e})),this.rowSelectionSub.add(this.agGridService.rowSelected.subscribe(e=>{e?(this.gridSelection=!0,this.setSelectedAnalyte()):this.analyteInformation.reset()})),this.rowSelectionSub.add(this.organizationSelection.controls.analyteOrganization.valueChanges.subscribe(e=>{this.selectedOrganization=this.organizationSelection.controls.analyteOrganization.value,this.buildCols(),this.agGridService.setGridType(2)})),this.rowSelectionSub.add(this.analyteInformation.controls.analytes.valueChanges.subscribe(e=>{this.gridSelection||(e&&"null"!==e?(this.selectedAnalyte=this.analytesList.filter(t=>t.cas_number===e)[0],this.userSelection=!0,this.checkUndefinedValues(),this.showSelectedAnalyte()):this.valueHasBeenReset?this.valueHasBeenReset=!1:(this.valueHasBeenReset=!0,this.analyteInformation.reset()))}))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.rowSelectionSub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(u.Mb(c.b),u.Mb(p.a),u.Mb(d.a),u.Mb(h.a))},e.\u0275cmp=u.Gb({type:e,selectors:[["app-analyte-exposure"]],decls:28,vars:3,consts:[[1,"flexContainer"],[1,"flexElement"],[1,"description"],[1,"flexContainer",3,"formGroup"],[1,"input-group","flexElement"],["id","analyteOrganization","formControlName","analyteOrganization"],["value","0"],["value","1"],["value","2"],["value","3"],["class","flexElement",4,"ngIf"],["id","analytes","formControlName","analytes","placeHolder","AnalyteName"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["formControlName","oshaPPMValue","type","text","id","oshaPPMValue","placeholder","OshaPPMValue"],["formControlName","oshaMgValue","type","text","id","oshaMgValue","placeholder","OshaMgValue"],["formControlName","twaValue","type","text","id","twaValue","placeholder","TwaValue"],["formControlName","twaStValue","type","text","id","twaStValue","placeholder","TwaStValue"],["formControlName","twaCValue","type","text","id","twaCValue","placeholder","TwaCValue"],["formControlName","osuSamplingRateValue","type","text","id","osuSamplingRateValue","placeholder","OsuSamplingRateValue"],["formControlName","detectionLimitValue","type","text","id","detectionLimitValue","placeholder","DetectionLimitValue"],["type","submit","id","submitButton",1,"btn","btn-default",3,"click"],[3,"value"]],template:function(e,t){1&e&&(u.Sb(0,"div",0),u.Sb(1,"div",1),u.Sb(2,"h3"),u.Sb(3,"b"),u.Sb(4,"strong"),u.Hc(5,"Analyte-Exposure"),u.Rb(),u.Rb(),u.Rb(),u.Sb(6,"div",2),u.Sb(7,"span",2),u.Hc(8,"Select which Organizations' Exposure Ratings you wish to view."),u.Rb(),u.Rb(),u.Nb(9,"div"),u.Rb(),u.Nb(10,"div",1),u.Sb(11,"div",1),u.Sb(12,"form",3),u.Sb(13,"div",4),u.Sb(14,"label"),u.Hc(15," Organization Exposure Ratings: "),u.Rb(),u.Sb(16,"select",5),u.Nb(17,"option",6),u.Sb(18,"option",7),u.Hc(19,"Osha"),u.Rb(),u.Sb(20,"option",8),u.Hc(21,"Niosh"),u.Rb(),u.Sb(22,"option",9),u.Hc(23,"ACGIH"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(24,"form",3),u.Fc(25,y,38,1,"div",10),u.Sb(26,"div",1),u.Nb(27,"app-grid"),u.Rb(),u.Rb(),u.Rb(),u.Rb()),2&e&&(u.zb(12),u.nc("formGroup",t.organizationSelection),u.zb(12),u.nc("formGroup",t.analyteInformation),u.zb(1),u.nc("ngIf",t.selectedOrganization>0))},directives:[n.H,n.t,n.l,n.E,n.s,n.j,n.x,n.G,f.u,g.a,f.t,n.c],styles:["label[_ngcontent-%COMP%]{min-width:215px;align-content:flex-start}#analytes[_ngcontent-%COMP%], #badgeSerialNumber[_ngcontent-%COMP%], #detectionLimitValue[_ngcontent-%COMP%], #oshaMgValue[_ngcontent-%COMP%], #oshaPPMValue[_ngcontent-%COMP%], #osuSamplingRateValue[_ngcontent-%COMP%], #twaCValue[_ngcontent-%COMP%], #twaStValue[_ngcontent-%COMP%], #twaValue[_ngcontent-%COMP%]{min-width:100px}#activatedTime[_ngcontent-%COMP%], #turnedInTime[_ngcontent-%COMP%]{align-content:flex-start}.description[_ngcontent-%COMP%]{align-content:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;-webkit-text-fill-color:#666}"]}),e})()},mCNh:function(e,t,o){"use strict";o.d(t,"a",function(){return i}),o.d(t,"b",function(){return r});var n=o("SpAZ");function i(...e){return r(e)}function r(e){return 0===e.length?n.a:1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}}},mrSG:function(e,t,o){"use strict";function n(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}function i(e,t){return function(o,n){t(o,n,e)}}function r(e,t,o,n){return new(o||(o=Promise))(function(i,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})}o.d(t,"b",function(){return n}),o.d(t,"c",function(){return i}),o.d(t,"a",function(){return r})},n6bG:function(e,t,o){"use strict";function n(e){return"function"==typeof e}o.d(t,"a",function(){return n})},ngJS:function(e,t,o){"use strict";o.d(t,"a",function(){return n});const n=e=>t=>{for(let o=0,n=e.length;o<n&&!t.closed;o++)t.next(e[o]);t.complete()}},"o9p/":function(e,t,o){"use strict";o.d(t,"a",function(){return p});var n=o("3Pt+"),i=o("quSY"),r=o("fXoL"),s=o("tk/3"),a=o("Bx/L"),l=o("Wl7B"),u=o("gA3Z"),c=o("Ludi");let p=(()=>{class e{constructor(e,t,o,r){this.http=e,this.badgeService=t,this.gridService=o,this.modalService=r,this.badgeInformation=new n.k({badgeSerialNumberFirst:new n.h,badgeSerialNumberSecond:new n.h,badgeSerialNumberThird:new n.h,batchGroup:new n.h(""),numberOfTolkens:new n.h(""),numberOfBadges:new n.h("")}),this.yearMilliSecondsValue=31536e6,this.subscriptions=new i.a,this.constantSubscriptions=new i.a,this.determineDefaultDisplays(),this.gridService.setGridType(1)}determineDefaultDisplays(){const e=new Date(Date.now()).toLocaleString(),t=Number(e.split("/")[1]),o=Number(e.split("/")[0]),n=Number(e.split("/")[2].slice(0,4));let i=0;switch(o){case 0:i=0;break;case 1:i=31;break;case 2:i=59;break;case 3:i=90;break;case 4:i=120;break;case 5:i=151;break;case 6:i=181;break;case 7:i=212;break;case 8:i=243;break;case 9:i=273;break;case 10:i=304;break;case 11:i=334}const r=n.toString().charAt(n.toString().length-1),s=t+i;let a="";a=s<10?"00"+s:s<100?"0"+s:s.toString();const l=r+a;this.badgeInformation.controls.badgeSerialNumberFirst.setValue(Number(1)),this.badgeInformation.controls.badgeSerialNumberSecond.setValue(Number(l)),this.badgeInformation.controls.badgeSerialNumberThird.setValue(Number(1))}checkBadgeData(){this.expirationDate=new Date(Date.now()+this.yearMilliSecondsValue),this.batchGroup=this.badgeInformation.controls.batchGroup.value,this.numberOfTolkens=this.badgeInformation.controls.numberOfTolkens.value,this.numberOfBadges=this.badgeInformation.controls.numberOfBadges.value,this.bsnFirstPart=this.badgeInformation.controls.badgeSerialNumberFirst.value,this.bsnSecondPart=this.badgeInformation.controls.badgeSerialNumberSecond.value,this.bsnThirdPart=this.badgeInformation.controls.badgeSerialNumberThird.value,this.badgeSerialNumber=this.bsnFirstPart+"-"+this.bsnSecondPart+"-",!this.numberOfBadges||this.numberOfBadges<1?this.modalService.setModalContext("No badges were added, Ensure that the appropriate fields have been filled out."):""===this.badgeSerialNumber||this.numberOfTolkens<1||this.batchGroup<1?this.modalService.setModalContext("Improper Format for the Badge Data"):this.addBadge()}evaluateBadgeSSN(e){let t="";const o=Number(this.bsnThirdPart)+e;return t=o<10?this.badgeSerialNumber+"00"+o.toString():o<100?this.badgeSerialNumber+"0"+o.toString():this.badgeSerialNumber+o.toString(),t}addBadge(){for(let e=0;e<this.numberOfBadges;e++){const t=this.evaluateBadgeSSN(e);if(!t||""===t)continue;const o=this.expirationDate.toISOString(),n=this.formatDate(o);this.badgeService.addBadgeData(t,null,null,null,null,null,this.batchGroup,this.numberOfTolkens,n).subscribe(e=>{this.modalService.setModalContext(this.numberOfBadges>1?this.numberOfBadges+" badges have been added to the database ranging from BSN"+this.badgeSerialNumber+this.bsnThirdPart+" To BSN: "+this.badgeSerialNumber+(this.bsnThirdPart+this.numberOfBadges-1):"Badge "+this.badgeSerialNumber+this.bsnThirdPart+" has been added to the database")},e=>{console.log(e)},()=>{console.log("Completed Badge Upload Process")})}this.resetValues()}resetValues(){this.badgeInformation.reset(),this.resetSubscriptions(),this.gridService.setGridType(1),this.determineDefaultDisplays()}formatDate(e){if(null===e)return null;const t=(e+"").slice(0,16).replace("T"," ")+":00";return console.log("The New Formatted Time is: "+t),t}ngOnInit(){}resetSubscriptions(){this.subscriptions.unsubscribe()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.constantSubscriptions.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.Mb(s.b),r.Mb(a.a),r.Mb(l.a),r.Mb(u.a))},e.\u0275cmp=r.Gb({type:e,selectors:[["app-badge-add-bulk"]],decls:39,vars:2,consts:[[1,"flexContainer"],[1,"flexElement"],[1,"description"],[1,"flexContainer",3,"formGroup"],[1,"input-group","flexElement"],[1,"labelValue"],["formControlName","badgeSerialNumberFirst","type","number","id","badgeSerialNumberFirst","placeholder","1"],[1,"dashLabel"],["formControlName","badgeSerialNumberSecond","type","number","id","badgeSerialNumberSecond","placeholder","0001"],["formControlName","badgeSerialNumberThird","type","number","id","badgeSerialNumberThird","placeholder","001"],["formControlName","batchGroup","placeholder","BatchGroup","id","batchGroup","type","number"],["formControlName","numberOfTolkens","placeholder","NumberOfTolkens","id","numberOfTolkens","type","number"],["formControlName","numberOfBadges","type","number","id","numberOfBadges","placeholder","NumberOfBadges"],["type","submit","id","submitButton",1,"btn","btn-default",3,"disabled","click"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"h3"),r.Sb(3,"b"),r.Sb(4,"strong"),r.Hc(5,"Add Multiple Badges"),r.Rb(),r.Rb(),r.Rb(),r.Sb(6,"div",2),r.Sb(7,"span",2),r.Hc(8,"A number of badges will be made using the following values:"),r.Rb(),r.Rb(),r.Nb(9,"div"),r.Rb(),r.Sb(10,"div",1),r.Sb(11,"form",3),r.Sb(12,"div",4),r.Sb(13,"label",5),r.Hc(14," BSN Starting Index: "),r.Rb(),r.Nb(15,"input",6),r.Sb(16,"label",7),r.Hc(17,"-"),r.Rb(),r.Nb(18,"input",8),r.Sb(19,"label",7),r.Hc(20,"-"),r.Rb(),r.Nb(21,"input",9),r.Rb(),r.Sb(22,"div",4),r.Sb(23,"label",5),r.Hc(24," Batch Group: "),r.Rb(),r.Nb(25,"input",10),r.Rb(),r.Sb(26,"div",4),r.Sb(27,"label",5),r.Hc(28," Number Of Tolkens: "),r.Rb(),r.Nb(29,"input",11),r.Rb(),r.Sb(30,"div",4),r.Sb(31,"label",5),r.Hc(32," Number Of Badges: "),r.Rb(),r.Nb(33,"input",12),r.Rb(),r.Sb(34,"div",1),r.Sb(35,"button",13),r.dc("click",function(){return t.checkBadgeData()}),r.Hc(36," Add Badges "),r.Rb(),r.Rb(),r.Sb(37,"div",1),r.Nb(38,"app-grid"),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.zb(11),r.nc("formGroup",t.badgeInformation),r.zb(24),r.nc("disabled",!t.badgeInformation.valid))},directives:[n.H,n.t,n.l,n.c,n.y,n.s,n.j,c.a],styles:[".labelValue[_ngcontent-%COMP%]{min-width:150px;align-content:flex-start}#badgeSerialNumber[_ngcontent-%COMP%], #batchGroup[_ngcontent-%COMP%], #numberOfBadges[_ngcontent-%COMP%], #numberOfTolkens[_ngcontent-%COMP%]{min-width:100px}#dashLabel[_ngcontent-%COMP%]{width:5px;max-width:10px;text-align:center}#badgeSerialNumberFirst[_ngcontent-%COMP%]{width:50px;text-align:right}#badgeSerialNumberSecond[_ngcontent-%COMP%]{width:65px;text-align:right}#badgeSerialNumberThird[_ngcontent-%COMP%]{width:50px;text-align:right}.description[_ngcontent-%COMP%]{align-content:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;-webkit-text-fill-color:#666}"]}),e})()},ofXK:function(e,t,o){"use strict";o.d(t,"a",function(){return b}),o.d(t,"b",function(){return Ge}),o.d(t,"c",function(){return tt}),o.d(t,"d",function(){return Xe}),o.d(t,"e",function(){return l}),o.d(t,"f",function(){return Be}),o.d(t,"g",function(){return $e}),o.d(t,"h",function(){return T}),o.d(t,"i",function(){return E}),o.d(t,"j",function(){return Ue}),o.d(t,"k",function(){return ze}),o.d(t,"l",function(){return Ke}),o.d(t,"m",function(){return Ye}),o.d(t,"n",function(){return p}),o.d(t,"o",function(){return R}),o.d(t,"p",function(){return v}),o.d(t,"q",function(){return ke}),o.d(t,"r",function(){return me}),o.d(t,"s",function(){return ye}),o.d(t,"t",function(){return Ce}),o.d(t,"u",function(){return we}),o.d(t,"v",function(){return Pe}),o.d(t,"w",function(){return Te}),o.d(t,"x",function(){return Ae}),o.d(t,"y",function(){return Se}),o.d(t,"z",function(){return Oe}),o.d(t,"A",function(){return De}),o.d(t,"B",function(){return Fe}),o.d(t,"C",function(){return w}),o.d(t,"D",function(){return Qe}),o.d(t,"E",function(){return u}),o.d(t,"F",function(){return et}),o.d(t,"G",function(){return He}),o.d(t,"H",function(){return A}),o.d(t,"I",function(){return We}),o.d(t,"J",function(){return it}),o.d(t,"K",function(){return X}),o.d(t,"L",function(){return I}),o.d(t,"M",function(){return x}),o.d(t,"N",function(){return M}),o.d(t,"O",function(){return nt}),o.d(t,"P",function(){return a}),o.d(t,"Q",function(){return ot}),o.d(t,"R",function(){return r}),o.d(t,"S",function(){return ge}),o.d(t,"T",function(){return s});var n=o("fXoL");let i=null;function r(){return i}function s(e){i||(i=e)}class a{}const l=new n.s("DocumentToken");let u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(n.Ib)({factory:c,token:e,providedIn:"platform"}),e})();function c(){return Object(n.ac)(d)}const p=new n.s("Location Initialized");let d=(()=>{class e extends u{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=r().getLocation(),this._history=r().getHistory()}getBaseHrefFromDOM(){return r().getBaseHref(this._doc)}onPopState(e){r().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){r().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,o){h()?this._history.pushState(e,t,o):this.location.hash=o}replaceState(e,t,o){h()?this._history.replaceState(e,t,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(n.ac(l))},e.\u0275prov=Object(n.Ib)({factory:f,token:e,providedIn:"platform"}),e})();function h(){return!!window.history.pushState}function f(){return new d(Object(n.ac)(l))}function g(e,t){if(0==e.length)return t;if(0==t.length)return e;let o=0;return e.endsWith("/")&&o++,t.startsWith("/")&&o++,2==o?e+t.substring(1):1==o?e+t:e+"/"+t}function m(e){const t=e.match(/#|\?|$/),o=t&&t.index||e.length;return e.slice(0,o-("/"===e[o-1]?1:0))+e.slice(o)}function y(e){return e&&"?"!==e[0]?"?"+e:e}let v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(n.Ib)({factory:C,token:e,providedIn:"root"}),e})();function C(e){const t=Object(n.ac)(l).location;return new w(Object(n.ac)(u),t&&t.origin||"")}const b=new n.s("appBaseHref");let w=(()=>{class e extends v{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return g(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+y(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${t}${o}`:t}pushState(e,t,o,n){const i=this.prepareExternalUrl(o+y(n));this._platformLocation.pushState(e,t,i)}replaceState(e,t,o,n){const i=this.prepareExternalUrl(o+y(n));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(n.ac(u),n.ac(b,8))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac}),e})(),E=(()=>{class e extends v{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=g(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,o,n){let i=this.prepareExternalUrl(o+y(n));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,o,n){let i=this.prepareExternalUrl(o+y(n));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(n.ac(u),n.ac(b,8))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac}),e})(),R=(()=>{class e{constructor(e,t){this._subject=new n.o,this._urlChangeListeners=[],this._platformStrategy=e;const o=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=m(S(o)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+y(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,S(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",o=null){this._platformStrategy.pushState(o,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+y(t)),o)}replaceState(e,t="",o=null){this._platformStrategy.replaceState(o,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+y(t)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(o=>o(e,t))}subscribe(e,t,o){return this._subject.subscribe({next:e,error:t,complete:o})}}return e.\u0275fac=function(t){return new(t||e)(n.ac(v),n.ac(u))},e.normalizeQueryParams=y,e.joinWithSlash=g,e.stripTrailingSlash=m,e.\u0275prov=Object(n.Ib)({factory:_,token:e,providedIn:"root"}),e})();function _(){return new R(Object(n.ac)(v),Object(n.ac)(u))}function S(e){return e.replace(/\/index.html$/,"")}const O={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var D=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}({}),P=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),T=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}({}),A=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}({}),F=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}({}),N=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e[1/0]=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}({});function x(e,t,o){const i=Object(n.jb)(e),r=j([i[n.ab.DayPeriodsFormat],i[n.ab.DayPeriodsStandalone]],t);return j(r,o)}function I(e,t,o){const i=Object(n.jb)(e),r=j([i[n.ab.DaysFormat],i[n.ab.DaysStandalone]],t);return j(r,o)}function M(e,t,o){const i=Object(n.jb)(e),r=j([i[n.ab.MonthsFormat],i[n.ab.MonthsStandalone]],t);return j(r,o)}function L(e,t){return j(Object(n.jb)(e)[n.ab.DateFormat],t)}function G(e,t){return j(Object(n.jb)(e)[n.ab.TimeFormat],t)}function k(e,t){return j(Object(n.jb)(e)[n.ab.DateTimeFormat],t)}function V(e,t){const o=Object(n.jb)(e),i=o[n.ab.NumberSymbols][t];if(void 0===i){if(t===N.CurrencyDecimal)return o[n.ab.NumberSymbols][N.Decimal];if(t===N.CurrencyGroup)return o[n.ab.NumberSymbols][N.Group]}return i}function H(e,t){return Object(n.jb)(e)[n.ab.NumberFormats][t]}const W=n.mb;function B(e){if(!e[n.ab.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[n.ab.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function j(e,t){for(let o=t;o>-1;o--)if(void 0!==e[o])return e[o];throw new Error("Locale data API: locale data undefined")}function U(e){const[t,o]=e.split(":");return{hours:+t,minutes:+o}}const z=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,K={},Y=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var q=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}({}),$=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}({}),Q=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}({});function X(e,t,o,n){let i=function(e){if(ae(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,o,n]=e.split("-").map(e=>+e);return new Date(t,o-1,n)}let o;if(o=e.match(z))return function(e){const t=new Date(0);let o=0,n=0;const i=e[8]?t.setUTCFullYear:t.setFullYear,r=e[8]?t.setUTCHours:t.setHours;e[9]&&(o=Number(e[9]+e[10]),n=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const s=Number(e[4]||0)-o,a=Number(e[5]||0)-n,l=Number(e[6]||0),u=Math.round(1e3*parseFloat("0."+(e[7]||0)));return r.call(t,s,a,l,u),t}(o)}const t=new Date(e);if(!ae(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=Z(o,t)||t;let r,s=[];for(;t;){if(r=Y.exec(t),!r){s.push(t);break}{s=s.concat(r.slice(1));const e=s.pop();if(!e)break;t=e}}let a=i.getTimezoneOffset();n&&(a=se(n,a),i=function(e,t,o){const n=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(se(t,n)-n))}(i,n));let l="";return s.forEach(e=>{const t=function(e){if(re[e])return re[e];let t;switch(e){case"G":case"GG":case"GGG":t=oe(Q.Eras,A.Abbreviated);break;case"GGGG":t=oe(Q.Eras,A.Wide);break;case"GGGGG":t=oe(Q.Eras,A.Narrow);break;case"y":t=te($.FullYear,1,0,!1,!0);break;case"yy":t=te($.FullYear,2,0,!0,!0);break;case"yyy":t=te($.FullYear,3,0,!1,!0);break;case"yyyy":t=te($.FullYear,4,0,!1,!0);break;case"M":case"L":t=te($.Month,1,1);break;case"MM":case"LL":t=te($.Month,2,1);break;case"MMM":t=oe(Q.Months,A.Abbreviated);break;case"MMMM":t=oe(Q.Months,A.Wide);break;case"MMMMM":t=oe(Q.Months,A.Narrow);break;case"LLL":t=oe(Q.Months,A.Abbreviated,T.Standalone);break;case"LLLL":t=oe(Q.Months,A.Wide,T.Standalone);break;case"LLLLL":t=oe(Q.Months,A.Narrow,T.Standalone);break;case"w":t=ie(1);break;case"ww":t=ie(2);break;case"W":t=ie(1,!0);break;case"d":t=te($.Date,1);break;case"dd":t=te($.Date,2);break;case"E":case"EE":case"EEE":t=oe(Q.Days,A.Abbreviated);break;case"EEEE":t=oe(Q.Days,A.Wide);break;case"EEEEE":t=oe(Q.Days,A.Narrow);break;case"EEEEEE":t=oe(Q.Days,A.Short);break;case"a":case"aa":case"aaa":t=oe(Q.DayPeriods,A.Abbreviated);break;case"aaaa":t=oe(Q.DayPeriods,A.Wide);break;case"aaaaa":t=oe(Q.DayPeriods,A.Narrow);break;case"b":case"bb":case"bbb":t=oe(Q.DayPeriods,A.Abbreviated,T.Standalone,!0);break;case"bbbb":t=oe(Q.DayPeriods,A.Wide,T.Standalone,!0);break;case"bbbbb":t=oe(Q.DayPeriods,A.Narrow,T.Standalone,!0);break;case"B":case"BB":case"BBB":t=oe(Q.DayPeriods,A.Abbreviated,T.Format,!0);break;case"BBBB":t=oe(Q.DayPeriods,A.Wide,T.Format,!0);break;case"BBBBB":t=oe(Q.DayPeriods,A.Narrow,T.Format,!0);break;case"h":t=te($.Hours,1,-12);break;case"hh":t=te($.Hours,2,-12);break;case"H":t=te($.Hours,1);break;case"HH":t=te($.Hours,2);break;case"m":t=te($.Minutes,1);break;case"mm":t=te($.Minutes,2);break;case"s":t=te($.Seconds,1);break;case"ss":t=te($.Seconds,2);break;case"S":t=te($.FractionalSeconds,1);break;case"SS":t=te($.FractionalSeconds,2);break;case"SSS":t=te($.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ne(q.Short);break;case"ZZZZZ":t=ne(q.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ne(q.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ne(q.Long);break;default:return null}return re[e]=t,t}(e);l+=t?t(i,o,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Z(e,t){const o=function(e){return Object(n.jb)(e)[n.ab.LocaleId]}(e);if(K[o]=K[o]||{},K[o][t])return K[o][t];let i="";switch(t){case"shortDate":i=L(e,F.Short);break;case"mediumDate":i=L(e,F.Medium);break;case"longDate":i=L(e,F.Long);break;case"fullDate":i=L(e,F.Full);break;case"shortTime":i=G(e,F.Short);break;case"mediumTime":i=G(e,F.Medium);break;case"longTime":i=G(e,F.Long);break;case"fullTime":i=G(e,F.Full);break;case"short":const t=Z(e,"shortTime"),o=Z(e,"shortDate");i=J(k(e,F.Short),[t,o]);break;case"medium":const n=Z(e,"mediumTime"),r=Z(e,"mediumDate");i=J(k(e,F.Medium),[n,r]);break;case"long":const s=Z(e,"longTime"),a=Z(e,"longDate");i=J(k(e,F.Long),[s,a]);break;case"full":const l=Z(e,"fullTime"),u=Z(e,"fullDate");i=J(k(e,F.Full),[l,u])}return i&&(K[o][t]=i),i}function J(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,o){return null!=t&&o in t?t[o]:e})),e}function ee(e,t,o="-",n,i){let r="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,r=o));let s=String(e);for(;s.length<t;)s="0"+s;return n&&(s=s.substr(s.length-t)),r+s}function te(e,t,o=0,n=!1,i=!1){return function(r,s){let a=function(e,t){switch(e){case $.FullYear:return t.getFullYear();case $.Month:return t.getMonth();case $.Date:return t.getDate();case $.Hours:return t.getHours();case $.Minutes:return t.getMinutes();case $.Seconds:return t.getSeconds();case $.FractionalSeconds:return t.getMilliseconds();case $.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,r);if((o>0||a>-o)&&(a+=o),e===$.Hours)0===a&&-12===o&&(a=12);else if(e===$.FractionalSeconds)return l=t,ee(a,3).substr(0,l);var l;const u=V(s,N.MinusSign);return ee(a,t,u,n,i)}}function oe(e,t,o=T.Format,i=!1){return function(r,s){return function(e,t,o,i,r,s){switch(o){case Q.Months:return M(t,r,i)[e.getMonth()];case Q.Days:return I(t,r,i)[e.getDay()];case Q.DayPeriods:const a=e.getHours(),l=e.getMinutes();if(s){const e=function(e){const t=Object(n.jb)(e);return B(t),(t[n.ab.ExtraData][2]||[]).map(e=>"string"==typeof e?U(e):[U(e[0]),U(e[1])])}(t),o=function(e,t,o){const i=Object(n.jb)(e);B(i);const r=j([i[n.ab.ExtraData][0],i[n.ab.ExtraData][1]],t)||[];return j(r,o)||[]}(t,r,i),s=e.findIndex(e=>{if(Array.isArray(e)){const[t,o]=e,n=a>=t.hours&&l>=t.minutes,i=a<o.hours||a===o.hours&&l<o.minutes;if(t.hours<o.hours){if(n&&i)return!0}else if(n||i)return!0}else if(e.hours===a&&e.minutes===l)return!0;return!1});if(-1!==s)return o[s]}return x(t,r,i)[a<12?0:1];case Q.Eras:return function(e,t){return j(Object(n.jb)(e)[n.ab.Eras],t)}(t,i)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+o)}}(r,s,e,t,o,i)}}function ne(e){return function(t,o,n){const i=-1*n,r=V(o,N.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case q.Short:return(i>=0?"+":"")+ee(s,2,r)+ee(Math.abs(i%60),2,r);case q.ShortGMT:return"GMT"+(i>=0?"+":"")+ee(s,1,r);case q.Long:return"GMT"+(i>=0?"+":"")+ee(s,2,r)+":"+ee(Math.abs(i%60),2,r);case q.Extended:return 0===n?"Z":(i>=0?"+":"")+ee(s,2,r)+":"+ee(Math.abs(i%60),2,r);default:throw new Error(`Unknown zone width "${e}"`)}}}function ie(e,t=!1){return function(o,n){let i;if(t){const e=new Date(o.getFullYear(),o.getMonth(),1).getDay()-1,t=o.getDate();i=1+Math.floor((t+e)/7)}else{const e=(r=o,new Date(r.getFullYear(),r.getMonth(),r.getDate()+(4-r.getDay()))),t=function(e){const t=new Date(e,0,1).getDay();return new Date(e,0,1+(t<=4?4:11)-t)}(e.getFullYear()),n=e.getTime()-t.getTime();i=1+Math.round(n/6048e5)}var r;return ee(i,e,V(n,N.MinusSign))}}const re={};function se(e,t){e=e.replace(/:/g,"");const o=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(o)?t:o}function ae(e){return e instanceof Date&&!isNaN(e.valueOf())}const le=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ue(e,t,o,n,i,r,s=!1){let a="",l=!1;if(isFinite(e)){let u=function(e){let t,o,n,i,r,s=Math.abs(e)+"",a=0;for((o=s.indexOf("."))>-1&&(s=s.replace(".","")),(n=s.search(/e/i))>0?(o<0&&(o=n),o+=+s.slice(n+1),s=s.substring(0,n)):o<0&&(o=s.length),n=0;"0"===s.charAt(n);n++);if(n===(r=s.length))t=[0],o=1;else{for(r--;"0"===s.charAt(r);)r--;for(o-=n,t=[],i=0;n<=r;n++,i++)t[i]=Number(s.charAt(n))}return o>22&&(t=t.splice(0,21),a=o-1,o=1),{digits:t,exponent:a,integerLen:o}}(e);s&&(u=function(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(u));let c=t.minInt,p=t.minFrac,d=t.maxFrac;if(r){const e=r.match(le);if(null===e)throw new Error(r+" is not a valid digit info");const t=e[1],o=e[3],n=e[5];null!=t&&(c=pe(t)),null!=o&&(p=pe(o)),null!=n?d=pe(n):null!=o&&p>d&&(d=p)}!function(e,t,o){if(t>o)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${o}).`);let n=e.digits,i=n.length-e.integerLen;const r=Math.min(Math.max(t,i),o);let s=r+e.integerLen,a=n[s];if(s>0){n.splice(Math.max(e.integerLen,s));for(let e=s;e<n.length;e++)n[e]=0}else{i=Math.max(0,i),e.integerLen=1,n.length=Math.max(1,s=r+1),n[0]=0;for(let e=1;e<s;e++)n[e]=0}if(a>=5)if(s-1<0){for(let t=0;t>s;t--)n.unshift(0),e.integerLen++;n.unshift(1),e.integerLen++}else n[s-1]++;for(;i<Math.max(0,r);i++)n.push(0);let l=0!==r;const u=t+e.integerLen,c=n.reduceRight(function(e,t,o,n){return n[o]=(t+=e)<10?t:t-10,l&&(0===n[o]&&o>=u?n.pop():l=!1),t>=10?1:0},0);c&&(n.unshift(c),e.integerLen++)}(u,p,d);let h=u.digits,f=u.integerLen;const g=u.exponent;let m=[];for(l=h.every(e=>!e);f<c;f++)h.unshift(0);for(;f<0;f++)h.unshift(0);f>0?m=h.splice(f,h.length):(m=h,h=[0]);const y=[];for(h.length>=t.lgSize&&y.unshift(h.splice(-t.lgSize,h.length).join(""));h.length>t.gSize;)y.unshift(h.splice(-t.gSize,h.length).join(""));h.length&&y.unshift(h.join("")),a=y.join(V(o,n)),m.length&&(a+=V(o,i)+m.join("")),g&&(a+=V(o,N.Exponential)+"+"+g)}else a=V(o,N.Infinity);return a=e<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}function ce(e,t="-"){const o={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=e.split(";"),i=n[0],r=n[1],s=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";o.posPre=a.substr(0,a.indexOf("#"));for(let c=0;c<l.length;c++){const e=l.charAt(c);"0"===e?o.minFrac=o.maxFrac=c+1:"#"===e?o.maxFrac=c+1:o.posSuf+=e}const u=a.split(",");if(o.gSize=u[1]?u[1].length:0,o.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,r){const e=i.length-o.posPre.length-o.posSuf.length,t=r.indexOf("#");o.negPre=r.substr(0,t).replace(/'/g,""),o.negSuf=r.substr(t+e).replace(/'/g,"")}else o.negPre=t+o.posPre,o.negSuf=o.posSuf;return o}function pe(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}class de{}function he(e,t,o,n){let i="="+e;if(t.indexOf(i)>-1)return i;if(i=o.getPluralCategory(e,n),t.indexOf(i)>-1)return i;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${e}"`)}let fe=(()=>{class e extends de{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(W(t||this.locale)(e)){case P.Zero:return"zero";case P.One:return"one";case P.Two:return"two";case P.Few:return"few";case P.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(n.ac(n.w))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac}),e})();function ge(e,t){t=encodeURIComponent(t);for(const o of e.split(";")){const e=o.indexOf("="),[n,i]=-1==e?[o,""]:[o.slice(0,e),o.slice(e+1)];if(n.trim()===t)return decodeURIComponent(i)}return null}let me=(()=>{class e{constructor(e,t,o,n){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=o,this._renderer=n,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Object(n.pb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(n.ub)(e.item));this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.u),n.Mb(n.v),n.Mb(n.m),n.Mb(n.F))},e.\u0275dir=n.Hb({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})(),ye=(()=>{class e{constructor(e){this._viewContainerRef=e,this._componentRef=null,this._moduleRef=null}ngOnChanges(e){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const t=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(e.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const e=t.get(n.z);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(e.injector)}else this._moduleRef=null;const o=(this._moduleRef?this._moduleRef.componentFactoryResolver:t.get(n.k)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(o,this._viewContainerRef.length,t,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.Q))},e.\u0275dir=n.Hb({type:e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[n.xb]}),e})();class ve{constructor(e,t,o,n){this.$implicit=e,this.ngForOf=t,this.index=o,this.count=n}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ce=(()=>{class e{constructor(e,t,o){this._viewContainer=e,this._template=t,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){Object(n.V)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const o=this._ngForOf;if(!this._differ&&o)try{this._differ=this._differs.find(o).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${o}' of type '${e=o,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,o,n)=>{if(null==e.previousIndex){const o=this._viewContainer.createEmbeddedView(this._template,new ve(null,this._ngForOf,-1,-1),null===n?void 0:n),i=new be(e,o);t.push(i)}else if(null==n)this._viewContainer.remove(null===o?void 0:o);else if(null!==o){const i=this._viewContainer.get(o);this._viewContainer.move(i,n);const r=new be(e,i);t.push(r)}});for(let o=0;o<t.length;o++)this._perViewChange(t[o].view,t[o].record);for(let o=0,n=this._viewContainer.length;o<n;o++){const e=this._viewContainer.get(o);e.context.index=o,e.context.count=n,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.Q),n.Mb(n.M),n.Mb(n.u))},e.\u0275dir=n.Hb({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class be{constructor(e,t){this.record=e,this.view=t}}let we=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new Ee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Re("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Re("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.Q),n.Mb(n.M))},e.\u0275dir=n.Hb({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class Ee{constructor(){this.$implicit=null,this.ngIf=null}}function Re(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Object(n.ub)(t)}'.`)}class _e{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Se=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Hb({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),Oe=(()=>{class e{constructor(e,t,o){this.ngSwitch=o,o._addCase(),this._view=new _e(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.Q),n.Mb(n.M),n.Mb(Se,1))},e.\u0275dir=n.Hb({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})(),De=(()=>{class e{constructor(e,t,o){o._addDefault(new _e(e,t))}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.Q),n.Mb(n.M),n.Mb(Se,1))},e.\u0275dir=n.Hb({type:e,selectors:[["","ngSwitchDefault",""]]}),e})(),Pe=(()=>{class e{constructor(e){this._localization=e,this._caseViews={}}set ngPlural(e){this._switchValue=e,this._updateView()}addCase(e,t){this._caseViews[e]=t}_updateView(){this._clearViews();const e=Object.keys(this._caseViews),t=he(this._switchValue,e,this._localization);this._activateView(this._caseViews[t])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(e){e&&(this._activeView=e,this._activeView.create())}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(de))},e.\u0275dir=n.Hb({type:e,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),e})(),Te=(()=>{class e{constructor(e,t,o,n){this.value=e;const i=!isNaN(Number(e));n.addCase(i?"="+e:e,new _e(o,t))}}return e.\u0275fac=function(t){return new(t||e)(n.bc("ngPluralCase"),n.Mb(n.M),n.Mb(n.Q),n.Mb(Pe,1))},e.\u0275dir=n.Hb({type:e,selectors:[["","ngPluralCase",""]]}),e})(),Ae=(()=>{class e{constructor(e,t,o){this._ngEl=e,this._differs=t,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){const[o,n]=e.split(".");null!=(t=null!=t&&n?`${t}${n}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,o,t):this._renderer.removeStyle(this._ngEl.nativeElement,o)}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.m),n.Mb(n.v),n.Mb(n.F))},e.\u0275dir=n.Hb({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e})(),Fe=(()=>{class e{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(e){const t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){const t=Object.keys(e.previousValue||{}),o=Object.keys(e.currentValue||{});if(t.length===o.length){for(let e of o)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.ngTemplateOutletContext[t]}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.Q))},e.\u0275dir=n.Hb({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[n.xb]}),e})();function Ne(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${Object(n.ub)(e)}'`)}class xe{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Ie{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const Me=new Ie,Le=new xe;let Ge=(()=>{class e{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(t){if(Object(n.rb)(t))return Me;if(Object(n.qb)(t))return Le;throw Ne(e,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(n.cc())},e.\u0275pipe=n.Lb({name:"async",type:e,pure:!1}),e})(),ke=(()=>{class e{transform(t){if(!t)return t;if("string"!=typeof t)throw Ne(e,t);return t.toLowerCase()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Lb({name:"lowercase",type:e,pure:!0}),e})();const Ve=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let He=(()=>{class e{transform(t){if(!t)return t;if("string"!=typeof t)throw Ne(e,t);return t.replace(Ve,e=>e[0].toUpperCase()+e.substr(1).toLowerCase())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Lb({name:"titlecase",type:e,pure:!0}),e})(),We=(()=>{class e{transform(t){if(!t)return t;if("string"!=typeof t)throw Ne(e,t);return t.toUpperCase()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Lb({name:"uppercase",type:e,pure:!0}),e})(),Be=(()=>{class e{constructor(e){this.locale=e}transform(t,o="mediumDate",n,i){if(null==t||""===t||t!=t)return null;try{return X(t,o,i||this.locale,n)}catch(r){throw Ne(e,r.message)}}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.w))},e.\u0275pipe=n.Lb({name:"date",type:e,pure:!0}),e})();const je=/#/g;let Ue=(()=>{class e{constructor(e){this._localization=e}transform(t,o,n){if(null==t)return"";if("object"!=typeof o||null===o)throw Ne(e,o);return o[he(t,Object.keys(o),this._localization,n)].replace(je,t.toString())}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(de))},e.\u0275pipe=n.Lb({name:"i18nPlural",type:e,pure:!0}),e})(),ze=(()=>{class e{transform(t,o){if(null==t)return"";if("object"!=typeof o||"string"!=typeof t)throw Ne(e,o);return o.hasOwnProperty(t)?o[t]:o.hasOwnProperty("other")?o.other:""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Lb({name:"i18nSelect",type:e,pure:!0}),e})(),Ke=(()=>{class e{transform(e){return JSON.stringify(e,null,2)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Lb({name:"json",type:e,pure:!1}),e})(),Ye=(()=>{class e{constructor(e){this.differs=e,this.keyValues=[]}transform(e,t=qe){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const o=this.differ.diff(e);return o&&(this.keyValues=[],o.forEachItem(e=>{this.keyValues.push({key:e.key,value:e.currentValue})}),this.keyValues.sort(t)),this.keyValues}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.v))},e.\u0275pipe=n.Lb({name:"keyvalue",type:e,pure:!1}),e})();function qe(e,t){const o=e.key,n=t.key;if(o===n)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(null===o)return 1;if(null===n)return-1;if("string"==typeof o&&"string"==typeof n)return o<n?-1:1;if("number"==typeof o&&"number"==typeof n)return o-n;if("boolean"==typeof o&&"boolean"==typeof n)return o<n?-1:1;const i=String(o),r=String(n);return i==r?0:i<r?-1:1}let $e=(()=>{class e{constructor(e){this._locale=e}transform(t,o,n){if(Ze(t))return null;n=n||this._locale;try{return function(e,t,o){return ue(e,ce(H(t,D.Decimal),V(t,N.MinusSign)),t,N.Group,N.Decimal,o)}(Je(t),n,o)}catch(i){throw Ne(e,i.message)}}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.w))},e.\u0275pipe=n.Lb({name:"number",type:e,pure:!0}),e})(),Qe=(()=>{class e{constructor(e){this._locale=e}transform(t,o,n){if(Ze(t))return null;n=n||this._locale;try{return function(e,t,o){return ue(e,ce(H(t,D.Percent),V(t,N.MinusSign)),t,N.Group,N.Decimal,o,!0).replace(new RegExp("%","g"),V(t,N.PercentSign))}(Je(t),n,o)}catch(i){throw Ne(e,i.message)}}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.w))},e.\u0275pipe=n.Lb({name:"percent",type:e,pure:!0}),e})(),Xe=(()=>{class e{constructor(e,t="USD"){this._locale=e,this._defaultCurrencyCode=t}transform(t,o,i="symbol",r,s){if(Ze(t))return null;s=s||this._locale,"boolean"==typeof i&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),i=i?"symbol":"code");let a=o||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function(e,t,o="en"){const i=function(e){return Object(n.jb)(e)[n.ab.Currencies]}(o)[e]||O[e]||[],r=i[1];return"narrow"===t&&"string"==typeof r?r:i[0]||e}(a,"symbol"===i?"wide":"narrow",s):i);try{return function(e,t,o,n,i){const r=ce(H(t,D.Currency),V(t,N.MinusSign));return r.minFrac=function(e){let t;const o=O[e];return o&&(t=o[2]),"number"==typeof t?t:2}(n),r.maxFrac=r.minFrac,ue(e,r,t,N.CurrencyGroup,N.CurrencyDecimal,i).replace("\xa4",o).replace("\xa4","").trim()}(Je(t),s,a,o,r)}catch(l){throw Ne(e,l.message)}}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.w),n.Mb(n.l))},e.\u0275pipe=n.Lb({name:"currency",type:e,pure:!0}),e})();function Ze(e){return null==e||""===e||e!=e}function Je(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(e+" is not a number");return e}let et=(()=>{class e{transform(t,o,n){if(null==t)return t;if(!this.supports(t))throw Ne(e,t);return t.slice(o,n)}supports(e){return"string"==typeof e||Array.isArray(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Lb({name:"slice",type:e,pure:!1}),e})(),tt=(()=>{class e{}return e.\u0275mod=n.Kb({type:e}),e.\u0275inj=n.Jb({factory:function(t){return new(t||e)},providers:[{provide:de,useClass:fe}]}),e})();const ot="browser";function nt(e){return e===ot}let it=(()=>{class e{}return e.\u0275prov=Object(n.Ib)({token:e,providedIn:"root",factory:()=>new rt(Object(n.ac)(l),window,Object(n.ac)(n.n))}),e})();class rt{constructor(e,t,o){this.document=e,this.window=t,this.errorHandler=o,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportsScrolling()){const t=this.document.getElementById(e)||this.document.getElementsByName(e)[0];t&&this.scrollToElement(t)}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),o=t.left+this.window.pageXOffset,n=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(o-i[0],n-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const e=st(this.window.history)||st(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(e){return!1}}}function st(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}},p3Fh:function(e,t,o){"use strict";o.d(t,"a",function(){return a});var n=o("fXoL"),i=o("tyNb"),r=o("EFyh"),s=o("qfBg");let a=(()=>{class e{constructor(e,t,o){this.router=e,this.loginService=t,this.userService=o}canActivate(e,t){console.debug(t.url);let o=!0;return this.loginService.isUserLoggedIn()||(console.debug("There is no user logged in. Navigating to the login page."),o=!1,this.router.navigateByUrl("/login").then(e=>e=>{if(!e)throw Error("Could not navigate to the login page, even though the user is not logged in.")},e=>{throw Error("Navigating to the login page was actively rejected for the following reason: "+e)})),o&&""===this.userService.userAuthToken&&(console.debug("There is a user logged in without an authorization token. Navigating to the login page."),o=!1,this.router.navigateByUrl("/login").then(e=>{if(!e)throw Error("Could not navigate to the login page to obtain an authorization token.")},e=>{throw Error("Navigating to the login page was actively rejected for the following reason: "+e)})),o}canActivateChild(e,t){return""===this.userService.userAuthToken&&(console.debug("There is a user logged in without an authorization token."),this.loginService.disconnectActiveUser()),""!==this.userService.userAuthToken}}return e.\u0275fac=function(t){return new(t||e)(n.ac(i.a),n.ac(r.a),n.ac(s.a))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},pLZG:function(e,t,o){"use strict";o.d(t,"a",function(){return i});var n=o("7o/Q");function i(e,t){return function(o){return o.lift(new r(e,t))}}class r{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg))}}class s extends n.a{constructor(e,t,o){super(e),this.predicate=t,this.thisArg=o,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(o){return void this.destination.error(o)}t&&this.destination.next(e)}}},"ppW+":function(e,t,o){"use strict";o.d(t,"a",function(){return h}),o.d(t,"c",function(){return f}),o.d(t,"b",function(){return g});var n=o("mrSG"),i=o("EY2u"),r=o("LRne"),s=o("3Pt+"),a=o("AytR"),l=o("JIr8"),u=(o("PoUn"),o("fXoL")),c=o("tk/3"),p=o("qfBg"),d=o("EFyh");class h{constructor(){this._name=new s.h,this._tokenReports=new s.e([]),this._damaged=new s.h,this._damagedComments=new s.h,this._currentState={type:0,state:"DEFAULT"}}getClassForCurrentState(){switch(this._currentState.state){case"DEFAULT":return"panel-default";case"MODIFIED":return"panel-warning";case"PARTIAL_COMPLETION":return"panel-info";case"DAMAGED":case"ERROR":return"panel-danger";case"COMPLETED":return"panel-success";default:return"panel-default"}}setStateValue(e){this._currentState.state=e}get name(){return this._name.value}set name(e){this._name.setValue(e)}get tokenReports(){return this._tokenReports.value}addToTokenReports(e){this._tokenReports.push(new s.h(e))}get damaged(){return this._damaged.value}set damaged(e){this._damaged.setValue(e)}get damagedComments(){return this._damagedComments.value}set damagedComments(e){this._damagedComments.setValue(e)}handleStateChange(e){switch(e){case"DEFAULT":case"MODIFIED":this.setStateValue(e);break;case"PARTIAL_COMPLETION":"MODIFIED"!==this._currentState.state?this.setStateValue(e):console.debug("Current badge's state supersedes it's token's state.");break;case"DAMAGED":case"ERROR":console.debug("Setting badge state to ",e),this.setStateValue(e);break;case"COMPLETED":this.tokenReports.every(e=>"COMPLETED"===e.getStateValue())?this.setStateValue(e):this.setStateValue("PARTIAL_COMPLETION")}}}class f{constructor(){this._badge_serial_number=new s.h,this._tube_number=new s.h,this._raw_data=new s.h,this._raw_data_id=new s.h,this._comments=new s.h,this._original_filename=new s.h,this._raw_comments=new s.h,this._date_last_updated=new s.h,this._data_table_id=new s.h,this._currentState={type:1,state:"DEFAULT"}}get badge_serial_number(){return this._badge_serial_number.value}set badge_serial_number(e){this._badge_serial_number.setValue(e)}get data_table_id(){return this._data_table_id.value}set data_table_id(e){this._data_table_id.setValue(e)}get tube_number(){return this._tube_number.value}set tube_number(e){this._tube_number.setValue(e)}get raw_data(){return this._raw_data.value}set raw_data(e){this._raw_data.setValue(e)}get raw_data_id(){return this._raw_data_id.value}set raw_data_id(e){this._raw_data_id.setValue(e)}get comments(){return this._comments.value}set comments(e){this._comments.setValue(e)}get original_filename(){return this._original_filename.value}set original_filename(e){this._original_filename.setValue(e)}get raw_comments(){return this._raw_comments.value}set raw_comments(e){this._raw_comments.setValue(e)}get date_last_updated(){return this._date_last_updated.value}set date_last_updated(e){this._date_last_updated.setValue(e)}getStateValue(){return this._currentState.state}setStateValue(e){this._currentState.state=e}getClassForCurrentState(){switch(this._currentState.state){case"DEFAULT":return"panel-default";case"MODIFIED":return"panel-warning";case"PARTIAL_COMPLETION":return"panel-info";case"DAMAGED":case"ERROR":return"panel-danger";case"COMPLETED":return"panel-success";default:return"panel-default"}}}let g=(()=>{class e{constructor(e,t,o){this.httpClient=e,this.userService=t,this.loginService=o,this.analytes=new Map,this.httpClient.get(a.a.apiUrl+"/getAnalytesForReport").subscribe(e=>{for(const t of e)this.analytes.set(t.name,t.cas_number);console.debug(this.analytes)},e=>{console.error(e)})}handleError(e){this.loginService.setErrorCode(e.status),401===e.status&&this.loginService.getLoggedInValue()&&this.logout()}addDamagedBadgeReport(e,t){if(null==e)return null;const o=this.userService.getActiveUser();return this.httpClient.post(a.a.apiUrl+"/reportDamagedBadge",{comments:t,badgeId:e,activeUserId:o.userId}).pipe(Object(l.a)(e=>Object(n.a)(this,void 0,void 0,function*(){return this.handleError(e)})))}logout(){this.loginService.backendForceLogout()}getBadgesWithStatus(e){return this.httpClient.post(a.a.apiUrl+"/tokenReportAggregateValues",{badge_status:e})}getAnalytes(){const e=this.userService.getActiveUser();return this.httpClient.post(a.a.apiUrl+"/analyteExposureRatings",{activeUserId:e.userId},{})}updateAnalyzedReport(e,t,o){const n=this.userService.getActiveUser();return this.httpClient.put(a.a.apiUrl+"/updateAnalyzedReport",{activeUserId:n.userId,analyte_name:t.compound,recorded_value:t.quantityFound,badge_serial_number:e.badge_serial_number,token_id:e.tube_number,recorded_units:t.unit,volume_concentration:t.volume_concentration,found_concentration:t.found_concentration,concentration_units:t.concentration_units,cas_number:t.casNumber,analyst_id:t.analyst_id,analysis_method:t.analysis_method,comments:o,reporting_limit:t.reporting_limit,token_type:t.token_type,editedBadgeSerialNumber:e.badge_serial_number.slice(2,e.badge_serial_number.length),pk:t.id})}deleteAnalyzedReport(e,t){const o=this.userService.getActiveUser();return this.httpClient.post(a.a.apiUrl+"/deleteAnalyzedReport",{activeUserId:o.userId,analyte_name:t.compound,badge_serial_number:e.badge_serial_number,token_id:e.tube_number,cas_number:t.casNumber,editedBadgeSerialNumber:e.badge_serial_number.slice(2,e.badge_serial_number.length),pk:t.id})}createAnalyzedReport(e,t,o){const n=this.userService.getActiveUser();return this.httpClient.post(a.a.apiUrl+"/analyzedReport",{activeUserId:n.userId,analyte_name:t.compound,recorded_value:t.quantityFound,badge_serial_number:e.badge_serial_number,token_id:e.tube_number,recorded_units:t.unit,volume_concentration:t.volume_concentration,found_concentration:t.found_concentration,concentration_units:t.concentration_units,cas_number:t.casNumber,analyst_id:n.userId,analysis_method:t.analysis_method,comments:o,reporting_limit:t.reporting_limit,token_type:t.token_type,editedBadgeSerialNumber:e.badge_serial_number.slice(2,e.badge_serial_number.length),data_table_id:e.raw_data_id})}getAnalytesByName(e){if(""===e)return i.a;const t=[],o=this.analytes.entries();for(const[n,i]of o){const o={a_name:n,a_cas:i};n.startsWith(e)&&t.push(o)}return Object(r.a)(t)}getAnalytesByCasNumber(e){if(""===e)return i.a;if(!e.search("[^0-9-]"))return i.a;const t=[],o=this.analytes.entries();for(const[n,i]of o){const o={a_name:n,a_cas:i};i.startsWith(e)&&t.push(o)}return Object(r.a)(t)}}return e.\u0275fac=function(t){return new(t||e)(u.ac(c.b),u.ac(p.a),u.ac(d.a))},e.\u0275prov=u.Ib({token:e,factory:e.\u0275fac}),e})()},qfBg:function(e,t,o){"use strict";o.d(t,"a",function(){return g});class n{constructor(e,t,o,n,i,r,s,a,l,u){this.userId=e,this.username=i,this.locationId=n,this.group=o,this.role=t,this.accountLocked=r,this.passwordExpiredDate=s,this.maintenanceTime=a,this.maintenanceEndTime=l,this.routes=u}}var i=o("2Vo4"),r=o("z6cu"),s=o("LRne"),a=o("JIr8"),l=o("vkgz"),u=o("AytR");class c{constructor(){this.affectedRows=0,this.changedRows=0,this.fieldCount=void 0,this.insertId=void 0,this.message="Password mismatch! Please try again.",this.protocol141=void 0,this.serverStatus=void 0,this.warningCount=void 0}}class p{constructor(){this.affectedRows=0,this.changedRows=0,this.fieldCount=void 0,this.insertId=void 0,this.message="",this.protocol141=void 0,this.serverStatus=void 0,this.warningCount=void 0}}var d=o("fXoL"),h=o("tk/3"),f=o("gA3Z");let g=(()=>{class e{constructor(e,t){this.httpClient=e,this.modalService=t,this.activeUser=new i.a(new n),this.activeUser$=this.activeUser.asObservable(),this.authTokenName="",this.manager=null}get userValue(){return this.activeUser.value}get userAuthToken(){const e=sessionStorage.getItem(this.authTokenName);return null!=e?e:""}set userAuthToken(e){this.authTokenName=e.split(".")[0],sessionStorage.setItem(this.authTokenName,e)}handleError(e){let t="An unknown error occurred!";if(!e.error||!e.error.error)return Object(r.a)(t);switch(e.error.error.message){case"DB_CONNECTION_ERROR":t="There was an error attempting to connect to the database.";break;case"DATA_NOT_FOUND":t="This username does not exist."}return Object(r.a)(t)}updateActiveUser(e){this.activeUser.next(e)}setActiveUser(e,t,o,i,r,s,a,l,u,c){this.activeUser.next(new n(o,e,i,t,r,s,a,l,u,c)),console.log(this.activeUser),this.activeUser&&this.activeUser.value.group&&this.getActiveUserManager().subscribe(e=>{e&&(this.manager=e)})}getManager(){return this.manager}disconnectActiveUser(){""!==this.authTokenName&&(sessionStorage.removeItem(this.authTokenName),this.authTokenName=""),this.activeUser.next(new n)}getActiveUser(){return this.activeUser.value}getActiveUserManager(){return this.httpClient.get(u.a.apiUrl+"/getManager/"+this.activeUser.value.group).pipe(Object(a.a)(e=>this.handleError(e)))}getSubordinates(){return this.httpClient.get(u.a.apiUrl+"/getSubordinates/"+this.activeUser.value.userId).pipe(Object(a.a)(e=>this.handleSubordinateFailure(e)))}getSelectedUser(e){const t=this.getActiveUser();return this.httpClient.post(u.a.apiUrl+"/getSelectedUser",{userId:e,activeUserId:t.userId}).pipe(Object(a.a)(e=>this.handleError(e)))}UpdateUser(e){const t=this.getActiveUser();return this.httpClient.post(u.a.apiUrl+"/updateUser",{updatedUsername:e.username,userRole:e.role,userGroupId:e.group_id,userLocationId:e.location_id,userId:e.id,activeUserId:t.userId}).pipe(Object(a.a)(e=>this.handleError(e)))}changeUserGroup(e,t){const o=this.getActiveUser();return this.httpClient.post(u.a.apiUrl+"/updateUserGroup",{group_id:t,userId:e,activeUserId:o.userId}).pipe(Object(a.a)(e=>this.handleError(e)))}handleSubordinateFailure(e){return t=>(console.log("Failed to get subordinates for the following reason(s): "+t.message),Object(s.a)(e))}updateSubordinateInfo(e){return this.httpClient.put(`${u.a.apiUrl}/users/${e.id}`,{updatedUsername:void 0,updatedRole:e.role,updatedPassword:e.password,updatedGroup:e.group_id,updatedLocation:e.location_id,updatedAccountLock:e.account_locked,activeUserId:this.userValue.userId,subordinateId:e.id}).pipe(Object(a.a)(e=>this.handleError(e)))}addLocationData(e,t,o,n){const i=this.getActiveUser();return this.httpClient.post(u.a.apiUrl+"/addLocation",{cityValue:e,stateValue:t,countryValue:o,baseValue:n,activeUserId:i.userId}).pipe(Object(a.a)(e=>this.handleError(e)),Object(l.a)(e=>{console.log(e)}))}updateLocationData(e,t,o,n,i){const r=this.getActiveUser();return this.httpClient.post(u.a.apiUrl+"/updateLocation",{idValue:e,cityValue:t,stateValue:o,countryValue:n,baseValue:i,activeUserId:r.userId}).pipe(Object(a.a)(e=>this.handleError(e)),Object(l.a)(e=>{console.log("Reached the End")}))}updateAccountInfo(e){let{userName:t,newPassword:o,passwordConfirmation:n}=e;if(""===o&&(o=void 0),""===n&&(n=void 0),t&&""!==t||(t=this.userValue.username),o){if(!n)return Object(s.a)(new c);if(o!==n)return Object(s.a)(new c)}return void 0===o&&t===this.userValue.username?Object(s.a)(new p):this.httpClient.put(`${u.a.apiUrl}/users/${this.userValue.userId}`,{updatedUsername:t,updatedPassword:o,activeUserId:this.userValue.userId}).pipe(Object(a.a)(e=>this.handleError(e)))}}return e.\u0275fac=function(t){return new(t||e)(d.ac(h.b),d.ac(f.a))},e.\u0275prov=d.Ib({token:e,factory:e.\u0275fac}),e})()},quSY:function(e,t,o){"use strict";o.d(t,"a",function(){return a});var n=o("DH7j"),i=o("XoHu"),r=o("n6bG");const s=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let a=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:o,_unsubscribe:a,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,o instanceof e)o.remove(this);else if(null!==o)for(let e=0;e<o.length;++e)o[e].remove(this);if(Object(r.a)(a))try{a.call(this)}catch(c){t=c instanceof s?l(c.errors):[c]}if(Object(n.a)(u)){let e=-1,o=u.length;for(;++e<o;){const o=u[e];if(Object(i.a)(o))try{o.unsubscribe()}catch(c){t=t||[],c instanceof s?t=t.concat(l(c.errors)):t.push(c)}}}if(t)throw new s(t)}add(t){let o=t;if(!t)return e.EMPTY;switch(typeof t){case"function":o=new e(t);case"object":if(o===this||o.closed||"function"!=typeof o.unsubscribe)return o;if(this.closed)return o.unsubscribe(),o;if(!(o instanceof e)){const t=o;o=new e,o._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=o;if(null===n)o._parentOrParents=this;else if(n instanceof e){if(n===this)return o;o._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return o;n.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[o]:i.push(o),o}remove(e){const t=this._subscriptions;if(t){const o=t.indexOf(e);-1!==o&&t.splice(o,1)}}}var t;return e.EMPTY=((t=new e).closed=!0,t),e})();function l(e){return e.reduce((e,t)=>e.concat(t instanceof s?t.errors:t),[])}},rBUq:function(e,t,o){"use strict";o.d(t,"a",function(){return d});var n=o("3Pt+"),i=o("quSY"),r=o("fXoL"),s=o("flj8"),a=o("gA3Z"),l=o("ofXK");function u(e,t){if(1&e&&(r.Sb(0,"option",12),r.Hc(1),r.Rb()),2&e){const e=t.$implicit;r.oc("value",e.id),r.zb(1),r.Jc(" ",null==e?null:e.username," ")}}function c(e,t){if(1&e&&(r.Sb(0,"option",12),r.Hc(1),r.Rb()),2&e){const e=t.$implicit;r.oc("value",e.id),r.zb(1),r.Jc(" ",null==e?null:e.username," ")}}function p(e,t){if(1&e){const e=r.Tb();r.Sb(0,"form",4),r.Sb(1,"div",5),r.Sb(2,"label"),r.Hc(3," Unlocked Users: "),r.Rb(),r.Sb(4,"select",6),r.Nb(5,"option",7),r.Fc(6,u,2,2,"option",8),r.Rb(),r.Rb(),r.Sb(7,"div",5),r.Sb(8,"label"),r.Hc(9," Locked Users: "),r.Rb(),r.Sb(10,"select",9),r.Nb(11,"option",7),r.Fc(12,c,2,2,"option",8),r.Rb(),r.Rb(),r.Sb(13,"div",1),r.Sb(14,"button",10),r.dc("click",function(){return r.xc(e),r.gc().unlockAcct()}),r.Hc(15," Unlock User "),r.Rb(),r.Sb(16,"button",11),r.dc("click",function(){return r.xc(e),r.gc().lockAcct()}),r.Hc(17," Lock User "),r.Rb(),r.Rb(),r.Rb()}if(2&e){const e=r.gc();r.nc("formGroup",e.accountInformation),r.zb(6),r.nc("ngForOf",e.unlockedUsers),r.zb(6),r.nc("ngForOf",e.lockedUsers)}}let d=(()=>{class e{constructor(e,t){this.accountService=e,this.modalService=t,this.accountInformation=new n.k({lockedAccounts:new n.h,unlockedAccounts:new n.h}),this.lockedUsers=null,this.unlockedUsers=null,this.showAcctForm=!1,this.subscription=new i.a;const o=this.accountService.lockedAccounts.subscribe(e=>{this.lockedUsers=e,null!==e&&e.length>0&&this.accountInformation.controls.lockedAccounts.setValue(this.lockedUsers)}),r=this.accountService.unlockedAccounts.subscribe(e=>{this.unlockedUsers=e,null!==e&&e.length>0&&this.accountInformation.controls.unlockedAccounts.setValue(this.unlockedUsers)});this.subscription.add(o),this.subscription.add(r)}unlockAcct(){const e=this.accountInformation.controls.lockedAccounts.value;null!=e&&""!==e?this.accountService.unlockAccount(e):this.modalService.setModalContext("Account Information Not Found: Please check your input.")}lockAcct(){const e=this.accountInformation.controls.unlockedAccounts.value;null!=e&&""!==e?this.accountService.lockAccount(e):this.modalService.setModalContext("Account Information Not Found: Please check your input.")}lockedAccountValues(){this.accountService.getLockedAccounts();const e=this.accountService.lockedAccounts.subscribe(e=>{this.lockedUsers=e,null!==e&&e.length>0&&this.accountInformation.controls.lockedAccounts.setValue(this.lockedUsers)});this.subscription.add(e)}unlockedAccountValues(){this.accountService.getUnLockedAccounts();const e=this.accountService.unlockedAccounts.subscribe(e=>{this.unlockedUsers=e,null!==e&&e.length>0&&this.accountInformation.controls.unlockedAccounts.setValue(this.unlockedUsers)});this.subscription.add(e)}showForm(){return this.showAcctForm=!0,this.showAcctForm}ngOnInit(){this.unlockedAccountValues(),this.lockedAccountValues()}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.Mb(s.a),r.Mb(a.a))},e.\u0275cmp=r.Gb({type:e,selectors:[["app-unlock-account"]],decls:12,vars:1,consts:[[1,"flexContainer"],[1,"flexElement"],[1,"description"],["class","flexContainer",3,"formGroup",4,"ngIf"],[1,"flexContainer",3,"formGroup"],[1,"input-group","flexElement"],["id","unlockedAccounts","formControlName","unlockedAccounts","placeHolder","UnLocked Account(s)"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["id","lockedAccounts","formControlName","lockedAccounts","placeHolder","Locked Account(s)"],["type","submit","id","unlockButton",1,"btn","btn-default",3,"click"],["type","submit","id","lockButton",1,"btn","btn-default",3,"click"],[3,"value"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"h3"),r.Sb(3,"b"),r.Sb(4,"strong"),r.Hc(5,"Lock/Unlock User"),r.Rb(),r.Rb(),r.Rb(),r.Sb(6,"div",2),r.Sb(7,"span",2),r.Hc(8,"Select users' account to lock/unlock"),r.Rb(),r.Rb(),r.Nb(9,"div"),r.Rb(),r.Sb(10,"div",1),r.Fc(11,p,18,3,"form",3),r.Rb(),r.Rb()),2&e&&(r.zb(11),r.nc("ngIf",t.showForm()))},directives:[l.u,n.H,n.t,n.l,n.E,n.s,n.j,n.x,n.G,l.t],styles:["label[_ngcontent-%COMP%]{min-width:110px;align-content:flex-start}#lockedAccounts[_ngcontent-%COMP%], #unlockedAccounts[_ngcontent-%COMP%]{min-width:100px}.description[_ngcontent-%COMP%]{align-content:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;-webkit-text-fill-color:#666}"]}),e})()},sVev:function(e,t,o){"use strict";o.d(t,"a",function(){return n});const n=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})()},"tk/3":function(e,t,o){"use strict";o.d(t,"a",function(){return P}),o.d(t,"b",function(){return O}),o.d(t,"c",function(){return W}),o.d(t,"d",function(){return g});var n=o("fXoL"),i=o("LRne"),r=o("HDdC"),s=o("bOdf"),a=o("pLZG"),l=o("lJxs"),u=o("ofXK");class c{}class p{}class d{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const o=e.slice(0,t),n=o.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(o,n),this.headers.has(n)?this.headers.get(n).push(i):this.headers.set(n,[i])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let o=e[t];const n=t.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(n,o),this.maybeSetNormalizedName(t,n))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof d?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new d;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof d?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let o=e.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(e.name,t);const n=("a"===e.op?this.headers.get(t):void 0)||[];n.push(...o),this.headers.set(t,n);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===i.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class h{encodeKey(e){return f(e)}encodeValue(e){return f(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function f(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class g{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new h,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const o=new Map;return e.length>0&&e.split("&").forEach(e=>{const n=e.indexOf("="),[i,r]=-1==n?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,n)),t.decodeValue(e.slice(n+1))],s=o.get(i)||[];s.push(r),o.set(i,s)}),o}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const o=e.fromObject[t];this.map.set(t,Array.isArray(o)?o:[o])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new g({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const o=t.indexOf(e.value);-1!==o&&t.splice(o,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function m(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function y(e){return"undefined"!=typeof Blob&&e instanceof Blob}function v(e){return"undefined"!=typeof FormData&&e instanceof FormData}class C{constructor(e,t,o,n){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==o?o:null,i=n):i=o,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new d),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const o=t.indexOf("?");this.urlWithParams=t+(-1===o?"?":o<t.length-1?"&":"")+e}}else this.params=new g,this.urlWithParams=t}serializeBody(){return null===this.body?null:m(this.body)||y(this.body)||v(this.body)||"string"==typeof this.body?this.body:this.body instanceof g?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||v(this.body)?null:y(this.body)?this.body.type||null:m(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof g?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,o=e.url||this.url,n=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,r=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,o)=>t.set(o,e.setHeaders[o]),a)),e.setParams&&(l=Object.keys(e.setParams).reduce((t,o)=>t.set(o,e.setParams[o]),l)),new C(t,o,i,{params:l,headers:a,reportProgress:s,responseType:n,withCredentials:r})}}var b=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({});class w{constructor(e,t=200,o="OK"){this.headers=e.headers||new d,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||o,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class E extends w{constructor(e={}){super(e),this.type=b.ResponseHeader}clone(e={}){return new E({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class R extends w{constructor(e={}){super(e),this.type=b.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new R({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class _ extends w{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function S(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let O=(()=>{class e{constructor(e){this.handler=e}request(e,t,o={}){let n;if(e instanceof C)n=e;else{let i=void 0;i=o.headers instanceof d?o.headers:new d(o.headers);let r=void 0;o.params&&(r=o.params instanceof g?o.params:new g({fromObject:o.params})),n=new C(e,t,void 0!==o.body?o.body:null,{headers:i,params:r,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const r=Object(i.a)(n).pipe(Object(s.a)(e=>this.handler.handle(e)));if(e instanceof C||"events"===o.observe)return r;const u=r.pipe(Object(a.a)(e=>e instanceof R));switch(o.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(Object(l.a)(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return u.pipe(Object(l.a)(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return u.pipe(Object(l.a)(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return u.pipe(Object(l.a)(e=>e.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new g).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,o={}){return this.request("PATCH",e,S(o,t))}post(e,t,o={}){return this.request("POST",e,S(o,t))}put(e,t,o={}){return this.request("PUT",e,S(o,t))}}return e.\u0275fac=function(t){return new(t||e)(n.ac(c))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac}),e})();class D{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const P=new n.s("HTTP_INTERCEPTORS");let T=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac}),e})();const A=/^\)\]\}',?\n/;class F{}let N=(()=>{class e{constructor(){}build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac}),e})(),x=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new r.a(t=>{const o=this.xhrFactory.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((e,t)=>o.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&o.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();o.responseType="json"!==t?t:"text"}const n=e.serializeBody();let i=null;const r=()=>{if(null!==i)return i;const t=1223===o.status?204:o.status,n=o.statusText||"OK",r=new d(o.getAllResponseHeaders()),s=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(o)||e.url;return i=new E({headers:r,status:t,statusText:n,url:s}),i},s=()=>{let{headers:n,status:i,statusText:s,url:a}=r(),l=null;204!==i&&(l=void 0===o.response?o.responseText:o.response),0===i&&(i=l?200:0);let u=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(A,"");try{l=""!==l?JSON.parse(l):null}catch(c){l=e,u&&(u=!1,l={error:c,text:l})}}u?(t.next(new R({body:l,headers:n,status:i,statusText:s,url:a||void 0})),t.complete()):t.error(new _({error:l,headers:n,status:i,statusText:s,url:a||void 0}))},a=e=>{const{url:n}=r(),i=new _({error:e,status:o.status||0,statusText:o.statusText||"Unknown Error",url:n||void 0});t.error(i)};let l=!1;const u=n=>{l||(t.next(r()),l=!0);let i={type:b.DownloadProgress,loaded:n.loaded};n.lengthComputable&&(i.total=n.total),"text"===e.responseType&&o.responseText&&(i.partialText=o.responseText),t.next(i)},c=e=>{let o={type:b.UploadProgress,loaded:e.loaded};e.lengthComputable&&(o.total=e.total),t.next(o)};return o.addEventListener("load",s),o.addEventListener("error",a),e.reportProgress&&(o.addEventListener("progress",u),null!==n&&o.upload&&o.upload.addEventListener("progress",c)),o.send(n),t.next({type:b.Sent}),()=>{o.removeEventListener("error",a),o.removeEventListener("load",s),e.reportProgress&&(o.removeEventListener("progress",u),null!==n&&o.upload&&o.upload.removeEventListener("progress",c)),o.readyState!==o.DONE&&o.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(n.ac(F))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac}),e})();const I=new n.s("XSRF_COOKIE_NAME"),M=new n.s("XSRF_HEADER_NAME");class L{}let G=(()=>{class e{constructor(e,t,o){this.doc=e,this.platform=t,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(u.S)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(n.ac(u.e),n.ac(n.D),n.ac(I))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac}),e})(),k=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const o=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||o.startsWith("http://")||o.startsWith("https://"))return t.handle(e);const n=this.tokenService.getToken();return null===n||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,n)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(n.ac(L),n.ac(M))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac}),e})(),V=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(P,[]);this.chain=e.reduceRight((e,t)=>new D(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(n.ac(p),n.ac(n.t))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac}),e})(),H=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:k,useClass:T}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:I,useValue:t.cookieName}:[],t.headerName?{provide:M,useValue:t.headerName}:[]]}}}return e.\u0275mod=n.Kb({type:e}),e.\u0275inj=n.Jb({factory:function(t){return new(t||e)},providers:[k,{provide:P,useExisting:k,multi:!0},{provide:L,useClass:G},{provide:I,useValue:"XSRF-TOKEN"},{provide:M,useValue:"X-XSRF-TOKEN"}]}),e})(),W=(()=>{class e{}return e.\u0275mod=n.Kb({type:e}),e.\u0275inj=n.Jb({factory:function(t){return new(t||e)},providers:[O,{provide:c,useClass:V},x,{provide:p,useExisting:x},N,{provide:F,useExisting:N}],imports:[[H.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})()},tyNb:function(e,t,o){"use strict";o.d(t,"a",function(){return ro}),o.d(t,"b",function(){return so}),o.d(t,"c",function(){return uo}),o.d(t,"d",function(){return ao}),o.d(t,"e",function(){return wo}),o.d(t,"f",function(){return co}),o.d(t,"g",function(){return Kt});var n=o("ofXK"),i=o("fXoL"),r=o("LRne"),s=o("Cfvw"),a=o("2Vo4"),l=o("itXk"),u=o("HDdC"),c=o("sVev"),p=o("EY2u");function d(e){return new u.a(t=>{let o;try{o=e()}catch(n){return void t.error(n)}return(o?Object(s.a)(o):Object(p.b)()).subscribe(t)})}var h=o("XNiG"),f=o("lJxs"),g=o("0EUg"),m=o("pLZG"),y=o("BFxc"),v=o("XDbj"),C=o("xbPD"),b=o("SpAZ"),w=o("eIep"),E=o("IzEk"),R=o("JX91"),_=o("Kqap"),S=o("JIr8"),O=o("bOdf"),D=o("SxV6"),P=o("5+tZ"),T=o("vkgz"),A=o("7o/Q"),F=o("quSY");class N{constructor(e){this.callback=e}call(e,t){return t.subscribe(new x(e,this.callback))}}class x extends A.a{constructor(e,t){super(e),this.add(new F.a(t))}}var I=o("bHdf");class M{constructor(e,t){this.id=e,this.url=t}}class L extends M{constructor(e,t,o="imperative",n=null){super(e,t),this.navigationTrigger=o,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class G extends M{constructor(e,t,o){super(e,t),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class k extends M{constructor(e,t,o){super(e,t),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class V extends M{constructor(e,t,o){super(e,t),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class H extends M{constructor(e,t,o,n){super(e,t),this.urlAfterRedirects=o,this.state=n}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W extends M{constructor(e,t,o,n){super(e,t),this.urlAfterRedirects=o,this.state=n}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class B extends M{constructor(e,t,o,n,i){super(e,t),this.urlAfterRedirects=o,this.state=n,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class j extends M{constructor(e,t,o,n){super(e,t),this.urlAfterRedirects=o,this.state=n}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class U extends M{constructor(e,t,o,n){super(e,t),this.urlAfterRedirects=o,this.state=n}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class K{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Y{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class q{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ${constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Q{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X{constructor(e,t,o){this.routerEvent=e,this.position=t,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Z{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function J(e){return new Z(e)}function ee(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function te(e,t,o){const n=o.path.split("/");if(n.length>e.length)return null;if("full"===o.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const i={};for(let r=0;r<n.length;r++){const t=n[r],o=e[r];if(t.startsWith(":"))i[t.substring(1)]=o;else if(t!==o.path)return null}return{consumed:e.slice(0,n.length),posParams:i}}function oe(e,t){const o=Object.keys(e),n=Object.keys(t);if(!o||!n||o.length!=n.length)return!1;let i;for(let r=0;r<o.length;r++)if(i=o[r],!ne(e[i],t[i]))return!1;return!0}function ne(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const o=[...e].sort(),n=[...t].sort();return o.every((e,t)=>n[t]===e)}return e===t}function ie(e){return Array.prototype.concat.apply([],e)}function re(e){return e.length>0?e[e.length-1]:null}function se(e,t){for(const o in e)e.hasOwnProperty(o)&&t(e[o],o)}function ae(e){return Object(i.qb)(e)?e:Object(i.rb)(e)?Object(s.a)(Promise.resolve(e)):Object(r.a)(e)}function le(e,t,o){return o?function(e,t){return oe(e,t)}(e.queryParams,t.queryParams)&&ue(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(o=>ne(e[o],t[o]))}(e.queryParams,t.queryParams)&&ce(e.root,t.root)}function ue(e,t){if(!ge(e.segments,t.segments))return!1;if(e.numberOfChildren!==t.numberOfChildren)return!1;for(const o in t.children){if(!e.children[o])return!1;if(!ue(e.children[o],t.children[o]))return!1}return!0}function ce(e,t){return pe(e,t,t.segments)}function pe(e,t,o){if(e.segments.length>o.length)return!!ge(e.segments.slice(0,o.length),o)&&!t.hasChildren();if(e.segments.length===o.length){if(!ge(e.segments,o))return!1;for(const o in t.children){if(!e.children[o])return!1;if(!ce(e.children[o],t.children[o]))return!1}return!0}{const n=o.slice(0,e.segments.length),i=o.slice(e.segments.length);return!!ge(e.segments,n)&&!!e.children.primary&&pe(e.children.primary,t,i)}}class de{constructor(e,t,o){this.root=e,this.queryParams=t,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=J(this.queryParams)),this._queryParamMap}toString(){return Ce.serialize(this)}}class he{constructor(e,t){this.segments=e,this.children=t,this.parent=null,se(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return be(this)}}class fe{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=J(this.parameters)),this._parameterMap}toString(){return De(this)}}function ge(e,t){return e.length===t.length&&e.every((e,o)=>e.path===t[o].path)}function me(e,t){let o=[];return se(e.children,(e,n)=>{"primary"===n&&(o=o.concat(t(e,n)))}),se(e.children,(e,n)=>{"primary"!==n&&(o=o.concat(t(e,n)))}),o}class ye{}class ve{parse(e){const t=new Ne(e);return new de(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${"/"+we(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const o=e[t];return Array.isArray(o)?o.map(e=>`${Re(t)}=${Re(e)}`).join("&"):`${Re(t)}=${Re(o)}`});return t.length?"?"+t.join("&"):""}(e.queryParams)}${"string"==typeof e.fragment?"#"+encodeURI(e.fragment):""}`}}const Ce=new ve;function be(e){return e.segments.map(e=>De(e)).join("/")}function we(e,t){if(!e.hasChildren())return be(e);if(t){const t=e.children.primary?we(e.children.primary,!1):"",o=[];return se(e.children,(e,t)=>{"primary"!==t&&o.push(`${t}:${we(e,!1)}`)}),o.length>0?`${t}(${o.join("//")})`:t}{const t=me(e,(t,o)=>"primary"===o?[we(e.children.primary,!1)]:[`${o}:${we(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${be(e)}/${t[0]}`:`${be(e)}/(${t.join("//")})`}}function Ee(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Re(e){return Ee(e).replace(/%3B/gi,";")}function _e(e){return Ee(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Se(e){return decodeURIComponent(e)}function Oe(e){return Se(e.replace(/\+/g,"%20"))}function De(e){return`${_e(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${_e(e)}=${_e(t[e])}`).join("")}`;var t}const Pe=/^[^\/()?;=#]+/;function Te(e){const t=e.match(Pe);return t?t[0]:""}const Ae=/^[^=?&#]+/,Fe=/^[^?&#]+/;class Ne{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new he([],{}):new he([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(o.primary=new he(e,t)),o}parseSegment(){const e=Te(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new fe(Se(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Te(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const e=Te(this.remaining);e&&(o=e,this.capture(o))}e[Se(t)]=Se(o)}parseQueryParam(e){const t=function(e){const t=e.match(Ae);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Fe);return t?t[0]:""}(this.remaining);e&&(o=e,this.capture(o))}const n=Oe(t),i=Oe(o);if(e.hasOwnProperty(n)){let t=e[n];Array.isArray(t)||(t=[t],e[n]=t),t.push(i)}else e[n]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Te(this.remaining),n=this.remaining[o.length];if("/"!==n&&")"!==n&&";"!==n)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;o.indexOf(":")>-1?(i=o.substr(0,o.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");const r=this.parseChildren();t[i]=1===Object.keys(r).length?r.primary:new he([],r),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class xe{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ie(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Ie(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Me(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Me(e,this._root).map(e=>e.value)}}function Ie(e,t){if(e===t.value)return t;for(const o of t.children){const t=Ie(e,o);if(t)return t}return null}function Me(e,t){if(e===t.value)return[t];for(const o of t.children){const n=Me(e,o);if(n.length)return n.unshift(t),n}return[]}class Le{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ge(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class ke extends xe{constructor(e,t){super(e),this.snapshot=t,Ue(this,e)}toString(){return this.snapshot.toString()}}function Ve(e,t){const o=function(e,t){const o=new Be([],{},{},"",{},"primary",t,null,e.root,-1,{});return new je("",new Le(o,[]))}(e,t),n=new a.a([new fe("",{})]),i=new a.a({}),r=new a.a({}),s=new a.a({}),l=new a.a(""),u=new He(n,i,s,l,r,"primary",t,o.root);return u.snapshot=o.root,new ke(new Le(u,[]),o)}class He{constructor(e,t,o,n,i,r,s,a){this.url=e,this.params=t,this.queryParams=o,this.fragment=n,this.data=i,this.outlet=r,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(f.a)(e=>J(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(f.a)(e=>J(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function We(e,t="emptyOnly"){const o=e.pathFromRoot;let n=0;if("always"!==t)for(n=o.length-1;n>=1;){const e=o[n],t=o[n-1];if(e.routeConfig&&""===e.routeConfig.path)n--;else{if(t.component)break;n--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(o.slice(n))}class Be{constructor(e,t,o,n,i,r,s,a,l,u,c){this.url=e,this.params=t,this.queryParams=o,this.fragment=n,this.data=i,this.outlet=r,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=J(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=J(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class je extends xe{constructor(e,t){super(t),this.url=e,Ue(this,t)}toString(){return ze(this._root)}}function Ue(e,t){t.value._routerState=e,t.children.forEach(t=>Ue(e,t))}function ze(e){const t=e.children.length>0?` { ${e.children.map(ze).join(", ")} } `:"";return`${e.value}${t}`}function Ke(e){if(e.snapshot){const t=e.snapshot,o=e._futureSnapshot;e.snapshot=o,oe(t.queryParams,o.queryParams)||e.queryParams.next(o.queryParams),t.fragment!==o.fragment&&e.fragment.next(o.fragment),oe(t.params,o.params)||e.params.next(o.params),function(e,t){if(e.length!==t.length)return!1;for(let o=0;o<e.length;++o)if(!oe(e[o],t[o]))return!1;return!0}(t.url,o.url)||e.url.next(o.url),oe(t.data,o.data)||e.data.next(o.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Ye(e,t){var o,n;return oe(e.params,t.params)&&ge(o=e.url,n=t.url)&&o.every((e,t)=>oe(e.parameters,n[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||Ye(e.parent,t.parent))}function qe(e,t,o){if(o&&e.shouldReuseRoute(t.value,o.value.snapshot)){const n=o.value;n._futureSnapshot=t.value;const i=function(e,t,o){return t.children.map(t=>{for(const n of o.children)if(e.shouldReuseRoute(n.value.snapshot,t.value))return qe(e,t,n);return qe(e,t)})}(e,t,o);return new Le(n,i)}{const o=e.retrieve(t.value);if(o){const e=o.route;return $e(t,e),e}{const o=new He(new a.a((n=t.value).url),new a.a(n.params),new a.a(n.queryParams),new a.a(n.fragment),new a.a(n.data),n.outlet,n.component,n),i=t.children.map(t=>qe(e,t));return new Le(o,i)}}var n}function $e(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let o=0;o<e.children.length;++o)$e(e.children[o],t.children[o])}function Qe(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Xe(e){return"object"==typeof e&&null!=e&&e.outlets}function Ze(e,t,o,n,i){let r={};return n&&se(n,(e,t)=>{r[t]=Array.isArray(e)?e.map(e=>""+e):""+e}),new de(o.root===e?t:Je(o.root,e,t),r,i)}function Je(e,t,o){const n={};return se(e.children,(e,i)=>{n[i]=e===t?o:Je(e,t,o)}),new he(e.segments,n)}class et{constructor(e,t,o){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=o,e&&o.length>0&&Qe(o[0]))throw new Error("Root segment cannot have matrix parameters");const n=o.find(Xe);if(n&&n!==re(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class tt{constructor(e,t,o){this.segmentGroup=e,this.processChildren=t,this.index=o}}function ot(e,t,o){if(e||(e=new he([],{})),0===e.segments.length&&e.hasChildren())return nt(e,t,o);const n=function(e,t,o){let n=0,i=t;const r={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(n>=o.length)return r;const t=e.segments[i],s=o[n];if(Xe(s))break;const a=""+s,l=n<o.length-1?o[n+1]:null;if(i>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!at(a,l,t))return r;n+=2}else{if(!at(a,{},t))return r;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}(e,t,o),i=o.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const t=new he(e.segments.slice(0,n.pathIndex),{});return t.children.primary=new he(e.segments.slice(n.pathIndex),e.children),nt(t,0,i)}return n.match&&0===i.length?new he(e.segments,{}):n.match&&!e.hasChildren()?it(e,t,o):n.match?nt(e,0,i):it(e,t,o)}function nt(e,t,o){if(0===o.length)return new he(e.segments,{});{const n=function(e){return Xe(e[0])?e[0].outlets:{primary:e}}(o),i={};return se(n,(o,n)=>{null!==o&&(i[n]=ot(e.children[n],t,o))}),se(e.children,(e,t)=>{void 0===n[t]&&(i[t]=e)}),new he(e.segments,i)}}function it(e,t,o){const n=e.segments.slice(0,t);let i=0;for(;i<o.length;){const r=o[i];if(Xe(r)){const e=rt(r.outlets);return new he(n,e)}if(0===i&&Qe(o[0])){n.push(new fe(e.segments[t].path,o[0])),i++;continue}const s=Xe(r)?r.outlets.primary:""+r,a=i<o.length-1?o[i+1]:null;s&&a&&Qe(a)?(n.push(new fe(s,st(a))),i+=2):(n.push(new fe(s,{})),i++)}return new he(n,{})}function rt(e){const t={};return se(e,(e,o)=>{null!==e&&(t[o]=it(new he([],{}),0,e))}),t}function st(e){const t={};return se(e,(e,o)=>t[o]=""+e),t}function at(e,t,o){return e==o.path&&oe(t,o.parameters)}class lt{constructor(e,t,o,n){this.routeReuseStrategy=e,this.futureState=t,this.currState=o,this.forwardEvent=n}activate(e){const t=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,o,e),Ke(this.futureState.root),this.activateChildRoutes(t,o,e)}deactivateChildRoutes(e,t,o){const n=Ge(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,n[t],o),delete n[t]}),se(n,(e,t)=>{this.deactivateRouteAndItsChildren(e,o)})}deactivateRoutes(e,t,o){const n=e.value,i=t?t.value:null;if(n===i)if(n.component){const i=o.getContext(n.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,o);else i&&this.deactivateRouteAndItsChildren(t,o)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const o=t.getContext(e.value.outlet);if(o&&o.outlet){const t=o.outlet.detach(),n=o.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:n})}}deactivateRouteAndOutlet(e,t){const o=t.getContext(e.value.outlet);if(o){const n=Ge(e),i=e.value.component?o.children:t;se(n,(e,t)=>this.deactivateRouteAndItsChildren(e,i)),o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated())}}activateChildRoutes(e,t,o){const n=Ge(t);e.children.forEach(e=>{this.activateRoutes(e,n[e.value.outlet],o),this.forwardEvent(new Q(e.value.snapshot))}),e.children.length&&this.forwardEvent(new q(e.value.snapshot))}activateRoutes(e,t,o){const n=e.value,i=t?t.value:null;if(Ke(n),n===i)if(n.component){const i=o.getOrCreateContext(n.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,o);else if(n.component){const t=o.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){const e=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),ut(e.route)}else{const o=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(n.snapshot),i=o?o.module.componentFactoryResolver:null;t.attachRef=null,t.route=n,t.resolver=i,t.outlet&&t.outlet.activateWith(n,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,o)}}function ut(e){Ke(e.value),e.children.forEach(ut)}class ct{constructor(e,t){this.routes=e,this.module=t}}function pt(e){return"function"==typeof e}function dt(e){return e instanceof de}const ht=Symbol("INITIAL_VALUE");function ft(){return Object(w.a)(e=>Object(l.a)(...e.map(e=>e.pipe(Object(E.a)(1),Object(R.a)(ht)))).pipe(Object(_.a)((e,t)=>{let o=!1;return t.reduce((e,n,i)=>{if(e!==ht)return e;if(n===ht&&(o=!0),!o){if(!1===n)return n;if(i===t.length-1||dt(n))return n}return e},e)},ht),Object(m.a)(e=>e!==ht),Object(f.a)(e=>dt(e)?e:!0===e),Object(E.a)(1)))}class gt{constructor(e){this.segmentGroup=e||null}}class mt{constructor(e){this.urlTree=e}}function yt(e){return new u.a(t=>t.error(new gt(e)))}function vt(e){return new u.a(t=>t.error(new mt(e)))}function Ct(e){return new u.a(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class bt{constructor(e,t,o,n,r){this.configLoader=t,this.urlSerializer=o,this.urlTree=n,this.config=r,this.allowRedirects=!0,this.ngModule=e.get(i.z)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(f.a)(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Object(S.a)(e=>{if(e instanceof mt)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof gt)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(Object(f.a)(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(Object(S.a)(e=>{if(e instanceof gt)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,o){const n=e.segments.length>0?new he([],{primary:e}):e;return new de(n,t,o)}expandSegmentGroup(e,t,o,n){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(e,t,o).pipe(Object(f.a)(e=>new he([],e))):this.expandSegment(e,o,t,o.segments,n,!0)}expandChildren(e,t,o){return function(e,t){if(0===Object.keys(e).length)return Object(r.a)({});const o=[],n=[],i={};return se(e,(e,r)=>{const s=t(r,e).pipe(Object(f.a)(e=>i[r]=e));"primary"===r?o.push(s):n.push(s)}),r.a.apply(null,o.concat(n)).pipe(Object(g.a)(),function(e,t){const o=arguments.length>=2;return n=>n.pipe(e?Object(m.a)((t,o)=>e(t,o,n)):b.a,Object(y.a)(1),o?Object(C.a)(t):Object(v.a)(()=>new c.a))}(),Object(f.a)(()=>i))}(o.children,(o,n)=>this.expandSegmentGroup(e,t,n,o))}expandSegment(e,t,o,n,i,s){return Object(r.a)(...o).pipe(Object(O.a)(a=>this.expandSegmentAgainstRoute(e,t,o,a,n,i,s).pipe(Object(S.a)(e=>{if(e instanceof gt)return Object(r.a)(null);throw e}))),Object(D.a)(e=>!!e),Object(S.a)((e,o)=>{if(e instanceof c.a||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,n,i))return Object(r.a)(new he([],{}));throw new gt(t)}throw e}))}noLeftoversInUrl(e,t,o){return 0===t.length&&!e.children[o]}expandSegmentAgainstRoute(e,t,o,n,i,r,s){return _t(n)!==r?yt(t):void 0===n.redirectTo?this.matchSegmentAgainstRoute(e,t,n,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,o,n,i,r):yt(t)}expandSegmentAgainstRouteUsingRedirect(e,t,o,n,i,r){return"**"===n.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,o,n,r):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,o,n,i,r)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,o,n){const i=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?vt(i):this.lineralizeSegments(o,i).pipe(Object(P.a)(o=>{const i=new he(o,{});return this.expandSegment(e,i,t,o,n,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,o,n,i,r){const{matched:s,consumedSegments:a,lastChild:l,positionalParamSegments:u}=wt(t,n,i);if(!s)return yt(t);const c=this.applyRedirectCommands(a,n.redirectTo,u);return n.redirectTo.startsWith("/")?vt(c):this.lineralizeSegments(n,c).pipe(Object(P.a)(n=>this.expandSegment(e,t,o,n.concat(i.slice(l)),r,!1)))}matchSegmentAgainstRoute(e,t,o,n){if("**"===o.path)return o.loadChildren?this.configLoader.load(e.injector,o).pipe(Object(f.a)(e=>(o._loadedConfig=e,new he(n,{})))):Object(r.a)(new he(n,{}));const{matched:i,consumedSegments:s,lastChild:a}=wt(t,o,n);if(!i)return yt(t);const l=n.slice(a);return this.getChildConfig(e,o,n).pipe(Object(P.a)(e=>{const o=e.module,n=e.routes,{segmentGroup:i,slicedSegments:a}=function(e,t,o,n){return o.length>0&&function(e,t,o){return o.some(o=>Rt(e,t,o)&&"primary"!==_t(o))}(e,o,n)?{segmentGroup:Et(new he(t,function(e,t){const o={};o.primary=t;for(const n of e)""===n.path&&"primary"!==_t(n)&&(o[_t(n)]=new he([],{}));return o}(n,new he(o,e.children)))),slicedSegments:[]}:0===o.length&&function(e,t,o){return o.some(o=>Rt(e,t,o))}(e,o,n)?{segmentGroup:Et(new he(e.segments,function(e,t,o,n){const i={};for(const r of o)Rt(e,t,r)&&!n[_t(r)]&&(i[_t(r)]=new he([],{}));return Object.assign(Object.assign({},n),i)}(e,o,n,e.children))),slicedSegments:o}:{segmentGroup:e,slicedSegments:o}}(t,s,l,n);return 0===a.length&&i.hasChildren()?this.expandChildren(o,n,i).pipe(Object(f.a)(e=>new he(s,e))):0===n.length&&0===a.length?Object(r.a)(new he(s,{})):this.expandSegment(o,i,n,a,"primary",!0).pipe(Object(f.a)(e=>new he(s.concat(e.segments),e.children)))}))}getChildConfig(e,t,o){return t.children?Object(r.a)(new ct(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Object(r.a)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,o).pipe(Object(P.a)(o=>o?this.configLoader.load(e.injector,t).pipe(Object(f.a)(e=>(t._loadedConfig=e,e))):function(e){return new u.a(t=>t.error(ee(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):Object(r.a)(new ct([],e))}runCanLoadGuards(e,t,o){const n=t.canLoad;if(!n||0===n.length)return Object(r.a)(!0);const i=n.map(n=>{const i=e.get(n);let r;if(function(e){return e&&pt(e.canLoad)}(i))r=i.canLoad(t,o);else{if(!pt(i))throw new Error("Invalid CanLoad guard");r=i(t,o)}return ae(r)});return Object(r.a)(i).pipe(ft(),Object(T.a)(e=>{if(!dt(e))return;const t=ee(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),Object(f.a)(e=>!0===e))}lineralizeSegments(e,t){let o=[],n=t.root;for(;;){if(o=o.concat(n.segments),0===n.numberOfChildren)return Object(r.a)(o);if(n.numberOfChildren>1||!n.children.primary)return Ct(e.redirectTo);n=n.children.primary}}applyRedirectCommands(e,t,o){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,o)}applyRedirectCreatreUrlTree(e,t,o,n){const i=this.createSegmentGroup(e,t.root,o,n);return new de(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const o={};return se(e,(e,n)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);o[n]=t[i]}else o[n]=e}),o}createSegmentGroup(e,t,o,n){const i=this.createSegments(e,t.segments,o,n);let r={};return se(t.children,(t,i)=>{r[i]=this.createSegmentGroup(e,t,o,n)}),new he(i,r)}createSegments(e,t,o,n){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,n):this.findOrReturn(t,o))}findPosParam(e,t,o){const n=o[t.path.substring(1)];if(!n)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return n}findOrReturn(e,t){let o=0;for(const n of t){if(n.path===e.path)return t.splice(o),n;o++}return e}}function wt(e,t,o){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||o.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const n=(t.matcher||te)(o,e,t);return n?{matched:!0,consumedSegments:n.consumed,lastChild:n.consumed.length,positionalParamSegments:n.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Et(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new he(e.segments.concat(t.segments),t.children)}return e}function Rt(e,t,o){return(!(e.hasChildren()||t.length>0)||"full"!==o.pathMatch)&&""===o.path&&void 0!==o.redirectTo}function _t(e){return e.outlet||"primary"}class St{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ot{constructor(e,t){this.component=e,this.route=t}}function Dt(e,t,o){const n=e._root;return Tt(n,t?t._root:null,o,[n.value])}function Pt(e,t,o){const n=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(n?n.module.injector:o).get(e)}function Tt(e,t,o,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const r=Ge(t);return e.children.forEach(e=>{!function(e,t,o,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const r=e.value,s=t?t.value:null,a=o?o.getContext(e.value.outlet):null;if(s&&r.routeConfig===s.routeConfig){const l=function(e,t,o){if("function"==typeof o)return o(e,t);switch(o){case"pathParamsChange":return!ge(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ge(e.url,t.url)||!oe(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ye(e,t)||!oe(e.queryParams,t.queryParams);case"paramsChange":default:return!Ye(e,t)}}(s,r,r.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new St(n)):(r.data=s.data,r._resolvedData=s._resolvedData),Tt(e,t,r.component?a?a.children:null:o,n,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ot(a.outlet.component,s))}else s&&At(t,a,i),i.canActivateChecks.push(new St(n)),Tt(e,null,r.component?a?a.children:null:o,n,i)}(e,r[e.value.outlet],o,n.concat([e.value]),i),delete r[e.value.outlet]}),se(r,(e,t)=>At(e,o.getContext(t),i)),i}function At(e,t,o){const n=Ge(e),i=e.value;se(n,(e,n)=>{At(e,i.component?t?t.children.getContext(n):null:t,o)}),o.canDeactivateChecks.push(new Ot(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Ft(e,t){return null!==e&&t&&t(new $(e)),Object(r.a)(!0)}function Nt(e,t){return null!==e&&t&&t(new Y(e)),Object(r.a)(!0)}function xt(e,t,o){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return Object(r.a)(!0);const i=n.map(n=>d(()=>{const i=Pt(n,t,o);let r;if(function(e){return e&&pt(e.canActivate)}(i))r=ae(i.canActivate(t,e));else{if(!pt(i))throw new Error("Invalid CanActivate guard");r=ae(i(t,e))}return r.pipe(Object(D.a)())}));return Object(r.a)(i).pipe(ft())}function It(e,t,o){const n=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>d(()=>{const i=t.guards.map(i=>{const r=Pt(i,t.node,o);let s;if(function(e){return e&&pt(e.canActivateChild)}(r))s=ae(r.canActivateChild(n,e));else{if(!pt(r))throw new Error("Invalid CanActivateChild guard");s=ae(r(n,e))}return s.pipe(Object(D.a)())});return Object(r.a)(i).pipe(ft())}));return Object(r.a)(i).pipe(ft())}class Mt{}class Lt{constructor(e,t,o,n,i,r){this.rootComponentType=e,this.config=t,this.urlTree=o,this.url=n,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=r}recognize(){try{const e=Vt(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),o=new Be([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),n=new Le(o,t),i=new je(this.url,n);return this.inheritParamsAndData(i._root),Object(r.a)(i)}catch(e){return new u.a(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,o=We(t,this.paramsInheritanceStrategy);t.params=Object.freeze(o.params),t.data=Object.freeze(o.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,o){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,o)}processChildren(e,t){const o=me(t,(t,o)=>this.processSegmentGroup(e,t,o));return function(e){const t={};e.forEach(e=>{const o=t[e.value.outlet];if(o){const t=o.url.map(e=>e.toString()).join("/"),n=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${n}'.`)}t[e.value.outlet]=e.value})}(o),o.sort((e,t)=>"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)),o}processSegment(e,t,o,n){for(const r of e)try{return this.processSegmentAgainstRoute(r,t,o,n)}catch(i){if(!(i instanceof Mt))throw i}if(this.noLeftoversInUrl(t,o,n))return[];throw new Mt}noLeftoversInUrl(e,t,o){return 0===t.length&&!e.children[o]}processSegmentAgainstRoute(e,t,o,n){if(e.redirectTo)throw new Mt;if((e.outlet||"primary")!==n)throw new Mt;let i,r=[],s=[];if("**"===e.path){const r=o.length>0?re(o).parameters:{};i=new Be(o,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bt(e),n,e.component,e,Gt(t),kt(t)+o.length,jt(e))}else{const a=function(e,t,o){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||o.length>0))throw new Mt;return{consumedSegments:[],lastChild:0,parameters:{}}}const n=(t.matcher||te)(o,e,t);if(!n)throw new Mt;const i={};se(n.posParams,(e,t)=>{i[t]=e.path});const r=n.consumed.length>0?Object.assign(Object.assign({},i),n.consumed[n.consumed.length-1].parameters):i;return{consumedSegments:n.consumed,lastChild:n.consumed.length,parameters:r}}(t,e,o);r=a.consumedSegments,s=o.slice(a.lastChild),i=new Be(r,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bt(e),n,e.component,e,Gt(t),kt(t)+r.length,jt(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:u}=Vt(t,r,s,a,this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const e=this.processChildren(a,l);return[new Le(i,e)]}if(0===a.length&&0===u.length)return[new Le(i,[])];const c=this.processSegment(a,l,u,"primary");return[new Le(i,c)]}}function Gt(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function kt(e){let t=e,o=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,o+=t._segmentIndexShift?t._segmentIndexShift:0;return o-1}function Vt(e,t,o,n,i){if(o.length>0&&function(e,t,o){return o.some(o=>Ht(e,t,o)&&"primary"!==Wt(o))}(e,o,n)){const i=new he(t,function(e,t,o,n){const i={};i.primary=n,n._sourceSegment=e,n._segmentIndexShift=t.length;for(const r of o)if(""===r.path&&"primary"!==Wt(r)){const o=new he([],{});o._sourceSegment=e,o._segmentIndexShift=t.length,i[Wt(r)]=o}return i}(e,t,n,new he(o,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===o.length&&function(e,t,o){return o.some(o=>Ht(e,t,o))}(e,o,n)){const r=new he(e.segments,function(e,t,o,n,i,r){const s={};for(const a of n)if(Ht(e,o,a)&&!i[Wt(a)]){const o=new he([],{});o._sourceSegment=e,o._segmentIndexShift="legacy"===r?e.segments.length:t.length,s[Wt(a)]=o}return Object.assign(Object.assign({},i),s)}(e,t,o,n,e.children,i));return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:o}}const r=new he(e.segments,e.children);return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:o}}function Ht(e,t,o){return(!(e.hasChildren()||t.length>0)||"full"!==o.pathMatch)&&""===o.path&&void 0===o.redirectTo}function Wt(e){return e.outlet||"primary"}function Bt(e){return e.data||{}}function jt(e){return e.resolve||{}}function Ut(e){return function(t){return t.pipe(Object(w.a)(t=>{const o=e(t);return o?Object(s.a)(o).pipe(Object(f.a)(()=>t)):Object(s.a)([t])}))}}class zt extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}let Kt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Gb({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&i.Nb(0,"router-outlet")},directives:function(){return[co]},encapsulation:2}),e})();function Yt(e,t=""){for(let o=0;o<e.length;o++){const n=e[o];qt(n,$t(t,n))}}function qt(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&Yt(e.children,t)}function $t(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Qt(e){const t=e.children&&e.children.map(Qt),o=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!o.component&&(t||o.loadChildren)&&o.outlet&&"primary"!==o.outlet&&(o.component=Kt),o}const Xt=new i.s("ROUTES");class Zt{constructor(e,t,o,n){this.loader=e,this.compiler=t,this.onLoadStartListener=o,this.onLoadEndListener=n}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(Object(f.a)(o=>{this.onLoadEndListener&&this.onLoadEndListener(t);const n=o.create(e);return new ct(ie(n.injector.get(Xt)).map(Qt),n)}))}loadModuleFactory(e){return"string"==typeof e?Object(s.a)(this.loader.load(e)):ae(e()).pipe(Object(P.a)(e=>e instanceof i.x?Object(r.a)(e):Object(s.a)(this.compiler.compileModuleAsync(e))))}}class Jt{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new eo,this.attachRef=null}}class eo{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const o=this.getOrCreateContext(e);o.outlet=t,this.contexts.set(e,o)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Jt,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class to{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function oo(e){throw e}function no(e,t,o){return t.parse("/")}function io(e,t){return Object(r.a)(null)}let ro=(()=>{class e{constructor(e,t,o,n,r,s,l,u){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=o,this.location=n,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new h.a,this.errorHandler=oo,this.malformedUriErrorHandler=no,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:io,afterPreactivation:io},this.urlHandlingStrategy=new to,this.routeReuseStrategy=new zt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=r.get(i.z),this.console=r.get(i.Y);const c=r.get(i.B);this.isNgZoneEnabled=c instanceof i.B,this.resetConfig(u),this.currentUrlTree=new de(new he([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Zt(s,l,e=>this.triggerEvent(new z(e)),e=>this.triggerEvent(new K(e))),this.routerState=Ve(this.currentUrlTree,this.rootComponentType),this.transitions=new a.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(Object(m.a)(e=>0!==e.id),Object(f.a)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Object(w.a)(e=>{let o=!1,n=!1;return Object(r.a)(e).pipe(Object(T.a)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(w.a)(e=>{const o=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||o)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Object(r.a)(e).pipe(Object(w.a)(e=>{const o=this.transitions.getValue();return t.next(new L(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),o!==this.transitions.getValue()?p.a:[e]}),Object(w.a)(e=>Promise.resolve(e)),(n=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,a=this.config,function(e){return e.pipe(Object(w.a)(e=>function(e,t,o,n,i){return new bt(e,t,o,n,i).apply()}(n,i,s,e.extractedUrl,a).pipe(Object(f.a)(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t})))))}),Object(T.a)(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,o,n,i){return function(r){return r.pipe(Object(P.a)(r=>function(e,t,o,n,i="emptyOnly",r="legacy"){return new Lt(e,t,o,n,i,r).recognize()}(e,t,r.urlAfterRedirects,o(r.urlAfterRedirects),n,i).pipe(Object(f.a)(e=>Object.assign(Object.assign({},r),{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(T.a)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),Object(T.a)(e=>{const o=new H(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(o)}));var n,i,s,a;if(o&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:o,extractedUrl:n,source:i,restoredState:s,extras:a}=e,l=new L(o,this.serializeUrl(n),i,s);t.next(l);const u=Ve(n,this.rootComponentType).snapshot;return Object(r.a)(Object.assign(Object.assign({},e),{targetSnapshot:u,urlAfterRedirects:n,extras:Object.assign(Object.assign({},a),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),p.a}),Ut(e=>{const{targetSnapshot:t,id:o,extractedUrl:n,rawUrl:i,extras:{skipLocationChange:r,replaceUrl:s}}=e;return this.hooks.beforePreactivation(t,{navigationId:o,appliedUrlTree:n,rawUrlTree:i,skipLocationChange:!!r,replaceUrl:!!s})}),Object(T.a)(e=>{const t=new W(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Object(f.a)(e=>Object.assign(Object.assign({},e),{guards:Dt(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(o){return o.pipe(Object(P.a)(o=>{const{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:l}}=o;return 0===l.length&&0===a.length?Object(r.a)(Object.assign(Object.assign({},o),{guardsResult:!0})):function(e,t,o,n){return Object(s.a)(e).pipe(Object(P.a)(e=>function(e,t,o,n,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(r.a)(!0);const a=s.map(r=>{const s=Pt(r,t,i);let a;if(function(e){return e&&pt(e.canDeactivate)}(s))a=ae(s.canDeactivate(e,t,o,n));else{if(!pt(s))throw new Error("Invalid CanDeactivate guard");a=ae(s(e,t,o,n))}return a.pipe(Object(D.a)())});return Object(r.a)(a).pipe(ft())}(e.component,e.route,o,t,n)),Object(D.a)(e=>!0!==e,!0))}(l,n,i,e).pipe(Object(P.a)(o=>o&&"boolean"==typeof o?function(e,t,o,n){return Object(s.a)(t).pipe(Object(O.a)(t=>Object(s.a)([Nt(t.route.parent,n),Ft(t.route,n),It(e,t.path,o),xt(e,t.route,o)]).pipe(Object(g.a)(),Object(D.a)(e=>!0!==e,!0))),Object(D.a)(e=>!0!==e,!0))}(n,a,e,t):Object(r.a)(o)),Object(f.a)(e=>Object.assign(Object.assign({},o),{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),Object(T.a)(e=>{if(dt(e.guardsResult)){const t=ee(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),Object(T.a)(e=>{const t=new B(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Object(m.a)(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const o=new k(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(o),e.resolve(!1),!1}return!0}),Ut(e=>{if(e.guards.canActivateChecks.length)return Object(r.a)(e).pipe(Object(T.a)(e=>{const t=new j(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Object(w.a)(e=>{let o=!1;return Object(r.a)(e).pipe((n=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(e){return e.pipe(Object(P.a)(e=>{const{targetSnapshot:t,guards:{canActivateChecks:o}}=e;if(!o.length)return Object(r.a)(e);let a=0;return Object(s.a)(o).pipe(Object(O.a)(e=>function(e,t,o,n){return function(e,t,o,n){const i=Object.keys(e);if(0===i.length)return Object(r.a)({});const a={};return Object(s.a)(i).pipe(Object(P.a)(i=>function(e,t,o,n){const i=Pt(e,t,n);return ae(i.resolve?i.resolve(t,o):i(t,o))}(e[i],t,o,n).pipe(Object(T.a)(e=>{a[i]=e}))),Object(y.a)(1),Object(P.a)(()=>Object.keys(a).length===i.length?Object(r.a)(a):p.a))}(e._resolve,e,t,n).pipe(Object(f.a)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),We(e,o).resolve),null)))}(e.route,t,n,i)),Object(T.a)(()=>a++),Object(y.a)(1),Object(P.a)(t=>a===o.length?Object(r.a)(e):p.a))}))}),Object(T.a)({next:()=>o=!0,complete:()=>{if(!o){const o=new k(e.id,this.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");t.next(o),e.resolve(!1)}}}));var n,i}),Object(T.a)(e=>{const t=new U(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Ut(e=>{const{targetSnapshot:t,id:o,extractedUrl:n,rawUrl:i,extras:{skipLocationChange:r,replaceUrl:s}}=e;return this.hooks.afterPreactivation(t,{navigationId:o,appliedUrlTree:n,rawUrlTree:i,skipLocationChange:!!r,replaceUrl:!!s})}),Object(f.a)(e=>{const t=function(e,t,o){const n=qe(e,t._root,o?o._root:void 0);return new ke(n,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),Object(T.a)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(a=this.rootContexts,l=this.routeReuseStrategy,u=e=>this.triggerEvent(e),Object(f.a)(e=>(new lt(l,e.targetRouterState,e.currentRouterState,u).activate(a),e))),Object(T.a)({next(){o=!0},complete(){o=!0}}),(i=()=>{if(!o&&!n){this.resetUrlToCurrentUrlTree();const o=new k(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(o),e.resolve(!1)}this.currentNavigation=null},e=>e.lift(new N(i))),Object(S.a)(o=>{if(n=!0,(i=o)&&i.ngNavigationCancelingError){const n=dt(o.url);n||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const i=new k(e.id,this.serializeUrl(e.extractedUrl),o.message);t.next(i),n?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(o.url,this.rawUrlTree);return this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const n=new V(e.id,this.serializeUrl(e.extractedUrl),o);t.next(n);try{e.resolve(this.errorHandler(o))}catch(r){e.reject(r)}}var i;return p.a}));var i,a,l,u}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:o,urlTree:n}=t,i={replaceUrl:!0};if(o){const e=Object.assign({},o);delete e.navigationId,0!==Object.keys(e).length&&(i.state=e)}this.scheduleNavigation(n,e,o,i)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const o=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&o&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Yt(e),this.config=e.map(Qt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(e,t={}){const{relativeTo:o,queryParams:n,fragment:r,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:l}=t;Object(i.V)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=o||this.routerState.root,c=l?this.currentUrlTree.fragment:r;let p=null;if(a)switch(a){case"merge":p=Object.assign(Object.assign({},this.currentUrlTree.queryParams),n);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=n||null}else p=s?this.currentUrlTree.queryParams:n||null;return null!==p&&(p=this.removeEmptyProps(p)),function(e,t,o,n,i){if(0===o.length)return Ze(t.root,t.root,t,n,i);const r=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new et(!0,0,e);let t=0,o=!1;const n=e.reduce((e,n,i)=>{if("object"==typeof n&&null!=n){if(n.outlets){const t={};return se(n.outlets,(e,o)=>{t[o]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(n.segmentPath)return[...e,n.segmentPath]}return"string"!=typeof n?[...e,n]:0===i?(n.split("/").forEach((n,i)=>{0==i&&"."===n||(0==i&&""===n?o=!0:".."===n?t++:""!=n&&e.push(n))}),e):[...e,n]},[]);return new et(o,t,n)}(o);if(r.toRoot())return Ze(t.root,new he([],{}),t,n,i);const s=function(e,t,o){if(e.isAbsolute)return new tt(t.root,!0,0);if(-1===o.snapshot._lastPathIndex){const e=o.snapshot._urlSegment;return new tt(e,e===t.root,0)}const n=Qe(e.commands[0])?0:1;return function(e,t,o){let n=e,i=t,r=o;for(;r>i;){if(r-=i,n=n.parent,!n)throw new Error("Invalid number of '../'");i=n.segments.length}return new tt(n,!1,i-r)}(o.snapshot._urlSegment,o.snapshot._lastPathIndex+n,e.numberOfDoubleDots)}(r,t,e),a=s.processChildren?nt(s.segmentGroup,s.index,r.commands):ot(s.segmentGroup,s.index,r.commands);return Ze(s.segmentGroup,a,t,n,i)}(u,this.currentUrlTree,e,p,c)}navigateByUrl(e,t={skipLocationChange:!1}){Object(i.V)()&&this.isNgZoneEnabled&&!i.B.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const o=dt(e)?e:this.parseUrl(e),n=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(n,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const o=e[t];if(null==o)throw new Error(`The requested path contains ${o} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(o){t=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return t}isActive(e,t){if(dt(e))return le(this.currentUrlTree,e,t);const o=this.parseUrl(e);return le(this.currentUrlTree,o,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,o)=>{const n=e[o];return null!=n&&(t[o]=n),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new G(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,o,n,i){const r=this.getTransition(),s="imperative"!==t&&"imperative"===(null==r?void 0:r.source),a=(this.lastSuccessfulId===r.id||this.currentNavigation?r.rawUrl:r.urlAfterRedirects).toString()===e.toString();if(s&&a)return Promise.resolve(!0);let l,u,c;i?(l=i.resolve,u=i.reject,c=i.promise):c=new Promise((e,t)=>{l=e,u=t});const p=++this.navigationId;return this.setTransition({id:p,source:t,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:n,resolve:l,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,o,n){const i=this.urlSerializer.serialize(e);n=n||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},n),{navigationId:o})):this.location.go(i,"",Object.assign(Object.assign({},n),{navigationId:o}))}resetStateAndUrl(e,t,o){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,o),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return e.\u0275fac=function(t){return new(t||e)(i.ac(i.O),i.ac(ye),i.ac(eo),i.ac(n.o),i.ac(i.t),i.ac(i.y),i.ac(i.j),i.ac(void 0))},e.\u0275prov=i.Ib({token:e,factory:e.\u0275fac}),e})(),so=(()=>{class e{constructor(e,t,o,n,i){this.router=e,this.route=t,this.commands=[],this.onChanges=new h.a,null==o&&n.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){Object(i.V)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}onClick(){const e={skipLocationChange:lo(this.skipLocationChange),replaceUrl:lo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:lo(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:lo(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(i.Mb(ro),i.Mb(He),i.bc("tabindex"),i.Mb(i.F),i.Mb(i.m))},e.\u0275dir=i.Hb({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&i.dc("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[i.xb]}),e})(),ao=(()=>{class e{constructor(e,t,o){this.router=e,this.route=t,this.locationStrategy=o,this.commands=[],this.onChanges=new h.a,this.subscription=e.events.subscribe(e=>{e instanceof G&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){Object(i.V)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,o,n,i){if(0!==e||t||o||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const r={skipLocationChange:lo(this.skipLocationChange),replaceUrl:lo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:lo(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:lo(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(i.Mb(ro),i.Mb(He),i.Mb(n.p))},e.\u0275dir=i.Hb({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&i.dc("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(i.Vb("href",t.href,i.zc),i.Ab("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[i.xb]}),e})();function lo(e){return""===e||!!e}let uo=(()=>{class e{constructor(e,t,o,n,i,r){this.router=e,this.element=t,this.renderer=o,this.cdr=n,this.link=i,this.linkWithHref=r,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(e=>{e instanceof G&&this.update()})}ngAfterContentInit(){Object(s.a)([this.links.changes,this.linksWithHrefs.changes,Object(r.a)(null)]).pipe(Object(I.a)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(e=>!!e).map(e=>e.onChanges);this.linkInputChangesSubscription=Object(s.a)(t).pipe(Object(I.a)()).subscribe(e=>{this.isActive!==this.isLinkActive(this.router)(e)&&this.update()})}set routerLinkActive(e){const t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(e=>!!e)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}))})}isLinkActive(e){return t=>e.isActive(t.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Mb(ro),i.Mb(i.m),i.Mb(i.F),i.Mb(i.i),i.Mb(so,8),i.Mb(ao,8))},e.\u0275dir=i.Hb({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,o){var n;1&e&&(i.Fb(o,so,!0),i.Fb(o,ao,!0)),2&e&&(i.uc(n=i.ec())&&(t.links=n),i.uc(n=i.ec())&&(t.linksWithHrefs=n))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[i.xb]}),e})(),co=(()=>{class e{constructor(e,t,o,n,r){this.parentContexts=e,this.location=t,this.resolver=o,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.o,this.deactivateEvents=new i.o,this.name=n||"primary",e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const o=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),n=this.parentContexts.getOrCreateContext(this.name).children,i=new po(e,n,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(i.Mb(eo),i.Mb(i.Q),i.Mb(i.k),i.bc("name"),i.Mb(i.i))},e.\u0275dir=i.Hb({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class po{constructor(e,t,o){this.route=e,this.childContexts=t,this.parent=o}get(e,t){return e===He?this.route:e===eo?this.childContexts:this.parent.get(e,t)}}class ho{}class fo{preload(e,t){return Object(r.a)(null)}}let go=(()=>{class e{constructor(e,t,o,n,i){this.router=e,this.injector=n,this.preloadingStrategy=i,this.loader=new Zt(t,o,t=>e.triggerEvent(new z(t)),t=>e.triggerEvent(new K(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(m.a)(e=>e instanceof G),Object(O.a)(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(i.z);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const o=[];for(const n of t)if(n.loadChildren&&!n.canLoad&&n._loadedConfig){const e=n._loadedConfig;o.push(this.processRoutes(e.module,e.routes))}else n.loadChildren&&!n.canLoad?o.push(this.preloadConfig(e,n)):n.children&&o.push(this.processRoutes(e,n.children));return Object(s.a)(o).pipe(Object(I.a)(),Object(f.a)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(Object(P.a)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(i.ac(ro),i.ac(i.y),i.ac(i.j),i.ac(i.t),i.ac(ho))},e.\u0275prov=i.Ib({token:e,factory:e.\u0275fac}),e})(),mo=(()=>{class e{constructor(e,t,o={}){this.router=e,this.viewportScroller=t,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof L?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof G&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof X&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new X(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.ac(ro),i.ac(n.J),i.ac(void 0))},e.\u0275prov=i.Ib({token:e,factory:e.\u0275fac}),e})();const yo=new i.s("ROUTER_CONFIGURATION"),vo=new i.s("ROUTER_FORROOT_GUARD"),Co=[n.o,{provide:ye,useClass:ve},{provide:ro,useFactory:function(e,t,o,i,r,s,a,l={},u,c){const p=new ro(null,e,t,o,i,r,s,ie(a));if(u&&(p.urlHandlingStrategy=u),c&&(p.routeReuseStrategy=c),l.errorHandler&&(p.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(p.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){const e=Object(n.R)();p.events.subscribe(t=>{e.logGroup("Router Event: "+t.constructor.name),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return l.onSameUrlNavigation&&(p.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(p.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(p.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(p.relativeLinkResolution=l.relativeLinkResolution),p},deps:[ye,eo,n.o,i.t,i.y,i.j,Xt,yo,[class{},new i.C],[class{},new i.C]]},eo,{provide:He,useFactory:function(e){return e.routerState.root},deps:[ro]},{provide:i.y,useClass:i.L},go,fo,class{preload(e,t){return t().pipe(Object(S.a)(()=>Object(r.a)(null)))}},{provide:yo,useValue:{enableTracing:!1}}];function bo(){return new i.A("Router",ro)}let wo=(()=>{class e{constructor(e,t){}static forRoot(t,o){return{ngModule:e,providers:[Co,So(t),{provide:vo,useFactory:_o,deps:[[ro,new i.C,new i.K]]},{provide:yo,useValue:o||{}},{provide:n.p,useFactory:Ro,deps:[n.E,[new i.r(n.a),new i.C],yo]},{provide:mo,useFactory:Eo,deps:[ro,n.J,yo]},{provide:ho,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:fo},{provide:i.A,multi:!0,useFactory:bo},[Oo,{provide:i.d,multi:!0,useFactory:Do,deps:[Oo]},{provide:To,useFactory:Po,deps:[Oo]},{provide:i.b,multi:!0,useExisting:To}]]}}static forChild(t){return{ngModule:e,providers:[So(t)]}}}return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(t){return new(t||e)(i.ac(vo,8),i.ac(ro,8))}}),e})();function Eo(e,t,o){return o.scrollOffset&&t.setOffset(o.scrollOffset),new mo(e,t,o)}function Ro(e,t,o={}){return o.useHash?new n.i(e,t):new n.C(e,t)}function _o(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function So(e){return[{provide:i.a,multi:!0,useValue:e},{provide:Xt,multi:!0,useValue:e}]}let Oo=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new h.a}appInitializer(){return this.injector.get(n.n,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),o=this.injector.get(ro),n=this.injector.get(yo);if(this.isLegacyDisabled(n)||this.isLegacyEnabled(n))e(!0);else if("disabled"===n.initialNavigation)o.setUpLocationChangeListener(),e(!0);else{if("enabled"!==n.initialNavigation)throw new Error(`Invalid initialNavigation options: '${n.initialNavigation}'`);o.hooks.afterPreactivation=()=>this.initNavigation?Object(r.a)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),o.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(yo),o=this.injector.get(go),n=this.injector.get(mo),r=this.injector.get(ro),s=this.injector.get(i.g);e===s.components[0]&&(this.isLegacyEnabled(t)?r.initialNavigation():this.isLegacyDisabled(t)&&r.setUpLocationChangeListener(),o.setUpPreloading(),n.init(),r.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}return e.\u0275fac=function(t){return new(t||e)(i.ac(i.t))},e.\u0275prov=i.Ib({token:e,factory:e.\u0275fac}),e})();function Do(e){return e.appInitializer.bind(e)}function Po(e){return e.bootstrapListener.bind(e)}const To=new i.s("Router Initializer")},"u+r4":function(e,t,o){"use strict";o.d(t,"a",function(){return c});var n=o("quSY"),i=o("fXoL"),r=o("Tv8v"),s=o("gA3Z");const a=function(e){return{color:e}};function l(e,t){if(1&e&&(i.Sb(0,"li",3),i.Hc(1),i.Sb(2,"span",4),i.Hc(3),i.Rb(),i.Rb()),2&e){const e=t.$implicit,o=t.index;i.zb(1),i.Jc(" ",o+1,". "),i.zb(1),i.nc("ngStyle",i.rc(3,a,e.colour)),i.zb(1),i.Jc(" ",e.colName,"")}}function u(e,t){if(1&e&&(i.Sb(0,"div",5),i.Nb(1,"app-pareto-line",6),i.Rb()),2&e){const e=i.gc();i.zb(1),i.nc("bars",e.bars)("dots",e.dots)("lines",e.lines)}}let c=(()=>{class e{constructor(e,t){this.graphService=e,this.modalWindowService=t,this.offset=0,this.bars=[],this.dots=[],this.lines=[],this.subscription=new n.a,this.displayGraph=!1}ngOnInit(){this.subscription.add(this.graphService.dataPopulated.subscribe(e=>{e&&this.graphService.paretoGraph?(this.displayGraph=!1,this.bars=[],this.bars=this.graphService.getBars(),this.createColors(),this.sortBars(),this.buildDots(),this.buildLines(),this.displayGraph=!0):(this.displayGraph=!1,this.bars=[],this.lines=[],this.dots=[])})),this.subscription.add(this.modalWindowService.popUpContextUpdated.subscribe(e=>{e||(this.displayGraph=!1,this.bars=[],this.lines=[],this.dots=[])}))}createColors(){let e;e=this.getRandomColorStrings(this.bars.length),this.bars.forEach((t,o)=>{t.colour=e[o]})}getRandomColorStrings(e){const t=[];for(let o=0;o<e;o++){const e=this.graphService.colorModel.getColorAtIndex(Math.round(Math.random()*this.graphService.colorModel.colors.length));t.push(e)}return t}resetValues(){this.dots=[],this.lines=[],this.offset=0}buildDots(){this.resetValues();let e=0;const t=this.bars[0].width/2;let o=1;for(const n of this.bars){let i;i=n.height?n.height+this.offset:this.offset;const r={id:"circle"+o,y:i,x:n.width/2+e};this.offset+=n.height,e+=n.width+t,o++,this.dots.push(r)}}buildLines(){let e=null,t=1;for(const o of this.dots)e&&(this.addLine(e,o,t),t++),e=o;this.lines.sort((e,t)=>e.y2>t.y2?-1:e.y2<t.y2?1:0),this.lines.reverse()}addLine(e,t,o){this.lines.push({id:"line"+o,x1:e.x,y1:e.y,x2:t.x,y2:t.y})}sortBars(){this.bars.sort((e,t)=>e.height<t.height?-1:e.height>t.height?1:0),this.bars.reverse();let e=1;for(const t of this.bars)t.id="rect"+e,e++}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.Mb(r.a),i.Mb(s.a))},e.\u0275cmp=i.Gb({type:e,selectors:[["app-pareto"]],decls:6,vars:2,consts:[["id","fieldset-legend"],["class","legend-members",4,"ngFor","ngForOf"],["class","flexContainer","id","paretoGraph",4,"ngIf"],[1,"legend-members"],[3,"ngStyle"],["id","paretoGraph",1,"flexContainer"],[3,"bars","dots","lines"]],template:function(e,t){1&e&&(i.Sb(0,"fieldset"),i.Sb(1,"legend",0),i.Hc(2,"Members:"),i.Rb(),i.Sb(3,"ul"),i.Fc(4,l,4,5,"li",1),i.Rb(),i.Rb(),i.Fc(5,u,2,3,"div",2)),2&e&&(i.zb(4),i.nc("ngForOf",t.bars),i.zb(1),i.nc("ngIf",t.displayGraph))},styles:[".flex-container[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:flex-end}.flex-item[_ngcontent-%COMP%]{align-self:flex-start}app-pareto-dot[_ngcontent-%COMP%], app-pareto-line[_ngcontent-%COMP%]{margin-right:10px}.legend-members[_ngcontent-%COMP%]{list-style:none}#fieldset-legend[_ngcontent-%COMP%]{margin:0 5px;font-size:18px}fieldset[_ngcontent-%COMP%]{text-align:center;border:1px solid #000;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding-right:25px}#coloredBar[_ngcontent-%COMP%]{border-radius:2px;min-width:2ch;max-width:3ch}label[_ngcontent-%COMP%]{display:inline-block;text-align:center}.description[_ngcontent-%COMP%]{align-content:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;-webkit-text-fill-color:#666}"]}),e})()},vCpy:function(e,t,o){"use strict";o.d(t,"a",function(){return m});var n=o("3Pt+"),i=o("quSY"),r=o("fXoL"),s=o("tk/3"),a=o("Bx/L"),l=o("Wl7B"),u=o("gA3Z"),c=o("qfBg"),p=o("ofXK"),d=o("Ludi");function h(e,t){1&e&&(r.Sb(0,"h3"),r.Sb(1,"b"),r.Sb(2,"strong"),r.Hc(3,"Turn In Subordinates' Activated Badge"),r.Rb(),r.Rb(),r.Rb())}function f(e,t){1&e&&(r.Sb(0,"h3"),r.Sb(1,"b"),r.Sb(2,"strong"),r.Hc(3,"Turn In Activated Badge"),r.Rb(),r.Rb(),r.Rb())}function g(e,t){if(1&e&&(r.Sb(0,"option",16),r.Hc(1),r.Rb()),2&e){const e=t.$implicit;r.oc("value",e.badge_serial_number),r.zb(1),r.Jc(" ",e.badge_serial_number," ")}}let m=(()=>{class e{constructor(e,t,o,r,s){this.http=e,this.badgeService=t,this.gridService=o,this.modalService=r,this.userService=s,this.badgeInformation=new n.k({badgeSerialNumber:new n.h,turnedInTime:new n.h(""),tempFahrenheit:new n.h(""),tempCelsius:new n.h(""),vaporsExposed:new n.h(""),humidity:new n.h(""),notes:new n.h("")}),this.error=null,this.userRole=this.userService.getActiveUser().role,this.gridService.setGridType(1===this.userRole?9:11),this.subscriptions=new i.a,this.constantSubscriptions=new i.a}showSelectedBadgeData(){const e=this.gridService.getSelectedRow();e&&(e.turned_in_time&&this.badgeInformation.controls.turnedInTime.setValue(e.turned_in_time),e.temperature_fahrenheit&&this.badgeInformation.controls.tempFahrenheit.setValue(e.temperature_fahrenheit),e.temperature_celsius&&this.badgeInformation.controls.tempCelsius.setValue(e.temperature_celsius),e.notes&&this.badgeInformation.controls.notes.setValue(e.notes),e.vapors_exposed&&this.badgeInformation.controls.vaporsExposed.setValue(e.vapors_exposed),e.relative_humidity&&this.badgeInformation.controls.humidity.setValue(e.relative_humidity),e.badge_serial_number&&this.badgeInformation.controls.badgeSerialNumber.setValue(e.badge_serial_number))}temperatureCelsiusCalculations(){if(this.temperatureCelsius=this.badgeInformation.controls.tempCelsius.value,this.temperatureFahrenheit=this.badgeInformation.controls.tempFahrenheit.value,this.temperatureCelsius&&""!==this.temperatureCelsius){let e=9*Number(this.temperatureCelsius)/5+32;e=Math.round(10*e)/10,this.temperatureFahrenheit!==e.toString()&&this.badgeInformation.controls.tempFahrenheit.setValue(e.toString())}else this.temperatureFahrenheit="",this.badgeInformation.controls.tempFahrenheit.setValue("")}temperatureFahrenheitCalculations(){if(this.temperatureCelsius=this.badgeInformation.controls.tempCelsius.value,this.temperatureFahrenheit=this.badgeInformation.controls.tempFahrenheit.value,this.temperatureFahrenheit&&""!==this.temperatureFahrenheit){let e=5*(Number(this.temperatureFahrenheit)-32)/9;e=Math.round(10*e)/10,this.temperatureCelsius!==e.toString()&&this.badgeInformation.controls.tempCelsius.setValue(e.toString())}else this.temperatureCelsius="",this.badgeInformation.controls.tempCelsius.setValue("")}checkBadgeData(){this.turnedInTime=this.badgeInformation.controls.turnedInTime.value,this.badgeSerialNumber=this.badgeInformation.controls.badgeSerialNumber.value,this.notes=this.badgeInformation.controls.notes.value,this.temperatureCelsius=this.badgeInformation.controls.tempCelsius.value,this.temperatureFahrenheit=this.badgeInformation.controls.tempFahrenheit.value,this.vaporsExposed=this.badgeInformation.controls.vaporsExposed.value,this.relativeHumidity=this.badgeInformation.controls.humidity.value,""!==this.badgeSerialNumber?this.updateBadge():this.modalService.setModalContext("Improper Format for the Badge Data, Please ensure fields are properly filled out")}updateBadge(){console.log("Ready To Issue Badge Data to Database!");const e=this.formatDate(this.turnedInTime);this.badgeService.turnInBadgeData(this.badgeSerialNumber,e,this.temperatureCelsius,this.temperatureFahrenheit,this.vaporsExposed,this.relativeHumidity,this.notes).subscribe(e=>{},e=>{console.log(e),this.badgeService.handleError(e)},()=>{1===this.userRole?this.badgeService.getWearerBadgeList(2).subscribe(e=>{this.badges=e,this.badgeInformation.controls.badgeSerialNumber.setValue(this.badges),this.resetValues()}):this.badgeService.getSubordinantBadgeList(2).subscribe(e=>{this.badges=e,this.badgeInformation.controls.badgeSerialNumber.setValue(this.badges),this.resetValues()},e=>{this.badgeService.handleError(e)},()=>{})})}resetValues(){this.modalService.setModalContext("Badge "+this.badgeSerialNumber+" has been updated in the database"),this.badgeInformation.reset(),this.gridService.setGridType(1===this.userRole?9:11),this.resetSubscriptions()}formatDate(e){if(null===e)return null;const t=(e+"").slice(0,16).replace("T"," ")+":00";return console.log("The New Formatted Time is: "+t),t}ngOnInit(){this.constantSubscriptions.add(this.gridService.rowSelected.subscribe(e=>{e?this.showSelectedBadgeData():this.badgeInformation.reset()})),this.subscriptions.add(1===this.userRole?this.badgeService.getWearerBadgeList(2).subscribe(e=>{this.badges=e,this.badgeInformation.controls.badgeSerialNumber.setValue(this.badges)}):this.badgeService.getSubordinantBadgeList(2).subscribe(e=>{this.badges=e,this.badgeInformation.controls.badgeSerialNumber.setValue(this.badges)}))}resetSubscriptions(){this.subscriptions.unsubscribe()}ngOnDestroy(){this.resetSubscriptions(),this.constantSubscriptions.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.Mb(s.b),r.Mb(a.a),r.Mb(l.a),r.Mb(u.a),r.Mb(c.a))},e.\u0275cmp=r.Gb({type:e,selectors:[["app-badge-turn-in"]],decls:45,vars:5,consts:[[1,"flexContainer"],[1,"flexElement"],[4,"ngIf"],[1,"description"],[1,"flexContainer",3,"formGroup"],[1,"input-group","flexElement"],["formControlName","badgeSerialNumber","type","text","id","badgeSerialNumber","placeholder","BadgeSerialNumber"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","tempFahrenheit","type","text","id","tempFahrenheit","placeholder","Temperature Fahrenheit",3,"keyup"],["formControlName","tempCelsius","type","text","id","tempCelsius","placeholder","Temperature Celsius",3,"keyup"],["formControlName","humidity","type","text","id","humidity","placeholder","Relative Humidity"],["formControlName","vaporsExposed","type","text","id","vaporsExposed","placeholder","Vapors Exposed"],["formControlName","turnedInTime","type","datetime-local","id","turnedInTime","placeholder","TurnedInTime"],["formControlName","notes","type","text","id","notes","placeholder","Notes..."],["type","submit","id","submitButton",1,"btn","btn-default",3,"disabled","click"],[3,"value"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Fc(2,h,4,0,"h3",2),r.Fc(3,f,4,0,"h3",2),r.Sb(4,"div",3),r.Sb(5,"span",3),r.Hc(6,"Select desired badge from drop down menu or double click badge in table."),r.Rb(),r.Rb(),r.Rb(),r.Sb(7,"div",1),r.Sb(8,"form",4),r.Sb(9,"div",5),r.Sb(10,"label"),r.Hc(11," Badge Serial Number: "),r.Rb(),r.Sb(12,"select",6),r.Nb(13,"option",7),r.Fc(14,g,2,2,"option",8),r.Rb(),r.Rb(),r.Sb(15,"div",5),r.Sb(16,"label"),r.Hc(17,"Ambient Temperature (\xb0F)"),r.Rb(),r.Sb(18,"input",9),r.dc("keyup",function(){return t.temperatureFahrenheitCalculations()}),r.Rb(),r.Rb(),r.Sb(19,"div",5),r.Sb(20,"label"),r.Hc(21,"Ambient Temperature (\xb0C)"),r.Rb(),r.Sb(22,"input",10),r.dc("keyup",function(){return t.temperatureCelsiusCalculations()}),r.Rb(),r.Rb(),r.Sb(23,"div",5),r.Sb(24,"label"),r.Hc(25,"Relative Humidity"),r.Rb(),r.Nb(26,"input",11),r.Rb(),r.Sb(27,"div",5),r.Sb(28,"label"),r.Hc(29,"Vapors Exposed (If Known)"),r.Rb(),r.Nb(30,"input",12),r.Rb(),r.Sb(31,"div",5),r.Sb(32,"label"),r.Hc(33," Turned In Time: "),r.Rb(),r.Nb(34,"input",13),r.Rb(),r.Sb(35,"div",5),r.Sb(36,"label"),r.Hc(37,"Notes on Badge"),r.Rb(),r.Nb(38,"input",14),r.Rb(),r.Nb(39,"br"),r.Sb(40,"div",1),r.Sb(41,"button",15),r.dc("click",function(){return t.checkBadgeData()}),r.Hc(42," Turn In Badge "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(43,"div",1),r.Nb(44,"app-grid"),r.Rb(),r.Rb()),2&e&&(r.zb(2),r.nc("ngIf",1!==t.userRole),r.zb(1),r.nc("ngIf",1===t.userRole),r.zb(5),r.nc("formGroup",t.badgeInformation),r.zb(6),r.nc("ngForOf",t.badges),r.zb(27),r.nc("disabled",!t.badgeInformation.valid))},directives:[p.u,n.H,n.t,n.l,n.E,n.s,n.j,n.x,n.G,p.t,n.c,d.a],styles:["label[_ngcontent-%COMP%]{min-width:180px;align-content:flex-start}#badgeSerialNumber[_ngcontent-%COMP%]{min-width:100px}#notes[_ngcontent-%COMP%], #turnedInTime[_ngcontent-%COMP%]{align-content:flex-start}#notes[_ngcontent-%COMP%]{min-width:222.85px;min-height:100px}.description[_ngcontent-%COMP%]{align-content:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;-webkit-text-fill-color:#666}"]}),e})()},vkgz:function(e,t,o){"use strict";o.d(t,"a",function(){return s});var n=o("7o/Q"),i=o("KqfI"),r=o("n6bG");function s(e,t,o){return function(n){return n.lift(new a(e,t,o))}}class a{constructor(e,t,o){this.nextOrObserver=e,this.error=t,this.complete=o}call(e,t){return t.subscribe(new l(e,this.nextOrObserver,this.error,this.complete))}}class l extends n.a{constructor(e,t,o,n){super(e),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=o||i.a,this._tapComplete=n||i.a,Object(r.a)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||i.a,this._tapError=t.error||i.a,this._tapComplete=t.complete||i.a)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},w1tV:function(e,t,o){"use strict";o.d(t,"a",function(){return f});var n=o("XNiG"),i=o("HDdC"),r=o("7o/Q"),s=o("quSY");function a(){return function(e){return e.lift(new l(e))}}class l{constructor(e){this.connectable=e}call(e,t){const{connectable:o}=this;o._refCount++;const n=new u(e,o),i=t.subscribe(n);return n.closed||(n.connection=o.connect()),i}}class u extends r.a{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:o}=this,n=e._connection;this.connection=null,!n||o&&n!==o||n.unsubscribe()}}class c extends i.a{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new s.a,e.add(this.source.subscribe(new d(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.a.EMPTY)),e}refCount(){return a()(this)}}const p=(()=>{const e=c.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class d extends n.b{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function h(){return new n.a}function f(){return e=>{return a()((t=h,function(e){let o;o="function"==typeof t?t:function(){return t};const n=Object.create(e,p);return n.source=e,n.subjectFactory=o,n})(e));var t}}},xbPD:function(e,t,o){"use strict";o.d(t,"a",function(){return i});var n=o("7o/Q");function i(e=null){return t=>t.lift(new r(e))}class r{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new s(e,this.defaultValue))}}class s extends n.a{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},xgIS:function(e,t,o){"use strict";o.d(t,"a",function(){return a});var n=o("HDdC"),i=o("DH7j"),r=o("n6bG"),s=o("lJxs");function a(e,t,o,u){return Object(r.a)(o)&&(u=o,o=void 0),u?a(e,t,o).pipe(Object(s.a)(e=>Object(i.a)(e)?u(...e):u(e))):new n.a(n=>{l(e,t,function(e){n.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},n,o)})}function l(e,t,o,n,i){let r;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const n=e;e.addEventListener(t,o,i),r=()=>n.removeEventListener(t,o,i)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const n=e;e.on(t,o),r=()=>n.off(t,o)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const n=e;e.addListener(t,o),r=()=>n.removeListener(t,o)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let r=0,s=e.length;r<s;r++)l(e[r],t,o,n,i)}n.add(r)}},yCtX:function(e,t,o){"use strict";o.d(t,"a",function(){return s});var n=o("HDdC"),i=o("ngJS"),r=o("jZKg");function s(e,t){return t?Object(r.a)(e,t):new n.a(Object(i.a)(e))}},"z+Ro":function(e,t,o){"use strict";function n(e){return e&&"function"==typeof e.schedule}o.d(t,"a",function(){return n})},z6cu:function(e,t,o){"use strict";o.d(t,"a",function(){return i});var n=o("HDdC");function i(e,t){return new n.a(t?o=>t.schedule(r,0,{error:e,subscriber:o}):t=>t.error(e))}function r({error:e,subscriber:t}){t.error(e)}},zUnb:function(e,t,o){"use strict";o.r(t);var n=o("fXoL"),i=o("AytR"),r=o("ofXK");class s extends r.P{constructor(){super()}supportsDOMEvents(){return!0}}class a extends s{static makeCurrent(){Object(r.T)(new a)}getProperty(e,t){return e[t]}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(e,t,o){return e.addEventListener(t,o,!1),()=>{e.removeEventListener(t,o,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}getValue(e){return e.value}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=u||(u=document.querySelector("base"),u)?u.getAttribute("href"):null;return null==t?null:(o=t,l||(l=document.createElement("a")),l.setAttribute("href",o),"/"===l.pathname.charAt(0)?l.pathname:"/"+l.pathname);var o}resetBaseElement(){u=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return Object(r.S)(document.cookie,e)}}let l,u=null;const c=new n.s("TRANSITION_ID"),p=[{provide:n.d,useFactory:function(e,t,o){return()=>{o.get(n.e).donePromise.then(()=>{const o=Object(r.R)();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>o.remove(e))})}},deps:[c,r.e,n.t],multi:!0}];class d{static init(){Object(n.X)(new d)}addToWindow(e){n.ob.getAngularTestability=(t,o=!0)=>{const n=e.findTestabilityInTree(t,o);if(null==n)throw new Error("Could not find testability for element.");return n},n.ob.getAllAngularTestabilities=()=>e.getAllTestabilities(),n.ob.getAllAngularRootElements=()=>e.getAllRootElements(),n.ob.frameworkStabilizers||(n.ob.frameworkStabilizers=[]),n.ob.frameworkStabilizers.push(e=>{const t=n.ob.getAllAngularTestabilities();let o=t.length,i=!1;const r=function(t){i=i||t,o--,0==o&&e(i)};t.forEach(function(e){e.whenStable(r)})})}findTestabilityInTree(e,t,o){if(null==t)return null;const n=e.getTestability(t);return null!=n?n:o?Object(r.R)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}const h=new n.s("EventManagerPlugins");let f=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,o){return this._findPluginFor(t).addEventListener(e,t,o)}addGlobalEventListener(e,t,o){return this._findPluginFor(t).addGlobalEventListener(e,t,o)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const o=this._plugins;for(let n=0;n<o.length;n++){const t=o[n];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error("No event manager plugin found for event "+e)}}return e.\u0275fac=function(t){return new(t||e)(n.ac(h),n.ac(n.B))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac}),e})();class g{constructor(e){this._doc=e}addGlobalEventListener(e,t,o){const n=Object(r.R)().getGlobalEventTarget(this._doc,e);if(!n)throw new Error(`Unsupported event target ${n} for event ${t}`);return this.addEventListener(n,t,o)}}let m=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac}),e})(),y=(()=>{class e extends m{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const o=this._doc.createElement("style");o.textContent=e,this._styleNodes.add(t.appendChild(o))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>Object(r.R)().remove(e))}}return e.\u0275fac=function(t){return new(t||e)(n.ac(r.e))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac}),e})();const v={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},C=/%COMP%/g;function b(e,t,o){for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?b(e,i,o):(i=i.replace(C,e),o.push(i))}return o}function w(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let E=(()=>{class e{constructor(e,t,o){this.eventManager=e,this.sharedStylesHost=t,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new R(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case n.R.Emulated:{let o=this.rendererByCompId.get(t.id);return o||(o=new _(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,o)),o.applyToHost(e),o}case n.R.Native:case n.R.ShadowDom:return new S(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=b(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(n.ac(f),n.ac(y),n.ac(n.c))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac}),e})();class R{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(v[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,o){e&&e.insertBefore(t,o)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let o="string"==typeof e?document.querySelector(e):e;if(!o)throw new Error(`The selector "${e}" did not match any elements`);return t||(o.textContent=""),o}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,o,n){if(n){t=n+":"+t;const i=v[n];i?e.setAttributeNS(i,t,o):e.setAttribute(t,o)}else e.setAttribute(t,o)}removeAttribute(e,t,o){if(o){const n=v[o];n?e.removeAttributeNS(n,t):e.removeAttribute(`${o}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,o,i){i&n.H.DashCase?e.style.setProperty(t,o,i&n.H.Important?"important":""):e.style[t]=o}removeStyle(e,t,o){o&n.H.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,o){e[t]=o}setValue(e,t){e.nodeValue=t}listen(e,t,o){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,w(o)):this.eventManager.addEventListener(e,t,w(o))}}class _ extends R{constructor(e,t,o,n){super(e),this.component=o;const i=b(n+"-"+o.id,o.styles,[]);t.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(C,n+"-"+o.id),this.hostAttr="_nghost-%COMP%".replace(C,n+"-"+o.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const o=super.createElement(e,t);return super.setAttribute(o,this.contentAttr,""),o}}class S extends R{constructor(e,t,o,i){super(e),this.sharedStylesHost=t,this.hostEl=o,this.component=i,this.shadowRoot=i.encapsulation===n.R.ShadowDom?o.attachShadow({mode:"open"}):o.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const r=b(i.id,i.styles,[]);for(let n=0;n<r.length;n++){const e=document.createElement("style");e.textContent=r[n],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,o){return super.insertBefore(this.nodeOrShadowRoot(e),t,o)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let O=(()=>{class e extends g{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,o){return e.addEventListener(t,o,!1),()=>this.removeEventListener(e,t,o)}removeEventListener(e,t,o){return e.removeEventListener(t,o)}}return e.\u0275fac=function(t){return new(t||e)(n.ac(r.e))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac}),e})();const D=["alt","control","meta","shift"],P={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},T={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},A={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let F=(()=>{class e extends g{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,o,n){const i=e.parseEventName(o),s=e.eventCallback(i.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Object(r.R)().onAndCancel(t,i.domEventName,s))}static parseEventName(t){const o=t.toLowerCase().split("."),n=o.shift();if(0===o.length||"keydown"!==n&&"keyup"!==n)return null;const i=e._normalizeKey(o.pop());let r="";if(D.forEach(e=>{const t=o.indexOf(e);t>-1&&(o.splice(t,1),r+=e+".")}),r+=i,0!=o.length||0===i.length)return null;const s={};return s.domEventName=n,s.fullKey=r,s}static getEventFullKey(e){let t="",o=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&T.hasOwnProperty(t)&&(t=T[t]))}return P[t]||t}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),D.forEach(n=>{n!=o&&(0,A[n])(e)&&(t+=n+".")}),t+=o,t}static eventCallback(t,o,n){return i=>{e.getEventFullKey(i)===t&&n.runGuarded(()=>o(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(n.ac(r.e))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac}),e})();const N=[{provide:n.D,useValue:r.Q},{provide:n.E,useValue:function(){a.makeCurrent(),d.init()},multi:!0},{provide:r.e,useFactory:function(){return Object(n.tb)(document),document},deps:[]}],x=Object(n.S)(n.W,"browser",N),I=[[],{provide:n.Z,useValue:"root"},{provide:n.n,useFactory:function(){return new n.n},deps:[]},{provide:h,useClass:O,multi:!0,deps:[r.e,n.B,n.D]},{provide:h,useClass:F,multi:!0,deps:[r.e]},[],{provide:E,useClass:E,deps:[f,y,n.c]},{provide:n.G,useExisting:E},{provide:m,useExisting:y},{provide:y,useClass:y,deps:[r.e]},{provide:n.N,useClass:n.N,deps:[n.B]},{provide:f,useClass:f,deps:[h,n.B]},[]];let M=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:n.c,useValue:t.appId},{provide:c,useExisting:n.c},p]}}}return e.\u0275mod=n.Kb({type:e}),e.\u0275inj=n.Jb({factory:function(t){return new(t||e)(n.ac(e,12))},providers:I,imports:[r.c,n.f]}),e})();"undefined"!=typeof window&&window;var L=o("1kSV"),G=o("Wl7B"),k=o("ppW+"),V=o("Bx/L"),H=o("O1s9"),W=o("flj8"),B=o("quSY"),j=o("gA3Z"),U=o("Tv8v"),z=o("EFyh"),K=o("qfBg"),Y=o("tk/3"),q=o("6Svq"),$=o("tyNb");function Q(e,t){if(1&e){const e=n.Tb();n.Sb(0,"div",1),n.dc("click",function(){return n.xc(e),n.gc().close()}),n.Sb(1,"div",2),n.dc("click",function(){return n.xc(e),n.gc().close()}),n.Sb(2,"span",3),n.dc("click",function(){return n.xc(e),n.gc().close()}),n.Hc(3,"\xd7"),n.Rb(),n.Sb(4,"p"),n.Hc(5),n.Rb(),n.Rb(),n.Rb()}if(2&e){const e=n.gc();n.zb(5),n.Ic(e.contextString)}}let X=(()=>{class e{constructor(e){this.modalWindowService=e,this.contextString=null,this.presentWindow=!1,this.subscriptions=new B.a}setContext(e){this.contextString=e,console.log("context set to "+e),this.presentWindow=null!=this.contextString}ngOnInit(){this.subscriptions.add(this.modalWindowService.modalContextUpdated.subscribe(e=>{this.setContext(e)}))}close(){this.setContext(null)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(j.a))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-modal-window"]],decls:1,vars:1,consts:[["class","modal",3,"click",4,"ngIf"],[1,"modal",3,"click"],[1,"modal-content",3,"click"],["id","pane",1,"close",3,"click"]],template:function(e,t){1&e&&n.Fc(0,Q,6,1,"div",0),2&e&&n.nc("ngIf",t.presentWindow)},directives:[r.u],styles:["body[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif}.modal[_ngcontent-%COMP%]{display:block;position:fixed;z-index:2;padding-top:100px;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:auto;padding:20px;border:1px solid #888;width:-webkit-max-content;width:max-content;max-width:60%;text-align:center}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:focus, .close[_ngcontent-%COMP%]:hover{color:#000;text-decoration:none;cursor:pointer}.description[_ngcontent-%COMP%]{align-content:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;-webkit-text-fill-color:#666}"]}),e})();function Z(e,t){1&e&&n.Ob(0)}const J=function(e){return[e]};function ee(e,t){if(1&e&&(n.Sb(0,"a",15),n.Hc(1),n.Rb()),2&e){const e=n.gc(2).$implicit;n.nc("routerLink",n.rc(2,J,"/"+e.path)),n.zb(1),n.Ic(e.label)}}function te(e,t){if(1&e&&n.Fc(0,ee,2,4,"a",14),2&e){const e=n.gc().$implicit;n.nc("ngIf",!e.hasOwnProperty("children"))}}function oe(e,t){if(1&e&&(n.Sb(0,"a"),n.Hc(1),n.Nb(2,"span",18),n.Rb()),2&e){const e=n.gc(2).$implicit;n.zb(1),n.Jc("",e.label," ")}}function ne(e,t){if(1&e&&(n.Sb(0,"li",21),n.Sb(1,"a",15),n.Hc(2),n.Rb(),n.Rb()),2&e){const e=t.$implicit,o=n.gc(3).$implicit;n.zb(1),n.nc("routerLink",n.rc(2,J,"/"+o.path+"/"+e.path)),n.zb(1),n.Ic(e.label)}}function ie(e,t){if(1&e&&(n.Sb(0,"ul",19),n.Fc(1,ne,3,4,"li",20),n.Rb()),2&e){const e=n.gc(2).$implicit;n.zb(1),n.nc("ngForOf",e.children)}}function re(e,t){if(1&e&&(n.Fc(0,oe,3,1,"a",16),n.Fc(1,ie,2,1,"ul",17)),2&e){const e=n.gc().$implicit;n.nc("ngIf",e.hasOwnProperty("children")),n.zb(1),n.nc("ngIf",e.hasOwnProperty("children"))}}function se(e,t){if(1&e&&(n.Sb(0,"li",10),n.Fc(1,Z,1,0,"ng-container",11),n.Fc(2,te,1,1,"ng-template",null,12,n.Gc),n.Fc(4,re,2,2,"ng-template",null,13,n.Gc),n.Rb()),2&e){const e=t.$implicit,o=n.vc(3),i=n.vc(5);n.zb(1),n.nc("ngIf",e.hasOwnProperty("children"))("ngIfThen",i)("ngIfElse",o)}}let ae=(()=>{class e{constructor(e,t,o,n){this.loginService=e,this.userService=t,this.modalService=o,this.httpClient=n,this.maintenanceTime="",this.maintenanceEndTime="",this.maintenanceText="",this.userSubscription=new B.a,this.cssWrapperOverrideValue="base-wrapper"}evaluateMaintenance(){if(null==this.maintenanceTime||""===this.maintenanceTime)return"";const e=Date.parse(this.maintenanceTime),t=Date.now(),o=e-72e5;if(t>e){if(null===this.maintenanceEndTime||""===this.maintenanceEndTime){const e="The Site is will be under maintenance at: "+this.maintenanceTime;return this.modalService.setModalContext(e),e}const e="The Site is expected to be under maintenance until: "+this.maintenanceEndTime;return this.modalService.setModalContext(e),e}if(t>o){this.loginService.setMaintenanceLogOut(t,e);const o="The Site will be undergoing Maintenance at: "+this.maintenanceTime;return this.modalService.setModalContext(o),o}return""}ngOnInit(){this.userSubscription=this.userService.activeUser$.subscribe(e=>{this.user=e,this.cssWrapperOverrideValue=e&&e.userId>0?"override-wrapper-home":"base-wrapper"}),this.userSubscription.add(this.loginService.logoutEvent.subscribe(e=>{e&&this.modalService.setModalContext("Active user has been disconnected.")})),this.loginService.getMaintenanceTime().subscribe(e=>{e[0].id>0&&(this.loginService.maintenanceTime=e[0].maintenance_time,this.loginService.maintenanceEndTime=e[0].maintenance_end_time,this.maintenanceTime=this.loginService.maintenanceTime,this.maintenanceEndTime=this.loginService.maintenanceEndTime,this.maintenanceText=this.evaluateMaintenance())}),this.loginService.maintTime.subscribe(e=>{this.maintenanceTime=e,this.maintenanceText=this.evaluateMaintenance()}),this.loginService.maintEndTime.subscribe(e=>{this.maintenanceEndTime=e,this.maintenanceText=this.evaluateMaintenance()})}ngOnDestroy(){this.userSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(z.a),n.Mb(K.a),n.Mb(j.a),n.Mb(Y.b))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-root"]],features:[n.yb([G.a,k.b,U.a,V.a,H.a,W.a,j.a])],decls:20,vars:7,consts:[[3,"cssWrapperOverride"],[3,"ngClass"],[1,"flex-header-container",3,"ngClass"],["src","assets/airotectLogoLandscape.png","alt","company logo",1,"company-logo"],[1,"maintenance-banner","maintenance-banner-active",3,"hidden"],[1,"user-banner"],["src","assets/account_circle_black_36px.png","alt","user logo",1,"user-logo"],[1,"otnav","nav","nav-main"],["class","top-level","routerLinkActive","active",4,"ngFor","ngForOf"],[1,"override-footer"],["routerLinkActive","active",1,"top-level"],[4,"ngIf","ngIfThen","ngIfElse"],["normal",""],["subRoutes",""],[3,"routerLink",4,"ngIf"],[3,"routerLink"],[4,"ngIf"],["class","dropdown-menu",4,"ngIf"],[1,"glyphicon","glyphicon-chevron-down"],[1,"dropdown-menu"],["class","dm",4,"ngFor","ngForOf"],[1,"dm"]],template:function(e,t){1&e&&(n.Sb(0,"app-layout-wrapper",0),n.Sb(1,"header",1),n.Sb(2,"div",2),n.Nb(3,"img",3),n.Sb(4,"label",4),n.Hc(5),n.Rb(),n.Sb(6,"label",5),n.Hc(7),n.Rb(),n.Nb(8,"img",6),n.Rb(),n.Rb(),n.Sb(9,"nav"),n.Sb(10,"ul",7),n.Fc(11,se,6,3,"li",8),n.Rb(),n.Rb(),n.Sb(12,"article"),n.Nb(13,"router-outlet"),n.Rb(),n.Nb(14,"aside"),n.Nb(15,"div"),n.Sb(16,"footer"),n.Sb(17,"label",9),n.Hc(18,"Powered by Angular - Long Wave Inc."),n.Rb(),n.Rb(),n.Rb(),n.Nb(19,"app-modal-window")),2&e&&(n.nc("cssWrapperOverride",t.cssWrapperOverrideValue),n.zb(1),n.nc("ngClass",""!==t.maintenanceText?"maintenance-banner-active":""),n.zb(1),n.nc("ngClass",""!==t.maintenanceText?"maintenance-banner-active":""),n.zb(2),n.nc("hidden",""===t.maintenanceText),n.zb(1),n.Jc(" ",t.maintenanceText," "),n.zb(2),n.Ic(t.user.username),n.zb(4),n.nc("ngForOf",t.user.routes))},directives:[q.a,r.r,r.t,$.f,X,$.c,r.u,$.d],styles:["a.btn-info[_ngcontent-%COMP%], a.btn-info[_ngcontent-%COMP%]:link, a.btn-info[_ngcontent-%COMP%]:visited, a.btn-primary[_ngcontent-%COMP%], a.btn-primary[_ngcontent-%COMP%]:link, a.btn-primary[_ngcontent-%COMP%]:visited{color:#fff}.btn-primary[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus, .pagination[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover, .pagination[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:focus, .pagination[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:hover{background-color:#11375c;border:none}.btn-primary.active[_ngcontent-%COMP%], .btn-primary.focus[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:active, .btn-primary[_ngcontent-%COMP%]:focus, .btn-primary[_ngcontent-%COMP%]:hover, .open[_ngcontent-%COMP%] > .dropdown-toggle.btn-primary[_ngcontent-%COMP%]{background-color:#15416d;border:none}body[_ngcontent-%COMP%]{background:top no-repeat #11375c fixed;background-size:cover}.wrapper[_ngcontent-%COMP%]{box-shadow:0 2px 12px 0 rgba(0,0,0,.5);background:#e1e1e1;margin:0 auto;max-width:1200px;padding:0 15px}.nopad[_ngcontent-%COMP%]{padding:0}h1[_ngcontent-%COMP%]{font-weight:700}img[_ngcontent-%COMP%]{max-width:100%;height:auto}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:link, a[_ngcontent-%COMP%]:visited{color:#084476}a[_ngcontent-%COMP%]:hover{color:#b41019}a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:hover{text-decoration:none}.visuallyhidden[_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.header-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0}.otnav[_ngcontent-%COMP%]{background:#222}.otnav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover > ul[_ngcontent-%COMP%]{display:inline-table}.dropdown-menu[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus, .dropdown-menu[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{background-color:transparent}.dropdown-menu.hang-left[_ngcontent-%COMP%]{left:auto;right:0}.dropdown-menu.hang-left-sub[_ngcontent-%COMP%]{left:auto;right:100%}.otnav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0}.otnav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;float:left}.otnav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:5px;color:#fefefe;margin-top:-2px}.otnav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:5px;color:#fefefe;margin-top:0}.otnav[_ngcontent-%COMP%]   li.top-level[_ngcontent-%COMP%]{border:solid hsla(0,0%,100%,.1);border-width:0 1px 0 0}.otnav[_ngcontent-%COMP%]   li.top-level[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-family:Orbitron,sans-serif;text-transform:uppercase;color:#fefefe;font-weight:700;padding-bottom:8px}.otnav[_ngcontent-%COMP%]   li.top-level[_ngcontent-%COMP%]:hover > a[_ngcontent-%COMP%]{color:#fff;background-color:#1b73ba}.otnav[_ngcontent-%COMP%]   li.top-level.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{background:#274397}.otnav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-transform:none;text-decoration:none;font-weight:400}.otnav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:none}.otnav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, .otnav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;background:#11375c}.otnav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:5px;border-top-left-radius:0;border-top-right-radius:0;background:#11375c;margin:0;border:0}.otnav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;padding:8px 30px 8px 5px;margin:0 3px}.otnav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{left:100%;top:0;margin:-5px 0 0}.otnav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#133c6a;color:#fff}.otnav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;right:10px;float:right}.otnav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#133c6a;color:#fff}footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none!important;list-style-type:none;margin:0}footer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:block;text-transform:uppercase;font-family:Orbitron,sans-serif;color:#333;border-bottom:1px solid #b9b9b9;margin:0 0 10px;padding:0 0 5px;box-shadow:0 1px 0 hsla(0,0%,100%,.1)}.otnav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{background-color:#417baf}.otnav[_ngcontent-%COMP%]   li.top-level.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#fefefe;background:#11375c}.otnav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{background-color:#417baf}.company-logo[_ngcontent-%COMP%]{max-width:15%;min-width:175px;height:auto;max-height:6vh;min-height:36px;margin-right:auto}.flex-header-container[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;margin-left:5px;margin-right:5px;padding-top:5px}.user-banner[_ngcontent-%COMP%], .user-logo[_ngcontent-%COMP%]{align-self:center}.user-banner[_ngcontent-%COMP%]{flex:0 0 auto;text-align:right;font-size:medium;margin:0}.maintenance-banner[_ngcontent-%COMP%]{flex:1 0 auto;font-size:large;font-weight:bolder;text-align:center;align-self:center;margin:auto}.maintenance-banner-active[_ngcontent-%COMP%]{background-color:#f93822;color:#fdd20e}.override-footer[_ngcontent-%COMP%]{color:#fff;text-align:right;width:100%;margin:0;background-color:#333;padding:10px}"]}),e})(),le=(()=>{class e{constructor(e){this.loginService=e}onAccept(){this.loginService.acceptGovernmentWarning()}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(z.a))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-government-warning"]],decls:6,vars:0,consts:[[1,"flexContainer"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(n.Sb(0,"div",0),n.Sb(1,"label"),n.Hc(2,' "You are accessing a U.S. Government information system, which includes: 1) this computer, 2) this computer network, 3) all Government-furnished computers connected to this network, and 4) all Government-furnished devices and storage media attached to this network or to a computer on this network. You understand and consent to the following: you may access this information system for authorized use only; unauthorized use of the system is prohibited and subject to criminal and civil penalties; you have no reasonable expectation of privacy regarding any communication or data transiting or stored on this information system at any time and/or any lawful Government purpose, the Government may monitor, intercept, audit, and search and seize any communication or data transiting or stored this information system; and any communications or data transiting or stored on this information system may be disclosed or used for any lawful Government purpose. This information system may contain Controlled Unclassified Information (CUI) that is subject to safeguarding or dissemination controls in accordance with law, regulation, or Government-wide policy. Accessing and using this system indicates your understanding of this warning." '),n.Rb(),n.Nb(3,"br"),n.Sb(4,"button",1),n.dc("click",function(){return t.onAccept()}),n.Hc(5,"Accept"),n.Rb(),n.Rb())},styles:[".flexContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:10px}button[_ngcontent-%COMP%]{min-width:200px}.flexContainer[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{font-family:Arial Narrow,serif;font-size:1.25em;text-align:center}"]}),e})(),ue=(()=>{class e{constructor(e){this.loginService=e}onAcceptHIPAA(){this.loginService.acceptHippaAgreement()}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(z.a))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-hipaa-warning"]],decls:9,vars:0,consts:[[1,"flexContainer"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(n.Sb(0,"div",0),n.Sb(1,"label"),n.Hc(2," To the extent the information in this data repository platform "),n.Sb(3,"em"),n.Hc(4,'(hereinafter referred to as "DRP")'),n.Rb(),n.Hc(5,' and any documents procured contain protected health information as defined by the Health Insurance Portability and Accountability Act of 1996 ("HIPAA"), PL 104-191; 45 CFR Parts 160 and 164; it is confidential and/or privileged. The DRP is for the use of only the individuals or entities approved with prior authorization. If you are not an authorized individual, or any authorized representative of an authorized entity, you are hereby notified that any review, dissemination, or copying of information and/or its procured documents is strictly prohibited. '),n.Rb(),n.Nb(6,"br"),n.Sb(7,"button",1),n.dc("click",function(){return t.onAcceptHIPAA()}),n.Hc(8,"Accept"),n.Rb(),n.Rb())},styles:[".flexContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:10px;height:inherit}button[_ngcontent-%COMP%]{min-width:200px}.flexContainer[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{font-family:Arial Narrow,serif;font-size:1.25em;text-align:center}"]}),e})();var ce=o("3Pt+");function pe(e,t){1&e&&(n.Sb(0,"div"),n.Nb(1,"app-government-warning"),n.Rb())}function de(e,t){1&e&&(n.Sb(0,"div"),n.Nb(1,"app-hipaa-warning"),n.Rb())}function he(e,t){if(1&e){const e=n.Tb();n.Sb(0,"div",15),n.Sb(1,"label",16),n.Hc(2," New Password:"),n.Rb(),n.Sb(3,"input",17),n.dc("keydown",function(){return n.xc(e),n.gc(2).resetErrorText()})("keydown.enter",function(){return n.xc(e),n.gc(2).onLogin()})("ngModelChange",function(t){return n.xc(e),n.gc(2).newPassword=t}),n.Rb(),n.Sb(4,"span",8),n.Nb(5,"i",12),n.Rb(),n.Rb()}if(2&e){const e=n.gc(2);n.zb(3),n.nc("ngModel",e.newPassword)}}function fe(e,t){if(1&e){const e=n.Tb();n.Sb(0,"div",18),n.Sb(1,"label",19),n.Hc(2," Confirm Password:"),n.Rb(),n.Sb(3,"input",20),n.dc("keydown",function(){return n.xc(e),n.gc(2).resetErrorText()})("keydown.enter",function(){return n.xc(e),n.gc(2).onLogin()})("ngModelChange",function(t){return n.xc(e),n.gc(2).confirmPassword=t}),n.Rb(),n.Sb(4,"span",8),n.Nb(5,"i",12),n.Rb(),n.Rb()}if(2&e){const e=n.gc(2);n.zb(3),n.nc("ngModel",e.confirmPassword)}}function ge(e,t){if(1&e){const e=n.Tb();n.Sb(0,"div"),n.Sb(1,"div",5),n.Sb(2,"label",6),n.Hc(3," Username:"),n.Rb(),n.Sb(4,"input",7),n.dc("keydown",function(){return n.xc(e),n.gc().resetErrorText()})("ngModelChange",function(t){return n.xc(e),n.gc().username=t}),n.Rb(),n.Sb(5,"span",8),n.Nb(6,"i",9),n.Rb(),n.Rb(),n.Sb(7,"div",5),n.Sb(8,"label",10),n.Hc(9," Password:"),n.Rb(),n.Sb(10,"input",11),n.dc("keydown",function(){return n.xc(e),n.gc().resetErrorText()})("keydown.enter",function(){return n.xc(e),n.gc().onLogin()})("ngModelChange",function(t){return n.xc(e),n.gc().password=t}),n.Rb(),n.Sb(11,"span",8),n.Nb(12,"i",12),n.Rb(),n.Rb(),n.Fc(13,he,6,1,"div",13),n.Fc(14,fe,6,1,"div",14),n.Rb()}if(2&e){const e=n.gc();n.zb(4),n.nc("ngModel",e.username),n.zb(6),n.nc("ngModel",e.password),n.zb(3),n.nc("ngIf",e.passwordIsExpired),n.zb(1),n.nc("ngIf",e.passwordIsExpired)}}function me(e,t){if(1&e){const e=n.Tb();n.Sb(0,"footer",5),n.Sb(1,"button",21),n.dc("click",function(){return n.xc(e),n.gc().onLogin()}),n.Hc(2),n.Rb(),n.Rb()}if(2&e){const e=n.gc();n.zb(2),n.Jc(" ",e.buttonText," ")}}let ye=(()=>{class e{constructor(e,t){this.loginService=e,this.router=t,this.loginAttempted=!1,this.isWaiting=!1,this.error="",this.maintenance=null,this.maintenanceEndTime=null,this.hippaFlag=!1,this.governmentFlag=!1,this.passwordIsExpired=!1,this.buttonText="Login"}ngOnInit(){this.authUserSub=this.loginService.authUser.subscribe(e=>{if(this.isWaiting=!1,e&&(null==e?void 0:e.userId)<0&&this.passwordIsExpired)return this.passwordIsExpired=!1,this.error="Successfully updated your password! Please log in again.",this.confirmPassword=this.newPassword=this.password="",void(this.buttonText="Login");this.hippaFlag=e.hippaFlag,this.governmentFlag=e.governmentFlag,void 0===(null==e?void 0:e.userId)||(null==e?void 0:e.userId)<0?this.error=this.username=this.password="":0===(null==e?void 0:e.userId)?(this.error="",this.error=null!==e.maintenanceTime?"The server is currently under maintenance":(null==e?void 0:e.accountLocked)?"The user account has been locked. Contact your administrator.":"The credentials entered were either incorrect or not found. Please try again.",console.log(this.error),this.loginAttempted=!0,this.password=""):this.isPasswordExpired(null==e?void 0:e.passwordExpiredDate,0)?(console.debug("Password is expired."),this.passwordIsExpired=!0,this.password="",this.error="Password has expired. Update password to login.",this.buttonText="Update Password"):this.navigateIntoSite("home")},e=>{console.warn(e.message),this.buttonText="Login",this.hippaFlag=!1,this.governmentFlag=!1,this.isWaiting=!1},()=>{this.isWaiting=!1})}navigateIntoSite(e){this.router.navigate([e]).then(()=>this.authUserSub.unsubscribe())}isPasswordExpired(e,t=0){return void 0!==e&&("string"==typeof e&&(e=new Date(e)),e.valueOf()+t<Date.now().valueOf())}showGovernmentWarning(){return!0!==this.governmentFlag}showHipaaAgreement(){return this.governmentFlag&&!0!==this.hippaFlag}showLoginForm(){return this.governmentFlag&&this.hippaFlag}onLogin(){if(this.isWaiting=!0,this.passwordIsExpired){if(this.password===this.newPassword)return this.error="New password cannot be the same as your previous password.",void(this.password=this.newPassword=this.confirmPassword="");if(this.newPassword!==this.confirmPassword)return this.error="New password mismatch. Please enter your new password.",void(this.password=this.newPassword=this.confirmPassword="");if(this.newPassword.length<1)return this.error="Please enter a new password.",void(this.password=this.newPassword=this.confirmPassword="");if(this.confirmPassword.length<1)return this.error="Confirm password mismatch. Please reconfirm your new password.",void(this.password=this.newPassword=this.confirmPassword="");this.loginService.changeCredentials(this.newPassword)}else this.loginService.checkCredentials(this.username,this.password)}resetErrorText(){this.passwordIsExpired||(this.error="")}ngOnDestroy(){this.authUserSub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(z.a),n.Mb($.a))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-login"]],decls:9,vars:6,consts:[["cssWrapperOverride","override-wrapper-login"],[1,"flex-container","user-feedback"],[2,"background-color","#f93822ff","color","#fdd20eff",3,"hidden"],[4,"ngIf"],["class","flex-container",4,"ngIf"],[1,"flex-container"],["for","usr"],["id","usr","autocomplete","username","placeholder","Username","type","text",3,"ngModel","keydown","ngModelChange"],[1,"input-group-addon","flex-span"],[1,"glyphicon","glyphicon-user"],["for","pw"],["id","pw","autocomplete","current-password","placeholder","Password","type","password",3,"ngModel","keydown","keydown.enter","ngModelChange"],[1,"glyphicon","glyphicon-lock"],["class","flex-container custom-margin-right-1",4,"ngIf"],["class","flex-container custom-margin-right-2",4,"ngIf"],[1,"flex-container","custom-margin-right-1"],["for","new_password"],["id","new_password","placeholder","New Password","type","password",3,"ngModel","keydown","keydown.enter","ngModelChange"],[1,"flex-container","custom-margin-right-2"],["for","confirm_password"],["id","confirm_password","placeholder","Confirm Password","type","password",3,"ngModel","keydown","keydown.enter","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(n.Sb(0,"app-layout-wrapper",0),n.Sb(1,"header",1),n.Sb(2,"p",2),n.Hc(3),n.Rb(),n.Rb(),n.Sb(4,"article"),n.Fc(5,pe,2,0,"div",3),n.Fc(6,de,2,0,"div",3),n.Fc(7,ge,15,4,"div",3),n.Rb(),n.Fc(8,me,3,1,"footer",4),n.Rb()),2&e&&(n.zb(2),n.nc("hidden",""===t.error),n.zb(1),n.Jc(" ",t.error," "),n.zb(2),n.nc("ngIf",t.showGovernmentWarning()),n.zb(1),n.nc("ngIf",t.showHipaaAgreement()),n.zb(1),n.nc("ngIf",t.showLoginForm()),n.zb(1),n.nc("ngIf",t.showLoginForm()))},directives:[q.a,r.u,le,ue,ce.c,ce.s,ce.v],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;margin:10px 0}.flex-container[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{text-align:right;margin:0 5px}.flex-span[_ngcontent-%COMP%]{display:flex;width:5%;min-width:50px}.flex-span[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin:auto}.user-feedback[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-weight:bolder;font-size:larger}input[_ngcontent-%COMP%]{text-align:center;min-width:150px;align-self:stretch}button[_ngcontent-%COMP%]{min-width:200px}footer[_ngcontent-%COMP%]{background-color:#e1e1e1}.custom-margin-right-1[_ngcontent-%COMP%]{margin-right:32px}.custom-margin-right-2[_ngcontent-%COMP%]{margin-right:57px}"]}),e})(),ve=(()=>{class e{constructor(e,t){this.templateRef=e,this.viewContainerRef=t}set appUserComponentSelector(e){e?(console.log("Creating an embedded view."),this.viewContainerRef.createEmbeddedView(this.templateRef)):(console.log("Clearing the view container."),this.viewContainerRef.clear())}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.M),n.Mb(n.Q))},e.\u0275dir=n.Hb({type:e,selectors:[["","appUserComponentSelector",""]],inputs:{appUserComponentSelector:"appUserComponentSelector"}}),e})();var Ce=o("fVDX"),be=o("Ludi"),we=o("cWTo"),Ee=o("RkJb");let Re=(()=>{class e{constructor(e,t){this.loginService=e,this.router=t,this.errorCode=this.loginService.getErrorCode(),0!==this.errorCode&&this.determineError()}setErrorMessage(e){this.errorMessage=e}determineError(){switch(this.errorCode){case 400:this.errorMessage="Client Side Error: malformed syntax or file size is too large.";break;case 401:this.errorMessage="Unauthorized Access Attempt: User does not have access to restricted content.";break;case 403:this.errorMessage="Server Side Error: Server has actively refused permissions to this client.";break;case 404:this.errorMessage="Page Not Found: The requested page could not be found.";break;case 408:this.errorMessage="Request Time Out: Server has taken too long to respond.";break;default:this.errorMessage="The requested URL /ErroneousUrl was not found on this server. That's all we know."}}returnToPreviousPage(){const e=this.loginService.getReturnUrl();e.trimRight(),this.router.navigate([e])}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(z.a),n.Mb($.a))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-page-not-found"]],decls:14,vars:2,consts:[[1,"flexElement"],["type","submit","id","submitButton",1,"btn","btn-default",3,"click"]],template:function(e,t){1&e&&(n.Sb(0,"h2"),n.Hc(1,"XploSafe"),n.Rb(),n.Sb(2,"h3"),n.Sb(3,"b"),n.Sb(4,"strong"),n.Hc(5),n.Rb(),n.Rb(),n.Sb(6,"b"),n.Hc(7,"That's an error."),n.Rb(),n.Rb(),n.Nb(8,"br"),n.Sb(9,"h3"),n.Hc(10),n.Rb(),n.Sb(11,"div",0),n.Sb(12,"button",1),n.dc("click",function(){return t.returnToPreviousPage()}),n.Hc(13," Back "),n.Rb(),n.Rb()),2&e&&(n.zb(5),n.Ic(t.errorCode),n.zb(5),n.Ic(t.errorMessage))},styles:[".description[_ngcontent-%COMP%]{align-content:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;-webkit-text-fill-color:#666}"]}),e})();var _e=o("p3Fh");const Se=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:ye},{path:"",loadChildren:()=>o.e(5).then(o.bind(null,"OCcC")).then(e=>e.UserRoutingRoutingModule),canActivate:[_e.a],canActivateChild:[_e.a]},{path:"not-found",component:Re,canActivate:[_e.a]},{path:"**",redirectTo:"/not-found"}];let Oe=(()=>{class e{}return e.\u0275mod=n.Kb({type:e}),e.\u0275inj=n.Jb({factory:function(t){return new(t||e)},imports:[[$.e.forRoot(Se)],$.e]}),e})();var De=o("5gjg"),Pe=o("9Rx7"),Te=o("4OWq"),Ae=o("AazU"),Fe=o("Ohp3");let Ne=(()=>{class e{constructor(e){this.el=e}onInputChange(e){const t=this.el.nativeElement.value;this.el.nativeElement.value=t.replace(/[^0-9A-Za-z-]*/g,""),t!==this.el.nativeElement.value&&e.stopPropagation()}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.m))},e.\u0275dir=n.Hb({type:e,selectors:[["","alphaNumericOnly",""]],hostBindings:function(e,t){1&e&&n.dc("input",function(e){return t.onInputChange(e)})}}),e})();var xe=o("TTrR"),Ie=o("7pIB"),Me=o("F24V"),Le=o("T8TK"),Ge=o("vCpy");let ke=(()=>{class e{constructor(e){this.el=e}onInputChange(e){const t=this.el.nativeElement.value;this.el.nativeElement.value=t.replace(/[^0-9]*/g,""),t!==this.el.nativeElement.value&&e.stopPropagation()}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.m))},e.\u0275dir=n.Hb({type:e,selectors:[["","numericOnly",""]],hostBindings:function(e,t){1&e&&n.dc("input",function(e){return t.onInputChange(e)})}}),e})();var Ve=o("+lv+"),He=o("Yg26"),We=o("/OYx"),Be=o("1sg0"),je=o("rBUq"),Ue=o("Jqc3"),ze=o("Egam");let Ke=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Gb({type:e,selectors:[["app-histogram-bar"]],inputs:{bar:"bar"},decls:3,vars:5,consts:[[1,"element"],["id","coloredBar",1,"element"]],template:function(e,t){1&e&&(n.Sb(0,"label",0),n.Hc(1),n.Rb(),n.Nb(2,"div",1)),2&e&&(n.zb(1),n.Ic(t.bar.height),n.zb(1),n.Ec("height",t.bar.height,"px")("background",t.bar.colour))},styles:["*[_ngcontent-%COMP%]{width:100%}#coloredBar[_ngcontent-%COMP%]{border-radius:2px;min-width:2ch;max-width:3ch}label[_ngcontent-%COMP%]{display:inline-block;text-align:center}"]}),e})();function Ye(e,t){1&e&&n.Nb(0,"app-histogram-bar",4),2&e&&n.nc("bar",t.$implicit)}let qe=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Gb({type:e,selectors:[["app-histogram-group"]],inputs:{group:"group"},decls:5,vars:2,consts:[[1,"flexContainer"],[1,"flexSubContainer"],[3,"bar",4,"ngFor","ngForOf"],["id","bar-group-label"],[3,"bar"]],template:function(e,t){1&e&&(n.Sb(0,"div",0),n.Sb(1,"div",1),n.Fc(2,Ye,1,1,"app-histogram-bar",2),n.Rb(),n.Sb(3,"label",3),n.Hc(4),n.Rb(),n.Rb()),2&e&&(n.zb(2),n.nc("ngForOf",t.group.bars),n.zb(2),n.Ic(t.group.barGroupName))},directives:[r.t,Ke],styles:[".flexContainer[_ngcontent-%COMP%]{display:flex;flex-flow:column wrap;margin-right:20px}.flexSubContainer[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:flex-end}.flexSubContainer[_ngcontent-%COMP%] > app-histogram-bar[_ngcontent-%COMP%]{margin:0 3px}#bar-group-label[_ngcontent-%COMP%]{text-align:center}"]}),e})();var $e=o("KAx5"),Qe=o("Y/s5"),Xe=o("lcMn"),Ze=o("u+r4");const Je=["svg1"];function et(e,t){if(1&e&&(n.fc(),n.Sb(0,"tspan",12),n.Hc(1),n.Rb()),2&e){const e=t.$implicit;n.pc("id","parettoFooter",t.index,""),n.zb(1),n.Ic(e)}}function tt(e,t){if(1&e&&(n.fc(),n.Sb(0,"tspan",12),n.Hc(1),n.Rb()),2&e){const e=t.$implicit;n.pc("id","y",e,""),n.zb(1),n.Ic(e)}}function ot(e,t){1&e&&(n.fc(),n.Nb(0,"line",13)),2&e&&n.oc("id",t.$implicit)}function nt(e,t){1&e&&(n.fc(),n.Nb(0,"line",12)),2&e&&n.oc("id",t.$implicit.id)}function it(e,t){1&e&&(n.fc(),n.Nb(0,"circle",12)),2&e&&n.oc("id",t.$implicit.id)}function rt(e,t){1&e&&(n.fc(),n.Nb(0,"rect",12)),2&e&&n.oc("id",t.$implicit.id)}let st=(()=>{class e{constructor(e){this.graphService=e,this.yVertices=[],this.unitsArray=[],this.heightModifier=1,this.widthModifier=1,this.yVerticesPopulated=!1,this.subscription=new B.a,this.columnGap=0,this.yOffset=30,this.xOffset=80,this.circleRadius=3,this.graphHeader=this.graphService.getGraphHeader(),this.units=this.graphService.getUnits(),this.units||(this.units="");for(let t=0;t<this.units.length;t++)this.unitsArray.push(this.units.charAt(t))}ngOnInit(){this.subscription.add(this.graphService.dataPopulated.subscribe(e=>{e&&this.graphService.paretoGraph&&(this.yVerticesPopulated=!1,this.yVertices=[],this.heightModifier=1,this.bars=this.graphService.getBars(),this.determineHeightModifier(),this.determineYVertices(),this.drawParetoDiagram())})),this.determineHeightModifier(),this.determineYVertices()}determineColumnGap(){this.columnGap=this.bars[0].width/2}determineHeightModifier(){if(this.determineColumnGap(),this.heightModifier=1,!document.getElementById("svg1")||!document.getElementById("svg1").clientHeight)return;const e=document.getElementById("svg1").clientHeight-30,t=this.dots[this.dots.length-1].y/e;if(t*this.heightModifier>1)for(;t*this.heightModifier>1;)this.heightModifier/=2;else{if(!(2*t<1))return;for(;t*this.heightModifier*2<1;)this.heightModifier*=2}}determineYVertices(){const e=this.lines[this.lines.length-1].y2;this.yVertices=[];for(let t=1;t<11;t++){const o=Math.round(e*(.1*t)*100)/100;this.yVertices.push(+o.toFixed(3))}this.yVerticesPopulated=!0}ngAfterViewInit(){this.drawParetoDiagram()}drawVerticesParameters(e){if(!e)return;const t=document.getElementById("parettoHeader");if(t){t.setAttributeNS(null,"x",this.xOffset.toString()),t.setAttributeNS(null,"y",this.yOffset.toString()),t.setAttributeNS(null,"font-weight","bold"),t.setAttributeNS(null,"alignment","center");for(let t=0;t<this.units.length;t++){const o=document.getElementById("parettoFooter"+t);if(!o)return;o&&(o.setAttributeNS(null,"max-width","1ch"),o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"font-weight","bold"),o.setAttributeNS(null,"y",(e.clientHeight/2-5*this.units.length+15*t).toString()))}}}drawBaseline(e){if(!e)return;const t=document.getElementById("baseline");t&&(t.setAttributeNS(null,"x1",this.xOffset.toString()),t.setAttributeNS(null,"y1",(e.clientHeight-this.yOffset).toString()),t.setAttributeNS(null,"x2",(e.clientWidth-this.xOffset).toString()),t.setAttributeNS(null,"y2",(e.clientHeight-this.yOffset).toString()),t.setAttributeNS(null,"stroke","black"),t.setAttributeNS(null,"stroke-width","1"),t.setAttributeNS(null,"opacity","0.5"))}drawGraphYVertices(e){if(e){this.drawBaseline(e);for(const t of this.yVertices){const o=document.getElementById(t.toString());if(!o)continue;o.setAttributeNS(null,"x1",this.xOffset.toString()),o.setAttributeNS(null,"y1",(1e3*(e.clientHeight-this.yOffset-t*this.heightModifier)/1e3).toString()),o.setAttributeNS(null,"x2",(e.clientWidth-this.xOffset).toString()),o.setAttributeNS(null,"y2",(1e3*(e.clientHeight-this.yOffset-t*this.heightModifier)/1e3).toString()),o.setAttributeNS(null,"stroke","black"),o.setAttributeNS(null,"stroke-width","1"),o.setAttributeNS(null,"opacity","0.5");const n=document.getElementById("y"+t);n.setAttributeNS(null,"x",(this.xOffset/2).toString()),n.setAttributeNS(null,"y",(e.clientHeight-this.yOffset-t*this.heightModifier).toString())}}}drawParetoDiagram(){const e=document.getElementById("svg1");if(!e)return;this.drawVerticesParameters(e),this.drawGraphYVertices(e);for(const o of this.lines){const t=document.getElementById(o.id);t&&(t.setAttributeNS(null,"x1",(this.xOffset+o.x1).toString()),t.setAttributeNS(null,"y1",(e.clientHeight-this.yOffset-o.y1*this.heightModifier).toString()),t.setAttributeNS(null,"x2",(this.xOffset+o.x2).toString()),t.setAttributeNS(null,"y2",(e.clientHeight-this.yOffset-o.y2*this.heightModifier).toString()),t.setAttributeNS(null,"stroke","orange"),t.setAttributeNS(null,"stroke-width","2"))}let t=0;for(const[o,n]of this.bars.entries()){const i=document.getElementById(n.id);if(!i)continue;i.setAttributeNS(null,"y",n.height?(e.clientHeight-this.yOffset-n.height*this.heightModifier).toString():(e.clientHeight-this.yOffset).toString()),i.setAttributeNS(null,"x",(this.xOffset+t*this.widthModifier).toString()),i.setAttributeNS(null,"width",n.width.toString()),i.setAttributeNS(null,"height",n.height?(n.height*this.heightModifier).toString():"0"),i.setAttributeNS(null,"fill",n.colour.toString());const r=document.getElementById(this.dots[o].id);r&&(r.setAttributeNS(null,"r",this.circleRadius.toString()),r.setAttributeNS(null,"cx",(this.xOffset+this.dots[o].x).toString()),r.setAttributeNS(null,"cy",(e.clientHeight-this.yOffset-this.dots[o].y*this.heightModifier).toString()),r.setAttributeNS(null,"fill","#708090"),t+=this.columnGap+n.width)}}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(U.a))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-pareto-line"]],viewQuery:function(e,t){var o;1&e&&n.Lc(Je,!0),2&e&&n.uc(o=n.ec())&&(t.svg1=o.first)},inputs:{bars:"bars",dots:"dots",lines:"lines"},decls:23,vars:7,consts:[["id","container",1,"flexContainer"],["id","flexSubContainer",1,"flexSubContainer"],["id","svg1",1,"svg"],["svg1",""],[2,"height","30px","width","100%","align-content","center"],["id","parettoHeader"],["transform","translate(25,25)"],[3,"id",4,"ngFor","ngForOf"],[2,"height","100%","width","30px"],["id","zeroValue"],["id","baseline",1,"gridLine"],["class","gridLine",3,"id",4,"ngFor","ngForOf"],[3,"id"],[1,"gridLine",3,"id"]],template:function(e,t){1&e&&(n.Sb(0,"div",0),n.Sb(1,"div",1),n.fc(),n.Sb(2,"svg",2,3),n.Sb(4,"g"),n.Sb(5,"text",4),n.Sb(6,"tspan",5),n.Hc(7),n.Rb(),n.Rb(),n.Rb(),n.Sb(8,"g",6),n.Sb(9,"text"),n.Fc(10,et,2,2,"tspan",7),n.Rb(),n.Rb(),n.Sb(11,"g"),n.Sb(12,"text",8),n.Fc(13,tt,2,2,"tspan",7),n.Rb(),n.Rb(),n.Sb(14,"g"),n.Sb(15,"text",8),n.Sb(16,"tspan",9),n.Hc(17,"0"),n.Rb(),n.Rb(),n.Rb(),n.Nb(18,"line",10),n.Fc(19,ot,1,1,"line",11),n.Fc(20,nt,1,1,"line",7),n.Fc(21,it,1,1,"circle",7),n.Fc(22,rt,1,1,"rect",7),n.Rb(),n.Rb(),n.Rb()),2&e&&(n.zb(7),n.Ic(t.graphHeader),n.zb(3),n.nc("ngForOf",t.unitsArray),n.zb(3),n.nc("ngForOf",t.yVertices),n.zb(6),n.nc("ngForOf",t.yVertices),n.zb(1),n.nc("ngForOf",t.lines),n.zb(1),n.nc("ngForOf",t.dots),n.zb(1),n.nc("ngForOf",t.bars))},directives:[r.t],styles:[".flexContainer[_ngcontent-%COMP%]{flex-flow:column wrap;margin-right:20px;border-style:solid}.flexContainer[_ngcontent-%COMP%], .flexSubContainer[_ngcontent-%COMP%]{display:flex;height:100%;width:100%}.flexSubContainer[_ngcontent-%COMP%]{flex-flow:row nowrap}.gridLine[_ngcontent-%COMP%]{stroke:#222;stroke-width:1;min-width:1px;min-height:1px;height:100%;width:100%;opacity:.5;border-style:solid;fill:#222}#dot[_ngcontent-%COMP%]{alignment-baseline:center;height:6px;width:6px;fill:#222;z-index:1}#line[_ngcontent-%COMP%]{stroke:#f93822;stroke-width:3;min-width:2px;min-height:2px;height:100%;width:100%;border-style:solid;fill:#f93822}#parettoFooter[_ngcontent-%COMP%]{max-width:1ch;align-content:flex-start}.svg[_ngcontent-%COMP%]{min-height:300px;min-width:100px;display:flex;height:100%;width:100%;max-height:100%;max-width:100%}.description[_ngcontent-%COMP%]{align-content:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;-webkit-text-fill-color:#666}"]}),e})();var at=o("XGh5"),lt=o("HE9a"),ut=o("T+4S"),ct=o("EY2u");const pt=[{provide:Y.a,useClass:(()=>{class e{constructor(e,t){this.loginService=e,this.userService=t}intercept(e,t){const o=this.userService.userValue&&this.loginService.isUserLoggedIn(),{url:n,method:i}=e;if(console.debug(n,i),n.endsWith("auth")&&!o)return t.handle(e);if("GET"===i&&n.endsWith("maintenance"))return t.handle(e);{const o=this.userService.userAuthToken;return""===o?(console.debug("JSON Web Token not found."),ct.a):(e.headers.has("Authorization")?e.headers.get("Authorization")!==o&&(console.debug("Header Mismatch!"),e=e.clone({setHeaders:{Authorization:void 0}})):e=e.clone({setHeaders:{Authorization:o}}),t.handle(e))}}}return e.\u0275fac=function(t){return new(t||e)(n.ac(z.a),n.ac(K.a))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac}),e})(),multi:!0}];function dt(e,t){1&e&&(n.Sb(0,"div",4),n.Nb(1,"app-pareto"),n.Rb())}function ht(e,t){1&e&&(n.Sb(0,"div",5),n.Nb(1,"app-histogram"),n.Rb())}let ft=(()=>{class e{constructor(e){this.graphService=e,this.subscription=new B.a,this.displayHistogramGraph=!1,this.displayParettoGraph=!1}ngOnInit(){}buildParetto(){this.resetDisplay(),this.subscription.add(this.graphService.getAnalyzedTokenReportResponse().subscribe(e=>{this.graphService.buildAnalyzedDataParetto(e,"108-88-3"),this.displayParettoGraph=!0}))}buildHistogram(){this.resetDisplay(),this.subscription.add(this.graphService.getAnalyzedTokenReportResponse().subscribe(e=>{this.graphService.buildAverageAnalyteData(e),this.displayHistogramGraph=!0}))}resetDisplay(){this.displayHistogramGraph=!1,this.displayParettoGraph=!1}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(U.a))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-graph-selection"]],decls:7,vars:2,consts:[["id","paretto",3,"click"],["id","histogram",3,"click"],["class","flexContainer","id","paretoGraph",4,"ngIf"],["class","flexContainer","id","histogramGraph",4,"ngIf"],["id","paretoGraph",1,"flexContainer"],["id","histogramGraph",1,"flexContainer"]],template:function(e,t){1&e&&(n.Sb(0,"div"),n.Sb(1,"button",0),n.dc("click",function(){return t.buildParetto()}),n.Hc(2,"Build Paretto"),n.Rb(),n.Sb(3,"button",1),n.dc("click",function(){return t.buildHistogram()}),n.Hc(4,"Build Histogram"),n.Rb(),n.Rb(),n.Fc(5,dt,2,0,"div",2),n.Fc(6,ht,2,0,"div",3)),2&e&&(n.zb(5),n.nc("ngIf",t.displayParettoGraph),n.zb(1),n.nc("ngIf",t.displayHistogramGraph))},directives:[r.u,Ze.a,Ee.a],styles:[""]}),e})();var gt=o("2Aod"),mt=o("A2Dp"),yt=o("Vm+C");let vt=(()=>{class e{constructor(e){this.elRef=e,this.isCollapsed=!0}toggleOpen(e){this.isCollapsed=!this.isCollapsed}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.m))},e.\u0275dir=n.Hb({type:e,selectors:[["","appCssToggle",""]],hostVars:2,hostBindings:function(e,t){1&e&&n.dc("click",function(e){return t.toggleOpen(e)}),2&e&&n.Eb("collapsed",t.isCollapsed)}}),e})();var Ct=o("Zsim"),bt=o("o9p/"),wt=o("ehUb"),Et=o("jECJ");let Rt=(()=>{class e{}return e.\u0275mod=n.Kb({type:e,bootstrap:[ae]}),e.\u0275inj=n.Jb({factory:function(t){return new(t||e)},providers:[_e.a,z.a,K.a,j.a,pt],imports:[[r.c,M,L.q,L.v,ce.C,ce.n,Y.c,Oe,we.c.withComponents(null),Ve.c.forRoot(),Ie.c,ze.b.forRoot()]]}),e})();n.Ac(Ee.a,[r.r,r.s,r.t,r.u,r.B,r.x,r.y,r.z,r.A,r.v,r.w,L.a,L.F,L.I,L.G,L.H,L.J,L.b,L.c,L.e,L.N,L.M,L.d,L.P,L.f,L.g,L.h,L.p,L.i,L.j,L.k,L.n,L.m,L.l,L.x,L.s,L.r,L.t,L.u,L.w,L.y,L.z,L.A,L.B,L.C,L.D,L.E,L.K,L.L,L.O,L.U,L.V,L.W,L.X,L.Y,L.o,L.T,L.Q,L.R,L.S,ce.H,ce.x,ce.G,ce.c,ce.y,ce.B,ce.a,ce.E,ce.F,ce.A,ce.s,ce.t,ce.D,ce.p,ce.o,ce.z,ce.b,ce.d,ce.i,ce.l,ce.j,ce.m,ce.f,ce.v,ce.w,ce.u,$.f,$.b,$.d,$.c,$.g,we.a,we.b,Ie.a,Ie.b,ze.a,ae,ye,be.a,Ee.a,le,ue,ve,Ce.a,Re,De.a,Pe.a,Te.a,Ae.a,Me.a,Le.a,Ge.a,Fe.a,Ne,ke,xe.a,He.a,We.a,Be.a,je.a,qe,Ke,$e.a,Qe.a,q.a,Xe.a,X,Ze.a,st,lt.a,ut.a,ft,gt.a,mt.a,yt.a,vt,Ct.a,bt.a,wt.a,Et.a],[r.b,r.I,r.q,r.l,r.F,r.g,r.D,r.G,r.d,r.f,r.j,r.k,r.m,Ue.a,at.a]),n.Ac(Ze.a,[r.r,r.s,r.t,r.u,r.B,r.x,r.y,r.z,r.A,r.v,r.w,L.a,L.F,L.I,L.G,L.H,L.J,L.b,L.c,L.e,L.N,L.M,L.d,L.P,L.f,L.g,L.h,L.p,L.i,L.j,L.k,L.n,L.m,L.l,L.x,L.s,L.r,L.t,L.u,L.w,L.y,L.z,L.A,L.B,L.C,L.D,L.E,L.K,L.L,L.O,L.U,L.V,L.W,L.X,L.Y,L.o,L.T,L.Q,L.R,L.S,ce.H,ce.x,ce.G,ce.c,ce.y,ce.B,ce.a,ce.E,ce.F,ce.A,ce.s,ce.t,ce.D,ce.p,ce.o,ce.z,ce.b,ce.d,ce.i,ce.l,ce.j,ce.m,ce.f,ce.v,ce.w,ce.u,$.f,$.b,$.d,$.c,$.g,we.a,we.b,Ie.a,Ie.b,ze.a,ae,ye,be.a,Ee.a,le,ue,ve,Ce.a,Re,De.a,Pe.a,Te.a,Ae.a,Me.a,Le.a,Ge.a,Fe.a,Ne,ke,xe.a,He.a,We.a,Be.a,je.a,qe,Ke,$e.a,Qe.a,q.a,Xe.a,X,Ze.a,st,lt.a,ut.a,ft,gt.a,mt.a,yt.a,vt,Ct.a,bt.a,wt.a,Et.a],[r.b,r.I,r.q,r.l,r.F,r.g,r.D,r.G,r.d,r.f,r.j,r.k,r.m,Ue.a,at.a]),i.a.production&&Object(n.T)(),x().bootstrapModule(Rt).catch(e=>console.error(e))},zn8P:function(e,t){function o(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}o.keys=function(){return[]},o.resolve=o,e.exports=o,o.id="zn8P"}},[[0,0]]]);